module.exports=[403473,428177,156184,866028,894180,673556,571449,685895,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(825319),e=a.i(527344),f=a.i(701458);a.i(752298);var g=a.i(693025),h=a.i(796807),i=a.i(378389);let j=({ref:a,...c})=>(0,b.jsx)(h.default,{...c,ref:a,data:i.default});j.displayName="AlertTriangle",a.i(15336);var k=a.i(591206);let l=({ref:a,...c})=>(0,b.jsx)(h.default,{...c,ref:a,data:k.default});l.displayName="ThumbsUp",a.s(["default",0,l],428177);var m=a.i(884106);let n=({ref:a,...c})=>(0,b.jsx)(h.default,{...c,ref:a,data:m.default});n.displayName="Warning",a.s(["default",0,n],156184),a.s([],866028),a.s(["AlertTriangle",0,j],894180);var o=a.i(483664),p=a.i(375616),q=a.i(912626);let r=({modelName:a,providerName:c,className:d,showWarnIcon:f,contentClassName:h})=>{let{t:i}=(0,g.useTranslation)(),{modelProviders:k}=(0,p.useProviderContext)(),l=k.find(a=>a.provider===c);return(0,b.jsx)("div",{className:(0,e.cn)("group box-content flex h-8 grow cursor-pointer items-center gap-1 rounded-lg bg-components-input-bg-disabled p-[3px] pl-1",d),children:(0,b.jsxs)("div",{className:(0,e.cn)("flex w-full items-center",h),children:[(0,b.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-1 py-[1px]",children:[(0,b.jsx)(q.default,{className:"h-4 w-4",provider:l,modelName:a}),(0,b.jsx)("div",{className:"system-sm-regular truncate text-components-input-text-filled",children:a})]}),(0,b.jsx)("div",{className:"flex shrink-0 items-center justify-center",children:f&&(0,b.jsx)(o.default,{popupContent:i("modelProvider.deprecated",{ns:"common"}),children:(0,b.jsx)(j,{className:"h-4 w-4 text-text-warning-secondary"})})})]})})};var s=a.i(429150),t=a.i(401966);let u=({ref:a,...c})=>(0,b.jsx)(h.default,{...c,ref:a,data:t.default});u.displayName="CubeOutline",a.s([],673556),a.s(["CubeOutline",0,u],571449);let v=({open:a,className:c})=>{let{t:d}=(0,g.useTranslation)();return(0,b.jsxs)("div",{className:(0,e.cn)("flex cursor-pointer items-center gap-0.5 rounded-lg bg-components-input-bg-normal p-1 hover:bg-components-input-bg-hover",a&&"bg-components-input-bg-hover",c),children:[(0,b.jsxs)("div",{className:"flex grow items-center",children:[(0,b.jsx)("div",{className:"mr-1.5 flex h-4 w-4 items-center justify-center rounded-[5px] border border-dashed border-divider-regular",children:(0,b.jsx)(u,{className:"h-3 w-3 text-text-quaternary"})}),(0,b.jsx)("div",{className:"truncate text-[13px] text-text-tertiary",title:"Configure model",children:d("detailPanel.configureModel",{ns:"plugin"})})]}),(0,b.jsx)("div",{className:"flex h-4 w-4 shrink-0 items-center justify-center",children:(0,b.jsx)(s.RiEqualizer2Line,{className:"h-3.5 w-3.5 text-text-tertiary"})})]})};var w=a.i(933988),x=a.i(34976);let y=({open:a,provider:c,model:d,className:g,readonly:h})=>{let i=(0,f.useLanguage)();return(0,b.jsxs)("div",{className:(0,e.cn)("group flex h-8 items-center gap-0.5 rounded-lg bg-components-input-bg-normal p-1",!h&&"cursor-pointer hover:bg-components-input-bg-hover",a&&"bg-components-input-bg-hover",d.status!==w.ModelStatusEnum.active&&"bg-components-input-bg-disabled hover:bg-components-input-bg-disabled",g),children:[(0,b.jsx)(q.default,{className:"p-0.5",provider:c,modelName:d.model}),(0,b.jsxs)("div",{className:"flex grow items-center gap-1 truncate px-1 py-[3px]",children:[(0,b.jsx)(x.default,{className:"grow",modelItem:d,showMode:!0,showFeatures:!0}),!h&&(0,b.jsx)("div",{className:"flex h-4 w-4 shrink-0 items-center justify-center",children:d.status!==w.ModelStatusEnum.active?(0,b.jsx)(o.default,{popupContent:w.MODEL_STATUS_TEXT[d.status][i],children:(0,b.jsx)(j,{className:"h-4 w-4 text-text-warning-secondary"})}):(0,b.jsx)(s.RiArrowDownSLine,{className:"h-3.5 w-3.5 text-text-tertiary"})})]})]})};a.i(658335);var z=a.i(555766),A=a.i(862980),B=a.i(933887),C=a.i(29255);let D=(a=[])=>!!a&&!!a.length&&a.some(a=>[w.ModelFeatureEnum.toolCall,w.ModelFeatureEnum.multiToolCall,w.ModelFeatureEnum.streamToolCall].includes(a));a.s(["supportFunctionCall",0,D],685895),a.i(622666);var E=a.i(332945),F=a.i(570081),G=a.i(299717),H=a.i(998068);let I=({defaultModel:a,model:c,onSelect:d})=>{let{t:h}=(0,g.useTranslation)(),i=(0,f.useLanguage)(),{setShowModelModal:j}=(0,C.useModalContext)(),{modelProviders:k}=(0,p.useProviderContext)(),l=(0,f.useUpdateModelList)(),m=(0,f.useUpdateModelProviders)(),n=k.find(a=>a.provider===c.provider),r=()=>{j({payload:{currentProvider:n,currentConfigurationMethod:w.ConfigurationMethodEnum.predefinedModel},onSaveCallback:()=>{m();let a=c.models[0].model_type;a&&l(a)}})};return(0,b.jsxs)("div",{className:"mb-1",children:[(0,b.jsx)("div",{className:"flex h-[22px] items-center px-3 text-xs font-medium text-text-tertiary",children:c.label[i]||c.label.en_US}),c.models.map(f=>(0,b.jsx)(o.default,{position:"right",popupClassName:"p-3 !w-[206px] bg-components-panel-bg-blur backdrop-blur-sm border-[0.5px] border-components-panel-border rounded-xl",popupContent:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,b.jsx)(q.default,{className:(0,e.cn)("h-5 w-5 shrink-0"),provider:c,modelName:f.model}),(0,b.jsx)("div",{className:"system-md-medium text-wrap break-words text-text-primary",children:f.label[i]||f.label.en_US})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[!!f.model_type&&(0,b.jsx)(F.default,{children:(0,G.modelTypeFormat)(f.model_type)}),!!f.model_properties.mode&&(0,b.jsx)(F.default,{children:f.model_properties.mode.toLocaleUpperCase()}),!!f.model_properties.context_size&&(0,b.jsx)(F.default,{children:(0,G.sizeFormat)(f.model_properties.context_size)})]}),[w.ModelTypeEnum.textGeneration,w.ModelTypeEnum.textEmbedding,w.ModelTypeEnum.rerank].includes(f.model_type)&&f.features?.some(a=>[w.ModelFeatureEnum.vision,w.ModelFeatureEnum.audio,w.ModelFeatureEnum.video,w.ModelFeatureEnum.document].includes(a))&&(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsx)("div",{className:"system-2xs-medium-uppercase mb-1 text-text-tertiary",children:h("model.capabilities",{ns:"common"})}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:f.features?.map(a=>(0,b.jsx)(H.default,{feature:a,showFeaturesLabel:!0},a))})]})]}),children:(0,b.jsxs)("div",{className:(0,e.cn)("group relative flex h-8 items-center gap-1 rounded-lg px-3 py-1.5",f.status===w.ModelStatusEnum.active?"cursor-pointer hover:bg-state-base-hover":"cursor-not-allowed hover:bg-state-base-hover-alt"),onClick:()=>{var a;return a=c.provider,void(f.status===w.ModelStatusEnum.active&&d(a,f))},children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.default,{className:(0,e.cn)("h-5 w-5 shrink-0"),provider:c,modelName:f.model}),(0,b.jsx)(x.default,{className:(0,e.cn)("system-sm-medium text-text-secondary",f.status!==w.ModelStatusEnum.active&&"opacity-60"),modelItem:f})]}),a?.model===f.model&&a.provider===n.provider&&(0,b.jsx)(E.Check,{className:"h-4 w-4 shrink-0 text-text-accent"}),f.status===w.ModelStatusEnum.noConfigure&&(0,b.jsx)("div",{className:"hidden cursor-pointer text-xs font-medium text-text-accent group-hover:block",onClick:r,children:h("operation.add",{ns:"common"}).toLocaleUpperCase()})]},f.model)},f.model))]})},J=({defaultModel:a,modelList:d,onSelect:e,scopeFeatures:h=[],onHide:i})=>{let{t:j}=(0,g.useTranslation)(),k=(0,f.useLanguage)(),[l,m]=(0,c.useState)(""),{setShowAccountSettingModal:n}=(0,C.useModalContext)(),o=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=()=>{A.tooltipManager.closeActiveTooltip()},b=o.current;if(b)return b.addEventListener("scroll",a,{passive:!0}),()=>{b.removeEventListener("scroll",a)}},[]);let p=(0,c.useMemo)(()=>d.map(a=>{let b=a.models.filter(a=>void 0!==a.label[k]?a.label[k].toLowerCase().includes(l.toLowerCase()):Object.values(a.label).some(a=>a.toLowerCase().includes(l.toLowerCase()))).filter(a=>0===h.length||h.every(b=>b===w.ModelFeatureEnum.toolCall?D(a.features):a.features?.includes(b)??!1));return{...a,models:b}}).filter(a=>a.models.length>0),[k,d,h,l]);return(0,b.jsxs)("div",{ref:o,className:"max-h-[480px] w-[320px] overflow-y-auto rounded-lg border-[0.5px] border-components-panel-border bg-components-panel-bg shadow-lg",children:[(0,b.jsx)("div",{className:"sticky top-0 z-10 bg-components-panel-bg pb-1 pl-3 pr-2 pt-3",children:(0,b.jsxs)("div",{className:`
          flex h-8 items-center rounded-lg border pl-[9px] pr-[10px]
          ${l?"border-components-input-border-active bg-components-input-bg-active shadow-xs":"border-transparent bg-components-input-bg-normal"}
        `,children:[(0,b.jsx)(s.RiSearchLine,{className:`
              mr-[7px] h-[14px] w-[14px] shrink-0
              ${l?"text-text-tertiary":"text-text-quaternary"}
            `}),(0,b.jsx)("input",{className:"block h-[18px] grow appearance-none bg-transparent text-[13px] text-text-primary outline-none",placeholder:j("form.searchModel",{ns:"datasetSettings"})||"",value:l,onChange:a=>m(a.target.value)}),l&&(0,b.jsx)(z.XCircle,{className:"ml-1.5 h-[14px] w-[14px] shrink-0 cursor-pointer text-text-quaternary",onClick:()=>m("")})]})}),(0,b.jsxs)("div",{className:"p-1",children:[p.map(c=>(0,b.jsx)(I,{defaultModel:a,model:c,onSelect:e},c.provider)),!p.length&&(0,b.jsx)("div",{className:"break-all px-3 py-1.5 text-center text-xs leading-[18px] text-text-tertiary",children:`No model found for “${l}”`})]}),(0,b.jsxs)("div",{className:"sticky bottom-0 flex cursor-pointer items-center rounded-b-lg border-t border-divider-subtle bg-components-panel-bg px-4 py-2 text-text-accent-light-mode-only",onClick:()=>{i(),n({payload:B.ACCOUNT_SETTING_TAB.PROVIDER})},children:[(0,b.jsx)("span",{className:"system-xs-medium",children:j("model.settingsLink",{ns:"common"})}),(0,b.jsx)(s.RiArrowRightUpLine,{className:"ml-0.5 h-3 w-3"})]})]})};a.s(["default",0,({defaultModel:a,modelList:g,triggerClassName:h,popupClassName:i,onSelect:j,readonly:k,scopeFeatures:l=[],deprecatedClassName:m,showDeprecatedWarnIcon:n=!1})=>{let[o,p]=(0,c.useState)(!1),{currentProvider:q,currentModel:s}=(0,f.useCurrentProviderAndModel)(g,a);return(0,b.jsx)(d.PortalToFollowElem,{open:o,onOpenChange:p,placement:"bottom-start",offset:4,children:(0,b.jsxs)("div",{className:(0,e.cn)("relative"),children:[(0,b.jsxs)(d.PortalToFollowElemTrigger,{onClick:()=>{k||p(a=>!a)},className:"block",children:[s&&q&&(0,b.jsx)(y,{open:o,provider:q,model:s,className:h,readonly:k}),!s&&a&&(0,b.jsx)(r,{modelName:a?.model||"",providerName:a?.provider||"",className:h,showWarnIcon:n,contentClassName:m}),!a&&(0,b.jsx)(v,{open:o,className:h})]}),(0,b.jsx)(d.PortalToFollowElemContent,{className:`z-[1002] ${i}`,children:(0,b.jsx)(J,{defaultModel:a,modelList:g,onSelect:(a,b)=>{p(!1),j&&j({provider:a,model:b.model})},scopeFeatures:l,onHide:()=>p(!1)})})]})})}],403473)}];

//# sourceMappingURL=b6282_header_account-setting_model-provider-page_model-selector_index_tsx_e22b9f00._.js.map