module.exports=[858877,a=>{"use strict";a.s(["addFileInfos",0,(a,b)=>a&&b?a.map(a=>a.files&&a.files?.length>0?{...a,message_files:a.files.map(a=>b.find(b=>b.id===a))}:a):a,"sortAgentSorts",0,a=>{if(!a||a.some(a=>void 0===a.position))return a;let b=[...a];return b.sort((a,b)=>a.position-b.position),b}])},213228,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(527344);let e=c.memo(({items:a,value:c,itemClassName:e,itemWrapClassName:f,activeItemClassName:g,onChange:h})=>{let i=({id:a,name:i,icon:j,extra:k,disabled:l})=>(0,b.jsxs)("div",{className:(0,d.cn)("system-md-semibold relative flex cursor-pointer items-center border-b-2 border-transparent pb-2 pt-2.5",a===c?(0,d.cn)("border-components-tab-active text-text-primary",g):"text-text-tertiary",l&&"cursor-not-allowed opacity-30",f),onClick:()=>!l&&h(a),children:[j||"",(0,b.jsx)("div",{className:(0,d.cn)("ml-2",e),children:i}),k||""]},a);return(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("div",{className:"flex space-x-4",children:a.filter(a=>!a.isRight).map(i)}),(0,b.jsx)("div",{className:"flex space-x-4",children:a.filter(a=>a.isRight).map(i)})]})});a.s(["default",0,e])},365866,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843);a.i(752298);var e=a.i(693025),f=a.i(175809),g=a.i(909795),h=a.i(632789),i=a.i(105249),j=a.i(751161),k=a.i(524526),l=a.i(970039),m=a.i(843990),n=a.i(28877);a.i(76955);var o=a.i(257898),p=a.i(939714),q=a.i(481366),r=a.i(28959),s=a.i(997472),t=a.i(252813),u=a.i(136403),v=a.i(844299),w=a.i(527344);let x=d.memo(({showBackButton:a=!1,collection:x,isBuiltIn:y=!0,isModel:z=!0,toolName:A,setting:B={},readonly:C,onHide:D,onSave:E,credentialId:F,onAuthorizationItemClick:G})=>{let H,I=(0,t.useLocale)(),J=(0,u.getLanguage)(I),{t:K}=(0,e.useTranslation)(),L=x.tools,M=L?.length>0,[N,O]=(0,d.useState)(!M),[P,Q]=(0,d.useState)(M?L:[]),R=P.find(a=>a.name===A),S=R?(0,s.toolParametersToFormSchemas)(R.parameters):[],T=S.filter(a=>"llm"===a.form),U=S.filter(a=>"llm"!==a.form),V=U.length>0,[W,X]=(0,d.useState)(B),[Y,Z]=(0,d.useState)("info"),$="info"===Y;(0,d.useEffect)(()=>{x&&!M&&(async()=>{O(!0);try{let a=await new Promise(a=>{!async function(){z?a(await (0,v.fetchModelToolList)(x.name)):y?a(await (0,v.fetchBuiltInToolList)(x.name)):x.type===r.CollectionType.workflow?a(await (0,v.fetchWorkflowToolList)(x.id)):a(await (0,v.fetchCustomToolList)(x.name))}()});Q(a)}catch{}O(!1)})()},[x?.name,x?.id,x?.type]),(0,d.useEffect)(()=>{Z(!C&&V?"setting":"info")},[V]);let _=(H=!0,U.forEach(a=>{a.required&&!W[a.name]&&(H=!1)}),H),aa=(0,b.jsx)("div",{className:"",children:T.length>0&&(0,b.jsx)("div",{className:"space-y-1 py-2",children:T.map((a,c)=>{var d;return(0,b.jsxs)("div",{className:"py-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"code-sm-semibold text-text-secondary",children:a.label[J]}),(0,b.jsx)("div",{className:"system-xs-regular text-text-tertiary",children:"number-input"===(d=a.type)?K("setBuiltInTools.number",{ns:"tools"}):"text-input"===d?K("setBuiltInTools.string",{ns:"tools"}):"checkbox"===d?"boolean":"file"===d?K("setBuiltInTools.file",{ns:"tools"}):d}),a.required&&(0,b.jsx)("div",{className:"system-xs-medium text-text-warning-secondary",children:K("setBuiltInTools.required",{ns:"tools"})})]}),a.human_description&&(0,b.jsx)("div",{className:"system-xs-regular mt-0.5 text-text-tertiary",children:a.human_description?.[J]})]},c)})})}),ab=(0,b.jsx)(k.default,{value:W,onChange:X,formSchemas:U,isEditMode:!1,showOnVariableMap:{},validating:!1,readonly:C});return(0,b.jsx)(h.default,{isOpen:!0,clickOutsideNotOpen:!1,onClose:D,footer:null,mask:!1,positionCenter:!1,panelClassName:(0,w.cn)("mb-2 mr-2 mt-[64px] !w-[420px] !max-w-[420px] justify-start rounded-2xl border-[0.5px] border-components-panel-border !bg-components-panel-bg !p-0 shadow-xl"),children:(0,b.jsxs)(b.Fragment,{children:[N&&(0,b.jsx)(i.default,{type:"app"}),!N&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative border-b border-divider-subtle p-4 pb-3",children:[(0,b.jsx)("div",{className:"absolute right-3 top-3",children:(0,b.jsx)(f.default,{onClick:D,children:(0,b.jsx)(c.RiCloseLine,{className:"h-4 w-4"})})}),a&&(0,b.jsxs)("div",{className:"system-xs-semibold-uppercase mb-2 flex cursor-pointer items-center gap-1 text-text-accent-secondary",onClick:D,children:[(0,b.jsx)(c.RiArrowLeftLine,{className:"h-4 w-4"}),K("detailPanel.operation.back",{ns:"plugin"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.default,{size:"tiny",className:"h-6 w-6",src:x.icon}),(0,b.jsx)(n.default,{packageNameClassName:"w-auto",orgName:x.author,packageName:x.name.split("/").pop()||""})]}),(0,b.jsx)("div",{className:"system-md-semibold mt-1 text-text-primary",children:R?.label[J]}),!!R?.description[J]&&(0,b.jsx)(m.default,{className:"mb-2 mt-3 h-auto",text:R.description[J],descriptionLineRows:2}),x.allow_delete&&x.type===r.CollectionType.builtIn&&(0,b.jsx)(p.PluginAuthInAgent,{pluginPayload:{provider:x.name,category:o.AuthCategory.tool,providerType:x.type,detail:x},credentialId:F,onAuthorizationItemClick:G})]}),(0,b.jsx)("div",{className:"h-full",children:(0,b.jsxs)("div",{className:"flex h-full flex-col",children:[V&&!C?(0,b.jsx)(j.default,{className:"mt-1 shrink-0 px-4",itemClassName:"py-3",noBorderBottom:!0,value:Y,onChange:a=>{Z(a)},options:[{value:"info",text:K("setBuiltInTools.parameters",{ns:"tools"})},{value:"setting",text:K("setBuiltInTools.setting",{ns:"tools"})}]}):(0,b.jsx)("div",{className:"system-sm-semibold-uppercase p-4 pb-1 text-text-primary",children:K("setBuiltInTools.parameters",{ns:"tools"})}),(0,b.jsxs)("div",{className:"h-0 grow overflow-y-auto px-4",children:[$?aa:ab,!C&&!$&&(0,b.jsxs)("div",{className:"flex shrink-0 justify-end space-x-2 rounded-b-[10px] bg-components-panel-bg py-2",children:[(0,b.jsx)(g.default,{className:"flex h-8 items-center !px-3 !text-[13px] font-medium ",onClick:D,children:K("operation.cancel",{ns:"common"})}),(0,b.jsx)(g.default,{className:"flex h-8 items-center !px-3 !text-[13px] font-medium",variant:"primary",disabled:!_,onClick:()=>E?.(W),children:K("operation.save",{ns:"common"})})]})]}),(0,b.jsx)(q.ReadmeEntrance,{pluginDetail:x,className:"mt-auto"})]})})]})]})})});a.s(["default",0,x])},411171,a=>{"use strict";var b=a.i(546232),c=a.i(446855),d=(0,b.createUseStorageState)(function(){return c.default?localStorage:void 0});a.s(["useLocalStorageState",0,d],411171)},70854,a=>{"use strict";var b=a.i(57843);a.i(752298);var c=a.i(693025);a.s(["useKnowledge",0,()=>{let{t:a}=(0,c.useTranslation)(),d=(0,b.useCallback)(b=>a(`indexingTechnique.${b}`,{ns:"dataset"}),[a]),e=(0,b.useCallback)((b,c)=>c?a("indexingMethod.invertedIndex",{ns:"dataset"}):a(`indexingMethod.${b}`,{ns:"dataset"}),[a]),f=(0,b.useCallback)((a,b)=>{let c=d(a);return b&&(c+=` \xb7 ${e(b,"economy"===a)}`),c},[d,e]);return{formatIndexingTechnique:d,formatIndexingMethod:e,formatIndexingTechniqueAndMethod:f}}])},463963,a=>{"use strict";var b=a.i(639378),c=a.i(878590);class d{chatColorTheme;chatColorThemeInverted;primaryColor="#1C64F2";backgroundHeaderColorStyle="backgroundImage: linear-gradient(to right, #2563eb, #0ea5e9)";headerBorderBottomStyle="";colorFontOnHeaderStyle="color: white";colorPathOnHeader="text-text-primary-on-surface";backgroundButtonDefaultColorStyle="backgroundColor: #1C64F2";roundedBackgroundColorStyle="backgroundColor: rgb(245 248 255)";chatBubbleColorStyle="";constructor(a=null,b=!1){this.chatColorTheme=a,this.chatColorThemeInverted=b,this.configCustomColor(),this.configInvertedColor()}configCustomColor(){null!==this.chatColorTheme&&""!==this.chatColorTheme&&(this.primaryColor=this.chatColorTheme??"#1C64F2",this.backgroundHeaderColorStyle=`backgroundColor: ${this.primaryColor}`,this.backgroundButtonDefaultColorStyle=`backgroundColor: ${this.primaryColor}; color: ${this.colorFontOnHeaderStyle};`,this.roundedBackgroundColorStyle=`backgroundColor: ${(0,c.hexToRGBA)(this.primaryColor,.05)}`,this.chatBubbleColorStyle=`backgroundColor: ${(0,c.hexToRGBA)(this.primaryColor,.15)}`)}configInvertedColor(){this.chatColorThemeInverted&&(this.backgroundHeaderColorStyle="backgroundColor: #ffffff",this.colorFontOnHeaderStyle=`color: ${this.primaryColor}`,this.headerBorderBottomStyle="borderBottom: 1px solid #ccc",this.colorPathOnHeader=this.primaryColor)}}let e=(0,b.createContext)(new class{_theme;buildChecker=!1;get theme(){return void 0===this._theme&&(this._theme=new d),this._theme}buildTheme(a=null,b=!1){this.buildChecker?(this.theme?.chatColorTheme!==a||this.theme?.chatColorThemeInverted!==b)&&(this._theme=new d(a,b),this.buildChecker=!0):(this._theme=new d(a,b),this.buildChecker=!0)}});a.s(["useThemeContext",0,()=>(0,b.useContext)(e)])},26354,a=>{"use strict";a.i(858364),a.s([])},69419,a=>{a.v(a=>Promise.resolve().then(()=>a(9575)))}];

//# sourceMappingURL=_4ea5ef8d._.js.map