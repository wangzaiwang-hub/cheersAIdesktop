module.exports=[173279,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;var x,y,z,A,B,C,D,E,F,G,H,I=Object.defineProperty,J=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?I(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c},K=Object.defineProperty,L=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?K(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c},M=((x=M||{})[x.Document=0]="Document",x[x.DocumentType=1]="DocumentType",x[x.Element=2]="Element",x[x.Text=3]="Text",x[x.CDATA=4]="CDATA",x[x.Comment=5]="Comment",x);let N={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},O={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},P={};function Q(a){var b,c;let d;if(P[a])return P[a];let e=((d=null==(c=null==(b=null==globalThis?void 0:globalThis.Zone)?void 0:b.__symbol__)?void 0:c.call(b,a))&&globalThis[d]?globalThis[d]:void 0)||globalThis[a],f=e.prototype,g=a in N?N[a]:void 0,h=!!(g&&g.every(a=>{var b,c;return!!(null==(c=null==(b=Object.getOwnPropertyDescriptor(f,a))?void 0:b.get)?void 0:c.toString().includes("[native code]"))})),i=a in O?O[a]:void 0,j=!!(i&&i.every(a=>{var b;return"function"==typeof f[a]&&(null==(b=f[a])?void 0:b.toString().includes("[native code]"))}));if(h&&j)return P[a]=e.prototype,e.prototype;try{let b=document.createElement("iframe");document.body.appendChild(b);let c=b.contentWindow;if(!c)return e.prototype;let d=c[a].prototype;if(document.body.removeChild(b),!d)return f;return P[a]=d}catch{return f}}let R={};function S(a,b,c){var d;let e=`${a}.${String(c)}`;if(R[e])return R[e].call(b);let f=null==(d=Object.getOwnPropertyDescriptor(Q(a),c))?void 0:d.get;return f?(R[e]=f,f.call(b)):b[c]}let T=function(a){return S("Node",a,"childNodes")},U=function(a){return S("Node",a,"parentNode")},V=function(a){return S("Node",a,"parentElement")},W=function(a){return S("Node",a,"textContent")},X=function(a){return a&&"shadowRoot"in a?S("Element",a,"shadowRoot"):null};function Y(a){return a.nodeType===a.ELEMENT_NODE}function Z(a){var b;let c=a&&"host"in a&&"mode"in a&&((b=a)&&"host"in b?S("ShadowRoot",b,"host"):null)||null;return!!(c&&"shadowRoot"in c&&X(c)===a)}function $(a){return"[object ShadowRoot]"===Object.prototype.toString.call(a)}function _(a){try{var b;let c=a.rules||a.cssRules;if(!c)return null;let d=a.href;return!d&&a.ownerNode&&a.ownerNode.ownerDocument&&(d=a.ownerNode.ownerDocument.location.href),(b=Array.from(c,a=>aa(a,d)).join("")).includes(" background-clip: text;")&&!b.includes(" -webkit-background-clip: text;")&&(b=b.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),b}catch(a){return null}}function aa(a,b){if("styleSheet"in a){let b;try{b=_(a.styleSheet)||function(a){let{cssText:b}=a;if(b.split('"').length<3)return b;let c=["@import",`url(${JSON.stringify(a.href)})`];return""===a.layerName?c.push("layer"):a.layerName&&c.push(`layer(${a.layerName})`),a.supportsText&&c.push(`supports(${a.supportsText})`),a.media.length&&c.push(a.media.mediaText),c.join(" ")+";"}(a)}catch(c){b=a.cssText}return a.styleSheet.href?al(b,a.styleSheet.href):b}{let c=a.cssText;return("selectorText"in a&&a.selectorText.includes(":")&&(c=c.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),b)?al(c,b):c}}class ab{constructor(){L(this,"idNodeMap",new Map),L(this,"nodeMetaMap",new WeakMap)}getId(a){var b;return a?(null==(b=this.getMeta(a))?void 0:b.id)??-1:-1}getNode(a){return this.idNodeMap.get(a)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(a){return this.nodeMetaMap.get(a)||null}removeNodeFromMap(a){let b=this.getId(a);this.idNodeMap.delete(b),a.childNodes&&a.childNodes.forEach(a=>this.removeNodeFromMap(a))}has(a){return this.idNodeMap.has(a)}hasNode(a){return this.nodeMetaMap.has(a)}add(a,b){let c=b.id;this.idNodeMap.set(c,a),this.nodeMetaMap.set(a,b)}replace(a,b){let c=this.getNode(a);if(c){let a=this.nodeMetaMap.get(c);a&&this.nodeMetaMap.set(b,a)}this.idNodeMap.set(a,b)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ac({element:a,maskInputOptions:b,tagName:c,type:d,value:e,maskInputFn:f}){let g=e||"",h=d&&ad(d);return(b[c.toLowerCase()]||h&&b[h])&&(g=f?f(g,a):"*".repeat(g.length)),g}function ad(a){return a.toLowerCase()}let ae="__rrweb_original__";function af(a){let b=a.type;return a.hasAttribute("data-rr-is-password")?"password":b?ad(b):null}function ag(a,b){let c;try{c=new URL(a,b??window.location.href)}catch(a){return null}let d=c.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(null==d?void 0:d[1])??null}let ah=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ai=/^(?:[a-z+]+:)?\/\//i,aj=/^www\..*/i,ak=/^(data:)([^,]*),(.*)/i;function al(a,b){return(a||"").replace(ah,(a,c,d,e,f,g)=>{let h=d||f||g,i=c||e||"";if(!h)return a;if(ai.test(h)||aj.test(h)||ak.test(h))return`url(${i}${h}${i})`;if("/"===h[0])return`url(${i}${(b.indexOf("//")>-1?b.split("/").slice(0,3).join("/"):b.split("/")[0]).split("?")[0]+h}${i})`;let j=b.split("/"),k=h.split("/");for(let a of(j.pop(),k))if("."===a)continue;else".."===a?j.pop():j.push(a);return`url(${i}${j.join("/")}${i})`})}function am(a,b=!1){return b?a.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):a.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}let an=1,ao=RegExp("[^a-z0-9-_:]");function ap(){return an++}let aq=/^[^ \t\n\r\u000c]+/,ar=/^[, \t\n\r\u000c]+/,as=new WeakMap;function at(a,b){return b&&""!==b.trim()?au(a,b):b}function au(a,b){let c=as.get(a);if(c||(c=a.createElement("a"),as.set(a,c)),b){if(b.startsWith("blob:")||b.startsWith("data:"))return b}else b="";return c.setAttribute("href",b),c.href}function av(a,b,c,d){if(!d)return d;if("src"===c||"href"===c&&("use"!==b||"#"!==d[0])||"xlink:href"===c&&"#"!==d[0])return at(a,d);if("background"===c&&("table"===b||"td"===b||"th"===b))return at(a,d);if("srcset"===c)return function(a,b){if(""===b.trim())return b;let c=0;function d(a){let d,e=a.exec(b.substring(c));return e?(d=e[0],c+=d.length,d):""}let e=[];for(;d(ar),!(c>=b.length);){let f=d(aq);if(","===f.slice(-1))f=at(a,f.substring(0,f.length-1)),e.push(f);else{let d="";f=at(a,f);let g=!1;for(;;){let a=b.charAt(c);if(""===a){e.push((f+d).trim());break}if(g)")"===a&&(g=!1);else if(","===a){c+=1,e.push((f+d).trim());break}else"("===a&&(g=!0);d+=a,c+=1}}}return e.join(", ")}(a,d);if("style"===c)return al(d,au(a));else if("object"===b&&"data"===c)return at(a,d);return d}function aw(a,b,c){return("video"===a||"audio"===a)&&"autoplay"===b}function ax(a,b,c){if(!a)return!1;if(a.nodeType!==a.ELEMENT_NODE)return!!c&&ax(U(a),b,c);for(let c=a.classList.length;c--;){let d=a.classList[c];if(b.test(d))return!0}return!!c&&ax(U(a),b,c)}function ay(a,b,c,d){let e;if(Y(a)){if(!T(e=a).length)return!1}else{if(null===V(a))return!1;e=V(a)}try{if("string"==typeof b){if(d){if(e.closest(`.${b}`))return!0}else if(e.classList.contains(b))return!0}else if(ax(e,b,d))return!0;if(c){if(d){if(e.closest(c))return!0}else if(e.matches(c))return!0}}catch(a){}return!1}function az(a){return null==a?"":a.toLowerCase()}function aA(a,d){let e,{doc:f,mirror:g,blockClass:h,blockSelector:i,maskTextClass:j,maskTextSelector:k,skipChild:l=!1,inlineStylesheet:m=!0,maskInputOptions:n={},maskTextFn:o,maskInputFn:p,slimDOMOptions:q,dataURLOptions:r={},inlineImages:s=!1,recordCanvas:t=!1,onSerialize:u,onIframeLoad:v,iframeLoadTimeout:w=5e3,onStylesheetLoad:x,stylesheetLoadTimeout:y=5e3,keepIframeSrcFn:z=()=>!1,newlyAddedElement:A=!1,cssCaptured:B=!1,applyBackgroundColorToBlockedElements:C=!1}=d,{needsMask:D}=d,{preserveWhiteSpace:E=!0}=d;D||(D=ay(a,j,k,void 0===D));let F=function(a,d){let{doc:e,mirror:f,blockClass:g,blockSelector:h,needsMask:i,inlineStylesheet:j,maskInputOptions:k={},maskTextFn:l,maskInputFn:m,dataURLOptions:n={},inlineImages:o,recordCanvas:p,keepIframeSrcFn:q,newlyAddedElement:r=!1,cssCaptured:s=!1,applyBackgroundColorToBlockedElements:t=!1}=d,u=function(a,b){if(!b.hasNode(a))return;let c=b.getId(a);return 1===c?void 0:c}(e,f);switch(a.nodeType){case a.DOCUMENT_NODE:if("CSS1Compat"!==a.compatMode)return{type:M.Document,childNodes:[],compatMode:a.compatMode};return{type:M.Document,childNodes:[]};case a.DOCUMENT_TYPE_NODE:return{type:M.DocumentType,name:a.name,publicId:a.publicId,systemId:a.systemId,rootId:u};case a.ELEMENT_NODE:return function(a,d){let e,{doc:f,blockClass:g,blockSelector:h,inlineStylesheet:i,maskInputOptions:j={},maskInputFn:k,dataURLOptions:l={},inlineImages:m,recordCanvas:n,keepIframeSrcFn:o,newlyAddedElement:p=!1,rootId:q,applyBackgroundColorToBlockedElements:r=!1}=d,s=function(a,b,c){try{if("string"==typeof b){if(a.classList.contains(b))return!0}else for(let c=a.classList.length;c--;){let d=a.classList[c];if(b.test(d))return!0}if(c)return a.matches(c)}catch(a){}return!1}(a,g,h),t=function(a){if(a instanceof HTMLFormElement)return"form";let b=ad(a.tagName);return ao.test(b)?"div":b}(a),u={},v=a.attributes.length;for(let b=0;b<v;b++){let c=a.attributes[b];aw(t,c.name,c.value)||(u[c.name]=av(f,t,ad(c.name),c.value))}if("link"===t&&i){let b=Array.from(f.styleSheets).find(b=>b.href===a.href),c=null;b&&(c=_(b)),c&&(delete u.rel,delete u.href,u._cssText=c)}if("style"===t&&a.sheet){let b=_(a.sheet);b&&(a.childNodes.length>1&&(b=(function(a,b,c=!1){let d=Array.from(b.childNodes),e=[],f=0;if(d.length>1&&a&&"string"==typeof a){let b=am(a,c),g=b.length/a.length;for(let h=1;h<d.length;h++)if(d[h].textContent&&"string"==typeof d[h].textContent){let i=am(d[h].textContent,c),j=3;for(;j<i.length&&(i[j].match(/[a-zA-Z0-9]/)||-1!==i.indexOf(i.substring(0,j),1));j++);for(;j<i.length;j++){let k=i.substring(0,j),l=b.split(k),m=-1;if(2===l.length)m=l[0].length;else if(l.length>2&&""===l[0]&&""!==d[h-1].textContent)m=b.indexOf(k,1);else if(1===l.length){if(k=k.substring(0,k.length-1),(l=b.split(k)).length<=1)return e.push(a),e;j=101}else j===i.length-1&&(m=b.indexOf(k));if(l.length>=2&&j>100){let a=d[h-1].textContent;if(a&&"string"==typeof a){let c=am(a).length;m=b.indexOf(k,c)}-1===m&&(m=l[0].length)}if(-1!==m){let h=Math.floor(m/g);for(;h>0&&h<a.length;){if((f+=1)>50*d.length)return e.push(a),e;let i=am(a.substring(0,h),c);if(i.length===m){e.push(a.substring(0,h)),a=a.substring(h),b=b.substring(m);break}i.length<m?h+=Math.max(1,Math.floor((m-i.length)/g)):h-=Math.max(1,Math.floor((i.length-m)*g))}break}}}}return e.push(a),e})(b,a).join("/* rr_split */")),u._cssText=b)}if("input"===t||"textarea"===t||"select"===t){let b=a.value,c=a.checked;"radio"!==u.type&&"checkbox"!==u.type&&"submit"!==u.type&&"button"!==u.type&&b?u.value=ac({element:a,type:af(a),tagName:t,value:b,maskInputOptions:j,maskInputFn:k}):c&&(u.checked=c)}if("option"===t&&(a.selected&&!j.select?u.selected=!0:delete u.selected),"dialog"===t&&a.open&&(u.rr_open_mode=a.matches("dialog:modal")?"modal":"non-modal"),"canvas"===t&&n){if("2d"===a.__context)!function(a){let b=a.getContext("2d");if(!b)return!0;for(let c=0;c<a.width;c+=50)for(let d=0;d<a.height;d+=50){let e=b.getImageData;if(new Uint32Array((ae in e?e[ae]:e).call(b,c,d,Math.min(50,a.width-c),Math.min(50,a.height-d)).data.buffer).some(a=>0!==a))return!1}return!0}(a)&&(u.rr_dataURL=a.toDataURL(l.type,l.quality));else if(!("__context"in a)){let b=a.toDataURL(l.type,l.quality),c=f.createElement("canvas");c.width=a.width,c.height=a.height,b!==c.toDataURL(l.type,l.quality)&&(u.rr_dataURL=b)}}if("img"===t&&m){b||(c=(b=f.createElement("canvas")).getContext("2d"));let d=a.currentSrc||a.getAttribute("src")||"<unknown-src>",e=a.crossOrigin,g=()=>{a.removeEventListener("load",g);try{b.width=a.naturalWidth,b.height=a.naturalHeight,c.drawImage(a,0,0),u.rr_dataURL=b.toDataURL(l.type,l.quality)}catch(b){if("anonymous"!==a.crossOrigin){a.crossOrigin="anonymous",a.complete&&0!==a.naturalWidth?g():a.addEventListener("load",g);return}console.warn(`Cannot inline img src=${d}! Error: ${b}`)}"anonymous"===a.crossOrigin&&(e?u.crossOrigin=e:a.removeAttribute("crossorigin"))};a.complete&&0!==a.naturalWidth?g():a.addEventListener("load",g)}if("audio"===t||"video"===t){let b=u;b.rr_mediaState=a.paused?"paused":"played",b.rr_mediaCurrentTime=a.currentTime,b.rr_mediaPlaybackRate=a.playbackRate,b.rr_mediaMuted=a.muted,b.rr_mediaLoop=a.loop,b.rr_mediaVolume=a.volume}if(!p&&(a.scrollLeft&&(u.rr_scrollLeft=a.scrollLeft),a.scrollTop&&(u.rr_scrollTop=a.scrollTop)),s){let{width:b,height:c}=a.getBoundingClientRect();u={class:u.class,rr_width:`${b}px`,rr_height:`${c}px`,...r?{rr_background_color:"lightgrey"}:{}}}"iframe"!==t||o(u.src)||(a.contentDocument||(u.rr_src=u.src),delete u.src);try{customElements.get(t)&&(e=!0)}catch(a){}return{type:M.Element,tagName:t,attributes:u,childNodes:[],isSVG:!!("svg"===a.tagName||a.ownerSVGElement)||void 0,needBlock:s,rootId:q,isCustom:e}}(a,{doc:e,blockClass:g,blockSelector:h,inlineStylesheet:j,maskInputOptions:k,maskInputFn:m,dataURLOptions:n,inlineImages:o,recordCanvas:p,keepIframeSrcFn:q,newlyAddedElement:r,rootId:u,applyBackgroundColorToBlockedElements:t});case a.TEXT_NODE:return function(a,b){let{needsMask:c,maskTextFn:d,rootId:e,cssCaptured:f}=b,g=U(a),h=g&&g.tagName,i="",j="STYLE"===h||void 0,k="SCRIPT"===h||void 0;return k?i="SCRIPT_PLACEHOLDER":!f&&(i=W(a),j&&i&&(i=al(i,au(b.doc)))),!j&&!k&&i&&c&&(i=d?d(i,V(a)):i.replace(/[\S]/g,"*")),{type:M.Text,textContent:i||"",rootId:e}}(a,{doc:e,needsMask:i,maskTextFn:l,rootId:u,cssCaptured:s});case a.CDATA_SECTION_NODE:return{type:M.CDATA,textContent:"",rootId:u};case a.COMMENT_NODE:return{type:M.Comment,textContent:W(a)||"",rootId:u};default:return!1}}(a,{doc:f,mirror:g,blockClass:h,blockSelector:i,needsMask:D,inlineStylesheet:m,maskInputOptions:n,maskTextFn:o,maskInputFn:p,dataURLOptions:r,inlineImages:s,recordCanvas:t,keepIframeSrcFn:z,newlyAddedElement:A,cssCaptured:B,applyBackgroundColorToBlockedElements:C});if(!F)return console.warn(a,"not serialized"),null;e=g.hasNode(a)?g.getId(a):!function(a,b){if(b.comment&&a.type===M.Comment)return!0;if(a.type===M.Element){if(b.script&&("script"===a.tagName||"link"===a.tagName&&("preload"===a.attributes.rel||"modulepreload"===a.attributes.rel)&&"script"===a.attributes.as||"link"===a.tagName&&"prefetch"===a.attributes.rel&&"string"==typeof a.attributes.href&&"js"===ag(a.attributes.href)))return!0;else if(b.headFavicon&&("link"===a.tagName&&"shortcut icon"===a.attributes.rel||"meta"===a.tagName&&(az(a.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===az(a.attributes.name)||"icon"===az(a.attributes.rel)||"apple-touch-icon"===az(a.attributes.rel)||"shortcut icon"===az(a.attributes.rel))))return!0;else if("meta"===a.tagName){if(b.headMetaDescKeywords&&az(a.attributes.name).match(/^description|keywords$/))return!0;else if(b.headMetaSocial&&(az(a.attributes.property).match(/^(og|twitter|fb):/)||az(a.attributes.name).match(/^(og|twitter):/)||"pinterest"===az(a.attributes.name)))return!0;else if(b.headMetaRobots&&("robots"===az(a.attributes.name)||"googlebot"===az(a.attributes.name)||"bingbot"===az(a.attributes.name)))return!0;else if(b.headMetaHttpEquiv&&void 0!==a.attributes["http-equiv"])return!0;else if(b.headMetaAuthorship&&("author"===az(a.attributes.name)||"generator"===az(a.attributes.name)||"framework"===az(a.attributes.name)||"publisher"===az(a.attributes.name)||"progid"===az(a.attributes.name)||az(a.attributes.property).match(/^article:/)||az(a.attributes.property).match(/^product:/)))return!0;else if(b.headMetaVerification&&("google-site-verification"===az(a.attributes.name)||"yandex-verification"===az(a.attributes.name)||"csrf-token"===az(a.attributes.name)||"p:domain_verify"===az(a.attributes.name)||"verify-v1"===az(a.attributes.name)||"verification"===az(a.attributes.name)||"shopify-checkout-api-token"===az(a.attributes.name)))return!0}}return!1}(F,q)&&(E||F.type!==M.Text||F.textContent.replace(/^\s+|\s+$/gm,"").length)?ap():-2;let G=Object.assign(F,{id:e});if(g.add(a,G),-2===e)return null;u&&u(a);let H=!l;if(G.type===M.Element){H=H&&!G.needBlock,delete G.needBlock;let b=X(a);b&&$(b)&&(G.isShadowHost=!0)}if((G.type===M.Document||G.type===M.Element)&&H){q.headWhitespace&&G.type===M.Element&&"head"===G.tagName&&(E=!1);let b={doc:f,mirror:g,blockClass:h,blockSelector:i,needsMask:D,maskTextClass:j,maskTextSelector:k,skipChild:l,inlineStylesheet:m,maskInputOptions:n,maskTextFn:o,maskInputFn:p,slimDOMOptions:q,dataURLOptions:r,inlineImages:s,recordCanvas:t,preserveWhiteSpace:E,onSerialize:u,onIframeLoad:v,iframeLoadTimeout:w,onStylesheetLoad:x,stylesheetLoadTimeout:y,keepIframeSrcFn:z,cssCaptured:!1,applyBackgroundColorToBlockedElements:C};if(G.type===M.Element&&"textarea"===G.tagName&&void 0!==G.attributes.value);else for(let c of(G.type===M.Element&&void 0!==G.attributes._cssText&&"string"==typeof G.attributes._cssText&&(b.cssCaptured=!0),Array.from(T(a)))){let a=aA(c,b);a&&G.childNodes.push(a)}let c=null;if(Y(a)&&(c=X(a)))for(let a of Array.from(T(c))){let d=aA(a,b);d&&($(c)&&(d.isShadow=!0),G.childNodes.push(d))}}let I=U(a);return I&&Z(I)&&$(I)&&(G.isShadow=!0),G.type===M.Element&&"iframe"===G.tagName&&function(a,b,c){let d,e=a.contentWindow;if(!e)return;let f=!1;try{d=e.document.readyState}catch(a){return}if("complete"!==d){let d=setTimeout(()=>{f||(b(),f=!0)},c);a.addEventListener("load",()=>{clearTimeout(d),f=!0,b()});return}let g="about:blank";if(e.location.href!==g||a.src===g||""===a.src)return setTimeout(b,0),a.addEventListener("load",b);a.addEventListener("load",b)}(a,()=>{let b=a.contentDocument;if(b&&v){let c=aA(b,{doc:b,mirror:g,blockClass:h,blockSelector:i,needsMask:D,maskTextClass:j,maskTextSelector:k,skipChild:!1,inlineStylesheet:m,maskInputOptions:n,maskTextFn:o,maskInputFn:p,slimDOMOptions:q,dataURLOptions:r,inlineImages:s,recordCanvas:t,preserveWhiteSpace:E,onSerialize:u,onIframeLoad:v,iframeLoadTimeout:w,onStylesheetLoad:x,stylesheetLoadTimeout:y,keepIframeSrcFn:z});c&&v(a,c)}},w),G.type===M.Element&&"link"===G.tagName&&"string"==typeof G.attributes.rel&&("stylesheet"===G.attributes.rel||"preload"===G.attributes.rel&&"string"==typeof G.attributes.href&&"css"===ag(G.attributes.href))&&function(a,b,c){let d,e=!1;try{d=a.sheet}catch(a){return}if(d)return;let f=setTimeout(()=>{e||(b(),e=!0)},c);a.addEventListener("load",()=>{clearTimeout(f),e=!0,b()})}(a,()=>{if(x){let b=aA(a,{doc:f,mirror:g,blockClass:h,blockSelector:i,needsMask:D,maskTextClass:j,maskTextSelector:k,skipChild:!1,inlineStylesheet:m,maskInputOptions:n,maskTextFn:o,maskInputFn:p,slimDOMOptions:q,dataURLOptions:r,inlineImages:s,recordCanvas:t,preserveWhiteSpace:E,onSerialize:u,onIframeLoad:v,iframeLoadTimeout:w,onStylesheetLoad:x,stylesheetLoadTimeout:y,keepIframeSrcFn:z});b&&x(a,b)}},y),G}var aB={exports:{}},aC=String,aD=function(){return{isColorSupported:!1,reset:aC,bold:aC,dim:aC,italic:aC,underline:aC,inverse:aC,hidden:aC,strikethrough:aC,black:aC,red:aC,green:aC,yellow:aC,blue:aC,magenta:aC,cyan:aC,white:aC,gray:aC,bgBlack:aC,bgRed:aC,bgGreen:aC,bgYellow:aC,bgBlue:aC,bgMagenta:aC,bgCyan:aC,bgWhite:aC}};aB.exports=aD(),aB.exports.createColors=aD;var aE=aB.exports;let aF=function(a){if(a.__esModule)return a;var b=a.default;if("function"==typeof b){var c=function a(){return this instanceof a?Reflect.construct(b,arguments,this.constructor):b.apply(this,arguments)};c.prototype=b.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(a).forEach(function(b){var d=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,d.get?d:{enumerable:!0,get:function(){return a[b]}})}),c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),aG=class a extends Error{constructor(b,c,d,e,f,g){super(b),this.name="CssSyntaxError",this.reason=b,f&&(this.file=f),e&&(this.source=e),g&&(this.plugin=g),void 0!==c&&void 0!==d&&("number"==typeof c?(this.line=c,this.column=d):(this.line=c.line,this.column=c.column,this.endLine=d.line,this.endColumn=d.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,a)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(a){let b,c;if(!this.source)return"";let d=this.source;null==a&&(a=aE.isColorSupported),aF&&a&&(d=aF(d));let e=d.split(/\r?\n/),f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(a){let{bold:a,gray:d,red:e}=aE.createColors(!0);b=b=>a(e(b)),c=a=>d(a)}else b=c=a=>a;return e.slice(f,g).map((a,d)=>{let e=f+1+d,g=" "+(" "+e).slice(-h)+" | ";if(e===this.line){let d=c(g.replace(/\d/g," "))+a.slice(0,this.column-1).replace(/[^\t]/g," ");return b(">")+c(g)+a+"\n "+d+b("^")}return" "+c(g)+a}).join("\n")}toString(){let a=this.showSourceCode();return a&&(a="\n\n"+a+"\n"),this.name+": "+this.message+a}};aG.default=aG;var aH={};aH.isClean=Symbol("isClean"),aH.my=Symbol("my");let aI={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},aJ=class{constructor(a){this.builder=a}atrule(a,b){let c="@"+a.name,d=a.params?this.rawValue(a,"params"):"";if(void 0!==a.raws.afterName?c+=a.raws.afterName:d&&(c+=" "),a.nodes)this.block(a,c+d);else{let e=(a.raws.between||"")+(b?";":"");this.builder(c+d+e,a)}}beforeAfter(a,b){let c;c="decl"===a.type?this.raw(a,null,"beforeDecl"):"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===b?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");let d=a.parent,e=0;for(;d&&"root"!==d.type;)e+=1,d=d.parent;if(c.includes("\n")){let b=this.raw(a,null,"indent");if(b.length)for(let a=0;a<e;a++)c+=b}return c}block(a,b){let c,d=this.raw(a,"between","beforeOpen");this.builder(b+d+"{",a,"start"),a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody"),c&&this.builder(c),this.builder("}",a,"end")}body(a){let b=a.nodes.length-1;for(;b>0&&"comment"===a.nodes[b].type;)b-=1;let c=this.raw(a,"semicolon");for(let d=0;d<a.nodes.length;d++){let e=a.nodes[d],f=this.raw(e,"before");f&&this.builder(f),this.stringify(e,b!==d||c)}}comment(a){let b=this.raw(a,"left","commentLeft"),c=this.raw(a,"right","commentRight");this.builder("/*"+b+a.text+c+"*/",a)}decl(a,b){let c=this.raw(a,"between","colon"),d=a.prop+c+this.rawValue(a,"value");a.important&&(d+=a.raws.important||" !important"),b&&(d+=";"),this.builder(d,a)}document(a){this.body(a)}raw(a,b,c){let d;if(c||(c=b),b&&void 0!==(d=a.raws[b]))return d;let e=a.parent;if("before"===c&&(!e||"root"===e.type&&e.first===a||e&&"document"===e.type))return"";if(!e)return aI[c];let f=a.root();if(f.rawCache||(f.rawCache={}),void 0!==f.rawCache[c])return f.rawCache[c];if("before"===c||"after"===c)return this.beforeAfter(a,c);{var g;let e="raw"+((g=c)[0].toUpperCase()+g.slice(1));this[e]?d=this[e](f,a):f.walk(a=>{if(void 0!==(d=a.raws[b]))return!1})}return void 0===d&&(d=aI[c]),f.rawCache[c]=d,d}rawBeforeClose(a){let b;return a.walk(a=>{if(a.nodes&&a.nodes.length>0&&void 0!==a.raws.after)return(b=a.raws.after).includes("\n")&&(b=b.replace(/[^\n]+$/,"")),!1}),b&&(b=b.replace(/\S/g,"")),b}rawBeforeComment(a,b){let c;return a.walkComments(a=>{if(void 0!==a.raws.before)return(c=a.raws.before).includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1}),void 0===c?c=this.raw(b,null,"beforeDecl"):c&&(c=c.replace(/\S/g,"")),c}rawBeforeDecl(a,b){let c;return a.walkDecls(a=>{if(void 0!==a.raws.before)return(c=a.raws.before).includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1}),void 0===c?c=this.raw(b,null,"beforeRule"):c&&(c=c.replace(/\S/g,"")),c}rawBeforeOpen(a){let b;return a.walk(a=>{if("decl"!==a.type&&void 0!==(b=a.raws.between))return!1}),b}rawBeforeRule(a){let b;return a.walk(c=>{if(c.nodes&&(c.parent!==a||a.first!==c)&&void 0!==c.raws.before)return(b=c.raws.before).includes("\n")&&(b=b.replace(/[^\n]+$/,"")),!1}),b&&(b=b.replace(/\S/g,"")),b}rawColon(a){let b;return a.walkDecls(a=>{if(void 0!==a.raws.between)return b=a.raws.between.replace(/[^\s:]/g,""),!1}),b}rawEmptyBody(a){let b;return a.walk(a=>{if(a.nodes&&0===a.nodes.length&&void 0!==(b=a.raws.after))return!1}),b}rawIndent(a){let b;return a.raws.indent?a.raws.indent:(a.walk(c=>{let d=c.parent;if(d&&d!==a&&d.parent&&d.parent===a&&void 0!==c.raws.before){let a=c.raws.before.split("\n");return b=(b=a[a.length-1]).replace(/\S/g,""),!1}}),b)}rawSemicolon(a){let b;return a.walk(a=>{if(a.nodes&&a.nodes.length&&"decl"===a.last.type&&void 0!==(b=a.raws.semicolon))return!1}),b}rawValue(a,b){let c=a[b],d=a.raws[b];return d&&d.value===c?d.raw:c}root(a){this.body(a),a.raws.after&&this.builder(a.raws.after)}rule(a){this.block(a,this.rawValue(a,"selector")),a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}stringify(a,b){if(!this[a.type])throw Error("Unknown AST node type "+a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,b)}};function aK(a,b){new aJ(b).stringify(a)}aJ.default=aJ,aK.default=aK;let{isClean:aL,my:aM}=aH,aN=class{constructor(a={}){for(let b in this.raws={},this[aL]=!1,this[aM]=!0,a)if("nodes"===b)for(let c of(this.nodes=[],a[b]))"function"==typeof c.clone?this.append(c.clone()):this.append(c);else this[b]=a[b]}addToError(a){if(a.postcssNode=this,a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){let b=this.source;a.stack=a.stack.replace(/\n\s{4}at /,`$&${b.input.from}:${b.start.line}:${b.start.column}$&`)}return a}after(a){return this.parent.insertAfter(this,a),this}assign(a={}){for(let b in a)this[b]=a[b];return this}before(a){return this.parent.insertBefore(this,a),this}cleanRaws(a){delete this.raws.before,delete this.raws.after,a||delete this.raws.between}clone(a={}){let b=function a(b,c){let d=new b.constructor;for(let e in b){if(!Object.prototype.hasOwnProperty.call(b,e)||"proxyCache"===e)continue;let f=b[e],g=typeof f;"parent"===e&&"object"===g?c&&(d[e]=c):"source"===e?d[e]=f:Array.isArray(f)?d[e]=f.map(b=>a(b,d)):("object"===g&&null!==f&&(f=a(f)),d[e]=f)}return d}(this);for(let c in a)b[c]=a[c];return b}cloneAfter(a={}){let b=this.clone(a);return this.parent.insertAfter(this,b),b}cloneBefore(a={}){let b=this.clone(a);return this.parent.insertBefore(this,b),b}error(a,b={}){if(this.source){let{end:c,start:d}=this.rangeBy(b);return this.source.input.error(a,{column:d.column,line:d.line},{column:c.column,line:c.line},b)}return new aG(a)}getProxyProcessor(){return{get:(a,b)=>"proxyOf"===b?a:"root"===b?()=>a.root().toProxy():a[b],set:(a,b,c)=>a[b]===c||(a[b]=c,("prop"===b||"value"===b||"name"===b||"params"===b||"important"===b||"text"===b)&&a.markDirty(),!0)}}markDirty(){if(this[aL]){this[aL]=!1;let a=this;for(;a=a.parent;)a[aL]=!1}}next(){if(!this.parent)return;let a=this.parent.index(this);return this.parent.nodes[a+1]}positionBy(a,b){let c=this.source.start;if(a.index)c=this.positionInside(a.index,b);else if(a.word){let d=(b=this.toString()).indexOf(a.word);-1!==d&&(c=this.positionInside(d,b))}return c}positionInside(a,b){let c=b||this.toString(),d=this.source.start.column,e=this.source.start.line;for(let b=0;b<a;b++)"\n"===c[b]?(d=1,e+=1):d+=1;return{column:d,line:e}}prev(){if(!this.parent)return;let a=this.parent.index(this);return this.parent.nodes[a-1]}rangeBy(a){let b={column:this.source.start.column,line:this.source.start.line},c=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:b.column+1,line:b.line};if(a.word){let d=this.toString(),e=d.indexOf(a.word);-1!==e&&(b=this.positionInside(e,d),c=this.positionInside(e+a.word.length,d))}else a.start?b={column:a.start.column,line:a.start.line}:a.index&&(b=this.positionInside(a.index)),a.end?c={column:a.end.column,line:a.end.line}:"number"==typeof a.endIndex?c=this.positionInside(a.endIndex):a.index&&(c=this.positionInside(a.index+1));return(c.line<b.line||c.line===b.line&&c.column<=b.column)&&(c={column:b.column+1,line:b.line}),{end:c,start:b}}raw(a,b){return new aJ().raw(this,a,b)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...a){if(this.parent){let b=this,c=!1;for(let d of a)d===this?c=!0:c?(this.parent.insertAfter(b,d),b=d):this.parent.insertBefore(b,d);c||this.remove()}return this}root(){let a=this;for(;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}toJSON(a,b){let c={},d=null==b;b=b||new Map;let e=0;for(let a in this){if(!Object.prototype.hasOwnProperty.call(this,a)||"parent"===a||"proxyCache"===a)continue;let d=this[a];if(Array.isArray(d))c[a]=d.map(a=>"object"==typeof a&&a.toJSON?a.toJSON(null,b):a);else if("object"==typeof d&&d.toJSON)c[a]=d.toJSON(null,b);else if("source"===a){let f=b.get(d.input);null==f&&(f=e,b.set(d.input,e),e++),c[a]={end:d.end,inputId:f,start:d.start}}else c[a]=d}return d&&(c.inputs=[...b.keys()].map(a=>a.toJSON())),c}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(a=aK){a.stringify&&(a=a.stringify);let b="";return a(this,a=>{b+=a}),b}warn(a,b,c){let d={node:this};for(let a in c)d[a]=c[a];return a.warn(b,d)}get proxyOf(){return this}};aN.default=aN;let aO=aN,aP=class extends aO{constructor(a){a&&void 0!==a.value&&"string"!=typeof a.value&&(a={...a,value:String(a.value)}),super(a),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};aP.default=aP;let{SourceMapConsumer:aQ,SourceMapGenerator:aR}=aF,{existsSync:aS,readFileSync:aT}=aF,{dirname:aU,join:aV}=aF,aW=class{constructor(a,b){if(!1===b.map)return;this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:");let c=b.map?b.map.prev:void 0,d=this.loadMap(b.from,c);!this.mapFile&&b.from&&(this.mapFile=b.from),this.mapFile&&(this.root=aU(this.mapFile)),d&&(this.text=d)}consumer(){return this.consumerCache||(this.consumerCache=new aQ(this.text)),this.consumerCache}decodeInline(a){if(/^data:application\/json;charset=utf-?8,/.test(a)||/^data:application\/json,/.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||/^data:application\/json;base64,/.test(a)){var b;return b=a.substr(RegExp.lastMatch.length),Buffer.from(b,"base64").toString()}throw Error("Unsupported source map encoding "+a.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(a){return"object"==typeof a&&("string"==typeof a.mappings||"string"==typeof a._mappings||Array.isArray(a.sections))}loadAnnotation(a){let b=a.match(/\/\*\s*# sourceMappingURL=/gm);if(!b)return;let c=a.lastIndexOf(b.pop()),d=a.indexOf("*/",c);c>-1&&d>-1&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}loadFile(a){if(this.root=aU(a),aS(a))return this.mapFile=a,aT(a,"utf-8").toString().trim()}loadMap(a,b){if(!1===b)return!1;if(b)if("string"==typeof b)return b;else if("function"==typeof b){let c=b(a);if(c){let a=this.loadFile(c);if(!a)throw Error("Unable to load previous source map: "+c.toString());return a}}else if(b instanceof aQ)return aR.fromSourceMap(b).toString();else if(b instanceof aR)return b.toString();else if(this.isMap(b))return JSON.stringify(b);else throw Error("Unsupported previous source map format: "+b.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let b=this.annotation;return a&&(b=aV(aU(a),b)),this.loadFile(b)}}startWith(a,b){return!!a&&a.substr(0,b.length)===b}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};aW.default=aW;let{SourceMapConsumer:aX,SourceMapGenerator:aY}=aF,{fileURLToPath:aZ,pathToFileURL:a$}=aF,{isAbsolute:a_,resolve:a0}=aF,{nanoid:a1}={nanoid:(a=21)=>{let b="",c=a;for(;c--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return b},customAlphabet:(a,b=21)=>(c=b)=>{let d="",e=c;for(;e--;)d+=a[Math.random()*a.length|0];return d}},a2=Symbol("fromOffsetCache"),a3=!!(aX&&aY),a4=!!(a0&&a_),a5=class{constructor(a,b={}){if(null==a||"object"==typeof a&&!a.toString)throw Error(`PostCSS received ${a} instead of CSS string`);if(this.css=a.toString(),"\uFEFF"===this.css[0]||"ï¿¾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,b.from&&(!a4||/^\w+:\/\//.test(b.from)||a_(b.from)?this.file=b.from:this.file=a0(b.from)),a4&&a3){let a=new aW(this.css,b);if(a.text){this.map=a;let b=a.consumer().file;!this.file&&b&&(this.file=this.mapResolve(b))}}this.file||(this.id="<input css "+a1(6)+">"),this.map&&(this.map.file=this.from)}error(a,b,c,d={}){let e,f,g;if(b&&"object"==typeof b){let a=b,d=c;if("number"==typeof a.offset){let d=this.fromOffset(a.offset);b=d.line,c=d.col}else b=a.line,c=a.column;if("number"==typeof d.offset){let a=this.fromOffset(d.offset);f=a.line,g=a.col}else f=d.line,g=d.column}else if(!c){let a=this.fromOffset(b);b=a.line,c=a.col}let h=this.origin(b,c,f,g);return(e=h?new aG(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,d.plugin):new aG(a,void 0===f?b:{column:c,line:b},void 0===f?c:{column:g,line:f},this.css,this.file,d.plugin)).input={column:c,endColumn:g,endLine:f,line:b,source:this.css},this.file&&(a$&&(e.input.url=a$(this.file).toString()),e.input.file=this.file),e}fromOffset(a){let b,c;if(this[a2])c=this[a2];else{let a=this.css.split("\n");c=Array(a.length);let b=0;for(let d=0,e=a.length;d<e;d++)c[d]=b,b+=a[d].length+1;this[a2]=c}b=c[c.length-1];let d=0;if(a>=b)d=c.length-1;else{let b,e=c.length-2;for(;d<e;)if(a<c[b=d+(e-d>>1)])e=b-1;else if(a>=c[b+1])d=b+1;else{d=b;break}}return{col:a-c[d]+1,line:d+1}}mapResolve(a){return/^\w+:\/\//.test(a)?a:a0(this.map.consumer().sourceRoot||this.map.root||".",a)}origin(a,b,c,d){let e,f;if(!this.map)return!1;let g=this.map.consumer(),h=g.originalPositionFor({column:b,line:a});if(!h.source)return!1;"number"==typeof c&&(e=g.originalPositionFor({column:d,line:c})),f=a_(h.source)?a$(h.source):new URL(h.source,this.map.consumer().sourceRoot||a$(this.map.mapFile));let i={column:h.column,endColumn:e&&e.column,endLine:e&&e.line,line:h.line,url:f.toString()};if("file:"===f.protocol)if(aZ)i.file=aZ(f);else throw Error("file: protocol is not available in this PostCSS build");let j=g.sourceContentFor(h.source);return j&&(i.source=j),i}toJSON(){let a={};for(let b of["hasBOM","css","file","id"])null!=this[b]&&(a[b]=this[b]);return this.map&&(a.map={...this.map},a.map.consumerCache&&(a.map.consumerCache=void 0)),a}get from(){return this.file||this.id}};a5.default=a5,aF&&aF.registerInput&&aF.registerInput(a5);let{SourceMapConsumer:a6,SourceMapGenerator:a7}=aF,{dirname:a8,relative:a9,resolve:ba,sep:bb}=aF,{pathToFileURL:bc}=aF,bd=!!(a6&&a7),be=!!(a8&&ba&&a9&&bb),bf=class{constructor(a,b,c,d){this.stringify=a,this.mapOpts=c.map||{},this.root=b,this.opts=c,this.css=d,this.originalCSS=d,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let a;a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let b="\n";this.css.includes("\r\n")&&(b="\r\n"),this.css+=b+"/*# sourceMappingURL="+a+" */"}applyPrevMaps(){for(let a of this.previous()){let b,c=this.toUrl(this.path(a.file)),d=a.root||a8(a.file);!1===this.mapOpts.sourcesContent?(b=new a6(a.text)).sourcesContent&&(b.sourcesContent=null):b=a.consumer(),this.map.applySourceMap(b,c,this.toUrl(this.path(d)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let a;for(let b=this.root.nodes.length-1;b>=0;b--)"comment"===(a=this.root.nodes[b]).type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(b)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),be&&bd&&this.isMap())return this.generateMap();{let a="";return this.stringify(this.root,b=>{a+=b}),[a]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let a=this.previous()[0].consumer();a.file=this.outputFile(),this.map=a7.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new a7({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}generateString(){let a,b;this.css="",this.map=new a7({file:this.outputFile(),ignoreInvalidMapping:!0});let c=1,d=1,e="<no source>",f={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(g,h,i)=>{if(this.css+=g,h&&"end"!==i&&(f.generated.line=c,f.generated.column=d-1,h.source&&h.source.start?(f.source=this.sourcePath(h),f.original.line=h.source.start.line,f.original.column=h.source.start.column-1):(f.source=e,f.original.line=1,f.original.column=0),this.map.addMapping(f)),(a=g.match(/\n/g))?(c+=a.length,b=g.lastIndexOf("\n"),d=g.length-b):d+=g.length,h&&"start"!==i){let a=h.parent||{raws:{}};(!("decl"===h.type||"atrule"===h.type&&!h.nodes)||h!==a.last||a.raws.semicolon)&&(h.source&&h.source.end?(f.source=this.sourcePath(h),f.original.line=h.source.end.line,f.original.column=h.source.end.column-1,f.generated.line=c,f.generated.column=d-2):(f.source=e,f.original.line=1,f.original.column=0,f.generated.line=c,f.generated.column=d-1),this.map.addMapping(f))}})}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(a=>a.annotation))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let a=this.mapOpts.annotation;return(void 0===a||!0===a)&&(!this.previous().length||this.previous().some(a=>a.inline))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(a=>a.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(a){if(this.mapOpts.absolute||60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;let b=this.memoizedPaths.get(a);if(b)return b;let c=this.opts.to?a8(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(c=a8(ba(c,this.mapOpts.annotation)));let d=a9(c,a);return this.memoizedPaths.set(a,d),d}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(a=>{if(a.source&&a.source.input.map){let b=a.source.input.map;this.previousMaps.includes(b)||this.previousMaps.push(b)}});else{let a=new a5(this.originalCSS,this.opts);a.map&&this.previousMaps.push(a.map)}return this.previousMaps}setSourcesContent(){let a={};if(this.root)this.root.walk(b=>{if(b.source){let c=b.source.input.from;if(c&&!a[c]){a[c]=!0;let d=this.usesFileUrls?this.toFileUrl(c):this.toUrl(this.path(c));this.map.setSourceContent(d,b.source.input.css)}}});else if(this.css){let a=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(a,this.css)}}sourcePath(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}toBase64(a){return Buffer.from(a).toString("base64")}toFileUrl(a){let b=this.memoizedFileURLs.get(a);if(b)return b;if(bc){let b=bc(a).toString();return this.memoizedFileURLs.set(a,b),b}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(a){let b=this.memoizedURLs.get(a);if(b)return b;"\\"===bb&&(a=a.replace(/\\/g,"/"));let c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(a,c),c}},bg=aN,bh=class extends bg{constructor(a){super(a),this.type="comment"}};bh.default=bh;let{isClean:bi,my:bj}=aH,bk=aN,bl=class a extends bk{append(...a){for(let b of a)for(let a of this.normalize(b,this.last))this.proxyOf.nodes.push(a);return this.markDirty(),this}cleanRaws(a){if(super.cleanRaws(a),this.nodes)for(let b of this.nodes)b.cleanRaws(a)}each(a){let b,c;if(!this.proxyOf.nodes)return;let d=this.getIterator();for(;this.indexes[d]<this.proxyOf.nodes.length&&(b=this.indexes[d],!1!==(c=a(this.proxyOf.nodes[b],b)));)this.indexes[d]+=1;return delete this.indexes[d],c}every(a){return this.nodes.every(a)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let a=this.lastEach;return this.indexes[a]=0,a}getProxyProcessor(){return{get(a,b){if("proxyOf"===b)return a;if(!a[b])return a[b];if("each"===b||"string"==typeof b&&b.startsWith("walk"))return(...c)=>a[b](...c.map(a=>"function"==typeof a?(b,c)=>a(b.toProxy(),c):a));if("every"===b||"some"===b)return c=>a[b]((a,...b)=>c(a.toProxy(),...b));if("root"===b)return()=>a.root().toProxy();else if("nodes"===b)return a.nodes.map(a=>a.toProxy());else if("first"===b||"last"===b)return a[b].toProxy();else return a[b]},set:(a,b,c)=>a[b]===c||(a[b]=c,("name"===b||"params"===b||"selector"===b)&&a.markDirty(),!0)}}index(a){return"number"==typeof a?a:(a.proxyOf&&(a=a.proxyOf),this.proxyOf.nodes.indexOf(a))}insertAfter(a,b){let c,d=this.index(a),e=this.normalize(b,this.proxyOf.nodes[d]).reverse();for(let b of(d=this.index(a),e))this.proxyOf.nodes.splice(d+1,0,b);for(let a in this.indexes)d<(c=this.indexes[a])&&(this.indexes[a]=c+e.length);return this.markDirty(),this}insertBefore(a,b){let c,d=this.index(a),e=0===d&&"prepend",f=this.normalize(b,this.proxyOf.nodes[d],e).reverse();for(let b of(d=this.index(a),f))this.proxyOf.nodes.splice(d,0,b);for(let a in this.indexes)d<=(c=this.indexes[a])&&(this.indexes[a]=c+f.length);return this.markDirty(),this}normalize(b,c){if("string"==typeof b)b=function a(b){return b.map(b=>(b.nodes&&(b.nodes=a(b.nodes)),delete b.source,b))}(d(b).nodes);else if(void 0===b)b=[];else if(Array.isArray(b))for(let a of b=b.slice(0))a.parent&&a.parent.removeChild(a,"ignore");else if("root"===b.type&&"document"!==this.type)for(let a of b=b.nodes.slice(0))a.parent&&a.parent.removeChild(a,"ignore");else if(b.type)b=[b];else if(b.prop){if(void 0===b.value)throw Error("Value field is missed in node creation");"string"!=typeof b.value&&(b.value=String(b.value)),b=[new aP(b)]}else if(b.selector)b=[new e(b)];else if(b.name)b=[new f(b)];else if(b.text)b=[new bh(b)];else throw Error("Unknown node type in node creation");return b.map(b=>(b[bj]||a.rebuild(b),(b=b.proxyOf).parent&&b.parent.removeChild(b),b[bi]&&function a(b){if(b[bi]=!1,b.proxyOf.nodes)for(let c of b.proxyOf.nodes)a(c)}(b),void 0===b.raws.before&&c&&void 0!==c.raws.before&&(b.raws.before=c.raws.before.replace(/\S/g,"")),b.parent=this.proxyOf,b))}prepend(...a){for(let b of a=a.reverse()){let a=this.normalize(b,this.first,"prepend").reverse();for(let b of a)this.proxyOf.nodes.unshift(b);for(let b in this.indexes)this.indexes[b]=this.indexes[b]+a.length}return this.markDirty(),this}push(a){return a.parent=this,this.proxyOf.nodes.push(a),this}removeAll(){for(let a of this.proxyOf.nodes)a.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(a){let b;for(let c in a=this.index(a),this.proxyOf.nodes[a].parent=void 0,this.proxyOf.nodes.splice(a,1),this.indexes)(b=this.indexes[c])>=a&&(this.indexes[c]=b-1);return this.markDirty(),this}replaceValues(a,b,c){return c||(c=b,b={}),this.walkDecls(d=>{b.props&&!b.props.includes(d.prop)||(!b.fast||d.value.includes(b.fast))&&(d.value=d.value.replace(a,c))}),this.markDirty(),this}some(a){return this.nodes.some(a)}walk(a){return this.each((b,c)=>{let d;try{d=a(b,c)}catch(a){throw b.addToError(a)}return!1!==d&&b.walk&&(d=b.walk(a)),d})}walkAtRules(a,b){return b?a instanceof RegExp?this.walk((c,d)=>{if("atrule"===c.type&&a.test(c.name))return b(c,d)}):this.walk((c,d)=>{if("atrule"===c.type&&c.name===a)return b(c,d)}):(b=a,this.walk((a,c)=>{if("atrule"===a.type)return b(a,c)}))}walkComments(a){return this.walk((b,c)=>{if("comment"===b.type)return a(b,c)})}walkDecls(a,b){return b?a instanceof RegExp?this.walk((c,d)=>{if("decl"===c.type&&a.test(c.prop))return b(c,d)}):this.walk((c,d)=>{if("decl"===c.type&&c.prop===a)return b(c,d)}):(b=a,this.walk((a,c)=>{if("decl"===a.type)return b(a,c)}))}walkRules(a,b){return b?a instanceof RegExp?this.walk((c,d)=>{if("rule"===c.type&&a.test(c.selector))return b(c,d)}):this.walk((c,d)=>{if("rule"===c.type&&c.selector===a)return b(c,d)}):(b=a,this.walk((a,c)=>{if("rule"===a.type)return b(a,c)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};bl.registerParse=a=>{d=a},bl.registerRule=a=>{e=a},bl.registerAtRule=a=>{f=a},bl.registerRoot=a=>{g=a},bl.default=bl,bl.rebuild=a=>{"atrule"===a.type?Object.setPrototypeOf(a,f.prototype):"rule"===a.type?Object.setPrototypeOf(a,e.prototype):"decl"===a.type?Object.setPrototypeOf(a,aP.prototype):"comment"===a.type?Object.setPrototypeOf(a,bh.prototype):"root"===a.type&&Object.setPrototypeOf(a,g.prototype),a[bj]=!0,a.nodes&&a.nodes.forEach(a=>{bl.rebuild(a)})};let bm=bl,bn=class extends bm{constructor(a){super({type:"document",...a}),this.nodes||(this.nodes=[])}toResult(a={}){return new h(new i,this,a).stringify()}};bn.registerLazyResult=a=>{h=a},bn.registerProcessor=a=>{i=a},bn.default=bn;let bo=class{constructor(a,b={}){if(this.type="warning",this.text=a,b.node&&b.node.source){let a=b.node.rangeBy(b);this.line=a.start.line,this.column=a.start.column,this.endLine=a.end.line,this.endColumn=a.end.column}for(let a in b)this[a]=b[a]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};bo.default=bo;let bp=class{constructor(a,b,c){this.processor=a,this.messages=[],this.root=b,this.opts=c,this.css=void 0,this.map=void 0}toString(){return this.css}warn(a,b={}){!b.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(b.plugin=this.lastPlugin.postcssPlugin);let c=new bo(a,b);return this.messages.push(c),c}warnings(){return this.messages.filter(a=>"warning"===a.type)}get content(){return this.css}};bp.default=bp;let bq=/[\t\n\f\r "#'()/;[\\\]{}]/g,br=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,bs=/.[\r\n"'(/\\]/,bt=/[\da-f]/i,bu=bl,bv=class extends bu{constructor(a){super(a),this.type="atrule"}append(...a){return this.proxyOf.nodes||(this.nodes=[]),super.append(...a)}prepend(...a){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...a)}};bv.default=bv,bu.registerAtRule(bv);let bw=bl,bx=class extends bw{constructor(a){super(a),this.type="root",this.nodes||(this.nodes=[])}normalize(a,b,c){let d=super.normalize(a);if(b){if("prepend"===c)this.nodes.length>1?b.raws.before=this.nodes[1].raws.before:delete b.raws.before;else if(this.first!==b)for(let a of d)a.raws.before=b.raws.before}return d}removeChild(a,b){let c=this.index(a);return!b&&0===c&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[c].raws.before),super.removeChild(a)}toResult(a={}){return new j(new k,this,a).stringify()}};bx.registerLazyResult=a=>{j=a},bx.registerProcessor=a=>{k=a},bx.default=bx,bw.registerRoot(bx);let by={comma:a=>by.split(a,[","],!0),space:a=>by.split(a,[" ","\n","	"]),split(a,b,c){let d=[],e="",f=!1,g=0,h=!1,i="",j=!1;for(let c of a)j?j=!1:"\\"===c?j=!0:h?c===i&&(h=!1):'"'===c||"'"===c?(h=!0,i=c):"("===c?g+=1:")"===c?g>0&&(g-=1):0===g&&b.includes(c)&&(f=!0),f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=c;return(c||""!==e)&&d.push(e.trim()),d}};by.default=by;let bz=bl,bA=class extends bz{constructor(a){super(a),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return by.comma(this.selector)}set selectors(a){let b=this.selector?this.selector.match(/,\s*/):null,c=b?b[0]:","+this.raw("between","beforeOpen");this.selector=a.join(c)}};bA.default=bA,bz.registerRule(bA);let bB=function(a,b={}){let c,d,e,f,g,h,i,j,k,l,m=a.css.valueOf(),n=b.ignoreErrors,o=m.length,p=0,q=[],r=[];function s(b){throw a.error("Unclosed "+b,p)}return{back:function(a){r.push(a)},endOfFile:function(){return 0===r.length&&p>=o},nextToken:function(a){if(r.length)return r.pop();if(p>=o)return;let b=!!a&&a.ignoreUnclosed;switch(c=m.charCodeAt(p)){case 10:case 32:case 9:case 13:case 12:d=p;do d+=1,c=m.charCodeAt(d);while(32===c||10===c||9===c||13===c||12===c)l=["space",m.slice(p,d)],p=d-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let a=String.fromCharCode(c);l=[a,a,p];break}case 40:if(j=q.length?q.pop()[1]:"",k=m.charCodeAt(p+1),"url"===j&&39!==k&&34!==k&&32!==k&&10!==k&&9!==k&&12!==k&&13!==k){d=p;do{if(h=!1,-1===(d=m.indexOf(")",d+1)))if(n||b){d=p;break}else s("bracket");for(i=d;92===m.charCodeAt(i-1);)i-=1,h=!h}while(h)l=["brackets",m.slice(p,d+1),p,d],p=d}else d=m.indexOf(")",p+1),f=m.slice(p,d+1),-1===d||bs.test(f)?l=["(","(",p]:(l=["brackets",f,p,d],p=d);break;case 39:case 34:e=39===c?"'":'"',d=p;do{if(h=!1,-1===(d=m.indexOf(e,d+1)))if(n||b){d=p+1;break}else s("string");for(i=d;92===m.charCodeAt(i-1);)i-=1,h=!h}while(h)l=["string",m.slice(p,d+1),p,d],p=d;break;case 64:bq.lastIndex=p+1,bq.test(m),d=0===bq.lastIndex?m.length-1:bq.lastIndex-2,l=["at-word",m.slice(p,d+1),p,d],p=d;break;case 92:for(d=p,g=!0;92===m.charCodeAt(d+1);)d+=1,g=!g;if(c=m.charCodeAt(d+1),g&&47!==c&&32!==c&&10!==c&&9!==c&&13!==c&&12!==c&&(d+=1,bt.test(m.charAt(d)))){for(;bt.test(m.charAt(d+1));)d+=1;32===m.charCodeAt(d+1)&&(d+=1)}l=["word",m.slice(p,d+1),p,d],p=d;break;default:47===c&&42===m.charCodeAt(p+1)?(0===(d=m.indexOf("*/",p+2)+1)&&(n||b?d=m.length:s("comment")),l=["comment",m.slice(p,d+1),p,d]):(br.lastIndex=p+1,br.test(m),d=0===br.lastIndex?m.length-1:br.lastIndex-2,l=["word",m.slice(p,d+1),p,d],q.push(l)),p=d}return p++,l},position:function(){return p}}},bC={empty:!0,space:!0},bD=class{constructor(a){this.input=a,this.root=new bx,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:a,start:{column:1,line:1,offset:0}}}atrule(a){let b,c,d,e=new bv;e.name=a[1].slice(1),""===e.name&&this.unnamedAtrule(e,a),this.init(e,a[2]);let f=!1,g=!1,h=[],i=[];for(;!this.tokenizer.endOfFile();){if("("===(b=(a=this.tokenizer.nextToken())[0])||"["===b?i.push("("===b?")":"]"):"{"===b&&i.length>0?i.push("}"):b===i[i.length-1]&&i.pop(),0===i.length)if(";"===b){e.source.end=this.getPosition(a[2]),e.source.end.offset++,this.semicolon=!0;break}else if("{"===b){g=!0;break}else if("}"===b){if(h.length>0){for(d=h.length-1,c=h[d];c&&"space"===c[0];)c=h[--d];c&&(e.source.end=this.getPosition(c[3]||c[2]),e.source.end.offset++)}this.end(a);break}else h.push(a);else h.push(a);if(this.tokenizer.endOfFile()){f=!0;break}}e.raws.between=this.spacesAndCommentsFromEnd(h),h.length?(e.raws.afterName=this.spacesAndCommentsFromStart(h),this.raw(e,"params",h),f&&(a=h[h.length-1],e.source.end=this.getPosition(a[3]||a[2]),e.source.end.offset++,this.spaces=e.raws.between,e.raws.between="")):(e.raws.afterName="",e.params=""),g&&(e.nodes=[],this.current=e)}checkMissedSemicolon(a){let b,c=this.colon(a);if(!1===c)return;let d=0;for(let e=c-1;e>=0&&("space"===(b=a[e])[0]||2!==(d+=1));e--);throw this.input.error("Missed semicolon","word"===b[0]?b[3]+1:b[2])}colon(a){let b,c,d=0;for(let[e,f]of a.entries()){if("("===(b=f[0])&&(d+=1),")"===b&&(d-=1),0===d&&":"===b)if(c)if("word"===c[0]&&"progid"===c[1])continue;else return e;else this.doubleColon(f);c=f}return!1}comment(a){let b=new bh;this.init(b,a[2]),b.source.end=this.getPosition(a[3]||a[2]),b.source.end.offset++;let c=a[1].slice(2,-2);if(/^\s*$/.test(c))b.text="",b.raws.left=c,b.raws.right="";else{let a=c.match(/^(\s*)([^]*\S)(\s*)$/);b.text=a[2],b.raws.left=a[1],b.raws.right=a[3]}}createTokenizer(){this.tokenizer=bB(this.input)}decl(a,b){let c,d,e=new aP;this.init(e,a[0][2]);let f=a[a.length-1];for(";"===f[0]&&(this.semicolon=!0,a.pop()),e.source.end=this.getPosition(f[3]||f[2]||function(a){for(let b=a.length-1;b>=0;b--){let c=a[b],d=c[3]||c[2];if(d)return d}}(a)),e.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),e.raws.before+=a.shift()[1];for(e.source.start=this.getPosition(a[0][2]),e.prop="";a.length;){let b=a[0][0];if(":"===b||"space"===b||"comment"===b)break;e.prop+=a.shift()[1]}for(e.raws.between="";a.length;){if(":"===(c=a.shift())[0]){e.raws.between+=c[1];break}"word"===c[0]&&/\w/.test(c[1])&&this.unknownWord([c]),e.raws.between+=c[1]}("_"===e.prop[0]||"*"===e.prop[0])&&(e.raws.before+=e.prop[0],e.prop=e.prop.slice(1));let g=[];for(;a.length&&("space"===(d=a[0][0])||"comment"===d);)g.push(a.shift());this.precheckMissedSemicolon(a);for(let b=a.length-1;b>=0;b--){if("!important"===(c=a[b])[1].toLowerCase()){e.important=!0;let c=this.stringFrom(a,b);" !important"!==(c=this.spacesFromEnd(a)+c)&&(e.raws.important=c);break}if("important"===c[1].toLowerCase()){let c=a.slice(0),d="";for(let a=b;a>0;a--){let b=c[a][0];if(0===d.trim().indexOf("!")&&"space"!==b)break;d=c.pop()[1]+d}0===d.trim().indexOf("!")&&(e.important=!0,e.raws.important=d,a=c)}if("space"!==c[0]&&"comment"!==c[0])break}a.some(a=>"space"!==a[0]&&"comment"!==a[0])&&(e.raws.between+=g.map(a=>a[1]).join(""),g=[]),this.raw(e,"value",g.concat(a),b),e.value.includes(":")&&!b&&this.checkMissedSemicolon(a)}doubleColon(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length})}emptyRule(a){let b=new bA;this.init(b,a[2]),b.selector="",b.raws.between="",this.current=b}end(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(a){if(this.spaces+=a[1],this.current.nodes){let a=this.current.nodes[this.current.nodes.length-1];a&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(a){let b=this.input.fromOffset(a);return{column:b.col,line:b.line,offset:a}}init(a,b){this.current.push(a),a.source={input:this.input,start:this.getPosition(b)},a.raws.before=this.spaces,this.spaces="","comment"!==a.type&&(this.semicolon=!1)}other(a){let b=!1,c=null,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],i=a;for(;i;){if(c=i[0],h.push(i),"("===c||"["===c)e||(e=i),f.push("("===c?")":"]");else if(g&&d&&"{"===c)e||(e=i),f.push("}");else if(0===f.length)if(";"===c)if(d)return void this.decl(h,g);else break;else if("{"===c)return void this.rule(h);else if("}"===c){this.tokenizer.back(h.pop()),b=!0;break}else":"===c&&(d=!0);else c===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));i=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(b=!0),f.length>0&&this.unclosedBracket(e),b&&d){if(!g)for(;h.length&&("space"===(i=h[h.length-1][0])||"comment"===i);)this.tokenizer.back(h.pop());this.decl(h,g)}else this.unknownWord(h)}parse(){let a;for(;!this.tokenizer.endOfFile();)switch((a=this.tokenizer.nextToken())[0]){case"space":this.spaces+=a[1];break;case";":this.freeSemicolon(a);break;case"}":this.end(a);break;case"comment":this.comment(a);break;case"at-word":this.atrule(a);break;case"{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}precheckMissedSemicolon(){}raw(a,b,c,d){let e,f,g,h,i=c.length,j="",k=!0;for(let a=0;a<i;a+=1)"space"!==(f=(e=c[a])[0])||a!==i-1||d?"comment"===f?(h=c[a-1]?c[a-1][0]:"empty",g=c[a+1]?c[a+1][0]:"empty",bC[h]||bC[g]||","===j.slice(-1)?k=!1:j+=e[1]):j+=e[1]:k=!1;if(!k){let d=c.reduce((a,b)=>a+b[1],"");a.raws[b]={raw:d,value:j}}a[b]=j}rule(a){a.pop();let b=new bA;this.init(b,a[0][2]),b.raws.between=this.spacesAndCommentsFromEnd(a),this.raw(b,"selector",a),this.current=b}spacesAndCommentsFromEnd(a){let b,c="";for(;a.length&&("space"===(b=a[a.length-1][0])||"comment"===b);)c=a.pop()[1]+c;return c}spacesAndCommentsFromStart(a){let b,c="";for(;a.length&&("space"===(b=a[0][0])||"comment"===b);)c+=a.shift()[1];return c}spacesFromEnd(a){let b="";for(;a.length&&"space"===a[a.length-1][0];)b=a.pop()[1]+b;return b}stringFrom(a,b){let c="";for(let d=b;d<a.length;d++)c+=a[d][1];return a.splice(b,a.length-b),c}unclosedBlock(){let a=this.current.source.start;throw this.input.error("Unclosed block",a.line,a.column)}unclosedBracket(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1})}unexpectedClose(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1})}unknownWord(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length})}unnamedAtrule(a,b){throw this.input.error("At-rule without name",{offset:b[2]},{offset:b[2]+b[1].length})}};function bE(a,b){let c=new bD(new a5(a,b));try{c.parse()}catch(a){throw a}return c.root}bE.default=bE,bl.registerParse(bE);let{isClean:bF,my:bG}=aH,bH={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},bI={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},bJ={Once:!0,postcssPlugin:!0,prepare:!0};function bK(a){return"object"==typeof a&&"function"==typeof a.then}function bL(a){let b=!1,c=bH[a.type];return("decl"===a.type?b=a.prop.toLowerCase():"atrule"===a.type&&(b=a.name.toLowerCase()),b&&a.append)?[c,c+"-"+b,0,c+"Exit",c+"Exit-"+b]:b?[c,c+"-"+b,c+"Exit",c+"Exit-"+b]:a.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function bM(a){return{eventIndex:0,events:"document"===a.type?["Document",0,"DocumentExit"]:"root"===a.type?["Root",0,"RootExit"]:bL(a),iterator:0,node:a,visitorIndex:0,visitors:[]}}function bN(a){return a[bF]=!1,a.nodes&&a.nodes.forEach(a=>bN(a)),a}let bO={},bP=class a{constructor(b,c,d){let e;if(this.stringified=!1,this.processed=!1,"object"==typeof c&&null!==c&&("root"===c.type||"document"===c.type))e=bN(c);else if(c instanceof a||c instanceof bp)e=bN(c.root),c.map&&(void 0===d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map);else{let a=bE;d.syntax&&(a=d.syntax.parse),d.parser&&(a=d.parser),a.parse&&(a=a.parse);try{e=a(c,d)}catch(a){this.processed=!0,this.error=a}e&&!e[bG]&&bl.rebuild(e)}this.result=new bp(b,e,d),this.helpers={...bO,postcss:bO,result:this.result},this.plugins=this.processor.plugins.map(a=>"object"==typeof a&&a.prepare?{...a,...a.prepare(this.result)}:a)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(a){return this.async().catch(a)}finally(a){return this.async().then(a,a)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(a,b){let c=this.result.lastPlugin;try{b&&b.addToError(a),this.error=a,"CssSyntaxError"!==a.name||a.plugin?c.postcssVersion:(a.plugin=c.postcssPlugin,a.setMessage())}catch(a){console&&console.error&&console.error(a)}return a}prepareVisitors(){this.listeners={};let a=(a,b,c)=>{this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push([a,c])};for(let b of this.plugins)if("object"==typeof b)for(let c in b){if(!bI[c]&&/^[A-Z]/.test(c))throw Error(`Unknown event ${c} in ${b.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!bJ[c])if("object"==typeof b[c])for(let d in b[c])a(b,"*"===d?c:c+"-"+d.toLowerCase(),b[c][d]);else"function"==typeof b[c]&&a(b,c,b[c])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let a=0;a<this.plugins.length;a++){let b=this.plugins[a],c=this.runOnRoot(b);if(bK(c))try{await c}catch(a){throw this.handleError(a)}}if(this.prepareVisitors(),this.hasListener){let a=this.result.root;for(;!a[bF];){a[bF]=!0;let b=[bM(a)];for(;b.length>0;){let a=this.visitTick(b);if(bK(a))try{await a}catch(c){let a=b[b.length-1].node;throw this.handleError(c,a)}}}if(this.listeners.OnceExit)for(let[b,c]of this.listeners.OnceExit){this.result.lastPlugin=b;try{if("document"===a.type){let b=a.nodes.map(a=>c(a,this.helpers));await Promise.all(b)}else await c(a,this.helpers)}catch(a){throw this.handleError(a)}}}return this.processed=!0,this.stringify()}runOnRoot(a){this.result.lastPlugin=a;try{if("object"==typeof a&&a.Once){if("document"===this.result.root.type){let b=this.result.root.nodes.map(b=>a.Once(b,this.helpers));if(bK(b[0]))return Promise.all(b);return b}return a.Once(this.result.root,this.helpers)}if("function"==typeof a)return a(this.result.root,this.result)}catch(a){throw this.handleError(a)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let a=this.result.opts,b=aK;a.syntax&&(b=a.syntax.stringify),a.stringifier&&(b=a.stringifier),b.stringify&&(b=b.stringify);let c=new bf(b,this.result.root,this.result.opts).generate();return this.result.css=c[0],this.result.map=c[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let a of this.plugins)if(bK(this.runOnRoot(a)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let a=this.result.root;for(;!a[bF];)a[bF]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type)for(let b of a.nodes)this.visitSync(this.listeners.OnceExit,b);else this.visitSync(this.listeners.OnceExit,a)}return this.result}then(a,b){return this.async().then(a,b)}toString(){return this.css}visitSync(a,b){for(let[c,d]of a){let a;this.result.lastPlugin=c;try{a=d(b,this.helpers)}catch(a){throw this.handleError(a,b.proxyOf)}if("root"!==b.type&&"document"!==b.type&&!b.parent)return!0;if(bK(a))throw this.getAsyncError()}}visitTick(a){let b=a[a.length-1],{node:c,visitors:d}=b;if("root"!==c.type&&"document"!==c.type&&!c.parent)return void a.pop();if(d.length>0&&b.visitorIndex<d.length){let[a,e]=d[b.visitorIndex];b.visitorIndex+=1,b.visitorIndex===d.length&&(b.visitors=[],b.visitorIndex=0),this.result.lastPlugin=a;try{return e(c.toProxy(),this.helpers)}catch(a){throw this.handleError(a,c)}}if(0!==b.iterator){let d,e=b.iterator;for(;d=c.nodes[c.indexes[e]];)if(c.indexes[e]+=1,!d[bF]){d[bF]=!0,a.push(bM(d));return}b.iterator=0,delete c.indexes[e]}let e=b.events;for(;b.eventIndex<e.length;){let a=e[b.eventIndex];if(b.eventIndex+=1,0===a){c.nodes&&c.nodes.length&&(c[bF]=!0,b.iterator=c.getIterator());return}if(this.listeners[a]){b.visitors=this.listeners[a];return}}a.pop()}walkSync(a){for(let b of(a[bF]=!0,bL(a)))if(0===b)a.nodes&&a.each(a=>{a[bF]||this.walkSync(a)});else{let c=this.listeners[b];if(c&&this.visitSync(c,a.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};bP.registerPostcss=a=>{bO=a},bP.default=bP,bx.registerLazyResult(bP),bn.registerLazyResult(bP);let bQ=class{constructor(a,b,c){let d;b=b.toString(),this.stringified=!1,this._processor=a,this._css=b,this._opts=c,this._map=void 0,this.result=new bp(this._processor,d,this._opts),this.result.css=b;let e=this;Object.defineProperty(this.result,"root",{get:()=>e.root});let f=new bf(aK,d,this._opts,b);if(f.isMap()){let[a,b]=f.generate();a&&(this.result.css=a),b&&(this.result.map=b)}else f.clearAnnotation(),this.result.css=f.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(a){return this.async().catch(a)}finally(a){return this.async().then(a,a)}sync(){if(this.error)throw this.error;return this.result}then(a,b){return this.async().then(a,b)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){let a;if(this._root)return this._root;try{a=bE(this._css,this._opts)}catch(a){this.error=a}if(!this.error)return this._root=a,a;throw this.error}get[Symbol.toStringTag](){return"NoWorkResult"}};bQ.default=bQ;let bR=class{constructor(a=[]){this.version="8.4.38",this.plugins=this.normalize(a)}normalize(a){let b=[];for(let c of a)if(!0===c.postcss?c=c():c.postcss&&(c=c.postcss),"object"==typeof c&&Array.isArray(c.plugins))b=b.concat(c.plugins);else if("object"==typeof c&&c.postcssPlugin)b.push(c);else if("function"==typeof c)b.push(c);else if("object"==typeof c&&(c.parse||c.stringify));else throw Error(c+" is not a PostCSS plugin");return b}process(a,b={}){return this.plugins.length||b.parser||b.stringifier||b.syntax?new bP(this,a,b):new bQ(this,a,b)}use(a){return this.plugins=this.plugins.concat(this.normalize([a])),this}};function bS(a,b){if(Array.isArray(a))return a.map(a=>bS(a));let{inputs:c,...d}=a;if(c)for(let a of(b=[],c)){let c={...a,__proto__:a5.prototype};c.map&&(c.map={...c.map,__proto__:aW.prototype}),b.push(c)}if(d.nodes&&(d.nodes=a.nodes.map(a=>bS(a,b))),d.source){let{inputId:a,...c}=d.source;d.source=c,null!=a&&(d.source.input=b[a])}if("root"===d.type)return new bx(d);if("decl"===d.type)return new aP(d);if("rule"===d.type)return new bA(d);if("comment"===d.type)return new bh(d);if("atrule"===d.type)return new bv(d);else throw Error("Unknown node type: "+a.type)}function bT(...a){return 1===a.length&&Array.isArray(a[0])&&(a=a[0]),new bR(a)}bR.default=bR,bx.registerProcessor(bR),bn.registerProcessor(bR),bS.default=bS,bT.plugin=function(a,b){let c,d=!1;function e(...c){console&&console.warn&&!d&&(d=!0,console.warn(a+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(a+": éé¢ postcss.plugin è¢«å¼ç¨. è¿ç§»æå:\nhttps://www.w3ctech.com/topic/2226"));let f=b(...c);return f.postcssPlugin=a,f.postcssVersion=new bR().version,f}return Object.defineProperty(e,"postcss",{get:()=>(c||(c=e()),c)}),e.process=function(a,b,c){return bT([e(c)]).process(a,b)},e},bT.stringify=aK,bT.parse=bE,bT.fromJSON=bS,bT.list=by,bT.comment=a=>new bh(a),bT.atRule=a=>new bv(a),bT.decl=a=>new aP(a),bT.rule=a=>new bA(a),bT.root=a=>new bx(a),bT.document=a=>new bn(a),bT.CssSyntaxError=aG,bT.Declaration=aP,bT.Container=bl,bT.Processor=bR,bT.Document=bn,bT.Comment=bh,bT.Warning=bo,bT.AtRule=bv,bT.Result=bp,bT.Input=a5,bT.Rule=bA,bT.Root=bx,bT.Node=aN,bP.registerPostcss(bT),bT.default=bT;let bU=bT&&bT.__esModule&&Object.prototype.hasOwnProperty.call(bT,"default")?bT.default:bT;bU.stringify,bU.fromJSON,bU.plugin,bU.parse,bU.list,bU.document,bU.comment,bU.atRule,bU.rule,bU.decl,bU.root,bU.CssSyntaxError,bU.Declaration,bU.Container,bU.Processor,bU.Document,bU.Comment,bU.Warning,bU.AtRule,bU.Result,bU.Input,bU.Rule,bU.Root,bU.Node;var bV=Object.defineProperty,bW=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?bV(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c},bX={exports:{}},bY=String,bZ=function(){return{isColorSupported:!1,reset:bY,bold:bY,dim:bY,italic:bY,underline:bY,inverse:bY,hidden:bY,strikethrough:bY,black:bY,red:bY,green:bY,yellow:bY,blue:bY,magenta:bY,cyan:bY,white:bY,gray:bY,bgBlack:bY,bgRed:bY,bgGreen:bY,bgYellow:bY,bgBlue:bY,bgMagenta:bY,bgCyan:bY,bgWhite:bY}};bX.exports=bZ(),bX.exports.createColors=bZ;var b$=bX.exports;let b_=function(a){if(a.__esModule)return a;var b=a.default;if("function"==typeof b){var c=function a(){return this instanceof a?Reflect.construct(b,arguments,this.constructor):b.apply(this,arguments)};c.prototype=b.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(a).forEach(function(b){var d=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,d.get?d:{enumerable:!0,get:function(){return a[b]}})}),c}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),b0=class a extends Error{constructor(b,c,d,e,f,g){super(b),this.name="CssSyntaxError",this.reason=b,f&&(this.file=f),e&&(this.source=e),g&&(this.plugin=g),void 0!==c&&void 0!==d&&("number"==typeof c?(this.line=c,this.column=d):(this.line=c.line,this.column=c.column,this.endLine=d.line,this.endColumn=d.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,a)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(a){let b,c;if(!this.source)return"";let d=this.source;null==a&&(a=b$.isColorSupported),b_&&a&&(d=b_(d));let e=d.split(/\r?\n/),f=Math.max(this.line-3,0),g=Math.min(this.line+2,e.length),h=String(g).length;if(a){let{bold:a,gray:d,red:e}=b$.createColors(!0);b=b=>a(e(b)),c=a=>d(a)}else b=c=a=>a;return e.slice(f,g).map((a,d)=>{let e=f+1+d,g=" "+(" "+e).slice(-h)+" | ";if(e===this.line){let d=c(g.replace(/\d/g," "))+a.slice(0,this.column-1).replace(/[^\t]/g," ");return b(">")+c(g)+a+"\n "+d+b("^")}return" "+c(g)+a}).join("\n")}toString(){let a=this.showSourceCode();return a&&(a="\n\n"+a+"\n"),this.name+": "+this.message+a}};b0.default=b0;var b1={};b1.isClean=Symbol("isClean"),b1.my=Symbol("my");let b2={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},b3=class{constructor(a){this.builder=a}atrule(a,b){let c="@"+a.name,d=a.params?this.rawValue(a,"params"):"";if(void 0!==a.raws.afterName?c+=a.raws.afterName:d&&(c+=" "),a.nodes)this.block(a,c+d);else{let e=(a.raws.between||"")+(b?";":"");this.builder(c+d+e,a)}}beforeAfter(a,b){let c;c="decl"===a.type?this.raw(a,null,"beforeDecl"):"comment"===a.type?this.raw(a,null,"beforeComment"):"before"===b?this.raw(a,null,"beforeRule"):this.raw(a,null,"beforeClose");let d=a.parent,e=0;for(;d&&"root"!==d.type;)e+=1,d=d.parent;if(c.includes("\n")){let b=this.raw(a,null,"indent");if(b.length)for(let a=0;a<e;a++)c+=b}return c}block(a,b){let c,d=this.raw(a,"between","beforeOpen");this.builder(b+d+"{",a,"start"),a.nodes&&a.nodes.length?(this.body(a),c=this.raw(a,"after")):c=this.raw(a,"after","emptyBody"),c&&this.builder(c),this.builder("}",a,"end")}body(a){let b=a.nodes.length-1;for(;b>0&&"comment"===a.nodes[b].type;)b-=1;let c=this.raw(a,"semicolon");for(let d=0;d<a.nodes.length;d++){let e=a.nodes[d],f=this.raw(e,"before");f&&this.builder(f),this.stringify(e,b!==d||c)}}comment(a){let b=this.raw(a,"left","commentLeft"),c=this.raw(a,"right","commentRight");this.builder("/*"+b+a.text+c+"*/",a)}decl(a,b){let c=this.raw(a,"between","colon"),d=a.prop+c+this.rawValue(a,"value");a.important&&(d+=a.raws.important||" !important"),b&&(d+=";"),this.builder(d,a)}document(a){this.body(a)}raw(a,b,c){let d;if(c||(c=b),b&&void 0!==(d=a.raws[b]))return d;let e=a.parent;if("before"===c&&(!e||"root"===e.type&&e.first===a||e&&"document"===e.type))return"";if(!e)return b2[c];let f=a.root();if(f.rawCache||(f.rawCache={}),void 0!==f.rawCache[c])return f.rawCache[c];if("before"===c||"after"===c)return this.beforeAfter(a,c);{var g;let e="raw"+((g=c)[0].toUpperCase()+g.slice(1));this[e]?d=this[e](f,a):f.walk(a=>{if(void 0!==(d=a.raws[b]))return!1})}return void 0===d&&(d=b2[c]),f.rawCache[c]=d,d}rawBeforeClose(a){let b;return a.walk(a=>{if(a.nodes&&a.nodes.length>0&&void 0!==a.raws.after)return(b=a.raws.after).includes("\n")&&(b=b.replace(/[^\n]+$/,"")),!1}),b&&(b=b.replace(/\S/g,"")),b}rawBeforeComment(a,b){let c;return a.walkComments(a=>{if(void 0!==a.raws.before)return(c=a.raws.before).includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1}),void 0===c?c=this.raw(b,null,"beforeDecl"):c&&(c=c.replace(/\S/g,"")),c}rawBeforeDecl(a,b){let c;return a.walkDecls(a=>{if(void 0!==a.raws.before)return(c=a.raws.before).includes("\n")&&(c=c.replace(/[^\n]+$/,"")),!1}),void 0===c?c=this.raw(b,null,"beforeRule"):c&&(c=c.replace(/\S/g,"")),c}rawBeforeOpen(a){let b;return a.walk(a=>{if("decl"!==a.type&&void 0!==(b=a.raws.between))return!1}),b}rawBeforeRule(a){let b;return a.walk(c=>{if(c.nodes&&(c.parent!==a||a.first!==c)&&void 0!==c.raws.before)return(b=c.raws.before).includes("\n")&&(b=b.replace(/[^\n]+$/,"")),!1}),b&&(b=b.replace(/\S/g,"")),b}rawColon(a){let b;return a.walkDecls(a=>{if(void 0!==a.raws.between)return b=a.raws.between.replace(/[^\s:]/g,""),!1}),b}rawEmptyBody(a){let b;return a.walk(a=>{if(a.nodes&&0===a.nodes.length&&void 0!==(b=a.raws.after))return!1}),b}rawIndent(a){let b;return a.raws.indent?a.raws.indent:(a.walk(c=>{let d=c.parent;if(d&&d!==a&&d.parent&&d.parent===a&&void 0!==c.raws.before){let a=c.raws.before.split("\n");return b=(b=a[a.length-1]).replace(/\S/g,""),!1}}),b)}rawSemicolon(a){let b;return a.walk(a=>{if(a.nodes&&a.nodes.length&&"decl"===a.last.type&&void 0!==(b=a.raws.semicolon))return!1}),b}rawValue(a,b){let c=a[b],d=a.raws[b];return d&&d.value===c?d.raw:c}root(a){this.body(a),a.raws.after&&this.builder(a.raws.after)}rule(a){this.block(a,this.rawValue(a,"selector")),a.raws.ownSemicolon&&this.builder(a.raws.ownSemicolon,a,"end")}stringify(a,b){if(!this[a.type])throw Error("Unknown AST node type "+a.type+". Maybe you need to change PostCSS stringifier.");this[a.type](a,b)}};function b4(a,b){new b3(b).stringify(a)}b3.default=b3,b4.default=b4;let{isClean:b5,my:b6}=b1,b7=class{constructor(a={}){for(let b in this.raws={},this[b5]=!1,this[b6]=!0,a)if("nodes"===b)for(let c of(this.nodes=[],a[b]))"function"==typeof c.clone?this.append(c.clone()):this.append(c);else this[b]=a[b]}addToError(a){if(a.postcssNode=this,a.stack&&this.source&&/\n\s{4}at /.test(a.stack)){let b=this.source;a.stack=a.stack.replace(/\n\s{4}at /,`$&${b.input.from}:${b.start.line}:${b.start.column}$&`)}return a}after(a){return this.parent.insertAfter(this,a),this}assign(a={}){for(let b in a)this[b]=a[b];return this}before(a){return this.parent.insertBefore(this,a),this}cleanRaws(a){delete this.raws.before,delete this.raws.after,a||delete this.raws.between}clone(a={}){let b=function a(b,c){let d=new b.constructor;for(let e in b){if(!Object.prototype.hasOwnProperty.call(b,e)||"proxyCache"===e)continue;let f=b[e],g=typeof f;"parent"===e&&"object"===g?c&&(d[e]=c):"source"===e?d[e]=f:Array.isArray(f)?d[e]=f.map(b=>a(b,d)):("object"===g&&null!==f&&(f=a(f)),d[e]=f)}return d}(this);for(let c in a)b[c]=a[c];return b}cloneAfter(a={}){let b=this.clone(a);return this.parent.insertAfter(this,b),b}cloneBefore(a={}){let b=this.clone(a);return this.parent.insertBefore(this,b),b}error(a,b={}){if(this.source){let{end:c,start:d}=this.rangeBy(b);return this.source.input.error(a,{column:d.column,line:d.line},{column:c.column,line:c.line},b)}return new b0(a)}getProxyProcessor(){return{get:(a,b)=>"proxyOf"===b?a:"root"===b?()=>a.root().toProxy():a[b],set:(a,b,c)=>a[b]===c||(a[b]=c,("prop"===b||"value"===b||"name"===b||"params"===b||"important"===b||"text"===b)&&a.markDirty(),!0)}}markDirty(){if(this[b5]){this[b5]=!1;let a=this;for(;a=a.parent;)a[b5]=!1}}next(){if(!this.parent)return;let a=this.parent.index(this);return this.parent.nodes[a+1]}positionBy(a,b){let c=this.source.start;if(a.index)c=this.positionInside(a.index,b);else if(a.word){let d=(b=this.toString()).indexOf(a.word);-1!==d&&(c=this.positionInside(d,b))}return c}positionInside(a,b){let c=b||this.toString(),d=this.source.start.column,e=this.source.start.line;for(let b=0;b<a;b++)"\n"===c[b]?(d=1,e+=1):d+=1;return{column:d,line:e}}prev(){if(!this.parent)return;let a=this.parent.index(this);return this.parent.nodes[a-1]}rangeBy(a){let b={column:this.source.start.column,line:this.source.start.line},c=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:b.column+1,line:b.line};if(a.word){let d=this.toString(),e=d.indexOf(a.word);-1!==e&&(b=this.positionInside(e,d),c=this.positionInside(e+a.word.length,d))}else a.start?b={column:a.start.column,line:a.start.line}:a.index&&(b=this.positionInside(a.index)),a.end?c={column:a.end.column,line:a.end.line}:"number"==typeof a.endIndex?c=this.positionInside(a.endIndex):a.index&&(c=this.positionInside(a.index+1));return(c.line<b.line||c.line===b.line&&c.column<=b.column)&&(c={column:b.column+1,line:b.line}),{end:c,start:b}}raw(a,b){return new b3().raw(this,a,b)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...a){if(this.parent){let b=this,c=!1;for(let d of a)d===this?c=!0:c?(this.parent.insertAfter(b,d),b=d):this.parent.insertBefore(b,d);c||this.remove()}return this}root(){let a=this;for(;a.parent&&"document"!==a.parent.type;)a=a.parent;return a}toJSON(a,b){let c={},d=null==b;b=b||new Map;let e=0;for(let a in this){if(!Object.prototype.hasOwnProperty.call(this,a)||"parent"===a||"proxyCache"===a)continue;let d=this[a];if(Array.isArray(d))c[a]=d.map(a=>"object"==typeof a&&a.toJSON?a.toJSON(null,b):a);else if("object"==typeof d&&d.toJSON)c[a]=d.toJSON(null,b);else if("source"===a){let f=b.get(d.input);null==f&&(f=e,b.set(d.input,e),e++),c[a]={end:d.end,inputId:f,start:d.start}}else c[a]=d}return d&&(c.inputs=[...b.keys()].map(a=>a.toJSON())),c}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(a=b4){a.stringify&&(a=a.stringify);let b="";return a(this,a=>{b+=a}),b}warn(a,b,c){let d={node:this};for(let a in c)d[a]=c[a];return a.warn(b,d)}get proxyOf(){return this}};b7.default=b7;let b8=b7,b9=class extends b8{constructor(a){a&&void 0!==a.value&&"string"!=typeof a.value&&(a={...a,value:String(a.value)}),super(a),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}};b9.default=b9;let{SourceMapConsumer:ca,SourceMapGenerator:cb}=b_,{existsSync:cc,readFileSync:cd}=b_,{dirname:ce,join:cf}=b_,cg=class{constructor(a,b){if(!1===b.map)return;this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:");let c=b.map?b.map.prev:void 0,d=this.loadMap(b.from,c);!this.mapFile&&b.from&&(this.mapFile=b.from),this.mapFile&&(this.root=ce(this.mapFile)),d&&(this.text=d)}consumer(){return this.consumerCache||(this.consumerCache=new ca(this.text)),this.consumerCache}decodeInline(a){if(/^data:application\/json;charset=utf-?8,/.test(a)||/^data:application\/json,/.test(a))return decodeURIComponent(a.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(a)||/^data:application\/json;base64,/.test(a)){var b;return b=a.substr(RegExp.lastMatch.length),Buffer.from(b,"base64").toString()}throw Error("Unsupported source map encoding "+a.match(/data:application\/json;([^,]+),/)[1])}getAnnotationURL(a){return a.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(a){return"object"==typeof a&&("string"==typeof a.mappings||"string"==typeof a._mappings||Array.isArray(a.sections))}loadAnnotation(a){let b=a.match(/\/\*\s*# sourceMappingURL=/gm);if(!b)return;let c=a.lastIndexOf(b.pop()),d=a.indexOf("*/",c);c>-1&&d>-1&&(this.annotation=this.getAnnotationURL(a.substring(c,d)))}loadFile(a){if(this.root=ce(a),cc(a))return this.mapFile=a,cd(a,"utf-8").toString().trim()}loadMap(a,b){if(!1===b)return!1;if(b)if("string"==typeof b)return b;else if("function"==typeof b){let c=b(a);if(c){let a=this.loadFile(c);if(!a)throw Error("Unable to load previous source map: "+c.toString());return a}}else if(b instanceof ca)return cb.fromSourceMap(b).toString();else if(b instanceof cb)return b.toString();else if(this.isMap(b))return JSON.stringify(b);else throw Error("Unsupported previous source map format: "+b.toString());else if(this.inline)return this.decodeInline(this.annotation);else if(this.annotation){let b=this.annotation;return a&&(b=cf(ce(a),b)),this.loadFile(b)}}startWith(a,b){return!!a&&a.substr(0,b.length)===b}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};cg.default=cg;let{SourceMapConsumer:ch,SourceMapGenerator:ci}=b_,{fileURLToPath:cj,pathToFileURL:ck}=b_,{isAbsolute:cl,resolve:cm}=b_,{nanoid:cn}={nanoid:(a=21)=>{let b="",c=a;for(;c--;)b+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return b},customAlphabet:(a,b=21)=>(c=b)=>{let d="",e=c;for(;e--;)d+=a[Math.random()*a.length|0];return d}},co=Symbol("fromOffsetCache"),cp=!!(ch&&ci),cq=!!(cm&&cl),cr=class{constructor(a,b={}){if(null==a||"object"==typeof a&&!a.toString)throw Error(`PostCSS received ${a} instead of CSS string`);if(this.css=a.toString(),"\uFEFF"===this.css[0]||"ï¿¾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,b.from&&(!cq||/^\w+:\/\//.test(b.from)||cl(b.from)?this.file=b.from:this.file=cm(b.from)),cq&&cp){let a=new cg(this.css,b);if(a.text){this.map=a;let b=a.consumer().file;!this.file&&b&&(this.file=this.mapResolve(b))}}this.file||(this.id="<input css "+cn(6)+">"),this.map&&(this.map.file=this.from)}error(a,b,c,d={}){let e,f,g;if(b&&"object"==typeof b){let a=b,d=c;if("number"==typeof a.offset){let d=this.fromOffset(a.offset);b=d.line,c=d.col}else b=a.line,c=a.column;if("number"==typeof d.offset){let a=this.fromOffset(d.offset);f=a.line,g=a.col}else f=d.line,g=d.column}else if(!c){let a=this.fromOffset(b);b=a.line,c=a.col}let h=this.origin(b,c,f,g);return(e=h?new b0(a,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,d.plugin):new b0(a,void 0===f?b:{column:c,line:b},void 0===f?c:{column:g,line:f},this.css,this.file,d.plugin)).input={column:c,endColumn:g,endLine:f,line:b,source:this.css},this.file&&(ck&&(e.input.url=ck(this.file).toString()),e.input.file=this.file),e}fromOffset(a){let b,c;if(this[co])c=this[co];else{let a=this.css.split("\n");c=Array(a.length);let b=0;for(let d=0,e=a.length;d<e;d++)c[d]=b,b+=a[d].length+1;this[co]=c}b=c[c.length-1];let d=0;if(a>=b)d=c.length-1;else{let b,e=c.length-2;for(;d<e;)if(a<c[b=d+(e-d>>1)])e=b-1;else if(a>=c[b+1])d=b+1;else{d=b;break}}return{col:a-c[d]+1,line:d+1}}mapResolve(a){return/^\w+:\/\//.test(a)?a:cm(this.map.consumer().sourceRoot||this.map.root||".",a)}origin(a,b,c,d){let e,f;if(!this.map)return!1;let g=this.map.consumer(),h=g.originalPositionFor({column:b,line:a});if(!h.source)return!1;"number"==typeof c&&(e=g.originalPositionFor({column:d,line:c})),f=cl(h.source)?ck(h.source):new URL(h.source,this.map.consumer().sourceRoot||ck(this.map.mapFile));let i={column:h.column,endColumn:e&&e.column,endLine:e&&e.line,line:h.line,url:f.toString()};if("file:"===f.protocol)if(cj)i.file=cj(f);else throw Error("file: protocol is not available in this PostCSS build");let j=g.sourceContentFor(h.source);return j&&(i.source=j),i}toJSON(){let a={};for(let b of["hasBOM","css","file","id"])null!=this[b]&&(a[b]=this[b]);return this.map&&(a.map={...this.map},a.map.consumerCache&&(a.map.consumerCache=void 0)),a}get from(){return this.file||this.id}};cr.default=cr,b_&&b_.registerInput&&b_.registerInput(cr);let{SourceMapConsumer:cs,SourceMapGenerator:ct}=b_,{dirname:cu,relative:cv,resolve:cw,sep:cx}=b_,{pathToFileURL:cy}=b_,cz=!!(cs&&ct),cA=!!(cu&&cw&&cv&&cx),cB=class{constructor(a,b,c,d){this.stringify=a,this.mapOpts=c.map||{},this.root=b,this.opts=c,this.css=d,this.originalCSS=d,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let a;a=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let b="\n";this.css.includes("\r\n")&&(b="\r\n"),this.css+=b+"/*# sourceMappingURL="+a+" */"}applyPrevMaps(){for(let a of this.previous()){let b,c=this.toUrl(this.path(a.file)),d=a.root||cu(a.file);!1===this.mapOpts.sourcesContent?(b=new cs(a.text)).sourcesContent&&(b.sourcesContent=null):b=a.consumer(),this.map.applySourceMap(b,c,this.toUrl(this.path(d)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let a;for(let b=this.root.nodes.length-1;b>=0;b--)"comment"===(a=this.root.nodes[b]).type&&0===a.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(b)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),cA&&cz&&this.isMap())return this.generateMap();{let a="";return this.stringify(this.root,b=>{a+=b}),[a]}}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let a=this.previous()[0].consumer();a.file=this.outputFile(),this.map=ct.fromSourceMap(a,{ignoreInvalidMapping:!0})}else this.map=new ct({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return(this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline())?[this.css]:[this.css,this.map]}generateString(){let a,b;this.css="",this.map=new ct({file:this.outputFile(),ignoreInvalidMapping:!0});let c=1,d=1,e="<no source>",f={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(g,h,i)=>{if(this.css+=g,h&&"end"!==i&&(f.generated.line=c,f.generated.column=d-1,h.source&&h.source.start?(f.source=this.sourcePath(h),f.original.line=h.source.start.line,f.original.column=h.source.start.column-1):(f.source=e,f.original.line=1,f.original.column=0),this.map.addMapping(f)),(a=g.match(/\n/g))?(c+=a.length,b=g.lastIndexOf("\n"),d=g.length-b):d+=g.length,h&&"start"!==i){let a=h.parent||{raws:{}};(!("decl"===h.type||"atrule"===h.type&&!h.nodes)||h!==a.last||a.raws.semicolon)&&(h.source&&h.source.end?(f.source=this.sourcePath(h),f.original.line=h.source.end.line,f.original.column=h.source.end.column-1,f.generated.line=c,f.generated.column=d-2):(f.source=e,f.original.line=1,f.original.column=0,f.generated.line=c,f.generated.column=d-1),this.map.addMapping(f))}})}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(a=>a.annotation))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let a=this.mapOpts.annotation;return(void 0===a||!0===a)&&(!this.previous().length||this.previous().some(a=>a.inline))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(a=>a.withContent())}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(a){if(this.mapOpts.absolute||60===a.charCodeAt(0)||/^\w+:\/\//.test(a))return a;let b=this.memoizedPaths.get(a);if(b)return b;let c=this.opts.to?cu(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(c=cu(cw(c,this.mapOpts.annotation)));let d=cv(c,a);return this.memoizedPaths.set(a,d),d}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(a=>{if(a.source&&a.source.input.map){let b=a.source.input.map;this.previousMaps.includes(b)||this.previousMaps.push(b)}});else{let a=new cr(this.originalCSS,this.opts);a.map&&this.previousMaps.push(a.map)}return this.previousMaps}setSourcesContent(){let a={};if(this.root)this.root.walk(b=>{if(b.source){let c=b.source.input.from;if(c&&!a[c]){a[c]=!0;let d=this.usesFileUrls?this.toFileUrl(c):this.toUrl(this.path(c));this.map.setSourceContent(d,b.source.input.css)}}});else if(this.css){let a=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(a,this.css)}}sourcePath(a){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(a.source.input.from):this.toUrl(this.path(a.source.input.from))}toBase64(a){return Buffer.from(a).toString("base64")}toFileUrl(a){let b=this.memoizedFileURLs.get(a);if(b)return b;if(cy){let b=cy(a).toString();return this.memoizedFileURLs.set(a,b),b}throw Error("`map.absolute` option is not available in this PostCSS build")}toUrl(a){let b=this.memoizedURLs.get(a);if(b)return b;"\\"===cx&&(a=a.replace(/\\/g,"/"));let c=encodeURI(a).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(a,c),c}},cC=b7,cD=class extends cC{constructor(a){super(a),this.type="comment"}};cD.default=cD;let{isClean:cE,my:cF}=b1,cG=b7,cH=class a extends cG{append(...a){for(let b of a)for(let a of this.normalize(b,this.last))this.proxyOf.nodes.push(a);return this.markDirty(),this}cleanRaws(a){if(super.cleanRaws(a),this.nodes)for(let b of this.nodes)b.cleanRaws(a)}each(a){let b,c;if(!this.proxyOf.nodes)return;let d=this.getIterator();for(;this.indexes[d]<this.proxyOf.nodes.length&&(b=this.indexes[d],!1!==(c=a(this.proxyOf.nodes[b],b)));)this.indexes[d]+=1;return delete this.indexes[d],c}every(a){return this.nodes.every(a)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let a=this.lastEach;return this.indexes[a]=0,a}getProxyProcessor(){return{get(a,b){if("proxyOf"===b)return a;if(!a[b])return a[b];if("each"===b||"string"==typeof b&&b.startsWith("walk"))return(...c)=>a[b](...c.map(a=>"function"==typeof a?(b,c)=>a(b.toProxy(),c):a));if("every"===b||"some"===b)return c=>a[b]((a,...b)=>c(a.toProxy(),...b));if("root"===b)return()=>a.root().toProxy();else if("nodes"===b)return a.nodes.map(a=>a.toProxy());else if("first"===b||"last"===b)return a[b].toProxy();else return a[b]},set:(a,b,c)=>a[b]===c||(a[b]=c,("name"===b||"params"===b||"selector"===b)&&a.markDirty(),!0)}}index(a){return"number"==typeof a?a:(a.proxyOf&&(a=a.proxyOf),this.proxyOf.nodes.indexOf(a))}insertAfter(a,b){let c,d=this.index(a),e=this.normalize(b,this.proxyOf.nodes[d]).reverse();for(let b of(d=this.index(a),e))this.proxyOf.nodes.splice(d+1,0,b);for(let a in this.indexes)d<(c=this.indexes[a])&&(this.indexes[a]=c+e.length);return this.markDirty(),this}insertBefore(a,b){let c,d=this.index(a),e=0===d&&"prepend",f=this.normalize(b,this.proxyOf.nodes[d],e).reverse();for(let b of(d=this.index(a),f))this.proxyOf.nodes.splice(d,0,b);for(let a in this.indexes)d<=(c=this.indexes[a])&&(this.indexes[a]=c+f.length);return this.markDirty(),this}normalize(b,c){if("string"==typeof b)b=function a(b){return b.map(b=>(b.nodes&&(b.nodes=a(b.nodes)),delete b.source,b))}(l(b).nodes);else if(void 0===b)b=[];else if(Array.isArray(b))for(let a of b=b.slice(0))a.parent&&a.parent.removeChild(a,"ignore");else if("root"===b.type&&"document"!==this.type)for(let a of b=b.nodes.slice(0))a.parent&&a.parent.removeChild(a,"ignore");else if(b.type)b=[b];else if(b.prop){if(void 0===b.value)throw Error("Value field is missed in node creation");"string"!=typeof b.value&&(b.value=String(b.value)),b=[new b9(b)]}else if(b.selector)b=[new m(b)];else if(b.name)b=[new n(b)];else if(b.text)b=[new cD(b)];else throw Error("Unknown node type in node creation");return b.map(b=>(b[cF]||a.rebuild(b),(b=b.proxyOf).parent&&b.parent.removeChild(b),b[cE]&&function a(b){if(b[cE]=!1,b.proxyOf.nodes)for(let c of b.proxyOf.nodes)a(c)}(b),void 0===b.raws.before&&c&&void 0!==c.raws.before&&(b.raws.before=c.raws.before.replace(/\S/g,"")),b.parent=this.proxyOf,b))}prepend(...a){for(let b of a=a.reverse()){let a=this.normalize(b,this.first,"prepend").reverse();for(let b of a)this.proxyOf.nodes.unshift(b);for(let b in this.indexes)this.indexes[b]=this.indexes[b]+a.length}return this.markDirty(),this}push(a){return a.parent=this,this.proxyOf.nodes.push(a),this}removeAll(){for(let a of this.proxyOf.nodes)a.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(a){let b;for(let c in a=this.index(a),this.proxyOf.nodes[a].parent=void 0,this.proxyOf.nodes.splice(a,1),this.indexes)(b=this.indexes[c])>=a&&(this.indexes[c]=b-1);return this.markDirty(),this}replaceValues(a,b,c){return c||(c=b,b={}),this.walkDecls(d=>{b.props&&!b.props.includes(d.prop)||(!b.fast||d.value.includes(b.fast))&&(d.value=d.value.replace(a,c))}),this.markDirty(),this}some(a){return this.nodes.some(a)}walk(a){return this.each((b,c)=>{let d;try{d=a(b,c)}catch(a){throw b.addToError(a)}return!1!==d&&b.walk&&(d=b.walk(a)),d})}walkAtRules(a,b){return b?a instanceof RegExp?this.walk((c,d)=>{if("atrule"===c.type&&a.test(c.name))return b(c,d)}):this.walk((c,d)=>{if("atrule"===c.type&&c.name===a)return b(c,d)}):(b=a,this.walk((a,c)=>{if("atrule"===a.type)return b(a,c)}))}walkComments(a){return this.walk((b,c)=>{if("comment"===b.type)return a(b,c)})}walkDecls(a,b){return b?a instanceof RegExp?this.walk((c,d)=>{if("decl"===c.type&&a.test(c.prop))return b(c,d)}):this.walk((c,d)=>{if("decl"===c.type&&c.prop===a)return b(c,d)}):(b=a,this.walk((a,c)=>{if("decl"===a.type)return b(a,c)}))}walkRules(a,b){return b?a instanceof RegExp?this.walk((c,d)=>{if("rule"===c.type&&a.test(c.selector))return b(c,d)}):this.walk((c,d)=>{if("rule"===c.type&&c.selector===a)return b(c,d)}):(b=a,this.walk((a,c)=>{if("rule"===a.type)return b(a,c)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};cH.registerParse=a=>{l=a},cH.registerRule=a=>{m=a},cH.registerAtRule=a=>{n=a},cH.registerRoot=a=>{o=a},cH.default=cH,cH.rebuild=a=>{"atrule"===a.type?Object.setPrototypeOf(a,n.prototype):"rule"===a.type?Object.setPrototypeOf(a,m.prototype):"decl"===a.type?Object.setPrototypeOf(a,b9.prototype):"comment"===a.type?Object.setPrototypeOf(a,cD.prototype):"root"===a.type&&Object.setPrototypeOf(a,o.prototype),a[cF]=!0,a.nodes&&a.nodes.forEach(a=>{cH.rebuild(a)})};let cI=cH,cJ=class extends cI{constructor(a){super({type:"document",...a}),this.nodes||(this.nodes=[])}toResult(a={}){return new p(new q,this,a).stringify()}};cJ.registerLazyResult=a=>{p=a},cJ.registerProcessor=a=>{q=a},cJ.default=cJ;let cK=class{constructor(a,b={}){if(this.type="warning",this.text=a,b.node&&b.node.source){let a=b.node.rangeBy(b);this.line=a.start.line,this.column=a.start.column,this.endLine=a.end.line,this.endColumn=a.end.column}for(let a in b)this[a]=b[a]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};cK.default=cK;let cL=class{constructor(a,b,c){this.processor=a,this.messages=[],this.root=b,this.opts=c,this.css=void 0,this.map=void 0}toString(){return this.css}warn(a,b={}){!b.plugin&&this.lastPlugin&&this.lastPlugin.postcssPlugin&&(b.plugin=this.lastPlugin.postcssPlugin);let c=new cK(a,b);return this.messages.push(c),c}warnings(){return this.messages.filter(a=>"warning"===a.type)}get content(){return this.css}};cL.default=cL;let cM=/[\t\n\f\r "#'()/;[\\\]{}]/g,cN=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,cO=/.[\r\n"'(/\\]/,cP=/[\da-f]/i,cQ=cH,cR=class extends cQ{constructor(a){super(a),this.type="atrule"}append(...a){return this.proxyOf.nodes||(this.nodes=[]),super.append(...a)}prepend(...a){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...a)}};cR.default=cR,cQ.registerAtRule(cR);let cS=cH,cT=class extends cS{constructor(a){super(a),this.type="root",this.nodes||(this.nodes=[])}normalize(a,b,c){let d=super.normalize(a);if(b){if("prepend"===c)this.nodes.length>1?b.raws.before=this.nodes[1].raws.before:delete b.raws.before;else if(this.first!==b)for(let a of d)a.raws.before=b.raws.before}return d}removeChild(a,b){let c=this.index(a);return!b&&0===c&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[c].raws.before),super.removeChild(a)}toResult(a={}){return new r(new s,this,a).stringify()}};cT.registerLazyResult=a=>{r=a},cT.registerProcessor=a=>{s=a},cT.default=cT,cS.registerRoot(cT);let cU={comma:a=>cU.split(a,[","],!0),space:a=>cU.split(a,[" ","\n","	"]),split(a,b,c){let d=[],e="",f=!1,g=0,h=!1,i="",j=!1;for(let c of a)j?j=!1:"\\"===c?j=!0:h?c===i&&(h=!1):'"'===c||"'"===c?(h=!0,i=c):"("===c?g+=1:")"===c?g>0&&(g-=1):0===g&&b.includes(c)&&(f=!0),f?(""!==e&&d.push(e.trim()),e="",f=!1):e+=c;return(c||""!==e)&&d.push(e.trim()),d}};cU.default=cU;let cV=cH,cW=class extends cV{constructor(a){super(a),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return cU.comma(this.selector)}set selectors(a){let b=this.selector?this.selector.match(/,\s*/):null,c=b?b[0]:","+this.raw("between","beforeOpen");this.selector=a.join(c)}};cW.default=cW,cV.registerRule(cW);let cX=function(a,b={}){let c,d,e,f,g,h,i,j,k,l,m=a.css.valueOf(),n=b.ignoreErrors,o=m.length,p=0,q=[],r=[];function s(b){throw a.error("Unclosed "+b,p)}return{back:function(a){r.push(a)},endOfFile:function(){return 0===r.length&&p>=o},nextToken:function(a){if(r.length)return r.pop();if(p>=o)return;let b=!!a&&a.ignoreUnclosed;switch(c=m.charCodeAt(p)){case 10:case 32:case 9:case 13:case 12:d=p;do d+=1,c=m.charCodeAt(d);while(32===c||10===c||9===c||13===c||12===c)l=["space",m.slice(p,d)],p=d-1;break;case 91:case 93:case 123:case 125:case 58:case 59:case 41:{let a=String.fromCharCode(c);l=[a,a,p];break}case 40:if(j=q.length?q.pop()[1]:"",k=m.charCodeAt(p+1),"url"===j&&39!==k&&34!==k&&32!==k&&10!==k&&9!==k&&12!==k&&13!==k){d=p;do{if(h=!1,-1===(d=m.indexOf(")",d+1)))if(n||b){d=p;break}else s("bracket");for(i=d;92===m.charCodeAt(i-1);)i-=1,h=!h}while(h)l=["brackets",m.slice(p,d+1),p,d],p=d}else d=m.indexOf(")",p+1),f=m.slice(p,d+1),-1===d||cO.test(f)?l=["(","(",p]:(l=["brackets",f,p,d],p=d);break;case 39:case 34:e=39===c?"'":'"',d=p;do{if(h=!1,-1===(d=m.indexOf(e,d+1)))if(n||b){d=p+1;break}else s("string");for(i=d;92===m.charCodeAt(i-1);)i-=1,h=!h}while(h)l=["string",m.slice(p,d+1),p,d],p=d;break;case 64:cM.lastIndex=p+1,cM.test(m),d=0===cM.lastIndex?m.length-1:cM.lastIndex-2,l=["at-word",m.slice(p,d+1),p,d],p=d;break;case 92:for(d=p,g=!0;92===m.charCodeAt(d+1);)d+=1,g=!g;if(c=m.charCodeAt(d+1),g&&47!==c&&32!==c&&10!==c&&9!==c&&13!==c&&12!==c&&(d+=1,cP.test(m.charAt(d)))){for(;cP.test(m.charAt(d+1));)d+=1;32===m.charCodeAt(d+1)&&(d+=1)}l=["word",m.slice(p,d+1),p,d],p=d;break;default:47===c&&42===m.charCodeAt(p+1)?(0===(d=m.indexOf("*/",p+2)+1)&&(n||b?d=m.length:s("comment")),l=["comment",m.slice(p,d+1),p,d]):(cN.lastIndex=p+1,cN.test(m),d=0===cN.lastIndex?m.length-1:cN.lastIndex-2,l=["word",m.slice(p,d+1),p,d],q.push(l)),p=d}return p++,l},position:function(){return p}}},cY={empty:!0,space:!0},cZ=class{constructor(a){this.input=a,this.root=new cT,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:a,start:{column:1,line:1,offset:0}}}atrule(a){let b,c,d,e=new cR;e.name=a[1].slice(1),""===e.name&&this.unnamedAtrule(e,a),this.init(e,a[2]);let f=!1,g=!1,h=[],i=[];for(;!this.tokenizer.endOfFile();){if("("===(b=(a=this.tokenizer.nextToken())[0])||"["===b?i.push("("===b?")":"]"):"{"===b&&i.length>0?i.push("}"):b===i[i.length-1]&&i.pop(),0===i.length)if(";"===b){e.source.end=this.getPosition(a[2]),e.source.end.offset++,this.semicolon=!0;break}else if("{"===b){g=!0;break}else if("}"===b){if(h.length>0){for(d=h.length-1,c=h[d];c&&"space"===c[0];)c=h[--d];c&&(e.source.end=this.getPosition(c[3]||c[2]),e.source.end.offset++)}this.end(a);break}else h.push(a);else h.push(a);if(this.tokenizer.endOfFile()){f=!0;break}}e.raws.between=this.spacesAndCommentsFromEnd(h),h.length?(e.raws.afterName=this.spacesAndCommentsFromStart(h),this.raw(e,"params",h),f&&(a=h[h.length-1],e.source.end=this.getPosition(a[3]||a[2]),e.source.end.offset++,this.spaces=e.raws.between,e.raws.between="")):(e.raws.afterName="",e.params=""),g&&(e.nodes=[],this.current=e)}checkMissedSemicolon(a){let b,c=this.colon(a);if(!1===c)return;let d=0;for(let e=c-1;e>=0&&("space"===(b=a[e])[0]||2!==(d+=1));e--);throw this.input.error("Missed semicolon","word"===b[0]?b[3]+1:b[2])}colon(a){let b,c,d=0;for(let[e,f]of a.entries()){if("("===(b=f[0])&&(d+=1),")"===b&&(d-=1),0===d&&":"===b)if(c)if("word"===c[0]&&"progid"===c[1])continue;else return e;else this.doubleColon(f);c=f}return!1}comment(a){let b=new cD;this.init(b,a[2]),b.source.end=this.getPosition(a[3]||a[2]),b.source.end.offset++;let c=a[1].slice(2,-2);if(/^\s*$/.test(c))b.text="",b.raws.left=c,b.raws.right="";else{let a=c.match(/^(\s*)([^]*\S)(\s*)$/);b.text=a[2],b.raws.left=a[1],b.raws.right=a[3]}}createTokenizer(){this.tokenizer=cX(this.input)}decl(a,b){let c,d,e=new b9;this.init(e,a[0][2]);let f=a[a.length-1];for(";"===f[0]&&(this.semicolon=!0,a.pop()),e.source.end=this.getPosition(f[3]||f[2]||function(a){for(let b=a.length-1;b>=0;b--){let c=a[b],d=c[3]||c[2];if(d)return d}}(a)),e.source.end.offset++;"word"!==a[0][0];)1===a.length&&this.unknownWord(a),e.raws.before+=a.shift()[1];for(e.source.start=this.getPosition(a[0][2]),e.prop="";a.length;){let b=a[0][0];if(":"===b||"space"===b||"comment"===b)break;e.prop+=a.shift()[1]}for(e.raws.between="";a.length;){if(":"===(c=a.shift())[0]){e.raws.between+=c[1];break}"word"===c[0]&&/\w/.test(c[1])&&this.unknownWord([c]),e.raws.between+=c[1]}("_"===e.prop[0]||"*"===e.prop[0])&&(e.raws.before+=e.prop[0],e.prop=e.prop.slice(1));let g=[];for(;a.length&&("space"===(d=a[0][0])||"comment"===d);)g.push(a.shift());this.precheckMissedSemicolon(a);for(let b=a.length-1;b>=0;b--){if("!important"===(c=a[b])[1].toLowerCase()){e.important=!0;let c=this.stringFrom(a,b);" !important"!==(c=this.spacesFromEnd(a)+c)&&(e.raws.important=c);break}if("important"===c[1].toLowerCase()){let c=a.slice(0),d="";for(let a=b;a>0;a--){let b=c[a][0];if(0===d.trim().indexOf("!")&&"space"!==b)break;d=c.pop()[1]+d}0===d.trim().indexOf("!")&&(e.important=!0,e.raws.important=d,a=c)}if("space"!==c[0]&&"comment"!==c[0])break}a.some(a=>"space"!==a[0]&&"comment"!==a[0])&&(e.raws.between+=g.map(a=>a[1]).join(""),g=[]),this.raw(e,"value",g.concat(a),b),e.value.includes(":")&&!b&&this.checkMissedSemicolon(a)}doubleColon(a){throw this.input.error("Double colon",{offset:a[2]},{offset:a[2]+a[1].length})}emptyRule(a){let b=new cW;this.init(b,a[2]),b.selector="",b.raws.between="",this.current=b}end(a){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(a[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(a)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(a){if(this.spaces+=a[1],this.current.nodes){let a=this.current.nodes[this.current.nodes.length-1];a&&"rule"===a.type&&!a.raws.ownSemicolon&&(a.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(a){let b=this.input.fromOffset(a);return{column:b.col,line:b.line,offset:a}}init(a,b){this.current.push(a),a.source={input:this.input,start:this.getPosition(b)},a.raws.before=this.spaces,this.spaces="","comment"!==a.type&&(this.semicolon=!1)}other(a){let b=!1,c=null,d=!1,e=null,f=[],g=a[1].startsWith("--"),h=[],i=a;for(;i;){if(c=i[0],h.push(i),"("===c||"["===c)e||(e=i),f.push("("===c?")":"]");else if(g&&d&&"{"===c)e||(e=i),f.push("}");else if(0===f.length)if(";"===c)if(d)return void this.decl(h,g);else break;else if("{"===c)return void this.rule(h);else if("}"===c){this.tokenizer.back(h.pop()),b=!0;break}else":"===c&&(d=!0);else c===f[f.length-1]&&(f.pop(),0===f.length&&(e=null));i=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(b=!0),f.length>0&&this.unclosedBracket(e),b&&d){if(!g)for(;h.length&&("space"===(i=h[h.length-1][0])||"comment"===i);)this.tokenizer.back(h.pop());this.decl(h,g)}else this.unknownWord(h)}parse(){let a;for(;!this.tokenizer.endOfFile();)switch((a=this.tokenizer.nextToken())[0]){case"space":this.spaces+=a[1];break;case";":this.freeSemicolon(a);break;case"}":this.end(a);break;case"comment":this.comment(a);break;case"at-word":this.atrule(a);break;case"{":this.emptyRule(a);break;default:this.other(a)}this.endFile()}precheckMissedSemicolon(){}raw(a,b,c,d){let e,f,g,h,i=c.length,j="",k=!0;for(let a=0;a<i;a+=1)"space"!==(f=(e=c[a])[0])||a!==i-1||d?"comment"===f?(h=c[a-1]?c[a-1][0]:"empty",g=c[a+1]?c[a+1][0]:"empty",cY[h]||cY[g]||","===j.slice(-1)?k=!1:j+=e[1]):j+=e[1]:k=!1;if(!k){let d=c.reduce((a,b)=>a+b[1],"");a.raws[b]={raw:d,value:j}}a[b]=j}rule(a){a.pop();let b=new cW;this.init(b,a[0][2]),b.raws.between=this.spacesAndCommentsFromEnd(a),this.raw(b,"selector",a),this.current=b}spacesAndCommentsFromEnd(a){let b,c="";for(;a.length&&("space"===(b=a[a.length-1][0])||"comment"===b);)c=a.pop()[1]+c;return c}spacesAndCommentsFromStart(a){let b,c="";for(;a.length&&("space"===(b=a[0][0])||"comment"===b);)c+=a.shift()[1];return c}spacesFromEnd(a){let b="";for(;a.length&&"space"===a[a.length-1][0];)b=a.pop()[1]+b;return b}stringFrom(a,b){let c="";for(let d=b;d<a.length;d++)c+=a[d][1];return a.splice(b,a.length-b),c}unclosedBlock(){let a=this.current.source.start;throw this.input.error("Unclosed block",a.line,a.column)}unclosedBracket(a){throw this.input.error("Unclosed bracket",{offset:a[2]},{offset:a[2]+1})}unexpectedClose(a){throw this.input.error("Unexpected }",{offset:a[2]},{offset:a[2]+1})}unknownWord(a){throw this.input.error("Unknown word",{offset:a[0][2]},{offset:a[0][2]+a[0][1].length})}unnamedAtrule(a,b){throw this.input.error("At-rule without name",{offset:b[2]},{offset:b[2]+b[1].length})}};function c$(a,b){let c=new cZ(new cr(a,b));try{c.parse()}catch(a){throw a}return c.root}c$.default=c$,cH.registerParse(c$);let{isClean:c_,my:c0}=b1,c1={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},c2={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},c3={Once:!0,postcssPlugin:!0,prepare:!0};function c4(a){return"object"==typeof a&&"function"==typeof a.then}function c5(a){let b=!1,c=c1[a.type];return("decl"===a.type?b=a.prop.toLowerCase():"atrule"===a.type&&(b=a.name.toLowerCase()),b&&a.append)?[c,c+"-"+b,0,c+"Exit",c+"Exit-"+b]:b?[c,c+"-"+b,c+"Exit",c+"Exit-"+b]:a.append?[c,0,c+"Exit"]:[c,c+"Exit"]}function c6(a){return{eventIndex:0,events:"document"===a.type?["Document",0,"DocumentExit"]:"root"===a.type?["Root",0,"RootExit"]:c5(a),iterator:0,node:a,visitorIndex:0,visitors:[]}}function c7(a){return a[c_]=!1,a.nodes&&a.nodes.forEach(a=>c7(a)),a}let c8={},c9=class a{constructor(b,c,d){let e;if(this.stringified=!1,this.processed=!1,"object"==typeof c&&null!==c&&("root"===c.type||"document"===c.type))e=c7(c);else if(c instanceof a||c instanceof cL)e=c7(c.root),c.map&&(void 0===d.map&&(d.map={}),d.map.inline||(d.map.inline=!1),d.map.prev=c.map);else{let a=c$;d.syntax&&(a=d.syntax.parse),d.parser&&(a=d.parser),a.parse&&(a=a.parse);try{e=a(c,d)}catch(a){this.processed=!0,this.error=a}e&&!e[c0]&&cH.rebuild(e)}this.result=new cL(b,e,d),this.helpers={...c8,postcss:c8,result:this.result},this.plugins=this.processor.plugins.map(a=>"object"==typeof a&&a.prepare?{...a,...a.prepare(this.result)}:a)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(a){return this.async().catch(a)}finally(a){return this.async().then(a,a)}getAsyncError(){throw Error("Use process(css).then(cb) to work with async plugins")}handleError(a,b){let c=this.result.lastPlugin;try{b&&b.addToError(a),this.error=a,"CssSyntaxError"!==a.name||a.plugin?c.postcssVersion:(a.plugin=c.postcssPlugin,a.setMessage())}catch(a){console&&console.error&&console.error(a)}return a}prepareVisitors(){this.listeners={};let a=(a,b,c)=>{this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push([a,c])};for(let b of this.plugins)if("object"==typeof b)for(let c in b){if(!c2[c]&&/^[A-Z]/.test(c))throw Error(`Unknown event ${c} in ${b.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!c3[c])if("object"==typeof b[c])for(let d in b[c])a(b,"*"===d?c:c+"-"+d.toLowerCase(),b[c][d]);else"function"==typeof b[c]&&a(b,c,b[c])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let a=0;a<this.plugins.length;a++){let b=this.plugins[a],c=this.runOnRoot(b);if(c4(c))try{await c}catch(a){throw this.handleError(a)}}if(this.prepareVisitors(),this.hasListener){let a=this.result.root;for(;!a[c_];){a[c_]=!0;let b=[c6(a)];for(;b.length>0;){let a=this.visitTick(b);if(c4(a))try{await a}catch(c){let a=b[b.length-1].node;throw this.handleError(c,a)}}}if(this.listeners.OnceExit)for(let[b,c]of this.listeners.OnceExit){this.result.lastPlugin=b;try{if("document"===a.type){let b=a.nodes.map(a=>c(a,this.helpers));await Promise.all(b)}else await c(a,this.helpers)}catch(a){throw this.handleError(a)}}}return this.processed=!0,this.stringify()}runOnRoot(a){this.result.lastPlugin=a;try{if("object"==typeof a&&a.Once){if("document"===this.result.root.type){let b=this.result.root.nodes.map(b=>a.Once(b,this.helpers));if(c4(b[0]))return Promise.all(b);return b}return a.Once(this.result.root,this.helpers)}if("function"==typeof a)return a(this.result.root,this.result)}catch(a){throw this.handleError(a)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let a=this.result.opts,b=b4;a.syntax&&(b=a.syntax.stringify),a.stringifier&&(b=a.stringifier),b.stringify&&(b=b.stringify);let c=new cB(b,this.result.root,this.result.opts).generate();return this.result.css=c[0],this.result.map=c[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let a of this.plugins)if(c4(this.runOnRoot(a)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let a=this.result.root;for(;!a[c_];)a[c_]=!0,this.walkSync(a);if(this.listeners.OnceExit)if("document"===a.type)for(let b of a.nodes)this.visitSync(this.listeners.OnceExit,b);else this.visitSync(this.listeners.OnceExit,a)}return this.result}then(a,b){return this.async().then(a,b)}toString(){return this.css}visitSync(a,b){for(let[c,d]of a){let a;this.result.lastPlugin=c;try{a=d(b,this.helpers)}catch(a){throw this.handleError(a,b.proxyOf)}if("root"!==b.type&&"document"!==b.type&&!b.parent)return!0;if(c4(a))throw this.getAsyncError()}}visitTick(a){let b=a[a.length-1],{node:c,visitors:d}=b;if("root"!==c.type&&"document"!==c.type&&!c.parent)return void a.pop();if(d.length>0&&b.visitorIndex<d.length){let[a,e]=d[b.visitorIndex];b.visitorIndex+=1,b.visitorIndex===d.length&&(b.visitors=[],b.visitorIndex=0),this.result.lastPlugin=a;try{return e(c.toProxy(),this.helpers)}catch(a){throw this.handleError(a,c)}}if(0!==b.iterator){let d,e=b.iterator;for(;d=c.nodes[c.indexes[e]];)if(c.indexes[e]+=1,!d[c_]){d[c_]=!0,a.push(c6(d));return}b.iterator=0,delete c.indexes[e]}let e=b.events;for(;b.eventIndex<e.length;){let a=e[b.eventIndex];if(b.eventIndex+=1,0===a){c.nodes&&c.nodes.length&&(c[c_]=!0,b.iterator=c.getIterator());return}if(this.listeners[a]){b.visitors=this.listeners[a];return}}a.pop()}walkSync(a){for(let b of(a[c_]=!0,c5(a)))if(0===b)a.nodes&&a.each(a=>{a[c_]||this.walkSync(a)});else{let c=this.listeners[b];if(c&&this.visitSync(c,a.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};c9.registerPostcss=a=>{c8=a},c9.default=c9,cT.registerLazyResult(c9),cJ.registerLazyResult(c9);let da=class{constructor(a,b,c){let d;b=b.toString(),this.stringified=!1,this._processor=a,this._css=b,this._opts=c,this._map=void 0,this.result=new cL(this._processor,d,this._opts),this.result.css=b;let e=this;Object.defineProperty(this.result,"root",{get:()=>e.root});let f=new cB(b4,d,this._opts,b);if(f.isMap()){let[a,b]=f.generate();a&&(this.result.css=a),b&&(this.result.map=b)}else f.clearAnnotation(),this.result.css=f.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(a){return this.async().catch(a)}finally(a){return this.async().then(a,a)}sync(){if(this.error)throw this.error;return this.result}then(a,b){return this.async().then(a,b)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){let a;if(this._root)return this._root;try{a=c$(this._css,this._opts)}catch(a){this.error=a}if(!this.error)return this._root=a,a;throw this.error}get[Symbol.toStringTag](){return"NoWorkResult"}};da.default=da;let db=class{constructor(a=[]){this.version="8.4.38",this.plugins=this.normalize(a)}normalize(a){let b=[];for(let c of a)if(!0===c.postcss?c=c():c.postcss&&(c=c.postcss),"object"==typeof c&&Array.isArray(c.plugins))b=b.concat(c.plugins);else if("object"==typeof c&&c.postcssPlugin)b.push(c);else if("function"==typeof c)b.push(c);else if("object"==typeof c&&(c.parse||c.stringify));else throw Error(c+" is not a PostCSS plugin");return b}process(a,b={}){return this.plugins.length||b.parser||b.stringifier||b.syntax?new c9(this,a,b):new da(this,a,b)}use(a){return this.plugins=this.plugins.concat(this.normalize([a])),this}};function dc(a,b){if(Array.isArray(a))return a.map(a=>dc(a));let{inputs:c,...d}=a;if(c)for(let a of(b=[],c)){let c={...a,__proto__:cr.prototype};c.map&&(c.map={...c.map,__proto__:cg.prototype}),b.push(c)}if(d.nodes&&(d.nodes=a.nodes.map(a=>dc(a,b))),d.source){let{inputId:a,...c}=d.source;d.source=c,null!=a&&(d.source.input=b[a])}if("root"===d.type)return new cT(d);if("decl"===d.type)return new b9(d);if("rule"===d.type)return new cW(d);if("comment"===d.type)return new cD(d);if("atrule"===d.type)return new cR(d);else throw Error("Unknown node type: "+a.type)}function dd(...a){return 1===a.length&&Array.isArray(a[0])&&(a=a[0]),new db(a)}db.default=db,cT.registerProcessor(db),cJ.registerProcessor(db),dc.default=dc,dd.plugin=function(a,b){let c,d=!1;function e(...c){console&&console.warn&&!d&&(d=!0,console.warn(a+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(a+": éé¢ postcss.plugin è¢«å¼ç¨. è¿ç§»æå:\nhttps://www.w3ctech.com/topic/2226"));let f=b(...c);return f.postcssPlugin=a,f.postcssVersion=new db().version,f}return Object.defineProperty(e,"postcss",{get:()=>(c||(c=e()),c)}),e.process=function(a,b,c){return dd([e(c)]).process(a,b)},e},dd.stringify=b4,dd.parse=c$,dd.fromJSON=dc,dd.list=cU,dd.comment=a=>new cD(a),dd.atRule=a=>new cR(a),dd.decl=a=>new b9(a),dd.rule=a=>new cW(a),dd.root=a=>new cT(a),dd.document=a=>new cJ(a),dd.CssSyntaxError=b0,dd.Declaration=b9,dd.Container=cH,dd.Processor=db,dd.Document=cJ,dd.Comment=cD,dd.Warning=cK,dd.AtRule=cR,dd.Result=cL,dd.Input=cr,dd.Rule=cW,dd.Root=cT,dd.Node=b7,c9.registerPostcss(dd),dd.default=dd;let de=dd&&dd.__esModule&&Object.prototype.hasOwnProperty.call(dd,"default")?dd.default:dd;de.stringify,de.fromJSON,de.plugin,de.parse,de.list,de.document,de.comment,de.atRule,de.rule,de.decl,de.root,de.CssSyntaxError,de.Declaration,de.Container,de.Processor,de.Document,de.Comment,de.Warning,de.AtRule,de.Result,de.Input,de.Rule,de.Root,de.Node;class df{constructor(...a){bW(this,"parentElement",null),bW(this,"parentNode",null),bW(this,"ownerDocument"),bW(this,"firstChild",null),bW(this,"lastChild",null),bW(this,"previousSibling",null),bW(this,"nextSibling",null),bW(this,"ELEMENT_NODE",1),bW(this,"TEXT_NODE",3),bW(this,"nodeType"),bW(this,"nodeName"),bW(this,"RRNodeType")}get childNodes(){let a=[],b=this.firstChild;for(;b;)a.push(b),b=b.nextSibling;return a}contains(a){if(!(a instanceof df)||a.ownerDocument!==this.ownerDocument)return!1;if(a===this)return!0;for(;a.parentNode;){if(a.parentNode===this)return!0;a=a.parentNode}return!1}appendChild(a){throw Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(a,b){throw Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(a){throw Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}let dg={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},dh={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},di={};function dj(a){var b,c;let d;if(di[a])return di[a];let e=((d=null==(c=null==(b=null==globalThis?void 0:globalThis.Zone)?void 0:b.__symbol__)?void 0:c.call(b,a))&&globalThis[d]?globalThis[d]:void 0)||globalThis[a],f=e.prototype,g=a in dg?dg[a]:void 0,h=!!(g&&g.every(a=>{var b,c;return!!(null==(c=null==(b=Object.getOwnPropertyDescriptor(f,a))?void 0:b.get)?void 0:c.toString().includes("[native code]"))})),i=a in dh?dh[a]:void 0,j=!!(i&&i.every(a=>{var b;return"function"==typeof f[a]&&(null==(b=f[a])?void 0:b.toString().includes("[native code]"))}));if(h&&j)return di[a]=e.prototype,e.prototype;try{let b=document.createElement("iframe");document.body.appendChild(b);let c=b.contentWindow;if(!c)return e.prototype;let d=c[a].prototype;if(document.body.removeChild(b),!d)return f;return di[a]=d}catch{return f}}let dk={};function dl(a,b,c){var d;let e=`${a}.${String(c)}`;if(dk[e])return dk[e].call(b);let f=null==(d=Object.getOwnPropertyDescriptor(dj(a),c))?void 0:d.get;return f?(dk[e]=f,f.call(b)):b[c]}let dm={};function dn(a,b,c){let d=`${a}.${String(c)}`;if(dm[d])return dm[d].bind(b);let e=dj(a)[c];return"function"!=typeof e?b[c]:(dm[d]=e,e.bind(b))}let dp=function(a){return dl("Node",a,"childNodes")},dq=function(a){return dl("Node",a,"parentNode")},dr=function(a){return dl("Node",a,"parentElement")},ds=function(a){return dl("Node",a,"textContent")},dt=function(a,b){return dn("Node",a,"contains")(b)},du=function(a){return dn("Node",a,"getRootNode")()},dv=function(a){return a&&"host"in a?dl("ShadowRoot",a,"host"):null},dw=function(a){return a&&"shadowRoot"in a?dl("Element",a,"shadowRoot"):null};function dx(a,b,c=document){let d={capture:!0,passive:!0};return c.addEventListener(a,b,d),()=>c.removeEventListener(a,b,d)}function dy(a,b,c={}){let d=null,e=0;return function(...f){let g=Date.now();e||!1!==c.leading||(e=g);let h=b-(g-e),i=this;h<=0||h>b?(d&&(clearTimeout(d),d=null),e=g,a.apply(i,f)):d||!1===c.trailing||(d=setTimeout(()=>{e=!1===c.leading?0:Date.now(),d=null,a.apply(i,f)},h))}}function dz(a,b,c,d,e=window){let f=e.Object.getOwnPropertyDescriptor(a,b);return e.Object.defineProperty(a,b,d?c:{set(a){setTimeout(()=>{c.set.call(this,a)},0),f&&f.set&&f.set.call(this,a)}}),()=>dz(a,b,f||{},!0)}function dA(a,b,c){try{if(!(b in a))return()=>{};let d=a[b],e=c(d);return"function"==typeof e&&(e.prototype=e.prototype||{},Object.defineProperties(e,{__rrweb_original__:{enumerable:!1,value:d}})),a[b]=e,()=>{a[b]=d}}catch{return()=>{}}}let dB=Date.now;function dC(a){var b,c,d,e;let f=a.document;return{left:f.scrollingElement?f.scrollingElement.scrollLeft:void 0!==a.pageXOffset?a.pageXOffset:f.documentElement.scrollLeft||(null==f?void 0:f.body)&&(null==(b=dr(f.body))?void 0:b.scrollLeft)||(null==(c=null==f?void 0:f.body)?void 0:c.scrollLeft)||0,top:f.scrollingElement?f.scrollingElement.scrollTop:void 0!==a.pageYOffset?a.pageYOffset:(null==f?void 0:f.documentElement.scrollTop)||(null==f?void 0:f.body)&&(null==(d=dr(f.body))?void 0:d.scrollTop)||(null==(e=null==f?void 0:f.body)?void 0:e.scrollTop)||0}}function dD(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function dE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function dF(a){return a?a.nodeType===a.ELEMENT_NODE?a:dr(a):null}function dG(a,b,c,d){if(!a)return!1;let e=dF(a);if(!e)return!1;try{if("string"==typeof b){if(e.classList.contains(b)||d&&null!==e.closest("."+b))return!0}else if(ax(e,b,d))return!0}catch(a){}return!!(c&&(e.matches(c)||d&&null!==e.closest(c)))||!1}function dH(a,b,c){return"TITLE"===a.tagName&&!!c.headTitleMutations||-2===b.getId(a)}function dI(a){return!!a.changedTouches}function dJ(a,b){return!!("IFRAME"===a.nodeName&&b.getMeta(a))}function dK(a,b){return!!("LINK"===a.nodeName&&a.nodeType===a.ELEMENT_NODE&&a.getAttribute&&"stylesheet"===a.getAttribute("rel")&&b.getMeta(a))}function dL(a){return!!a&&(a instanceof df&&"shadowRoot"in a?!!a.shadowRoot:!!dw(a))}/[1-9][0-9]{12}/.test(Date.now().toString())||(dB=()=>new Date().getTime());class dM{constructor(){J(this,"id",1),J(this,"styleIDMap",new WeakMap),J(this,"idStyleMap",new Map)}getId(a){return this.styleIDMap.get(a)??-1}has(a){return this.styleIDMap.has(a)}add(a,b){let c;return this.has(a)?this.getId(a):(c=void 0===b?this.id++:b,this.styleIDMap.set(a,c),this.idStyleMap.set(c,a),c)}getStyle(a){return this.idStyleMap.get(a)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function dN(a){var b;let c=null;return"getRootNode"in a&&(null==(b=du(a))?void 0:b.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&dv(du(a))&&(c=dv(du(a))),c}function dO(a){var b;let c,d=a.ownerDocument;return!!d&&(dt(d,a)||!!(c=(b=a).ownerDocument)&&dt(c,function(a){let b,c=a;for(;b=dN(c);)c=b;return c}(b)))}var dP=((y=dP||{})[y.DomContentLoaded=0]="DomContentLoaded",y[y.Load=1]="Load",y[y.FullSnapshot=2]="FullSnapshot",y[y.IncrementalSnapshot=3]="IncrementalSnapshot",y[y.Meta=4]="Meta",y[y.Custom=5]="Custom",y[y.Plugin=6]="Plugin",y),dQ=((z=dQ||{})[z.Mutation=0]="Mutation",z[z.MouseMove=1]="MouseMove",z[z.MouseInteraction=2]="MouseInteraction",z[z.Scroll=3]="Scroll",z[z.ViewportResize=4]="ViewportResize",z[z.Input=5]="Input",z[z.TouchMove=6]="TouchMove",z[z.MediaInteraction=7]="MediaInteraction",z[z.StyleSheetRule=8]="StyleSheetRule",z[z.CanvasMutation=9]="CanvasMutation",z[z.Font=10]="Font",z[z.Log=11]="Log",z[z.Drag=12]="Drag",z[z.StyleDeclaration=13]="StyleDeclaration",z[z.Selection=14]="Selection",z[z.AdoptedStyleSheet=15]="AdoptedStyleSheet",z[z.CustomElement=16]="CustomElement",z),dR=((A=dR||{})[A.MouseUp=0]="MouseUp",A[A.MouseDown=1]="MouseDown",A[A.Click=2]="Click",A[A.ContextMenu=3]="ContextMenu",A[A.DblClick=4]="DblClick",A[A.Focus=5]="Focus",A[A.Blur=6]="Blur",A[A.TouchStart=7]="TouchStart",A[A.TouchMove_Departed=8]="TouchMove_Departed",A[A.TouchEnd=9]="TouchEnd",A[A.TouchCancel=10]="TouchCancel",A),dS=((B=dS||{})[B.Mouse=0]="Mouse",B[B.Pen=1]="Pen",B[B.Touch=2]="Touch",B),dT=((C=dT||{})[C["2D"]=0]="2D",C[C.WebGL=1]="WebGL",C[C.WebGL2=2]="WebGL2",C),dU=((D=dU||{})[D.Play=0]="Play",D[D.Pause=1]="Pause",D[D.Seeked=2]="Seeked",D[D.VolumeChange=3]="VolumeChange",D[D.RateChange=4]="RateChange",D),dV=((E=dV||{})[E.Document=0]="Document",E[E.DocumentType=1]="DocumentType",E[E.Element=2]="Element",E[E.Text=3]="Text",E[E.CDATA=4]="CDATA",E[E.Comment=5]="Comment",E);class dW{constructor(){J(this,"length",0),J(this,"head",null),J(this,"tail",null)}get(a){if(a>=this.length)throw Error("Position outside of list range");let b=this.head;for(let c=0;c<a;c++)b=(null==b?void 0:b.next)||null;return b}addNode(a){let b={value:a,previous:null,next:null};if(a.__ln=b,a.previousSibling&&"__ln"in a.previousSibling){let c=a.previousSibling.__ln.next;b.next=c,b.previous=a.previousSibling.__ln,a.previousSibling.__ln.next=b,c&&(c.previous=b)}else if(a.nextSibling&&"__ln"in a.nextSibling&&a.nextSibling.__ln.previous){let c=a.nextSibling.__ln.previous;b.previous=c,b.next=a.nextSibling.__ln,a.nextSibling.__ln.previous=b,c&&(c.next=b)}else this.head&&(this.head.previous=b),b.next=this.head,this.head=b;null===b.next&&(this.tail=b),this.length++}removeNode(a){let b=a.__ln;this.head&&(b.previous?(b.previous.next=b.next,b.next?b.next.previous=b.previous:this.tail=b.previous):(this.head=b.next,this.head?this.head.previous=null:this.tail=null),a.__ln&&delete a.__ln,this.length--)}}let dX=(a,b)=>`${a}@${b}`;class dY{constructor(){J(this,"frozen",!1),J(this,"locked",!1),J(this,"texts",[]),J(this,"attributes",[]),J(this,"attributeMap",new WeakMap),J(this,"removes",[]),J(this,"mapRemoves",[]),J(this,"movedMap",{}),J(this,"addedSet",new Set),J(this,"movedSet",new Set),J(this,"droppedSet",new Set),J(this,"removesSubTreeCache",new Set),J(this,"mutationCb"),J(this,"blockClass"),J(this,"blockSelector"),J(this,"maskTextClass"),J(this,"maskTextSelector"),J(this,"inlineStylesheet"),J(this,"maskInputOptions"),J(this,"maskTextFn"),J(this,"maskInputFn"),J(this,"keepIframeSrcFn"),J(this,"recordCanvas"),J(this,"inlineImages"),J(this,"slimDOMOptions"),J(this,"dataURLOptions"),J(this,"doc"),J(this,"mirror"),J(this,"iframeManager"),J(this,"stylesheetManager"),J(this,"shadowDomManager"),J(this,"canvasManager"),J(this,"processedNodeManager"),J(this,"unattachedDoc"),J(this,"processMutations",a=>{a.forEach(this.processMutation),this.emit()}),J(this,"emit",()=>{if(this.frozen||this.locked)return;let a=[],b=new Set,c=new dW,d=a=>{let b=a,c=-2;for(;-2===c;)c=(b=b&&b.nextSibling)&&this.mirror.getId(b);return c},e=e=>{let f=dq(e);if(!f||!dO(e))return;let g=!1;if(e.nodeType===Node.TEXT_NODE){let a=f.tagName;if("TEXTAREA"===a)return;"STYLE"===a&&this.addedSet.has(f)&&(g=!0)}let h=Z(f)?this.mirror.getId(dN(e)):this.mirror.getId(f),i=d(e);if(-1===h||-1===i)return c.addNode(e);let j=aA(e,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:a=>{dJ(a,this.mirror)&&this.iframeManager.addIframe(a),dK(a,this.mirror)&&this.stylesheetManager.trackLinkElement(a),dL(e)&&this.shadowDomManager.addShadowRoot(dw(e),this.doc)},onIframeLoad:(a,b)=>{this.iframeManager.attachIframe(a,b),this.shadowDomManager.observeAttachShadow(a)},onStylesheetLoad:(a,b)=>{this.stylesheetManager.attachLinkElement(a,b)},cssCaptured:g});j&&(a.push({parentId:h,nextId:i,node:j}),b.add(j.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let a of this.movedSet)(!d$(this.removesSubTreeCache,a,this.mirror)||this.movedSet.has(dq(a)))&&e(a);for(let a of this.addedSet)d_(this.droppedSet,a)||d$(this.removesSubTreeCache,a,this.mirror)?d_(this.movedSet,a)?e(a):this.droppedSet.add(a):e(a);let f=null;for(;c.length;){let a=null;if(f){let b=this.mirror.getId(dq(f.value)),c=d(f.value);-1!==b&&-1!==c&&(a=f)}if(!a){let b=c.tail;for(;b;){let c=b;if(b=b.previous,c){let b=this.mirror.getId(dq(c.value));if(-1===d(c.value))continue;if(-1!==b){a=c;break}{let b=dq(c.value);if(b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let d=dv(b);if(-1!==this.mirror.getId(d)){a=c;break}}}}}}if(!a){for(;c.head;)c.removeNode(c.head.value);break}f=a.previous,c.removeNode(a.value),e(a.value)}let g={texts:this.texts.map(a=>{let b=a.node,c=dq(b);return c&&"TEXTAREA"===c.tagName&&this.genTextAreaValueMutation(c),{id:this.mirror.getId(b),value:a.value}}).filter(a=>!b.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{let{attributes:b}=a;if("string"==typeof b.style){let c=JSON.stringify(a.styleDiff),d=JSON.stringify(a._unchangedStyles);c.length<b.style.length&&(c+d).split("var(").length===b.style.split("var(").length&&(b.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:b}}).filter(a=>!b.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:a};(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(g))}),J(this,"genTextAreaValueMutation",a=>{let b=this.attributeMap.get(a);b||(b={node:a,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(b),this.attributeMap.set(a,b));let c=Array.from(dp(a),a=>ds(a)||"").join("");b.attributes.value=ac({element:a,maskInputOptions:this.maskInputOptions,tagName:a.tagName,type:af(a),value:c,maskInputFn:this.maskInputFn})}),J(this,"processMutation",a=>{if(!dH(a.target,this.mirror,this.slimDOMOptions))switch(a.type){case"characterData":{let b=ds(a.target);dG(a.target,this.blockClass,this.blockSelector,!1)||b===a.oldValue||this.texts.push({value:ay(a.target,this.maskTextClass,this.maskTextSelector,!0)&&b?this.maskTextFn?this.maskTextFn(b,dF(a.target)):b.replace(/[\S]/g,"*"):b,node:a.target});break}case"attributes":{let b=a.target,c=a.attributeName,d=a.target.getAttribute(c);if("value"===c){let a=af(b);d=ac({element:b,maskInputOptions:this.maskInputOptions,tagName:b.tagName,type:a,value:d,maskInputFn:this.maskInputFn})}if(dG(a.target,this.blockClass,this.blockSelector,!1)||d===a.oldValue)return;let e=this.attributeMap.get(a.target);if("IFRAME"===b.tagName&&"src"===c&&!this.keepIframeSrcFn(d))if(b.contentDocument)return;else c="rr_src";if(e||(e={node:a.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(e),this.attributeMap.set(a.target,e)),"type"===c&&"INPUT"===b.tagName&&"password"===(a.oldValue||"").toLowerCase()&&b.setAttribute("data-rr-is-password","true"),!aw(b.tagName,c))if(e.attributes[c]=av(this.doc,ad(b.tagName),ad(c),d),"style"===c){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(a){this.unattachedDoc=this.doc}let c=this.unattachedDoc.createElement("span");for(let d of(a.oldValue&&c.setAttribute("style",a.oldValue),Array.from(b.style))){let a=b.style.getPropertyValue(d),f=b.style.getPropertyPriority(d);a!==c.style.getPropertyValue(d)||f!==c.style.getPropertyPriority(d)?""===f?e.styleDiff[d]=a:e.styleDiff[d]=[a,f]:e._unchangedStyles[d]=[a,f]}for(let a of Array.from(c.style))""===b.style.getPropertyValue(a)&&(e.styleDiff[a]=!1)}else"open"===c&&"DIALOG"===b.tagName&&(b.matches("dialog:modal")?e.attributes.rr_open_mode="modal":e.attributes.rr_open_mode="non-modal");break}case"childList":if(dG(a.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===a.target.tagName)return void this.genTextAreaValueMutation(a.target);a.addedNodes.forEach(b=>this.genAdds(b,a.target)),a.removedNodes.forEach(b=>{let c=this.mirror.getId(b),d=Z(a.target)?this.mirror.getId(dv(a.target)):this.mirror.getId(a.target);dG(a.target,this.blockClass,this.blockSelector,!1)||dH(b,this.mirror,this.slimDOMOptions)||-1===this.mirror.getId(b)||(this.addedSet.has(b)?(dZ(this.addedSet,b),this.droppedSet.add(b)):this.addedSet.has(a.target)&&-1===c||function a(b,c){if(Z(b))return!1;let d=c.getId(b);if(!c.has(d))return!0;let e=dq(b);return(!e||e.nodeType!==b.DOCUMENT_NODE)&&(!e||a(e,c))}(a.target,this.mirror)||(this.movedSet.has(b)&&this.movedMap[dX(c,d)]?dZ(this.movedSet,b):(this.removes.push({parentId:d,id:c,isShadow:!!(Z(a.target)&&$(a.target))||void 0}),function(a,b){let c=[a];for(;c.length;){let a=c.pop();b.has(a)||(b.add(a),dp(a).forEach(a=>c.push(a)))}}(b,this.removesSubTreeCache))),this.mapRemoves.push(b))})}}),J(this,"genAdds",(a,b)=>{if(!this.processedNodeManager.inOtherBuffer(a,this)&&!(this.addedSet.has(a)||this.movedSet.has(a))){if(this.mirror.hasNode(a)){if(dH(a,this.mirror,this.slimDOMOptions))return;this.movedSet.add(a);let c=null;b&&this.mirror.hasNode(b)&&(c=this.mirror.getId(b)),c&&-1!==c&&(this.movedMap[dX(this.mirror.getId(a),c)]=!0)}else this.addedSet.add(a),this.droppedSet.delete(a);!dG(a,this.blockClass,this.blockSelector,!1)&&(dp(a).forEach(a=>this.genAdds(a)),dL(a)&&dp(dw(a)).forEach(b=>{this.processedNodeManager.add(b,this),this.genAdds(b,a)}))}})}init(a){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(b=>{this[b]=a[b]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function dZ(a,b){a.delete(b),dp(b).forEach(b=>dZ(a,b))}function d$(a,b,c){var d;let e;return 0!==a.size&&(d=a,!!(e=dq(b))&&d.has(e))}function d_(a,b){return 0!==a.size&&function a(b,c){let d=dq(c);return!!d&&(!!b.has(d)||a(b,d))}(a,b)}let d0=a=>t?(...b)=>{try{return a(...b)}catch(a){if(t&&!0===t(a))return;throw a}}:a;function d1(a){return(...b)=>{try{return a(...b)}catch(a){try{a._external_=!0}catch{}throw a}}}let d2=[];function d3(a){try{if("composedPath"in a){let b=a.composedPath();if(b.length)return b[0]}else if("path"in a&&a.path.length)return a.path[0]}catch{}return a&&a.target}function d4(a,b){let c=new dY;d2.push(c),c.init(a);let d=new(dj("MutationObserver")).constructor(d0(c.processMutations.bind(c)));return d.observe(b,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),d}function d5({scrollCb:a,doc:b,mirror:c,blockClass:d,blockSelector:e,sampling:f}){return dx("scroll",d0(dy(d0(f=>{let g=d3(f);if(!g||dG(g,d,e,!0))return;let h=c.getId(g);if(g===b&&b.defaultView){let c=dC(b.defaultView);a({id:h,x:c.left,y:c.top})}else a({id:h,x:g.scrollLeft,y:g.scrollTop})}),f.scroll||100)),b)}let d6=["INPUT","TEXTAREA","SELECT"],d7=new WeakMap;function d8(a){var b=[];if(ec("CSSGroupingRule")&&a.parentRule instanceof CSSGroupingRule||ec("CSSMediaRule")&&a.parentRule instanceof CSSMediaRule||ec("CSSSupportsRule")&&a.parentRule instanceof CSSSupportsRule||ec("CSSConditionRule")&&a.parentRule instanceof CSSConditionRule){let c=Array.from(a.parentRule.cssRules).indexOf(a);b.unshift(c)}else if(a.parentStyleSheet){let c=Array.from(a.parentStyleSheet.cssRules).indexOf(a);b.unshift(c)}return b}function d9(a,b,c){let d,e;return a?(a.ownerNode?d=b.getId(a.ownerNode):e=c.getId(a),{styleId:e,id:d}):{}}function ea({mirror:a,stylesheetManager:b},c){var d,e,f;let g=null;g="#document"===c.nodeName?a.getId(c):a.getId(dv(c));let h="#document"===c.nodeName?null==(d=c.defaultView)?void 0:d.Document:null==(f=null==(e=c.ownerDocument)?void 0:e.defaultView)?void 0:f.ShadowRoot,i=(null==h?void 0:h.prototype)?Object.getOwnPropertyDescriptor(null==h?void 0:h.prototype,"adoptedStyleSheets"):void 0;return null!==g&&-1!==g&&h&&i?(Object.defineProperty(c,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var a;return null==(a=i.get)?void 0:a.call(this)},set(a){var c;let d=null==(c=i.set)?void 0:c.call(this,a);if(null!==g&&-1!==g)try{b.adoptStyleSheets(a,g)}catch(a){}return d}}),d0(()=>{Object.defineProperty(c,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})})):()=>{}}function eb(a,b={}){let c,d=a.doc.defaultView;if(!d)return()=>{};!function(a,b){let{mutationCb:c,mousemoveCb:d,mouseInteractionCb:e,scrollCb:f,viewportResizeCb:g,inputCb:h,mediaInteractionCb:i,styleSheetRuleCb:j,styleDeclarationCb:k,canvasMutationCb:l,fontCb:m,selectionCb:n,customElementCb:o}=a;a.mutationCb=(...a)=>{b.mutation&&b.mutation(...a),c(...a)},a.mousemoveCb=(...a)=>{b.mousemove&&b.mousemove(...a),d(...a)},a.mouseInteractionCb=(...a)=>{b.mouseInteraction&&b.mouseInteraction(...a),e(...a)},a.scrollCb=(...a)=>{b.scroll&&b.scroll(...a),f(...a)},a.viewportResizeCb=(...a)=>{b.viewportResize&&b.viewportResize(...a),g(...a)},a.inputCb=(...a)=>{b.input&&b.input(...a),h(...a)},a.mediaInteractionCb=(...a)=>{b.mediaInteaction&&b.mediaInteaction(...a),i(...a)},a.styleSheetRuleCb=(...a)=>{b.styleSheetRule&&b.styleSheetRule(...a),j(...a)},a.styleDeclarationCb=(...a)=>{b.styleDeclaration&&b.styleDeclaration(...a),k(...a)},a.canvasMutationCb=(...a)=>{b.canvasMutation&&b.canvasMutation(...a),l(...a)},a.fontCb=(...a)=>{b.font&&b.font(...a),m(...a)},a.selectionCb=(...a)=>{b.selection&&b.selection(...a),n(...a)},a.customElementCb=(...a)=>{b.customElement&&b.customElement(...a),o(...a)}}(a,b),a.recordDOM&&(c=d4(a,a.doc));let e=function({mousemoveCb:a,sampling:b,doc:c,mirror:d}){let e;if(!1===b.mousemove)return()=>{};let f="number"==typeof b.mousemove?b.mousemove:50,g="number"==typeof b.mousemoveCallback?b.mousemoveCallback:500,h=[],i=dy(d0(b=>{let c=Date.now()-e;a(h.map(a=>(a.timeOffset-=c,a)),b),h=[],e=null}),g),j=d0(dy(d0(a=>{let b=d3(a),{clientX:c,clientY:f}=dI(a)?a.changedTouches[0]:a;e||(e=dB()),h.push({x:c,y:f,id:d.getId(b),timeOffset:dB()-e}),i("u">typeof DragEvent&&a instanceof DragEvent?dQ.Drag:a instanceof MouseEvent?dQ.MouseMove:dQ.TouchMove)}),f,{trailing:!1})),k=[dx("mousemove",j,c),dx("touchmove",j,c),dx("drag",j,c)];return d0(()=>{k.forEach(a=>a())})}(a),f=function({mouseInteractionCb:a,doc:b,mirror:c,blockClass:d,blockSelector:e,sampling:f}){if(!1===f.mouseInteraction)return()=>{};let g=!0===f.mouseInteraction||void 0===f.mouseInteraction?{}:f.mouseInteraction,h=[],i=null;return Object.keys(dR).filter(a=>Number.isNaN(Number(a))&&!a.endsWith("_Departed")&&!1!==g[a]).forEach(f=>{let g=ad(f),j=b=>{let g=d3(b);if(dG(g,d,e,!0))return;let h=null,j=f;if("pointerType"in b){switch(b.pointerType){case"mouse":h=dS.Mouse;break;case"touch":h=dS.Touch;break;case"pen":h=dS.Pen}h===dS.Touch?dR[f]===dR.MouseDown?j="TouchStart":dR[f]===dR.MouseUp&&(j="TouchEnd"):dS.Pen}else dI(b)&&(h=dS.Touch);null!==h?(i=h,(j.startsWith("Touch")&&h===dS.Touch||j.startsWith("Mouse")&&h===dS.Mouse)&&(h=null)):dR[f]===dR.Click&&(h=i,i=null);let k=dI(b)?b.changedTouches[0]:b;if(!k)return;let l=c.getId(g),{clientX:m,clientY:n}=k;d0(a)({type:dR[j],id:l,x:m,y:n,...null!==h&&{pointerType:h}})};if(window.PointerEvent)switch(dR[f]){case dR.MouseDown:case dR.MouseUp:g=g.replace("mouse","pointer");break;case dR.TouchStart:case dR.TouchEnd:return}h.push(dx(g,j,b))}),d0(()=>{h.forEach(a=>a())})}(a),g=d5(a),h=function({viewportResizeCb:a},{win:b}){let c=-1,d=-1;return dx("resize",d0(dy(d0(()=>{let b=dD(),e=dE();(c!==b||d!==e)&&(a({width:Number(e),height:Number(b)}),c=b,d=e)}),200)),b)}(a,{win:d}),i=function({inputCb:a,doc:b,mirror:c,blockClass:d,blockSelector:e,ignoreClass:f,ignoreSelector:g,maskInputOptions:h,maskInputFn:i,sampling:j,userTriggeredOnInput:k}){function l(a){let c=d3(a),j=a.isTrusted,l=c&&c.tagName;if(c&&"OPTION"===l&&(c=dr(c)),!c||!l||0>d6.indexOf(l)||dG(c,d,e,!0)||c.classList.contains(f)||g&&c.matches(g))return;let n=c.value,o=!1,p=af(c)||"";"radio"===p||"checkbox"===p?o=c.checked:(h[l.toLowerCase()]||h[p])&&(n=ac({element:c,maskInputOptions:h,tagName:l,type:p,value:n,maskInputFn:i})),m(c,k?{text:n,isChecked:o,userTriggered:j}:{text:n,isChecked:o});let q=c.name;"radio"===p&&q&&o&&b.querySelectorAll(`input[type="radio"][name="${q}"]`).forEach(a=>{if(a!==c){let b=a.value;m(a,k?{text:b,isChecked:!o,userTriggered:!1}:{text:b,isChecked:!o})}})}function m(b,d){let e=d7.get(b);if(!e||e.text!==d.text||e.isChecked!==d.isChecked){d7.set(b,d);let e=c.getId(b);d0(a)({...d,id:e})}}let n=("last"===j.input?["change"]:["input","change"]).map(a=>dx(a,d0(l),b)),o=b.defaultView;if(!o)return()=>{n.forEach(a=>a())};let p=o.Object.getOwnPropertyDescriptor(o.HTMLInputElement.prototype,"value"),q=[[o.HTMLInputElement.prototype,"value"],[o.HTMLInputElement.prototype,"checked"],[o.HTMLSelectElement.prototype,"value"],[o.HTMLTextAreaElement.prototype,"value"],[o.HTMLSelectElement.prototype,"selectedIndex"],[o.HTMLOptionElement.prototype,"selected"]];return p&&p.set&&n.push(...q.map(a=>dz(a[0],a[1],{set(){d0(l)({target:this,isTrusted:!1})}},!1,o))),d0(()=>{n.forEach(a=>a())})}(a),j=function({mediaInteractionCb:a,blockClass:b,blockSelector:c,mirror:d,sampling:e,doc:f}){let g=d0(f=>dy(d0(e=>{let g=d3(e);if(!g||dG(g,b,c,!0))return;let{currentTime:h,volume:i,muted:j,playbackRate:k,loop:l}=g;a({type:f,id:d.getId(g),currentTime:h,volume:i,muted:j,playbackRate:k,loop:l})}),e.media||500)),h=[dx("play",g(dU.Play),f),dx("pause",g(dU.Pause),f),dx("seeked",g(dU.Seeked),f),dx("volumechange",g(dU.VolumeChange),f),dx("ratechange",g(dU.RateChange),f)];return d0(()=>{h.forEach(a=>a())})}(a),k=()=>{},l=()=>{},m=()=>{},n=()=>{};a.recordDOM&&(k=function({styleSheetRuleCb:a,mirror:b,stylesheetManager:c},{win:d}){let e,f;if(!d.CSSStyleSheet||!d.CSSStyleSheet.prototype)return()=>{};let g=d.CSSStyleSheet.prototype.insertRule;d.CSSStyleSheet.prototype.insertRule=new Proxy(g,{apply:d0((d,e,f)=>{let[g,h]=f,{id:i,styleId:j}=d9(e,b,c.styleMirror);return(i&&-1!==i||j&&-1!==j)&&a({id:i,styleId:j,adds:[{rule:g,index:h}]}),d1(()=>d.apply(e,f))()})}),d.CSSStyleSheet.prototype.addRule=function(a,b,c=this.cssRules.length){let e=`${a} { ${b} }`;return d.CSSStyleSheet.prototype.insertRule.apply(this,[e,c])};let h=d.CSSStyleSheet.prototype.deleteRule;d.CSSStyleSheet.prototype.deleteRule=new Proxy(h,{apply:d0((d,e,f)=>{let[g]=f,{id:h,styleId:i}=d9(e,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,removes:[{index:g}]}),d1(()=>d.apply(e,f))()})}),d.CSSStyleSheet.prototype.removeRule=function(a){return d.CSSStyleSheet.prototype.deleteRule.apply(this,[a])},d.CSSStyleSheet.prototype.replace&&(e=d.CSSStyleSheet.prototype.replace,d.CSSStyleSheet.prototype.replace=new Proxy(e,{apply:d0((d,e,f)=>{let[g]=f,{id:h,styleId:i}=d9(e,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,replace:g}),d.apply(e,f)})})),d.CSSStyleSheet.prototype.replaceSync&&(f=d.CSSStyleSheet.prototype.replaceSync,d.CSSStyleSheet.prototype.replaceSync=new Proxy(f,{apply:d0((d,e,f)=>{let[g]=f,{id:h,styleId:i}=d9(e,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,replaceSync:g}),d.apply(e,f)})}));let i={};ed("CSSGroupingRule")?i.CSSGroupingRule=d.CSSGroupingRule:(ed("CSSMediaRule")&&(i.CSSMediaRule=d.CSSMediaRule),ed("CSSConditionRule")&&(i.CSSConditionRule=d.CSSConditionRule),ed("CSSSupportsRule")&&(i.CSSSupportsRule=d.CSSSupportsRule));let j={};return Object.entries(i).forEach(([d,e])=>{j[d]={insertRule:e.prototype.insertRule,deleteRule:e.prototype.deleteRule},e.prototype.insertRule=new Proxy(j[d].insertRule,{apply:d0((d,e,f)=>{let[g,h]=f,{id:i,styleId:j}=d9(e.parentStyleSheet,b,c.styleMirror);return(i&&-1!==i||j&&-1!==j)&&a({id:i,styleId:j,adds:[{rule:g,index:[...d8(e),h||0]}]}),d.apply(e,f)})}),e.prototype.deleteRule=new Proxy(j[d].deleteRule,{apply:d0((d,e,f)=>{let[g]=f,{id:h,styleId:i}=d9(e.parentStyleSheet,b,c.styleMirror);return(h&&-1!==h||i&&-1!==i)&&a({id:h,styleId:i,removes:[{index:[...d8(e),g]}]}),d.apply(e,f)})})}),d0(()=>{d.CSSStyleSheet.prototype.insertRule=g,d.CSSStyleSheet.prototype.deleteRule=h,e&&(d.CSSStyleSheet.prototype.replace=e),f&&(d.CSSStyleSheet.prototype.replaceSync=f),Object.entries(i).forEach(([a,b])=>{b.prototype.insertRule=j[a].insertRule,b.prototype.deleteRule=j[a].deleteRule})})}(a,{win:d}),l=ea(a,a.doc),m=function({styleDeclarationCb:a,mirror:b,ignoreCSSAttributes:c,stylesheetManager:d},{win:e}){let f=e.CSSStyleDeclaration.prototype.setProperty;e.CSSStyleDeclaration.prototype.setProperty=new Proxy(f,{apply:d0((e,g,h)=>{var i;let[j,k,l]=h;if(c.has(j))return f.apply(g,[j,k,l]);let{id:m,styleId:n}=d9(null==(i=g.parentRule)?void 0:i.parentStyleSheet,b,d.styleMirror);return(m&&-1!==m||n&&-1!==n)&&a({id:m,styleId:n,set:{property:j,value:k,priority:l},index:d8(g.parentRule)}),e.apply(g,h)})});let g=e.CSSStyleDeclaration.prototype.removeProperty;return e.CSSStyleDeclaration.prototype.removeProperty=new Proxy(g,{apply:d0((e,f,h)=>{var i;let[j]=h;if(c.has(j))return g.apply(f,[j]);let{id:k,styleId:l}=d9(null==(i=f.parentRule)?void 0:i.parentStyleSheet,b,d.styleMirror);return(k&&-1!==k||l&&-1!==l)&&a({id:k,styleId:l,remove:{property:j},index:d8(f.parentRule)}),e.apply(f,h)})}),d0(()=>{e.CSSStyleDeclaration.prototype.setProperty=f,e.CSSStyleDeclaration.prototype.removeProperty=g})}(a,{win:d}),a.collectFonts&&(n=function({fontCb:a,doc:b}){let c=b.defaultView;if(!c)return()=>{};let d=[],e=new WeakMap,f=c.FontFace;c.FontFace=function(a,b,c){let d=new f(a,b,c);return e.set(d,{family:a,buffer:"string"!=typeof b,descriptors:c,fontSource:"string"==typeof b?b:JSON.stringify(Array.from(new Uint8Array(b)))}),d};let g=dA(b.fonts,"add",function(b){return function(c){return setTimeout(d0(()=>{let b=e.get(c);b&&(a(b),e.delete(c))}),0),b.apply(this,[c])}});return d.push(()=>{c.FontFace=f}),d.push(g),d0(()=>{d.forEach(a=>a())})}(a)));let o=function(a){let{doc:b,mirror:c,blockClass:d,blockSelector:e,selectionCb:f}=a,g=!0,h=d0(()=>{let a=b.getSelection();if(!a||g&&(null==a?void 0:a.isCollapsed))return;g=a.isCollapsed||!1;let h=[],i=a.rangeCount||0;for(let b=0;b<i;b++){let{startContainer:f,startOffset:g,endContainer:i,endOffset:j}=a.getRangeAt(b);dG(f,d,e,!0)||dG(i,d,e,!0)||h.push({start:c.getId(f),startOffset:g,end:c.getId(i),endOffset:j})}f({ranges:h})});return h(),dx("selectionchange",h)}(a),p=function({doc:a,customElementCb:b}){let c=a.defaultView;return c&&c.customElements?dA(c.customElements,"define",function(a){return function(c,d,e){try{b({define:{name:c}})}catch(a){console.warn(`Custom element callback failed for ${c}`)}return a.apply(this,[c,d,e])}}):()=>{}}(a),q=[];for(let b of a.plugins)q.push(b.observer(b.callback,d,b.options));return d0(()=>{d2.forEach(a=>a.reset()),null==c||c.disconnect(),e(),f(),g(),h(),i(),j(),k(),l(),m(),n(),o(),p(),q.forEach(a=>a())})}function ec(a){return void 0!==window[a]}function ed(a){return!!(void 0!==window[a]&&window[a].prototype&&"insertRule"in window[a].prototype&&"deleteRule"in window[a].prototype)}class ee{constructor(a){J(this,"iframeIdToRemoteIdMap",new WeakMap),J(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=a}getId(a,b,c,d){let e=c||this.getIdToRemoteIdMap(a),f=d||this.getRemoteIdToIdMap(a),g=e.get(b);return g||(g=this.generateIdFn(),e.set(b,g),f.set(g,b)),g}getIds(a,b){let c=this.getIdToRemoteIdMap(a),d=this.getRemoteIdToIdMap(a);return b.map(b=>this.getId(a,b,c,d))}getRemoteId(a,b,c){let d=c||this.getRemoteIdToIdMap(a);if("number"!=typeof b)return b;let e=d.get(b);return e||-1}getRemoteIds(a,b){let c=this.getRemoteIdToIdMap(a);return b.map(b=>this.getRemoteId(a,b,c))}reset(a){if(!a){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(a),this.iframeRemoteIdToIdMap.delete(a)}getIdToRemoteIdMap(a){let b=this.iframeIdToRemoteIdMap.get(a);return b||(b=new Map,this.iframeIdToRemoteIdMap.set(a,b)),b}getRemoteIdToIdMap(a){let b=this.iframeRemoteIdToIdMap.get(a);return b||(b=new Map,this.iframeRemoteIdToIdMap.set(a,b)),b}}class ef{constructor(a){J(this,"iframes",new WeakMap),J(this,"crossOriginIframeMap",new WeakMap),J(this,"crossOriginIframeMirror",new ee(ap)),J(this,"crossOriginIframeStyleMirror"),J(this,"crossOriginIframeRootIdMap",new WeakMap),J(this,"mirror"),J(this,"mutationCb"),J(this,"wrappedEmit"),J(this,"loadListener"),J(this,"stylesheetManager"),J(this,"recordCrossOriginIframes"),this.mutationCb=a.mutationCb,this.wrappedEmit=a.wrappedEmit,this.stylesheetManager=a.stylesheetManager,this.recordCrossOriginIframes=a.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ee(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=a.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(a){this.iframes.set(a,!0),a.contentWindow&&this.crossOriginIframeMap.set(a.contentWindow,a)}addLoadListener(a){this.loadListener=a}attachIframe(a,b){var c,d;this.mutationCb({adds:[{parentId:this.mirror.getId(a),nextId:null,node:b}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(c=a.contentWindow)||c.addEventListener("message",this.handleMessage.bind(this))),null==(d=this.loadListener)||d.call(this,a),a.contentDocument&&a.contentDocument.adoptedStyleSheets&&a.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(a.contentDocument.adoptedStyleSheets,this.mirror.getId(a.contentDocument))}handleMessage(a){if("rrweb"!==a.data.type||a.origin!==a.data.origin||!a.source)return;let b=this.crossOriginIframeMap.get(a.source);if(!b)return;let c=this.transformCrossOriginEvent(b,a.data.event);c&&this.wrappedEmit(c,a.data.isCheckout)}transformCrossOriginEvent(a,b){var c;switch(b.type){case dP.FullSnapshot:{this.crossOriginIframeMirror.reset(a),this.crossOriginIframeStyleMirror.reset(a),this.replaceIdOnNode(b.data.node,a);let c=b.data.node.id;return this.crossOriginIframeRootIdMap.set(a,c),this.patchRootIdOnNode(b.data.node,c),{timestamp:b.timestamp,type:dP.IncrementalSnapshot,data:{source:dQ.Mutation,adds:[{parentId:this.mirror.getId(a),nextId:null,node:b.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case dP.Meta:case dP.Load:case dP.DomContentLoaded:break;case dP.Plugin:return b;case dP.Custom:return this.replaceIds(b.data.payload,a,["id","parentId","previousId","nextId"]),b;case dP.IncrementalSnapshot:switch(b.data.source){case dQ.Mutation:return b.data.adds.forEach(b=>{this.replaceIds(b,a,["parentId","nextId","previousId"]),this.replaceIdOnNode(b.node,a);let c=this.crossOriginIframeRootIdMap.get(a);c&&this.patchRootIdOnNode(b.node,c)}),b.data.removes.forEach(b=>{this.replaceIds(b,a,["parentId","id"])}),b.data.attributes.forEach(b=>{this.replaceIds(b,a,["id"])}),b.data.texts.forEach(b=>{this.replaceIds(b,a,["id"])}),b;case dQ.Drag:case dQ.TouchMove:case dQ.MouseMove:return b.data.positions.forEach(b=>{this.replaceIds(b,a,["id"])}),b;case dQ.ViewportResize:return!1;case dQ.MediaInteraction:case dQ.MouseInteraction:case dQ.Scroll:case dQ.CanvasMutation:case dQ.Input:return this.replaceIds(b.data,a,["id"]),b;case dQ.StyleSheetRule:case dQ.StyleDeclaration:return this.replaceIds(b.data,a,["id"]),this.replaceStyleIds(b.data,a,["styleId"]),b;case dQ.Font:return b;case dQ.Selection:return b.data.ranges.forEach(b=>{this.replaceIds(b,a,["start","end"])}),b;case dQ.AdoptedStyleSheet:return this.replaceIds(b.data,a,["id"]),this.replaceStyleIds(b.data,a,["styleIds"]),null==(c=b.data.styles)||c.forEach(b=>{this.replaceStyleIds(b,a,["styleId"])}),b}}return!1}replace(a,b,c,d){for(let e of d)(Array.isArray(b[e])||"number"==typeof b[e])&&(Array.isArray(b[e])?b[e]=a.getIds(c,b[e]):b[e]=a.getId(c,b[e]));return b}replaceIds(a,b,c){return this.replace(this.crossOriginIframeMirror,a,b,c)}replaceStyleIds(a,b,c){return this.replace(this.crossOriginIframeStyleMirror,a,b,c)}replaceIdOnNode(a,b){this.replaceIds(a,b,["id","rootId"]),"childNodes"in a&&a.childNodes.forEach(a=>{this.replaceIdOnNode(a,b)})}patchRootIdOnNode(a,b){a.type===dV.Document||a.rootId||(a.rootId=b),"childNodes"in a&&a.childNodes.forEach(a=>{this.patchRootIdOnNode(a,b)})}}class eg{constructor(a){J(this,"shadowDoms",new WeakSet),J(this,"mutationCb"),J(this,"scrollCb"),J(this,"bypassOptions"),J(this,"mirror"),J(this,"restoreHandlers",[]),this.mutationCb=a.mutationCb,this.scrollCb=a.scrollCb,this.bypassOptions=a.bypassOptions,this.mirror=a.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(a,b){if(!$(a)||this.shadowDoms.has(a))return;this.shadowDoms.add(a);let c=d4({...this.bypassOptions,doc:b,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},a);this.restoreHandlers.push(()=>c.disconnect()),this.restoreHandlers.push(d5({...this.bypassOptions,scrollCb:this.scrollCb,doc:a,mirror:this.mirror})),setTimeout(()=>{a.adoptedStyleSheets&&a.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(a.adoptedStyleSheets,this.mirror.getId(dv(a))),this.restoreHandlers.push(ea({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},a))},0)}observeAttachShadow(a){a.contentWindow&&a.contentDocument&&this.patchAttachShadow(a.contentWindow.Element,a.contentDocument)}patchAttachShadow(a,b){let c=this;this.restoreHandlers.push(dA(a.prototype,"attachShadow",function(a){return function(d){let e=a.call(this,d),f=dw(this);return f&&dO(this)&&c.addShadowRoot(f,b),e}}))}reset(){this.restoreHandlers.forEach(a=>{try{a()}catch(a){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ei="u"<typeof Uint8Array?[]:new Uint8Array(256),ej=0;ej<eh.length;ej++)ei[eh.charCodeAt(ej)]=ej;var ek=function(a){var b,c=new Uint8Array(a),d=c.length,e="";for(b=0;b<d;b+=3)e+=eh[c[b]>>2],e+=eh[(3&c[b])<<4|c[b+1]>>4],e+=eh[(15&c[b+1])<<2|c[b+2]>>6],e+=eh[63&c[b+2]];return d%3==2?e=e.substring(0,e.length-1)+"=":d%3==1&&(e=e.substring(0,e.length-2)+"=="),e};let el=new Map,em=(a,b,c)=>{let d;if(!a||!(eo(a,b)||"object"==typeof a))return;let e=a.constructor.name,f=((d=el.get(c))||(d=new Map,el.set(c,d)),d.has(e)||d.set(e,[]),d.get(e)),g=f.indexOf(a);return -1===g&&(g=f.length,f.push(a)),g},en=(a,b,c)=>a.map(a=>(function a(b,c,d){if(b instanceof Array)return b.map(b=>a(b,c,d));if(null===b);else if(b instanceof Float32Array||b instanceof Float64Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Uint8Array||b instanceof Uint16Array||b instanceof Int16Array||b instanceof Int8Array||b instanceof Uint8ClampedArray)return{rr_type:b.constructor.name,args:[Object.values(b)]};else if(b instanceof ArrayBuffer)return{rr_type:b.constructor.name,base64:ek(b)};else if(b instanceof DataView)return{rr_type:b.constructor.name,args:[a(b.buffer,c,d),b.byteOffset,b.byteLength]};else if(b instanceof HTMLImageElement){let a=b.constructor.name,{src:c}=b;return{rr_type:a,src:c}}else if(b instanceof HTMLCanvasElement)return{rr_type:"HTMLImageElement",src:b.toDataURL()};else if(b instanceof ImageData)return{rr_type:b.constructor.name,args:[a(b.data,c,d),b.width,b.height]};else if(eo(b,c)||"object"==typeof b)return{rr_type:b.constructor.name,index:em(b,c,d)};return b})(a,b,c)),eo=(a,b)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(a=>"function"==typeof b[a]).find(c=>a instanceof b[c]);function ep(a,b,c,d){let e=[];try{let f=dA(a.HTMLCanvasElement.prototype,"getContext",function(a){return function(e,...f){if(!dG(this,b,c,!0)){let a="experimental-webgl"===e?"webgl":e;if("__context"in this||(this.__context=a),d&&["webgl","webgl2"].includes(a))if(f[0]&&"object"==typeof f[0]){let a=f[0];a.preserveDrawingBuffer||(a.preserveDrawingBuffer=!0)}else f.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[e,...f])}});e.push(f)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{e.forEach(a=>a())}}function eq(a,b,c,d,e,f){let g=[];for(let h of Object.getOwnPropertyNames(a))if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(h))try{if("function"!=typeof a[h])continue;let i=dA(a,h,function(a){return function(...g){let i=a.apply(this,g);if(em(i,f,this),"tagName"in this.canvas&&!dG(this.canvas,d,e,!0)){let a=en(g,f,this),d={type:b,property:h,args:a};c(this.canvas,d)}return i}});g.push(i)}catch{let d=dz(a,h,{set(a){c(this.canvas,{type:b,property:h,args:[a],setter:!0})}});g.push(d)}return g}function er(a){let b;try{throw b=!1,""}catch(b){return new Worker("data:text/javascript;base64,KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",{name:null==a?void 0:a.name})}finally{b&&(window.URL||window.webkitURL).revokeObjectURL(b)}}class es{constructor(a){J(this,"pendingCanvasMutations",new Map),J(this,"rafStamps",{latestId:0,invokeId:null}),J(this,"mirror"),J(this,"mutationCb"),J(this,"resetObservers"),J(this,"frozen",!1),J(this,"locked",!1),J(this,"processMutation",(a,b)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(b)});const{sampling:b="all",win:c,blockClass:d,blockSelector:e,recordCanvas:f,dataURLOptions:g}=a;this.mutationCb=a.mutationCb,this.mirror=a.mirror,f&&"all"===b&&this.initCanvasMutationObserver(c,d,e),f&&"number"==typeof b&&this.initCanvasFPSObserver(b,c,d,e,{dataURLOptions:g})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(a,b,c,d,e){let f,g=ep(b,c,d,!0),h=new Map,i=new er;i.onmessage=a=>{let{id:b}=a.data;if(h.set(b,!1),!("base64"in a.data))return;let{base64:c,type:d,width:e,height:f}=a.data;this.mutationCb({id:b,type:dT["2D"],commands:[{property:"clearRect",args:[0,0,e,f]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:c}],type:d}]},0,0]}]})};let j=1e3/a,k=0,l=a=>{let g;if(k&&a-k<j){f=requestAnimationFrame(l);return}k=a,(g=[],b.document.querySelectorAll("canvas").forEach(a=>{dG(a,c,d,!0)||g.push(a)}),g).forEach(async a=>{var b;let c=this.mirror.getId(a);if(h.get(c)||0===a.width||0===a.height)return;if(h.set(c,!0),["webgl","webgl2"].includes(a.__context)){let c=a.getContext(a.__context);(null==(b=null==c?void 0:c.getContextAttributes())?void 0:b.preserveDrawingBuffer)===!1&&c.clear(c.COLOR_BUFFER_BIT)}let d=await createImageBitmap(a);i.postMessage({id:c,bitmap:d,width:a.width,height:a.height,dataURLOptions:e.dataURLOptions},[d])}),f=requestAnimationFrame(l)};f=requestAnimationFrame(l),this.resetObservers=()=>{g(),cancelAnimationFrame(f)}}initCanvasMutationObserver(a,b,c){var d;let e;this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let f=ep(a,b,c,!1),g=function(a,b,c,d){let e=[];for(let f of Object.getOwnPropertyNames(b.CanvasRenderingContext2D.prototype))try{if("function"!=typeof b.CanvasRenderingContext2D.prototype[f])continue;let g=dA(b.CanvasRenderingContext2D.prototype,f,function(e){return function(...g){return dG(this.canvas,c,d,!0)||setTimeout(()=>{let c=en(g,b,this);a(this.canvas,{type:dT["2D"],property:f,args:c})},0),e.apply(this,g)}});e.push(g)}catch{let c=dz(b.CanvasRenderingContext2D.prototype,f,{set(b){a(this.canvas,{type:dT["2D"],property:f,args:[b],setter:!0})}});e.push(c)}return()=>{e.forEach(a=>a())}}(this.processMutation.bind(this),a,b,c),h=(d=this.processMutation.bind(this),(e=[]).push(...eq(a.WebGLRenderingContext.prototype,dT.WebGL,d,b,c,a)),void 0!==a.WebGL2RenderingContext&&e.push(...eq(a.WebGL2RenderingContext.prototype,dT.WebGL2,d,b,c,a)),()=>{e.forEach(a=>a())});this.resetObservers=()=>{f(),g(),h()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let a=b=>{this.rafStamps.latestId=b,requestAnimationFrame(a)};requestAnimationFrame(a)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((a,b)=>{let c=this.mirror.getId(b);this.flushPendingCanvasMutationFor(b,c)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(a,b){if(this.frozen||this.locked)return;let c=this.pendingCanvasMutations.get(a);if(!c||-1===b)return;let d=c.map(a=>{let{type:b,...c}=a;return c}),{type:e}=c[0];this.mutationCb({id:b,type:e,commands:d}),this.pendingCanvasMutations.delete(a)}}class et{constructor(a){J(this,"trackedLinkElements",new WeakSet),J(this,"mutationCb"),J(this,"adoptedStyleSheetCb"),J(this,"styleMirror",new dM),this.mutationCb=a.mutationCb,this.adoptedStyleSheetCb=a.adoptedStyleSheetCb}attachLinkElement(a,b){"_cssText"in b.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:b.id,attributes:b.attributes}]}),this.trackLinkElement(a)}trackLinkElement(a){this.trackedLinkElements.has(a)||(this.trackedLinkElements.add(a),this.trackStylesheetInLinkElement(a))}adoptStyleSheets(a,b){if(0===a.length)return;let c={id:b,styleIds:[]},d=[];for(let b of a){let a;this.styleMirror.has(b)?a=this.styleMirror.getId(b):(a=this.styleMirror.add(b),d.push({styleId:a,rules:Array.from(b.rules||CSSRule,(a,c)=>({rule:aa(a,b.href),index:c}))})),c.styleIds.push(a)}d.length>0&&(c.styles=d),this.adoptedStyleSheetCb(c)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(a){}}class eu{constructor(){J(this,"nodeMap",new WeakMap),J(this,"active",!1)}inOtherBuffer(a,b){let c=this.nodeMap.get(a);return c&&Array.from(c).some(a=>a!==b)}add(a,b){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(a,(this.nodeMap.get(a)||new Set).add(b))}destroy(){}}let ev=!1;try{if(2!==Array.from([1],a=>2*a)[0]){let a=document.createElement("iframe");document.body.appendChild(a),Array.from=(null==(G=a.contentWindow)?void 0:G.Array.from)||Array.from,document.body.removeChild(a)}}catch(a){console.debug("Unable to override Array.from",a)}let ew=new ab;function ex(a={}){let b,{emit:c,checkoutEveryNms:d,checkoutEveryNth:e,blockClass:f="rr-block",blockSelector:g=null,ignoreClass:h="rr-ignore",ignoreSelector:i=null,maskTextClass:j="rr-mask",maskTextSelector:k=null,inlineStylesheet:l=!0,maskAllInputs:m,maskInputOptions:n,slimDOMOptions:o,maskInputFn:p,maskTextFn:q,hooks:r,packFn:s,sampling:x={},dataURLOptions:y={},mousemoveWait:z,recordDOM:A=!0,recordCanvas:B=!1,recordCrossOriginIframes:C=!1,recordAfter:D="DOMContentLoaded"===a.recordAfter?a.recordAfter:"load",userTriggeredOnInput:E=!1,collectFonts:F=!1,inlineImages:G=!1,plugins:H,keepIframeSrcFn:I=()=>!1,ignoreCSSAttributes:J=new Set([]),errorHandler:K,applyBackgroundColorToBlockedElements:L=!1}=a;t=K;let M=!C||window.parent===window,N=!1;if(!M)try{window.parent.document&&(N=!1)}catch(a){N=!0}if(M&&!c)throw Error("emit function is required");if(!M&&!N)return()=>{};void 0!==z&&void 0===x.mousemove&&(x.mousemove=z),ew.reset();let O=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==n?n:{password:!0},P=!0===o||"all"===o?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===o,headMetaDescKeywords:"all"===o,headTitleMutations:"all"===o}:o||{};!function(a=window){"NodeList"in a&&!a.NodeList.prototype.forEach&&(a.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in a&&!a.DOMTokenList.prototype.forEach&&(a.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();let Q=0,R=a=>{for(let b of H||[])b.eventProcessor&&(a=b.eventProcessor(a));return s&&!N&&(a=s(a)),a};u=(a,f)=>{var g;if(a.timestamp=dB(),(null==(g=d2[0])?void 0:g.isFrozen())&&a.type!==dP.FullSnapshot&&(a.type!==dP.IncrementalSnapshot||a.data.source!==dQ.Mutation)&&d2.forEach(a=>a.unfreeze()),M)null==c||c(R(a),f);else if(N){let b={type:"rrweb",event:R(a),origin:window.location.origin,isCheckout:f};window.parent.postMessage(b,"*")}if(a.type===dP.FullSnapshot)b=a,Q=0;else if(a.type===dP.IncrementalSnapshot){if(a.data.source===dQ.Mutation&&a.data.isAttachIframe)return;Q++;let c=e&&Q>=e,f=d&&a.timestamp-b.timestamp>d;(c||f)&&v(!0)}};let S=a=>{u({type:dP.IncrementalSnapshot,data:{source:dQ.Mutation,...a}})},T=a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.Scroll,...a}}),U=a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.CanvasMutation,...a}}),V=new et({mutationCb:S,adoptedStyleSheetCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.AdoptedStyleSheet,...a}})}),W=new ef({mirror:ew,mutationCb:S,stylesheetManager:V,recordCrossOriginIframes:C,wrappedEmit:u});for(let a of H||[])a.getMirror&&a.getMirror({nodeMirror:ew,crossOriginIframeMirror:W.crossOriginIframeMirror,crossOriginIframeStyleMirror:W.crossOriginIframeStyleMirror});let X=new eu;w=new es({recordCanvas:B,mutationCb:U,win:window,blockClass:f,blockSelector:g,mirror:ew,sampling:x.canvas,dataURLOptions:y});let Y=new eg({mutationCb:S,scrollCb:T,bypassOptions:{blockClass:f,blockSelector:g,maskTextClass:j,maskTextSelector:k,inlineStylesheet:l,maskInputOptions:O,dataURLOptions:y,maskTextFn:q,maskInputFn:p,recordCanvas:B,inlineImages:G,sampling:x,slimDOMOptions:P,iframeManager:W,stylesheetManager:V,canvasManager:w,keepIframeSrcFn:I,processedNodeManager:X},mirror:ew});v=(a=!1)=>{if(!A)return;u({type:dP.Meta,data:{href:window.location.href,width:dE(),height:dD()}},a),V.reset(),Y.init(),d2.forEach(a=>a.lock());let b=function(a,b){let{mirror:c=new ab,blockClass:d="rr-block",blockSelector:e=null,maskTextClass:f="rr-mask",maskTextSelector:g=null,inlineStylesheet:h=!0,inlineImages:i=!1,recordCanvas:j=!1,maskAllInputs:k=!1,maskTextFn:l,maskInputFn:m,slimDOM:n=!1,dataURLOptions:o,preserveWhiteSpace:p,onSerialize:q,onIframeLoad:r,iframeLoadTimeout:s,onStylesheetLoad:t,stylesheetLoadTimeout:u,keepIframeSrcFn:v=()=>!1,applyBackgroundColorToBlockedElements:w=!1}=b||{};return aA(a,{doc:a,mirror:c,blockClass:d,blockSelector:e,maskTextClass:f,maskTextSelector:g,skipChild:!1,inlineStylesheet:h,maskInputOptions:!0===k?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===k?{password:!0}:k,maskTextFn:l,maskInputFn:m,slimDOMOptions:!0===n||"all"===n?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===n,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===n?{}:n,dataURLOptions:o,inlineImages:i,recordCanvas:j,preserveWhiteSpace:p,onSerialize:q,onIframeLoad:r,iframeLoadTimeout:s,onStylesheetLoad:t,stylesheetLoadTimeout:u,keepIframeSrcFn:v,newlyAddedElement:!1,applyBackgroundColorToBlockedElements:w})}(document,{mirror:ew,blockClass:f,blockSelector:g,maskTextClass:j,maskTextSelector:k,inlineStylesheet:l,maskAllInputs:O,maskTextFn:q,maskInputFn:p,slimDOM:P,dataURLOptions:y,recordCanvas:B,inlineImages:G,applyBackgroundColorToBlockedElements:L,onSerialize:a=>{dJ(a,ew)&&W.addIframe(a),dK(a,ew)&&V.trackLinkElement(a),dL(a)&&Y.addShadowRoot(dw(a),document)},onIframeLoad:(a,b)=>{W.attachIframe(a,b),Y.observeAttachShadow(a)},onStylesheetLoad:(a,b)=>{V.attachLinkElement(a,b)},keepIframeSrcFn:I});if(!b)return console.warn("Failed to snapshot the document");u({type:dP.FullSnapshot,data:{node:b,initialOffset:dC(window)}},a),d2.forEach(a=>a.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&V.adoptStyleSheets(document.adoptedStyleSheets,ew.getId(document))};try{let a=[],b=a=>{var b;return d0(eb)({mutationCb:S,mousemoveCb:(a,b)=>u({type:dP.IncrementalSnapshot,data:{source:b,positions:a}}),mouseInteractionCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.MouseInteraction,...a}}),scrollCb:T,viewportResizeCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.ViewportResize,...a}}),inputCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.Input,...a}}),mediaInteractionCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.MediaInteraction,...a}}),styleSheetRuleCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.StyleSheetRule,...a}}),styleDeclarationCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.StyleDeclaration,...a}}),canvasMutationCb:U,fontCb:a=>u({type:dP.IncrementalSnapshot,data:{source:dQ.Font,...a}}),selectionCb:a=>{u({type:dP.IncrementalSnapshot,data:{source:dQ.Selection,...a}})},customElementCb:a=>{u({type:dP.IncrementalSnapshot,data:{source:dQ.CustomElement,...a}})},blockClass:f,ignoreClass:h,ignoreSelector:i,maskTextClass:j,maskTextSelector:k,maskInputOptions:O,inlineStylesheet:l,sampling:x,recordDOM:A,recordCanvas:B,inlineImages:G,userTriggeredOnInput:E,collectFonts:F,doc:a,maskInputFn:p,maskTextFn:q,keepIframeSrcFn:I,blockSelector:g,slimDOMOptions:P,dataURLOptions:y,mirror:ew,iframeManager:W,stylesheetManager:V,shadowDomManager:Y,processedNodeManager:X,canvasManager:w,ignoreCSSAttributes:J,plugins:(null==(b=null==H?void 0:H.filter(a=>a.observer))?void 0:b.map(a=>({observer:a.observer,options:a.options,callback:b=>u({type:dP.Plugin,data:{plugin:a.name,payload:b}})})))||[]},r)};W.addLoadListener(c=>{try{a.push(b(c.contentDocument))}catch(a){console.warn(a)}});let c=()=>{v(),a.push(b(document)),ev=!0};return"interactive"===document.readyState||"complete"===document.readyState?c():(a.push(dx("DOMContentLoaded",()=>{u({type:dP.DomContentLoaded,data:{}}),"DOMContentLoaded"===D&&c()})),a.push(dx("load",()=>{u({type:dP.Load,data:{}}),"load"===D&&c()},window))),()=>{a.forEach(a=>a()),X.destroy(),ev=!1,t=void 0}}catch(a){console.warn(a)}}ex.addCustomEvent=(a,b)=>{if(!ev)throw Error("please add custom event after start recording");u({type:dP.Custom,data:{tag:a,payload:b}})},ex.freezePage=()=>{d2.forEach(a=>a.freeze())},ex.takeFullSnapshot=a=>{if(!ev)throw Error("please take full snapshot after start recording");v(a)},ex.mirror=ew,(F=H||(H={}))[F.NotStarted=0]="NotStarted",F[F.Running=1]="Running",F[F.Stopped=2]="Stopped",a.s(["record",()=>ex])}];

//# sourceMappingURL=d32d6_%40amplitude_rrweb-record_dist_rrweb-record_9ec258c9.js.map