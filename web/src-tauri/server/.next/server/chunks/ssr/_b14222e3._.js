module.exports=[948482,a=>{"use strict";var b=a.i(57843);let c=b.forwardRef(function({title:a,titleId:c,...d},e){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":c},d),a?b.createElement("title",{id:c},a):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});a.s(["ChevronDownIcon",0,c],948482)},839580,a=>{"use strict";var b=a.i(41511);a.s(["getImageUploadErrorMessage",0,(a,b,c)=>{let d=a?.response?.code;return"forbidden"===d?a?.response?.message:"file_extension_blocked"===d?c("fileUploader.fileExtensionBlocked",{ns:"common"}):b},"imageUpload",0,({file:a,onProgressCallback:c,onSuccessCallback:d,onErrorCallback:e},f,g)=>{let h=new FormData;h.append("file",a),(0,b.upload)({xhr:new XMLHttpRequest,data:h,onprogress:a=>{a.lengthComputable&&c(Math.floor(a.loaded/a.total*100))}},f,g).then(a=>{d(a)}).catch(a=>{e(a)})}])},958074,a=>{"use strict";var b=a.i(608061),c=a.i(680697),d=a.i(948482),e=a.i(57843);let f=e.forwardRef(function({title:a,titleId:b,...c},d){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?e.createElement("title",{id:b},a):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}),g=e.forwardRef(function({title:a,titleId:b,...c},d){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?e.createElement("title",{id:b},a):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});var h=a.i(203510),i=a.i(757801),j=a.i(816134),k=a.i(527344),l=a.i(112247);(0,h.init)({data:c.default});let m=["#FFEAD5","#E4FBCC","#D3F8DF","#E0F2FE","#E0EAFF","#EFF1F5","#FBE8FF","#FCE7F6","#FEF7C3","#E6F4D7","#D5F5F6","#D1E9FF","#D1E0FF","#D5D9EB","#ECE9FE","#FFE4E8"];a.s(["default",0,({onSelect:a,className:h})=>{let{categories:n}=c.default,[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(m[0]),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)([]),[w,x]=(0,e.useState)(!1);return e.useEffect(()=>{o&&(t(!0),q&&a?.(o,q))},[a,o,q]),(0,b.jsxs)("div",{className:(0,k.cn)(h,"flex flex-col"),children:[(0,b.jsx)("div",{className:"flex w-full flex-col items-center px-3 pb-2",children:(0,b.jsxs)("div",{className:"relative w-full",children:[(0,b.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 z-10 flex items-center pl-3",children:(0,b.jsx)(g,{className:"h-5 w-5 text-text-quaternary","aria-hidden":"true"})}),(0,b.jsx)(j.default,{className:"pl-10",type:"search",id:"search",placeholder:"Search emojis...",onChange:async a=>{""===a.target.value?x(!1):(x(!0),v(await (0,l.searchEmoji)(a.target.value)))}})]})}),(0,b.jsx)(i.default,{className:"my-3"}),(0,b.jsxs)("div",{className:"max-h-[200px] w-full overflow-y-auto overflow-x-hidden px-3",children:[w&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("p",{className:"system-xs-medium-uppercase mb-1 text-text-primary",children:"Search"}),(0,b.jsx)("div",{className:"grid h-full w-full grid-cols-8 gap-1",children:u.map((a,c)=>(0,b.jsx)("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg",onClick:()=>{p(a)},children:(0,b.jsx)("div",{className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg p-1 ring-components-input-border-hover ring-offset-1 hover:ring-1",children:(0,b.jsx)("em-emoji",{id:a})})},`emoji-search-${c}`))})]},"category-search")}),n.map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("p",{className:"system-xs-medium-uppercase mb-1 text-text-primary",children:a.id}),(0,b.jsx)("div",{className:"grid h-full w-full grid-cols-8 gap-1",children:a.emojis.map((a,c)=>(0,b.jsx)("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg",onClick:()=>{p(a)},children:(0,b.jsx)("div",{className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg p-1 ring-components-input-border-hover ring-offset-1 hover:ring-1",children:(0,b.jsx)("em-emoji",{id:a})})},`emoji-${c}`))})]},`category-${c}`))]}),(0,b.jsxs)("div",{className:(0,k.cn)("flex items-center justify-between p-3 pb-0"),children:[(0,b.jsx)("p",{className:"system-xs-medium-uppercase mb-2 text-text-primary",children:"Choose Style"}),s?(0,b.jsx)(d.ChevronDownIcon,{className:"h-4 w-4 cursor-pointer text-text-quaternary",onClick:()=>t(!s)}):(0,b.jsx)(f,{className:"h-4 w-4 cursor-pointer text-text-quaternary",onClick:()=>t(!s)})]}),s&&(0,b.jsx)("div",{className:"grid w-full grid-cols-8 gap-1 px-3",children:m.map(a=>(0,b.jsx)("div",{className:(0,k.cn)("cursor-pointer","ring-offset-1 hover:ring-1","inline-flex h-10 w-10 items-center justify-center rounded-lg",a===q?"ring-1 ring-components-input-border-hover":""),onClick:()=>{r(a)},children:(0,b.jsx)("div",{className:(0,k.cn)("flex h-8 w-8 items-center justify-center rounded-lg p-1"),style:{background:a},children:""!==o&&(0,b.jsx)("em-emoji",{id:o})})},a))})]})}],958074)},112247,a=>{"use strict";var b=a.i(203510);async function c(a){return(await b.SearchIndex.search(a)||[]).map(a=>a.skins[0].native)}a.s(["searchEmoji",()=>c])},305381,a=>{"use strict";var b=a.i(533306),c=a.i(57843);a.i(752298);var d=a.i(693025),e=a.i(114715),f=a.i(954200),g=a.i(839580);a.s(["useImageFiles",0,()=>{let a=(0,b.useParams)(),{t:f}=(0,d.useTranslation)(),{notify:h}=(0,e.useToastContext)(),[i,j]=(0,c.useState)([]),k=(0,c.useRef)([]);return{files:(0,c.useMemo)(()=>i.filter(a=>!a.deleted),[i]),onUpload:a=>{let b=k.current,c=b.findIndex(b=>b._id===a._id);if(c>-1){let d=b[c],e=[...b.slice(0,c),{...d,...a},...b.slice(c+1)];j(e),k.current=e}else{let c=[...b,a];j(c),k.current=c}},onRemove:a=>{let b=k.current,c=b.findIndex(b=>b._id===a);if(c>-1){let a=b[c],d=[...b.slice(0,c),{...a,deleted:!0},...b.slice(c+1)];j(d),k.current=d}},onImageLinkLoadError:a=>{let b=k.current,c=b.findIndex(b=>b._id===a);if(c>-1){let a=b[c],d=[...b.slice(0,c),{...a,progress:-1},...b.slice(c+1)];k.current=d,j(d)}},onImageLinkLoadSuccess:a=>{let b=k.current,c=b.findIndex(b=>b._id===a);if(c>-1){let a=b[c],d=[...b.slice(0,c),{...a,progress:100},...b.slice(c+1)];k.current=d,j(d)}},onReUpload:b=>{let c=k.current,d=c.findIndex(a=>a._id===b);if(d>-1){let b=c[d];(0,g.imageUpload)({file:b.file,onProgressCallback:a=>{let e=[...c.slice(0,d),{...b,progress:a},...c.slice(d+1)];k.current=e,j(e)},onSuccessCallback:a=>{let e=[...c.slice(0,d),{...b,fileId:a.id,progress:100},...c.slice(d+1)];k.current=e,j(e)},onErrorCallback:a=>{h({type:"error",message:(0,g.getImageUploadErrorMessage)(a,f("imageUploader.uploadFromComputerUploadError",{ns:"common"}),f)});let e=[...c.slice(0,d),{...b,progress:-1},...c.slice(d+1)];k.current=e,j(e)}},!!a.token)}},onClear:()=>{j([]),k.current=[]}}},"useLocalFileUploader",0,({limit:a,disabled:h=!1,onUpload:i})=>{let{notify:j}=(0,e.useToastContext)(),k=(0,b.useParams)(),{t:l}=(0,d.useTranslation)(),m=(0,c.useCallback)(b=>{if(h||!f.ALLOW_FILE_EXTENSIONS.includes(b.type.split("/")[1]))return;if(a&&b.size>1024*a*1024)return void j({type:"error",message:l("imageUploader.uploadFromComputerLimit",{ns:"common",size:a})});let c=new FileReader;c.addEventListener("load",()=>{let a={type:f.TransferMethod.local_file,_id:`${Date.now()}`,fileId:"",file:b,url:c.result,base64Url:c.result,progress:0};i(a),(0,g.imageUpload)({file:a.file,onProgressCallback:b=>{i({...a,progress:b})},onSuccessCallback:b=>{i({...a,fileId:b.id,progress:100})},onErrorCallback:b=>{j({type:"error",message:(0,g.getImageUploadErrorMessage)(b,l("imageUploader.uploadFromComputerUploadError",{ns:"common"}),l)}),i({...a,progress:-1})}},!!k.token)},!1),c.addEventListener("error",()=>{j({type:"error",message:l("imageUploader.uploadFromComputerReadError",{ns:"common"})})},!1),c.readAsDataURL(b)},[h,a,j,l,i,k.token]);return{disabled:h,handleLocalFileUpload:m}}])},701836,157133,a=>{"use strict";var b=a.i(608061),c=a.i(796807),d=a.i(141951);let e=({ref:a,...e})=>(0,b.jsx)(c.default,{...e,ref:a,data:d.default});e.displayName="ImagePlus",a.s([],701836),a.s(["ImagePlus",0,e],157133)},806211,a=>{a.v({container:"style-module__MuynYa__container"})},429178,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(111089),e=a.i(57843);a.i(752298);var f=a.i(693025),g=a.i(18039),h=a.i(527344),i=a.i(909795),j=a.i(757801),k=a.i(958074),l=a.i(305381),m=a.i(940272),n=a.i(237005),o=a.i(806211),p=a.i(787570);a.s(["default",0,({onSelect:a,onClose:q,className:r})=>{let{t:s}=(0,f.useTranslation)(),t=[{key:"emoji",label:s("iconPicker.emoji",{ns:"app"}),icon:(0,b.jsx)("span",{className:"text-lg",children:"ðŸ¤–"})},{key:"image",label:s("iconPicker.image",{ns:"app"}),icon:(0,b.jsx)(c.RiImageCircleAiLine,{className:"size-4"})}],[u,v]=(0,e.useState)("emoji"),[w,x]=(0,e.useState)(),y=(0,e.useCallback)((a,b)=>{x({emoji:a,background:b})},[x]),[z,A]=(0,e.useState)(),{handleLocalFileUpload:B}=(0,l.useLocalFileUploader)({limit:3,disabled:!1,onUpload:b=>{b.fileId&&(A(!1),a?.({type:"image",fileId:b.fileId,url:b.url}))}}),[C,D]=(0,e.useState)(),E=async(a,b,c,d)=>{D(a?{tempUrl:b,croppedAreaPixels:c,fileName:d}:{file:b})},F=async()=>{if("emoji"===u)w&&a?.({type:"emoji",icon:w.emoji,background:w.background});else{if(!C)return;if(A(!0),"file"in C)return void B(C.file);let a=await (0,p.default)(C.tempUrl,C.croppedAreaPixels,C.fileName);B(new File([a],C.fileName,{type:a.type}))}};return(0,b.jsxs)(m.default,{onClose:d.noop,isShow:!0,closable:!1,wrapperClassName:r,className:(0,h.cn)(o.default.container,"!h-[462px] !w-[362px] !p-0"),children:[!g.DISABLE_UPLOAD_IMAGE_AS_ICON&&(0,b.jsx)("div",{className:"w-full p-2 pb-0",children:(0,b.jsx)("div",{className:"flex items-center justify-center gap-2 rounded-xl bg-background-body p-1 text-text-primary",children:t.map(a=>(0,b.jsxs)("button",{type:"button",className:(0,h.cn)("system-sm-medium flex h-8 flex-1 shrink-0 items-center justify-center rounded-lg p-2 text-text-tertiary",u===a.key&&"bg-components-main-nav-nav-button-bg-active text-text-accent shadow-md"),onClick:()=>v(a.key),children:[a.icon," ","Â ",a.label]},a.key))})}),"emoji"===u&&(0,b.jsx)(k.default,{className:(0,h.cn)("flex-1 overflow-hidden pt-2"),onSelect:y}),"image"===u&&(0,b.jsx)(n.default,{className:(0,h.cn)("flex-1 overflow-hidden"),onImageInput:E}),(0,b.jsx)(j.default,{className:"m-0"}),(0,b.jsxs)("div",{className:"flex w-full items-center justify-center gap-2 p-3",children:[(0,b.jsx)(i.default,{className:"w-full",onClick:()=>q?.(),children:s("iconPicker.cancel",{ns:"app"})}),(0,b.jsx)(i.default,{variant:"primary",className:"w-full",disabled:z,loading:z,onClick:F,children:s("iconPicker.ok",{ns:"app"})})]})]})}])}];

//# sourceMappingURL=_b14222e3._.js.map