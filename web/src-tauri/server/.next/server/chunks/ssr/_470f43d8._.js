module.exports=[404606,794873,a=>{"use strict";var b=a.i(608061),c=a.i(429150);a.i(752298);var d=a.i(811624),e=a.i(252613);let f=new Map,g=a=>{f.delete(a)},h=async(a,b)=>{let c=f.get(a);c&&await c(b)},i=a=>{Object.entries(a).forEach(([a,b])=>{f.set(a,b)})},j=a=>{a.forEach(g)};a.s(["executeCommand",0,h,"registerCommands",0,i,"unregisterCommands",0,j],794873);let k="zen-toggle-maximize",l=()=>{window.dispatchEvent(new CustomEvent(k))};a.s(["ZEN_TOGGLE_EVENT",0,k,"zenCommand",0,{name:"zen",description:"Toggle canvas focus mode",mode:"direct",isAvailable:()=>(0,e.isInWorkflowPage)(),execute:l,async search(a,e="en"){let f=(0,d.getI18n)();return[{id:"zen",title:f.t("gotoAnything.actions.zenTitle",{ns:"app",lng:e})||"Zen Mode",description:f.t("gotoAnything.actions.zenDesc",{ns:"app",lng:e})||"Toggle canvas focus mode",type:"command",icon:(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-md border-[0.5px] border-divider-regular bg-components-panel-bg",children:(0,b.jsx)(c.RiFullscreenLine,{className:"h-4 w-4 text-text-tertiary"})}),data:{command:"workflow.zen",args:{}}}]},register(a){i({"workflow.zen":async()=>l()})},unregister(){j(["workflow.zen"])}}],404606)},791881,a=>{"use strict";function b(a,c=!1){let d=new CustomEvent("workflow:select-node",{detail:{nodeId:a,focus:c}});document.dispatchEvent(d)}function c(a){let b=new CustomEvent("workflow:scroll-to-node",{detail:{nodeId:a}});document.dispatchEvent(b)}function d(a){let b=b=>{let{nodeId:d,focus:e}=b.detail;d&&(a(d),e&&setTimeout(()=>{c(d)},100))};return document.addEventListener("workflow:select-node",b),()=>{document.removeEventListener("workflow:select-node",b)}}function e(a,b){let c=c=>{let{nodeId:d}=c.detail;if(d){let c=a.find(a=>a.id===d);if(c){let a={x:c.position.x,y:c.position.y},d=a.x+.25*window.innerWidth,e=a.y+.25*window.innerHeight;b.setCenter(d,e,{zoom:1,duration:800})}}};return document.addEventListener("workflow:scroll-to-node",c),()=>{document.removeEventListener("workflow:scroll-to-node",c)}}a.s(["scrollToWorkflowNode",()=>c,"selectWorkflowNode",()=>b,"setupNodeSelectionListener",()=>d,"setupScrollToNodeListener",()=>e])},589269,a=>{"use strict";let b={key:"@node",shortcut:"@node",title:"Search Workflow Nodes",description:"Find and jump to nodes in the current workflow by name or type",searchFn:void 0,search:async(a,c="",d)=>{try{if(b.searchFn)return b.searchFn(c);return[]}catch(a){return console.warn("Workflow nodes search failed:",a),[]}}};a.s(["workflowNodesAction",0,b])},924270,a=>{"use strict";function b(a,c=0,d={}){let e;"object"!=typeof d&&(d={});let{leading:f=!1,trailing:g=!0,maxWait:h}=d,i=[,,];f&&(i[0]="leading"),g&&(i[1]="trailing");let j=null,k=function(a,b,{signal:c,edges:d}={}){let e,f=null,g=null!=d&&d.includes("leading"),h=null==d||d.includes("trailing"),i=()=>{null!==f&&(a.apply(e,f),e=void 0,f=null)},j=null,k=()=>{null!=j&&clearTimeout(j),j=setTimeout(()=>{j=null,h&&i(),l()},b)},l=()=>{null!==j&&(clearTimeout(j),j=null),e=void 0,f=null},m=function(...a){if(c?.aborted)return;e=this,f=a;let b=null==j;k(),g&&b&&i()};return m.schedule=k,m.cancel=l,m.flush=()=>{i()},c?.addEventListener("abort",l,{once:!0}),m}(function(...b){e=a.apply(this,b),j=null},c,{edges:i}),l=function(...b){return null!=h&&(null===j&&(j=Date.now()),Date.now()-j>=h)?(e=a.apply(this,b),j=Date.now(),k.cancel(),k.schedule(),e):(k.apply(this,b),e)};return l.cancel=k.cancel,l.flush=()=>(k.flush(),e),l}a.s(["debounce",()=>b],924270)},805980,879778,311967,12785,195547,a=>{"use strict";var b=a.i(608061),c=a.i(796807),d=a.i(155425);let e=({ref:a,...e})=>(0,b.jsx)(c.default,{...e,ref:a,data:d.default});e.displayName="ApiConnection",a.s(["default",0,e],879778);var f=a.i(604617);let g=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:f.default});g.displayName="ApiConnectionMod",a.s(["default",0,g],311967),a.i(631140),a.i(808963),a.i(400196),a.i(980416),a.i(965964),a.i(132019),a.i(176859),a.i(747552),a.i(159611);var h=a.i(289560);let i=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:h.default});i.displayName="TerminalSquare",a.s(["default",0,i],12785);var j=a.i(666032);let k=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:j.default});k.displayName="Variable02",a.s(["default",0,k],195547),a.s([],805980)},746077,a=>{"use strict";var b=a.i(528698),c=a.i(41511);let d=()=>(0,c.get)("/workspaces/current/agent-providers");var e=a.i(425282);let f="agent_strategy",g=[f,"strategyList"];a.s(["useInvalidateStrategyProviders",0,()=>(0,e.useInvalid)(g),"useStrategyProviderDetail",0,(a,d)=>(0,b.useQuery)({...d,queryKey:[f,"detail",a],queryFn:()=>(0,c.get)(`/workspaces/current/agent-provider/${a}`),enabled:!!a}),"useStrategyProviders",0,()=>(0,b.useQuery)({queryKey:g,queryFn:d})],746077)},732078,a=>{"use strict";function b(a){return a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()}a.s(["capitalize",()=>b])},802066,a=>{"use strict";var b=a.i(41511);let c=async({url:a,id:c})=>(0,b.get)(`${a}/${c}`);a.s(["addTracingConfig",0,({appId:a,body:c})=>(0,b.post)(`/apps/${a}/trace-config`,{body:c}),"copyApp",0,({appID:a,name:c,icon_type:d,icon:e,icon_background:f,mode:g,description:h})=>(0,b.post)(`apps/${a}/copy`,{body:{name:c,icon_type:d,icon:e,icon_background:f,mode:g,description:h}}),"createApikey",0,({url:a,body:c})=>(0,b.post)(a,c),"createApp",0,({name:a,icon_type:c,icon:d,icon_background:e,mode:f,description:g,config:h})=>(0,b.post)("apps",{body:{name:a,icon_type:c,icon:d,icon_background:e,mode:f,description:g,model_config:h}}),"delApikey",0,({url:a,params:c})=>(0,b.del)(a,c),"deleteApp",0,a=>(0,b.del)(`apps/${a}`),"exportAppConfig",0,({appID:a,include:c=!1,workflowID:d})=>{let e=new URLSearchParams({include_secret:c.toString()});return d&&e.append("workflow_id",d),(0,b.get)(`apps/${a}/export?${e.toString()}`)},"fetchAppDetail",0,({url:a,id:c})=>(0,b.get)(`${a}/${c}`),"fetchAppDetailDirect",0,c,"fetchAppList",0,({url:a,params:c})=>(0,b.get)(a,{params:c}),"fetchTracingConfig",0,({appId:a,provider:c})=>(0,b.get)(`/apps/${a}/trace-config`,{params:{tracing_provider:c}}),"fetchTracingStatus",0,({appId:a})=>(0,b.get)(`/apps/${a}/trace`),"fetchWebhookUrl",0,({appId:a,nodeId:c})=>(0,b.get)(`apps/${a}/workflows/triggers/webhook`,{params:{node_id:c}},{silent:!0}),"importDSL",0,({mode:a,yaml_content:c,yaml_url:d,app_id:e,name:f,description:g,icon_type:h,icon:i,icon_background:j})=>(0,b.post)("apps/imports",{body:{mode:a,yaml_content:c,yaml_url:d,app_id:e,name:f,description:g,icon:i,icon_type:h,icon_background:j}}),"importDSLConfirm",0,({import_id:a})=>(0,b.post)(`apps/imports/${a}/confirm`,{body:{}}),"removeTracingConfig",0,({appId:a,provider:c})=>(0,b.del)(`/apps/${a}/trace-config?tracing_provider=${c}`),"updateAppInfo",0,({appID:a,name:c,icon_type:d,icon:e,icon_background:f,description:g,use_icon_as_answer_icon:h,max_active_requests:i})=>(0,b.put)(`apps/${a}`,{body:{name:c,icon_type:d,icon:e,icon_background:f,description:g,use_icon_as_answer_icon:h,max_active_requests:i}}),"updateAppModelConfig",0,({url:a,body:c})=>(0,b.post)(a,{body:c}),"updateAppSiteAccessToken",0,({url:a})=>(0,b.post)(a),"updateAppSiteConfig",0,({url:a,body:c})=>(0,b.post)(a,{body:c}),"updateAppSiteStatus",0,({url:a,body:c})=>(0,b.post)(a,{body:c}),"updateTracingConfig",0,({appId:a,body:c})=>(0,b.patch)(`/apps/${a}/trace-config`,{body:c}),"updateTracingStatus",0,({appId:a,body:c})=>(0,b.post)(`/apps/${a}/trace`,{body:c})])},243103,a=>{"use strict";let b=(0,a.i(282791).create)(a=>({appDetail:void 0,setAppDetail:b=>a(()=>({appDetail:b})),appSidebarExpand:"",setAppSidebarExpand:b=>a(()=>({appSidebarExpand:b})),currentLogItem:void 0,currentLogModalActiveTab:"DETAIL",setCurrentLogItem:b=>a(()=>({currentLogItem:b})),setCurrentLogModalActiveTab:b=>a(()=>({currentLogModalActiveTab:b})),showPromptLogModal:!1,setShowPromptLogModal:b=>a(()=>({showPromptLogModal:b})),showAgentLogModal:!1,setShowAgentLogModal:b=>a(()=>({showAgentLogModal:b})),showMessageLogModal:!1,setShowMessageLogModal:b=>a(()=>b?{showMessageLogModal:b}:{showMessageLogModal:b,currentLogModalActiveTab:"DETAIL"}),showAppConfigureFeaturesModal:!1,setShowAppConfigureFeaturesModal:b=>a(()=>({showAppConfigureFeaturesModal:b}))}));a.s(["useStore",0,b])},862259,271360,a=>{"use strict";var b=a.i(57843),c=a.i(365746);function d(a,d){let e=(0,b.useRef)({left:0,top:0});if((0,c.useIsoMorphicEffect)(()=>{if(!d)return;let a=d.getBoundingClientRect();a&&(e.current=a)},[a,d]),null==d||!a||d===document.activeElement)return!1;let f=d.getBoundingClientRect();return f.top!==e.current.top||f.left!==e.current.left}a.s(["useDidElementMove",()=>d],862259);let e=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function f(a){var b,c;let d=null!=(b=a.innerText)?b:"",f=a.cloneNode(!0);if(!(f instanceof HTMLElement))return d;let g=!1;for(let a of f.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),g=!0;let h=g?null!=(c=f.innerText)?c:"":d;return e.test(h)&&(h=h.replace(e,"")),h}var g=a.i(244265);function h(a){let c=(0,b.useRef)(""),d=(0,b.useRef)("");return(0,g.useEvent)(()=>{let b=a.current;if(!b)return"";let e=b.innerText;if(c.current===e)return d.current;let g=(function(a){let b=a.getAttribute("aria-label");if("string"==typeof b)return b.trim();let c=a.getAttribute("aria-labelledby");if(c){let a=c.split(" ").map(a=>{let b=document.getElementById(a);if(b){let a=b.getAttribute("aria-label");return"string"==typeof a?a.trim():f(b).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return f(a).trim()})(b).trim().toLowerCase();return c.current=e,d.current=g,g})}a.s(["useTextValue",()=>h],271360)},988596,783870,585508,a=>{"use strict";let b;var c=a.i(57843);function d(a){return[a.screenX,a.screenY]}function e(){let a=(0,c.useRef)([-1,-1]);return{wasMoved(b){let c=d(b);return(a.current[0]!==c[0]||a.current[1]!==c[1])&&(a.current=c,!0)},update(b){a.current=d(b)}}}a.s(["useTrackedPointer",()=>e],988596);var f=a.i(72563),g=a.i(365746);function h(a,{container:b,accept:d,walk:e}){let h=(0,c.useRef)(d),i=(0,c.useRef)(e);(0,c.useEffect)(()=>{h.current=d,i.current=e},[d,e]),(0,g.useIsoMorphicEffect)(()=>{if(!b||!a)return;let c=(0,f.getOwnerDocument)(b);if(!c)return;let d=h.current,e=i.current,g=Object.assign(a=>d(a),{acceptNode:d}),j=c.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,g,!1);for(;j.nextNode();)e(j.currentNode)},[b,a,h,i])}a.s(["useTreeWalker",()=>h],783870);var i=((b=i||{})[b.First=0]="First",b[b.Previous=1]="Previous",b[b.Next=2]="Next",b[b.Last=3]="Last",b[b.Specific=4]="Specific",b[b.Nothing=5]="Nothing",b);function j(a,b){let c=b.resolveItems();if(c.length<=0)return null;let d=b.resolveActiveIndex(),e=null!=d?d:-1;switch(a.focus){case 0:for(let a=0;a<c.length;++a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 1:-1===e&&(e=c.length);for(let a=e-1;a>=0;--a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 2:for(let a=e+1;a<c.length;++a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 3:for(let a=c.length-1;a>=0;--a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 4:for(let d=0;d<c.length;++d)if(b.resolveId(c[d],d,c)===a.id)return d;return d;case 5:return null;default:throw Error("Unexpected object: "+a)}}a.s(["Focus",()=>i,"calculateActiveIndex",()=>j],585508)},648660,a=>{"use strict";var b,c=a.i(608061),d=a.i(142261),e=a.i(527344),f=((b=f||{}).Warning="warning",b.Accent="accent",b.Default="",b);let g=(0,d.cva)("badge",{variants:{size:{s:"badge-s",m:"badge-m",l:"badge-l"}},defaultVariants:{size:"m"}}),h=({className:a,size:b,state:d="",iconOnly:f=!1,uppercase:h=!1,styleCss:i,children:j,...k})=>(0,c.jsx)("div",{className:(0,e.cn)(g({size:b,className:a}),function(a){switch(a){case"warning":return"badge-warning";case"accent":return"badge-accent";default:return""}}(d),"s"===b?f?"p-[3px]":"px-[5px] py-[3px]":"l"===b?f?"p-1.5":"px-2 py-1":f?"p-1":"px-[5px] py-[2px]",h?"system-2xs-medium-uppercase":"system-2xs-medium"),style:i,...k,children:j});h.displayName="Badge",a.s(["Badge",()=>h,"BadgeState",()=>f,"default",0,h])},573912,a=>{"use strict";var b=a.i(136403);a.i(12951),a.i(303890),a.i(659257),a.i(435125),a.i(460925),a.i(793823),a.i(336872),a.i(679858),a.i(231291),a.i(810843),a.i(201515),a.i(583301),a.i(834039),a.i(428571),a.i(40164),a.i(544460),a.i(626673),a.i(305644),a.i(84036),a.i(447712),a.s(["formatFileSize",0,a=>{if(!a)return a;let b=["","K","M","G","T","P"],c=0;for(;a>=1024&&c<b.length;)a/=1024,c++;return 0===c?`${a.toFixed(2)} bytes`:`${a.toFixed(2)} ${b[c]}B`},"formatNumber",0,a=>{let b;if(!a)return a;let c="string"==typeof a?Number(a):a;if(.001>Math.abs(c)&&0!==c){let a,d=c.toString(),e=d.match(/e-(\d+)$/);if(e){let b=Number.parseInt(e[1],10),c=d.split("e")[0].split(".")[1];a=b+(c?.length||0)}else{let b=d.split(".")[1];a=b?.length||0}b=c.toFixed(a)}else b=c.toString();let d=b.split(".");return d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d.join(".")},"formatNumberAbbreviated",0,a=>{if(a<1e3)return a.toString();let b=[{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}];for(let c=0;c<b.length;c++)if(a>=b[c].value){let d=Math.round(10*(a/b[c].value))/10,e=c;d>=1e3&&c>0&&(d/=1e3,e=c-1);let f=d.toFixed(1);return f.endsWith(".0")?`${Number.parseInt(f)}${b[e].symbol}`:`${f}${b[e].symbol}`}return a.toString()},"formatTime",0,a=>{if(!a)return a;let b=["sec","min","h"],c=0;for(;a>=60&&c<b.length;)a/=60,c++;return`${a.toFixed(2)} ${b[c]}`},"formatToLocalTime",0,(a,c,d)=>a.locale(b.localeMap[c]??"en").format(d)])}];

//# sourceMappingURL=_470f43d8._.js.map