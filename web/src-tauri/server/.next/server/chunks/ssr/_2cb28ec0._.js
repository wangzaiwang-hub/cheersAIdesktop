module.exports=[282791,218050,a=>{"use strict";var b=a.i(57843);let c=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},d=a=>a?c(a):c;a.s(["createStore",()=>d],218050);let e=a=>a;function f(a,c=e){let d=b.default.useSyncExternalStore(a.subscribe,b.default.useCallback(()=>c(a.getState()),[a,c]),b.default.useCallback(()=>c(a.getInitialState()),[a,c]));return b.default.useDebugValue(d),d}let g=a=>{let b=d(a),c=a=>f(b,a);return Object.assign(c,b),c},h=a=>a?g(a):g;a.s(["create",()=>h,"useStore",()=>f],282791)},187864,a=>{"use strict";let b;function c(a){return Array.isArray(a)?a:null==a?[]:[a]}let d="orpc";class e extends Error{constructor(...a){super(...a),this.name="AbortError"}}function f(){return globalThis["__@orpc/shared@1.13.4/otel/config__"]}function g(a,b={},c){let d=f()?.tracer;return d?.startSpan(a,b,c)}function h(a,b,c={}){if(!a)return;let d=function(a){if(a instanceof Error){let b={message:a.message,name:a.name,stack:a.stack};return"code"in a&&("string"==typeof a.code||"number"==typeof a.code)&&(b.code=a.code),b}return{message:String(a)}}(b);a.recordException(d),c.signal?.aborted&&c.signal.reason===b||a.setStatus({code:2,message:d.message})}async function i({name:a,context:b,...c},d){let e=f()?.tracer;if(!e)return d();let g=async a=>{try{return await d(a)}catch(b){throw h(a,b,c),b}finally{a.end()}};return b?e.startActiveSpan(a,c,b,g):e.startActiveSpan(a,c,g)}async function j(a,b){let c=f();if(!a||!c)return b();let d=c.trace.setSpan(c.context.active(),a);return c.context.with(d,b)}function k(a){return!!a&&"object"==typeof a&&"next"in a&&"function"==typeof a.next&&Symbol.asyncIterator in a&&"function"==typeof a[Symbol.asyncIterator]}let l=Symbol.for("asyncDispose"),m=Symbol.asyncDispose??l;class n{#a=!1;#b=!1;#c;#d;constructor(a,b){this.#c=b,this.#d=function(a){let b=Promise.resolve();return(...c)=>b=b.catch(()=>{}).then(()=>a(...c))}(async()=>{if(this.#a)return{done:!0,value:void 0};try{let b=await a();return b.done&&(this.#a=!0),b}catch(a){throw this.#a=!0,a}finally{this.#a&&!this.#b&&(this.#b=!0,await this.#c("next"))}})}next(){return this.#d()}async return(a){return this.#a=!0,this.#b||(this.#b=!0,await this.#c("return")),{done:!0,value:a}}async throw(a){throw this.#a=!0,this.#b||(this.#b=!0,await this.#c("throw")),a}async [m](){this.#a=!0,this.#b||(this.#b=!0,await this.#c("dispose"))}[Symbol.asyncIterator](){return this}}function o({name:a,...b},c){let d;return new n(async()=>{d??=g(a);try{let a=await j(d,()=>c.next());return d?.addEvent(a.done?"completed":"yielded"),a}catch(a){throw h(d,a,b),a}},async a=>{try{"next"!==a&&await j(d,()=>c.return?.())}catch(a){throw h(d,a,b),a}finally{d?.end()}})}function p(a){return async(b,...c)=>{try{return await b.next()}catch(d){throw await a(d,b,...c),d}}}function q(a,b,c){let d=(b,e)=>{let f=a[e];return f?f({...b,next:(a=b)=>d(a,e+1)}):c(b)};return d(b,0)}function r(a){if(a)return JSON.parse(a)}function s(a){return JSON.stringify(a)}function t(a){if(!a||"object"!=typeof a)return!1;let b=Object.getPrototypeOf(a);return b===Object.prototype||!b||!b.constructor}function u(a){return!!a&&("object"==typeof a||"function"==typeof a)}function v(a,b){let c=a;for(let a of b){if(!u(c))return;c=c[a]}return c}let w=((b=function(){}).prototype=Object.create(null),Object.freeze(b.prototype),b);function x(a,...b){return"function"==typeof a?a(...b):a}let y=/^\s*function\s*\(\)\s*\{\s*\[native code\]\s*\}\s*$/,z={BAD_REQUEST:{status:400,message:"Bad Request"},UNAUTHORIZED:{status:401,message:"Unauthorized"},FORBIDDEN:{status:403,message:"Forbidden"},NOT_FOUND:{status:404,message:"Not Found"},METHOD_NOT_SUPPORTED:{status:405,message:"Method Not Supported"},NOT_ACCEPTABLE:{status:406,message:"Not Acceptable"},TIMEOUT:{status:408,message:"Request Timeout"},CONFLICT:{status:409,message:"Conflict"},PRECONDITION_FAILED:{status:412,message:"Precondition Failed"},PAYLOAD_TOO_LARGE:{status:413,message:"Payload Too Large"},UNSUPPORTED_MEDIA_TYPE:{status:415,message:"Unsupported Media Type"},UNPROCESSABLE_CONTENT:{status:422,message:"Unprocessable Content"},TOO_MANY_REQUESTS:{status:429,message:"Too Many Requests"},CLIENT_CLOSED_REQUEST:{status:499,message:"Client Closed Request"},INTERNAL_SERVER_ERROR:{status:500,message:"Internal Server Error"},NOT_IMPLEMENTED:{status:501,message:"Not Implemented"},BAD_GATEWAY:{status:502,message:"Bad Gateway"},SERVICE_UNAVAILABLE:{status:503,message:"Service Unavailable"},GATEWAY_TIMEOUT:{status:504,message:"Gateway Timeout"}},A=Symbol.for("__@orpc/client@1.13.4/error/ORPC_ERROR_CONSTRUCTORS__");globalThis[A]??=new WeakSet;let B=globalThis[A];class C extends Error{defined;code;status;data;constructor(a,...b){const c=b[0]??{};if(void 0!==c.status&&!D(c.status))throw Error("[ORPCError] Invalid error status code.");super(function(a,b){return b||z[a]?.message||a}(a,c.message),c),this.code=a,this.status=c.status??z[a]?.status??500,this.defined=c.defined??!1,this.data=c.data}toJSON(){return{defined:this.defined,code:this.code,status:this.status,message:this.message,data:this.data}}static[Symbol.hasInstance](a){if(B.has(this)){let b=u(a)?Object.getPrototypeOf(a)?.constructor:null;if(b&&B.has(b))return!0}return super[Symbol.hasInstance](a)}}function D(a){return a<200||a>=400}function E(a){if(!t(a))return!1;let b=["defined","code","status","message","data"];return!Object.keys(a).some(a=>!b.includes(a))&&"defined"in a&&"boolean"==typeof a.defined&&"code"in a&&"string"==typeof a.code&&"status"in a&&"number"==typeof a.status&&D(a.status)&&"message"in a&&"string"==typeof a.message}function F(a,b={}){return new C(a.code,{...b,...a})}B.add(C);class G extends TypeError{}class H extends TypeError{}class I extends Error{data;constructor(a){super(a?.message??"An error event was received",a),this.data=a?.data}}class J{constructor(a={}){this.options=a}incomplete="";feed(a){this.incomplete+=a;let b=this.incomplete.lastIndexOf("\n\n");if(-1===b)return;let c=this.incomplete.slice(0,b).split(/\n\n/);for(let a of(this.incomplete=this.incomplete.slice(b+2),c)){let b=function(a){let b=a.replace(/\n+$/,"").split(/\n/),c={data:void 0,event:void 0,id:void 0,retry:void 0,comments:[]};for(let a of b){let b=a.indexOf(":"),d=-1===b?a:a.slice(0,b),e=-1===b?"":a.slice(b+1).replace(/^\s/,"");if(0===b)c.comments.push(e);else if("data"===d)c.data??="",c.data+=`${e}
`;else if("event"===d)c.event=e;else if("id"===d)c.id=e;else if("retry"===d){let a=Number.parseInt(e);Number.isInteger(a)&&a>=0&&a.toString()===e&&(c.retry=a)}}return c.data=c.data?.replace(/\n$/,""),c}(`${a}

`);this.options.onEvent&&this.options.onEvent(b)}}end(){if(this.incomplete)throw new H("Event Iterator ended before complete")}}class K extends TransformStream{constructor(){let a;super({start(b){a=new J({onEvent:a=>{b.enqueue(a)}})},transform(b){a.feed(b)},flush(){a.end()}})}}function L(a){if(a.includes("\n"))throw new G("Event's id must not contain a newline character")}function M(a){if(!Number.isInteger(a)||a<0)throw new G("Event's retry must be a integer and >= 0")}function N(a){if(a.includes("\n"))throw new G("Event's comment must not contain a newline character")}function O(a){let b="";if(b+=function(a){let b="";for(let c of a??[])N(c),b+=`: ${c}
`;return b}(a.comments),void 0!==a.event){if(a.event.includes("\n"))throw new G("Event's event must not contain a newline character");b+=`event: ${a.event}
`}return void 0!==a.retry&&(M(a.retry),b+=`retry: ${a.retry}
`),void 0!==a.id&&(L(a.id),b+=`id: ${a.id}
`),b+=function(a){let b=a?.split(/\n/)??[],c="";for(let a of b)c+=`data: ${a}
`;return c}(a.data),b+="\n"}let P=Symbol("ORPC_EVENT_SOURCE_META");function Q(a,b){if(void 0===b.id&&void 0===b.retry&&!b.comments?.length)return a;if(void 0!==b.id&&L(b.id),void 0!==b.retry&&M(b.retry),void 0!==b.comments)for(let a of b.comments)N(a);return new Proxy(a,{get:(a,c,d)=>c===P?b:Reflect.get(a,c,d)})}function R(a){return u(a)?Reflect.get(a,P):void 0}function S(a,b){let d={...a};for(let a in b)Array.isArray(b[a])?d[a]=[...c(d[a]),...b[a]]:void 0!==b[a]&&(Array.isArray(d[a])?d[a]=[...d[a],b[a]]:void 0!==d[a]?d[a]=[d[a],b[a]]:d[a]=b[a]);return d}function T(a,b){let c=async a=>{let c=await b.error(a);if(c!==a){let b=R(a);b&&u(c)&&(c=Q(c,b))}return c};return new n(async()=>{let{done:d,value:e}=await (async()=>{try{return await a.next()}catch(a){throw await c(a)}})(),f=await b.value(e,d);if(f!==e){let a=R(e);a&&u(f)&&(f=Q(f,a))}return{done:d,value:f}},async()=>{try{await a.return?.()}catch(a){throw await c(a)}})}function U(a,b={}){let c=b.path??[];return function a(b){return new Proxy(b,{get(b,c,d){let e=Reflect.get(b,c,d);return"then"!==c||"function"!=typeof e?e:new Proxy(e,{apply(c,d,e){if(2!==e.length||e.some(a=>{var b;return!("function"==typeof(b=a)&&y.test(b.toString()))}))return Reflect.apply(c,d,e);let f=!0;e[0].call(d,a(new Proxy(b,{get:(a,b,c)=>{if(f&&"then"===b){f=!1;return}return Reflect.get(a,b,c)}})))}})}})}(new Proxy(async(...[b,d={}])=>await a.call(c,b,{...d,context:d.context??{}}),{get:(d,e)=>"string"!=typeof e?Reflect.get(d,e):U(a,{...b,path:[...c,e]})}))}function V(a,b={}){return a.forEach((a,c)=>{Array.isArray(b[c])?b[c].push(a):void 0!==b[c]?b[c]=[b[c],a]:b[c]=a}),b}class W{plugins;constructor(a=[]){this.plugins=[...a].sort((a,b)=>(a.order??0)-(b.order??0))}init(a){for(let b of this.plugins)b.init?.(a)}}class X{constructor(a,b,d={}){this.codec=a,this.sender=b,new W(d.plugins).init(d),this.interceptors=c(d.interceptors),this.clientInterceptors=c(d.clientInterceptors)}interceptors;clientInterceptors;call(a,b,c){return i({name:`${d}.${a.join("/")}`,signal:c.signal},e=>(e?.setAttribute("rpc.system",d),e?.setAttribute("rpc.method",a.join(".")),k(b)&&(b=o({name:"consume_event_iterator_input",signal:c.signal},b)),q(this.interceptors,{...c,path:a,input:b},async({path:a,input:b,...c})=>{let d,g=f(),h=g?.trace.getActiveSpan()??e;h&&g&&(d=g?.trace.setSpan(g.context.active(),h));let j=await i({name:"encode_request",context:d},()=>this.codec.encode(a,b,c)),l=await q(this.clientInterceptors,{...c,input:b,path:a,request:j},({input:a,path:b,request:c,...e})=>i({name:"send_request",signal:e.signal,context:d},()=>this.sender.call(c,e,b,a))),m=await i({name:"decode_response",context:d},()=>this.codec.decode(l,c,a,b));return k(m)?o({name:"consume_event_iterator_output",signal:c.signal},m):m})))}}function Y(a){return`/${a.map(encodeURIComponent).join("/")}`}class Z extends W{initRuntimeAdapter(a){for(let b of this.plugins)b.initRuntimeAdapter?.(a)}}class ${fetch;toFetchRequestOptions;adapterInterceptors;constructor(a){new Z(a.plugins).initRuntimeAdapter(a),this.fetch=a.fetch??globalThis.fetch.bind(globalThis),this.toFetchRequestOptions=a,this.adapterInterceptors=c(a.adapterInterceptors)}async call(a,b,c,d){let f=function(a,b={}){let c=function(a,b=new Headers){for(let[c,d]of Object.entries(a))if(Array.isArray(d))for(let a of d)b.append(c,a);else void 0!==d&&b.append(c,d);return b}(a.headers),d=function(a,b,c={}){let d=b.get("content-disposition");if(b.delete("content-type"),b.delete("content-disposition"),void 0!==a){if(a instanceof Blob){var e;let c,f;return b.set("content-type",a.type),b.set("content-length",a.size.toString()),b.set("content-disposition",d??(c=(e=a instanceof File?a.name:"blob").replace(/"/g,'\\"'),f=encodeURIComponent(e).replace(/['()*]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`).replace(/%(7C|60|5E)/g,(a,b)=>String.fromCharCode(Number.parseInt(b,16))),`inline; filename="${c}"; filename*=utf-8''${f}`)),a}return a instanceof FormData||a instanceof URLSearchParams?a:k(a)?(b.set("content-type","text/event-stream"),function(a,b={}){let c,d,e=b.eventIteratorKeepAliveEnabled??!0,f=b.eventIteratorKeepAliveInterval??5e3,i=b.eventIteratorKeepAliveComment??"",k=b.eventIteratorInitialCommentEnabled??!0,l=b.eventIteratorInitialComment??"",m=!1;return new ReadableStream({start(a){d=g("stream_event_iterator"),k&&a.enqueue(O({comments:[l]}))},async pull(b){try{e&&(c=setInterval(()=>{b.enqueue(O({comments:[i]})),d?.addEvent("keepalive")},f));let g=await j(d,()=>a.next());if(clearInterval(c),m)return;let h=R(g.value);if(!g.done||void 0!==g.value||void 0!==h){let a=g.done?"done":"message";b.enqueue(O({...h,event:a,data:s(g.value)})),d?.addEvent(a)}g.done&&(b.close(),d?.end())}catch(a){if(clearInterval(c),m)return;a instanceof I?(b.enqueue(O({...R(a),event:"error",data:s(a.data)})),d?.addEvent("error"),b.close()):(h(d,a),b.error(a)),d?.end()}},async cancel(){try{m=!0,clearInterval(c),d?.addEvent("cancelled"),await j(d,()=>a.return?.())}catch(a){throw h(d,a),a}finally{d?.end()}}}).pipeThrough(new TextEncoderStream)}(a,c)):(b.set("content-type","application/json"),s(a))}}(a.body,c,b);return new Request(a.url,{signal:a.signal,method:a.method,headers:c,body:d})}(a,this.toFetchRequestOptions);return function(a,b={}){var c;let d;return{body:(c=()=>(function(a,b={}){return i({name:"parse_standard_body",signal:b.signal},async()=>{let c=a.headers.get("content-disposition");if("string"==typeof c){let b=function(a){let b=a.match(/filename\*=(UTF-8'')?([^;]*)/i);if(b&&"string"==typeof b[2]){var c=b[2];try{return decodeURIComponent(c)}catch{return c}}let d=a.match(/filename="((?:\\"|[^"])*)"/i);if(d&&"string"==typeof d[1])return d[1].replace(/\\"/g,'"')}(c)??"blob",d=await a.blob();return new File([d],b,{type:d.type})}let d=a.headers.get("content-type");if(!d||d.startsWith("application/json"))return r(await a.text());if(d.startsWith("multipart/form-data"))return await a.formData();if(d.startsWith("application/x-www-form-urlencoded"))return new URLSearchParams(await a.text());if(d.startsWith("text/event-stream"))return function(a,b={}){let c,d=a?.pipeThrough(new TextDecoderStream).pipeThrough(new K),f=d?.getReader(),i=!1;return new n(async()=>{c??=g("consume_event_iterator_stream");try{for(;;){if(void 0===f)return{done:!0,value:void 0};let{done:a,value:b}=await j(c,()=>f.read());if(a){if(i)throw new e("Stream was cancelled");return{done:!0,value:void 0}}switch(b.event){case"message":{let a=r(b.data);return u(a)&&(a=Q(a,b)),c?.addEvent("message"),{done:!1,value:a}}case"error":{let a=new I({data:r(b.data)});throw a=Q(a,b),c?.addEvent("error"),a}case"done":{let a=r(b.data);return u(a)&&(a=Q(a,b)),c?.addEvent("done"),{done:!0,value:a}}default:c?.addEvent("maybe_keepalive")}}}catch(a){throw a instanceof I||h(c,a,b),a}},async a=>{try{"next"!==a&&(i=!0,c?.addEvent("cancelled")),await j(c,()=>f?.cancel())}catch(a){throw h(c,a,b),a}finally{c?.end()}})}(a.body,b);if(d.startsWith("text/plain"))return await a.text();let f=await a.blob();return new File([f],"blob",{type:f.type})})})(a,b),()=>{if(d)return d.result;let a=c();return d={result:a},a}),status:a.status,get headers(){let b=V(a.headers);return Object.defineProperty(this,"headers",{value:b,writable:!0}),b},set headers(value){Object.defineProperty(this,"headers",{value,writable:!0})}}}(await q(this.adapterInterceptors,{...b,request:f,path:c,input:d,init:{redirect:"manual"}},({request:a,path:b,input:c,init:d,...e})=>this.fetch(a,d,e,b,c)),{signal:f.signal})}}class _{"~orpc";constructor(a){if(a.route?.successStatus&&D(a.route.successStatus))throw Error("[ContractProcedure] Invalid successStatus.");if(Object.values(a.errorMap).some(a=>a&&a.status&&!D(a.status)))throw Error("[ContractProcedure] Invalid error status code.");this["~orpc"]=a}}function aa(a){return a instanceof _||("object"==typeof a||"function"==typeof a)&&null!==a&&"~orpc"in a&&"object"==typeof a["~orpc"]&&null!==a["~orpc"]&&"errorMap"in a["~orpc"]&&"route"in a["~orpc"]&&"meta"in a["~orpc"]}class ab extends _{constructor(a){super(a),this["~orpc"].prefix=a.prefix,this["~orpc"].tags=a.tags}$meta(a){return new ab({...this["~orpc"],meta:a})}$route(a){return new ab({...this["~orpc"],route:a})}$input(a){return new ab({...this["~orpc"],inputSchema:a})}errors(a){var b;return new ab({...this["~orpc"],errorMap:(b=this["~orpc"].errorMap,{...b,...a})})}meta(a){var b;return new ab({...this["~orpc"],meta:(b=this["~orpc"].meta,{...b,...a})})}route(a){var b;return new ab({...this["~orpc"],route:(b=this["~orpc"].route,{...b,...a})})}input(a){return new ab({...this["~orpc"],inputSchema:a})}output(a){return new ab({...this["~orpc"],outputSchema:a})}prefix(a){var b;return new ab({...this["~orpc"],prefix:(b=this["~orpc"].prefix,b?`${b}${a}`:a)})}tag(...a){var b;return new ab({...this["~orpc"],tags:(b=this["~orpc"].tags,b?[...b,...a]:a)})}router(a){return function a(b,c){if(aa(b)){var d,e,f,g,h,i,j;let a;return new _({...b["~orpc"],errorMap:(d=c.errorMap,e=b["~orpc"].errorMap,{...d,...e}),route:(f=b["~orpc"].route,a=f,c.prefix&&(g=a,h=c.prefix,a=g.path?{...g,path:`${h}${g.path}`}:g),c.tags?.length&&(i=a,j=c.tags,a={...i,tags:[...j,...i.tags??[]]}),a)})}let k={};for(let d in b)k[d]=a(b[d],c);return k}(a,this["~orpc"])}}let ac=new ab({errorMap:{},route:{},meta:{}}),ad={defaultMethod:"POST",defaultSuccessStatus:200,defaultSuccessDescription:"OK",defaultInputStructure:"compact",defaultOutputStructure:"compact"};function ae(a,b){return void 0===b?ad[a]:b}function af(...[a]){return{"~standard":{vendor:"custom",version:1,validate:async b=>a?{value:await a(b)}:{value:b}}}}Symbol("ORPC_EVENT_ITERATOR_DETAILS");class ag{maxArrayIndex;constructor(a={}){this.maxArrayIndex=a.maxBracketNotationArrayIndex??9999}serialize(a,b=[],c=[]){if(Array.isArray(a))a.forEach((a,d)=>{this.serialize(a,[...b,d],c)});else if(t(a))for(let d in a)this.serialize(a[d],[...b,d],c);else c.push([this.stringifyPath(b),a]);return c}deserialize(a){if(0===a.length)return{};let b=new WeakSet,c={value:[]};for(let[d,e]of a){let a=this.parsePath(d),f=c,g="value";a.forEach((c,d)=>{Array.isArray(f[g])||t(f[g])||(f[g]=[]),d!==a.length-1?Array.isArray(f[g])&&!ah(c,this.maxArrayIndex)&&(b.has(f[g])?(b.delete(f[g]),f[g]=aj(f[g])):f[g]=ai(f[g])):Array.isArray(f[g])&&(""===c?f[g].length&&!b.has(f[g])&&(f[g]=ai(f[g])):b.has(f[g])?(b.delete(f[g]),f[g]=aj(f[g])):ah(c,this.maxArrayIndex)||(f[g]=ai(f[g]))),f=f[g],g=c}),Array.isArray(f)&&""===g?(b.add(f),f.push(e)):g in f?Array.isArray(f[g])?f[g].push(e):f[g]=[f[g],e]:f[g]=e}return c.value}stringifyPath(a){return a.map(a=>a.toString().replace(/[\\[\]]/g,a=>{switch(a){case"\\":return"\\\\";case"[":return"\\[";case"]":return"\\]";default:return a}})).reduce((a,b,c)=>0===c?b:`${a}[${b}]`,"")}parsePath(a){let b=[],c=!1,d="",e=0;for(let f=0;f<a.length;f++){let g=a[f],h=a[f+1];c&&"]"===g&&(void 0===h||"["===h)&&e%2==0?(void 0===h&&(c=!1),b.push(d),d="",f++):0===b.length&&"["===g&&e%2==0?(c=!0,b.push(d),d=""):"\\"===g?e++:(d+="\\".repeat(e/2)+g,e=0)}return c||0===b.length?[a]:b}}function ah(a,b){return/^0$|^[1-9]\d*$/.test(a)&&Number(a)<=b}function ai(a){let b=new w;return a.forEach((a,c)=>{b[c]=a}),b}function aj(a){let b=new w;return b[""]=1===a.length?a[0]:a,b}class ak{customSerializers;constructor(a={}){this.customSerializers=a.customJsonSerializers??[]}serialize(a,b={value:!1}){for(let c of this.customSerializers)if(c.condition(a))return this.serialize(c.serialize(a),b);if(a instanceof Blob)return b.value=!0,[a,b.value];if(a instanceof Set)return this.serialize(Array.from(a),b);if(a instanceof Map)return this.serialize(Array.from(a.entries()),b);if(Array.isArray(a))return[a.map(a=>void 0===a?null:this.serialize(a,b)[0]),b.value];if(t(a)){let c={};for(let d in a)("toJSON"!==d||"function"!=typeof a[d])&&(c[d]=this.serialize(a[d],b)[0]);return[c,b.value]}return"bigint"==typeof a||a instanceof RegExp||a instanceof URL?[a.toString(),b.value]:a instanceof Date?[Number.isNaN(a.getTime())?null:a.toISOString(),b.value]:Number.isNaN(a)?[null,b.value]:[a,b.value]}}function al(a){return`/${a.replace(/\/{2,}/g,"/").replace(/^\/|\/$/g,"")}`}function am(a){return a?al(a).match(/\/\{[^}]+\}/g)?.map(a=>({raw:a,name:a.match(/\{\+?([^}]+)\}/)[1]})):void 0}class an{constructor(a,b,c){this.contract=a,this.serializer=b,this.baseUrl=c.url,this.headers=c.headers??{},this.customErrorResponseBodyDecoder=c.customErrorResponseBodyDecoder}baseUrl;headers;customErrorResponseBodyDecoder;async encode(a,b,c){var d;let e="function"==typeof(d=await x(this.headers,c,a,b)).forEach?V(d):d;void 0!==c.lastEventId&&(e=S(e,{"last-event-id":c.lastEventId}));let f=await x(this.baseUrl,c,a,b),g=v(this.contract,a);if(!aa(g))throw Error(`[StandardOpenapiLinkCodec] expect a contract procedure at ${a.join(".")}`);return"compact"===ae("defaultInputStructure",g["~orpc"].route.inputStructure)?this.#e(g,a,b,c,f,e):this.#f(g,a,b,c,f,e)}#e(a,b,c,d,e,f){let g=al(a["~orpc"].route.path??Y(b)),h=c,i=am(g);if(i?.length){if(!t(c))throw TypeError(`[StandardOpenapiLinkCodec] Invalid input shape for "compact" structure when has dynamic params at ${b.join(".")}.`);let a={...c};for(let b of i){let d=c[b.name];g=g.replace(b.raw,`/${encodeURIComponent(`${this.serializer.serialize(d)}`)}`),delete a[b.name]}h=Object.keys(a).length?a:void 0}let j=ae("defaultMethod",a["~orpc"].route.method),k=new URL(e);if(k.pathname=`${k.pathname.replace(/\/$/,"")}${g}`,"GET"===j){for(let[a,b]of this.serializer.serialize(h,{outputFormat:"URLSearchParams"}))k.searchParams.append(a,b);return{url:k,method:j,headers:f,body:void 0,signal:d.signal}}return{url:k,method:j,headers:f,body:this.serializer.serialize(h),signal:d.signal}}#f(a,b,c,d,e,f){let g=al(a["~orpc"].route.path??Y(b)),h=am(g);if(!t(c)&&void 0!==c)throw TypeError(`[StandardOpenapiLinkCodec] Invalid input shape for "detailed" structure at ${b.join(".")}.`);if(h?.length){if(!t(c?.params))throw TypeError(`[StandardOpenapiLinkCodec] Invalid input.params shape for "detailed" structure when has dynamic params at ${b.join(".")}.`);for(let a of h){let b=c.params[a.name];g=g.replace(a.raw,`/${encodeURIComponent(`${this.serializer.serialize(b)}`)}`)}}let i=f;if(c?.headers!==void 0){if(!t(c.headers))throw TypeError(`[StandardOpenapiLinkCodec] Invalid input.headers shape for "detailed" structure at ${b.join(".")}.`);i=S(c.headers,f)}let j=ae("defaultMethod",a["~orpc"].route.method),k=new URL(e);if(k.pathname=`${k.pathname.replace(/\/$/,"")}${g}`,c?.query!==void 0)for(let[a,b]of this.serializer.serialize(c.query,{outputFormat:"URLSearchParams"}))k.searchParams.append(a,b);return"GET"===j?{url:k,method:j,headers:i,body:void 0,signal:d.signal}:{url:k,method:j,headers:i,body:this.serializer.serialize(c?.body),signal:d.signal}}async decode(a,b,c){let d=!D(a.status),e=await (async()=>{let b=!1;try{let c=await a.body();return b=!0,this.serializer.deserialize(c)}catch(a){if(!b)throw Error("Cannot parse response body, please check the response body and content-type.",{cause:a});throw Error("Invalid OpenAPI response format.",{cause:a})}})();if(!d){var f;let b=this.customErrorResponseBodyDecoder?.(e,a);if(null!=b)throw b;if(E(e))throw F(e);throw new C((f=a.status,Object.entries(z).find(([,a])=>a.status===f)?.[0]??"MALFORMED_ORPC_ERROR_RESPONSE"),{status:a.status,data:{...a,body:e}})}let g=v(this.contract,c);if(!aa(g))throw Error(`[StandardOpenapiLinkCodec] expect a contract procedure at ${c.join(".")}`);return"compact"===ae("defaultOutputStructure",g["~orpc"].route.outputStructure)?e:{status:a.status,headers:a.headers,body:e}}}class ao{constructor(a,b){this.jsonSerializer=a,this.bracketNotation=b}serialize(a,b={}){return k(a)&&!b.outputFormat?T(a,{value:async a=>this.#g(a,{outputFormat:"plain"}),error:async a=>new I({data:this.#g((a instanceof C?a:new C("INTERNAL_SERVER_ERROR",{message:"Internal server error",cause:a})).toJSON(),{outputFormat:"plain"}),cause:a})}):this.#g(a,b)}#g(a,b){let[c,d]=this.jsonSerializer.serialize(a);if("plain"===b.outputFormat)return c;if("URLSearchParams"===b.outputFormat){let a=new URLSearchParams;for(let[b,d]of this.bracketNotation.serialize(c))("string"==typeof d||"number"==typeof d||"boolean"==typeof d)&&a.append(b,d.toString());return a}if(c instanceof Blob||void 0===c||!d)return c;let e=new FormData;for(let[a,b]of this.bracketNotation.serialize(c))"string"==typeof b||"number"==typeof b||"boolean"==typeof b?e.append(a,b.toString()):b instanceof Blob&&e.append(a,b);return e}deserialize(a){return a instanceof URLSearchParams||a instanceof FormData?this.bracketNotation.deserialize(Array.from(a.entries())):k(a)?T(a,{value:async a=>a,error:async a=>a instanceof I&&E(a.data)?F(a.data,{cause:a}):a}):a}}class ap extends X{constructor(a,b,c){super(new an(a,new ao(new ak(c),new ag({maxBracketNotationArrayIndex:0xfffffffe})),c),b,c)}}class aq extends ap{constructor(a,b){super(a,new $(b),b)}}var ar=a.i(138296);function as(a,b={}){return[a,{...void 0!==b.input?{input:b.input}:{},...void 0!==b.type?{type:b.type}:{},...void 0!==b.fnOptions?{fnOptions:b.fnOptions}:{}}]}function at(a,b){return a.length<=b?a:a.slice(a.length-b)}let au=Symbol("ORPC_OPERATION_CONTEXT");function av(a,b={}){var d;let e,f=c(b.path),g={key:a=>as(f,a)},h=(d={path:f,experimental_defaults:b.experimental_defaults},e={call:a,queryKey:(...[a={}])=>(a={...d.experimental_defaults?.queryKey,...a}).queryKey??as(d.path,{type:"query",input:a.input}),queryOptions(...[b={}]){b={...d.experimental_defaults?.queryOptions,...b};let c=e.queryKey(b);return{queryFn:({signal:d})=>{if(b.input===ar.skipToken)throw Error("queryFn should not be called with skipToken used as input");return a(b.input,{signal:d,context:{[au]:{key:c,type:"query"},...b.context}})},...b.input===ar.skipToken?{enabled:!1}:{},...b,queryKey:c}},experimental_streamedKey:(...[a={}])=>(a={...d.experimental_defaults?.experimental_streamedKey,...a}).queryKey??as(d.path,{type:"streamed",input:a.input,fnOptions:a.queryFnOptions}),experimental_streamedOptions(...[b={}]){b={...d.experimental_defaults?.experimental_streamedOptions,...b};let c=e.experimental_streamedKey(b);return{queryFn:function(a,{refetchMode:b="reset",maxChunks:c=1/0}={}){return async d=>{let e=d.client.getQueryCache().find({queryKey:d.queryKey,exact:!0}),f=!!e&&void 0!==e.state.data;f&&("reset"===b?e.setState({status:"pending",data:void 0,error:null,fetchStatus:"fetching"}):d.client.setQueryData(d.queryKey,(a=[])=>at(a,c)));let g=[],h=await a(d),i=!f||"replace"!==b;for await(let a of(d.client.setQueryData(d.queryKey,(a=[])=>at(a,c)),h)){if(d.signal.aborted)throw d.signal.reason;g.push(a),g=at(g,c),i&&d.client.setQueryData(d.queryKey,(b=[])=>at([...b,a],c))}i||d.client.setQueryData(d.queryKey,g);let j=d.client.getQueryData(d.queryKey);return j?at(j,c):g}}(async({signal:d})=>{if(b.input===ar.skipToken)throw Error("queryFn should not be called with skipToken used as input");let e=await a(b.input,{signal:d,context:{[au]:{key:c,type:"streamed"},...b.context}});if(!k(e))throw Error("streamedQuery requires an event iterator output");return e},b.queryFnOptions),...b.input===ar.skipToken?{enabled:!1}:{},...b,queryKey:c}},experimental_liveKey:(...[a={}])=>(a={...d.experimental_defaults?.experimental_liveKey,...a}).queryKey??as(d.path,{type:"live",input:a.input}),experimental_liveOptions(...[b={}]){var c;b={...d.experimental_defaults?.experimental_liveOptions,...b};let f=e.experimental_liveKey(b);return{queryFn:(c=async({signal:c})=>{if(b.input===ar.skipToken)throw Error("queryFn should not be called with skipToken used as input");let d=await a(b.input,{signal:c,context:{[au]:{key:f,type:"live"},...b.context}});if(!k(d))throw Error("liveQuery requires an event iterator output");return d},async a=>{let b;for await(let d of(await c(a))){if(a.signal.aborted)throw a.signal.reason;b={chunk:d},a.client.setQueryData(a.queryKey,d)}if(!b)throw Error(`Live query for ${s(a.queryKey)} did not yield any data. Ensure the query function returns an AsyncIterable with at least one chunk.`);return b.chunk}),...b.input===ar.skipToken?{enabled:!1}:{},...b,queryKey:f}},infiniteKey:a=>(a={...d.experimental_defaults?.infiniteKey,...a}).queryKey??as(d.path,{type:"infinite",input:a.input===ar.skipToken?ar.skipToken:a.input(a.initialPageParam)}),infiniteOptions(b){b={...d.experimental_defaults?.infiniteOptions,...b};let c=e.infiniteKey(b);return{queryFn:({pageParam:d,signal:e})=>{if(b.input===ar.skipToken)throw Error("queryFn should not be called with skipToken used as input");return a(b.input(d),{signal:e,context:{[au]:{key:c,type:"infinite"},...b.context}})},...b.input===ar.skipToken?{enabled:!1}:{},...b,queryKey:c}},mutationKey:(...[a={}])=>(a={...d.experimental_defaults?.mutationKey,...a}).mutationKey??as(d.path,{type:"mutation"}),mutationOptions(...[b={}]){b={...d.experimental_defaults?.mutationOptions,...b};let c=e.mutationKey(b);return{mutationFn:d=>a(d,{context:{[au]:{key:c,type:"mutation"},...b.context}}),...b,mutationKey:c}}});return new Proxy({...g,...h},{get(c,d){let e=Reflect.get(c,d);if("string"!=typeof d)return e;let g=av(a[d],{...b,path:[...f,d],experimental_defaults:v(b.experimental_defaults,[d])});return"function"!=typeof e?g:new Proxy(e,{get:(a,b)=>Reflect.get(g,b)})}})}var aw=a.i(18039);let ax=ac.$route({inputStructure:"detailed"}),ay=ax.route({path:"/billing/invoices",method:"GET"}).input(af()).output(af()),az=ax.route({path:"/billing/partners/{partnerKey}/tenants",method:"PUT"}).input(af()).output(af()),aA=ax.route({path:"/system-features",method:"GET"}).input(af()).output(af()),aB=ax.route({path:"/trial-apps/{appId}",method:"GET"}).input(af()).output(af()),aC=ax.route({path:"/trial-apps/{appId}/datasets",method:"GET"}).input(af()).output(af()),aD=ax.route({path:"/trial-apps/{appId}/workflows",method:"GET"}).input(af()).output(af()),aE=ax.route({path:"/trial-apps/{appId}/parameters",method:"GET"}).input(af()).output(af()),aF=ax.route({path:"/collections",method:"GET"}).input(af()).output(af()),aG=ax.route({path:"/collections/{collectionId}/plugins",method:"POST"}).input(af()).output(af()),aH=ax.route({path:"/{kind}/search/advanced",method:"POST"}).input(af()).output(af());var aI=a.i(41511);let aJ=U(new aq({collections:aF,collectionPlugins:aG,searchAdvanced:aH},{url:aw.MARKETPLACE_API_PREFIX,headers:()=>new Headers({"X-Dify-Version":aw.IS_MARKETPLACE?"999.0.0":aw.APP_VERSION}),fetch:(a,b)=>globalThis.fetch(a,{...b,cache:"no-store"}),interceptors:[p(a=>{console.error(a)})]})),aK=av(aJ,{path:["marketplace"]}),aL=U(new aq({systemFeatures:aA,trialApps:{info:aB,datasets:aC,parameters:aE,workflows:aD},billing:{invoices:ay,bindPartnerStack:az}},{url:aw.API_PREFIX,fetch:(a,b)=>(0,aI.request)(a.url,b,{fetchCompat:!0,request:a}),interceptors:[p(a=>{console.error(a)})]})),aM=av(aL,{path:["console"]});a.s(["consoleClient",0,aL,"consoleQuery",0,aM,"marketplaceClient",0,aJ,"marketplaceQuery",0,aK],187864)},924388,a=>{"use strict";var b=a.i(9575);let c="setup_status",d=async()=>{if("finished"===localStorage.getItem(c))return{step:"finished"};let a=await (0,b.fetchSetupStatus)();return"finished"===a.step?localStorage.setItem(c,"finished"):localStorage.removeItem(c),a};a.s(["fetchSetupStatusWithCache",0,d])},724423,a=>{"use strict";var b=a.i(608061),c=a.i(528698),d=a.i(282791),e=a.i(105249),f=a.i(187864),g=a.i(850953),h=a.i(924388);let i=(0,d.create)(a=>({systemFeatures:g.defaultSystemFeatures,setSystemFeatures:b=>a(()=>({systemFeatures:b}))})),j=["systemFeatures"],k=["setupStatus"];async function l(){let a=await f.consoleClient.systemFeatures(),{setSystemFeatures:b}=i.getState();return b({...g.defaultSystemFeatures,...a}),a}function m(){return(0,c.useQuery)({queryKey:j,queryFn:l})}function n(){let{isPending:a}=m();return a}function o(){return(0,c.useQuery)({queryKey:k,queryFn:h.fetchSetupStatusWithCache,staleTime:1/0})}a.s(["default",0,({children:a})=>{let{isPending:c}=m();return(o(),c)?(0,b.jsx)("div",{className:"flex h-screen w-screen items-center justify-center",children:(0,b.jsx)(e.default,{})}):(0,b.jsx)(b.Fragment,{children:a})},"useGlobalPublicStore",0,i,"useIsSystemFeaturesPending",()=>n,"useSetupStatusQuery",()=>o,"useSystemFeaturesQuery",()=>m])}];

//# sourceMappingURL=_2cb28ec0._.js.map