module.exports=[280342,a=>{"use strict";var b=a.i(57843),c={SVG:"image/svg+xml",ICO:"image/x-icon",GIF:"image/gif",PNG:"image/png"};let d=function(a){(0,b.useEffect)(function(){if(a){var b=a.split("."),d=b[b.length-1].toLocaleUpperCase(),e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type=c[d],e.href=a,e.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(e)}},[a])};var e=a.i(240944),f=a.i(446855),g={restoreOnUnmount:!1};let h=function(a,c){void 0===c&&(c=g);var d=(0,b.useRef)(f.default?document.title:"");(0,b.useEffect)(function(){document.title=a},[a]),(0,e.default)(function(){c.restoreOnUnmount&&(document.title=d.current)})};var i=a.i(724423),j=a.i(499257);function k(a){let c=(0,i.useIsSystemFeaturesPending)(),e=(0,i.useGlobalPublicStore)(a=>a.systemFeatures),f=a?`${a} - `:"",g="",k="";!1===c&&(e.branding.enabled?(g=`${f}${e.branding.application_title}`,k=e.branding.favicon):(g=`${f}Dify`,k=`${j.basePath}/favicon.ico`)),h(g),(0,b.useEffect)(()=>{let a=null;return e.branding.favicon&&(document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon'], link[rel='mask-icon']").forEach(a=>a.parentNode?.removeChild(a)),(a=document.createElement("link")).rel="apple-touch-icon",a.href=e.branding.favicon,document.head.appendChild(a)),()=>{a?.remove()}},[e.branding.favicon]),d(k)}a.s(["default",()=>k],280342)},365866,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843);a.i(752298);var e=a.i(693025),f=a.i(175809),g=a.i(909795),h=a.i(632789),i=a.i(105249),j=a.i(751161),k=a.i(524526),l=a.i(970039),m=a.i(843990),n=a.i(28877);a.i(76955);var o=a.i(257898),p=a.i(939714),q=a.i(481366),r=a.i(28959),s=a.i(997472),t=a.i(252813),u=a.i(136403),v=a.i(844299),w=a.i(527344);let x=d.memo(({showBackButton:a=!1,collection:x,isBuiltIn:y=!0,isModel:z=!0,toolName:A,setting:B={},readonly:C,onHide:D,onSave:E,credentialId:F,onAuthorizationItemClick:G})=>{let H,I=(0,t.useLocale)(),J=(0,u.getLanguage)(I),{t:K}=(0,e.useTranslation)(),L=x.tools,M=L?.length>0,[N,O]=(0,d.useState)(!M),[P,Q]=(0,d.useState)(M?L:[]),R=P.find(a=>a.name===A),S=R?(0,s.toolParametersToFormSchemas)(R.parameters):[],T=S.filter(a=>"llm"===a.form),U=S.filter(a=>"llm"!==a.form),V=U.length>0,[W,X]=(0,d.useState)(B),[Y,Z]=(0,d.useState)("info"),$="info"===Y;(0,d.useEffect)(()=>{x&&!M&&(async()=>{O(!0);try{let a=await new Promise(a=>{!async function(){z?a(await (0,v.fetchModelToolList)(x.name)):y?a(await (0,v.fetchBuiltInToolList)(x.name)):x.type===r.CollectionType.workflow?a(await (0,v.fetchWorkflowToolList)(x.id)):a(await (0,v.fetchCustomToolList)(x.name))}()});Q(a)}catch{}O(!1)})()},[x?.name,x?.id,x?.type]),(0,d.useEffect)(()=>{Z(!C&&V?"setting":"info")},[V]);let _=(H=!0,U.forEach(a=>{a.required&&!W[a.name]&&(H=!1)}),H),aa=(0,b.jsx)("div",{className:"",children:T.length>0&&(0,b.jsx)("div",{className:"space-y-1 py-2",children:T.map((a,c)=>{var d;return(0,b.jsxs)("div",{className:"py-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"code-sm-semibold text-text-secondary",children:a.label[J]}),(0,b.jsx)("div",{className:"system-xs-regular text-text-tertiary",children:"number-input"===(d=a.type)?K("setBuiltInTools.number",{ns:"tools"}):"text-input"===d?K("setBuiltInTools.string",{ns:"tools"}):"checkbox"===d?"boolean":"file"===d?K("setBuiltInTools.file",{ns:"tools"}):d}),a.required&&(0,b.jsx)("div",{className:"system-xs-medium text-text-warning-secondary",children:K("setBuiltInTools.required",{ns:"tools"})})]}),a.human_description&&(0,b.jsx)("div",{className:"system-xs-regular mt-0.5 text-text-tertiary",children:a.human_description?.[J]})]},c)})})}),ab=(0,b.jsx)(k.default,{value:W,onChange:X,formSchemas:U,isEditMode:!1,showOnVariableMap:{},validating:!1,readonly:C});return(0,b.jsx)(h.default,{isOpen:!0,clickOutsideNotOpen:!1,onClose:D,footer:null,mask:!1,positionCenter:!1,panelClassName:(0,w.cn)("mb-2 mr-2 mt-[64px] !w-[420px] !max-w-[420px] justify-start rounded-2xl border-[0.5px] border-components-panel-border !bg-components-panel-bg !p-0 shadow-xl"),children:(0,b.jsxs)(b.Fragment,{children:[N&&(0,b.jsx)(i.default,{type:"app"}),!N&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative border-b border-divider-subtle p-4 pb-3",children:[(0,b.jsx)("div",{className:"absolute right-3 top-3",children:(0,b.jsx)(f.default,{onClick:D,children:(0,b.jsx)(c.RiCloseLine,{className:"h-4 w-4"})})}),a&&(0,b.jsxs)("div",{className:"system-xs-semibold-uppercase mb-2 flex cursor-pointer items-center gap-1 text-text-accent-secondary",onClick:D,children:[(0,b.jsx)(c.RiArrowLeftLine,{className:"h-4 w-4"}),K("detailPanel.operation.back",{ns:"plugin"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.default,{size:"tiny",className:"h-6 w-6",src:x.icon}),(0,b.jsx)(n.default,{packageNameClassName:"w-auto",orgName:x.author,packageName:x.name.split("/").pop()||""})]}),(0,b.jsx)("div",{className:"system-md-semibold mt-1 text-text-primary",children:R?.label[J]}),!!R?.description[J]&&(0,b.jsx)(m.default,{className:"mb-2 mt-3 h-auto",text:R.description[J],descriptionLineRows:2}),x.allow_delete&&x.type===r.CollectionType.builtIn&&(0,b.jsx)(p.PluginAuthInAgent,{pluginPayload:{provider:x.name,category:o.AuthCategory.tool,providerType:x.type,detail:x},credentialId:F,onAuthorizationItemClick:G})]}),(0,b.jsx)("div",{className:"h-full",children:(0,b.jsxs)("div",{className:"flex h-full flex-col",children:[V&&!C?(0,b.jsx)(j.default,{className:"mt-1 shrink-0 px-4",itemClassName:"py-3",noBorderBottom:!0,value:Y,onChange:a=>{Z(a)},options:[{value:"info",text:K("setBuiltInTools.parameters",{ns:"tools"})},{value:"setting",text:K("setBuiltInTools.setting",{ns:"tools"})}]}):(0,b.jsx)("div",{className:"system-sm-semibold-uppercase p-4 pb-1 text-text-primary",children:K("setBuiltInTools.parameters",{ns:"tools"})}),(0,b.jsxs)("div",{className:"h-0 grow overflow-y-auto px-4",children:[$?aa:ab,!C&&!$&&(0,b.jsxs)("div",{className:"flex shrink-0 justify-end space-x-2 rounded-b-[10px] bg-components-panel-bg py-2",children:[(0,b.jsx)(g.default,{className:"flex h-8 items-center !px-3 !text-[13px] font-medium ",onClick:D,children:K("operation.cancel",{ns:"common"})}),(0,b.jsx)(g.default,{className:"flex h-8 items-center !px-3 !text-[13px] font-medium",variant:"primary",disabled:!_,onClick:()=>E?.(W),children:K("operation.save",{ns:"common"})})]})]}),(0,b.jsx)(q.ReadmeEntrance,{pluginDetail:x,className:"mt-auto"})]})})]})]})})});a.s(["default",0,x])},962037,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843);a.i(752298);var e=a.i(693025),f=a.i(825319),g=a.i(527344);a.s(["default",0,({options:a,value:h,onChange:i,containerProps:j,triggerProps:k,popupProps:l,CustomTrigger:m,CustomOption:n})=>{let{t:o}=(0,e.useTranslation)(),{open:p,onOpenChange:q,placement:r,offset:s,triggerPopupSameWidth:t=!0}=j||{},{className:u}=k||{},{wrapperClassName:v,className:w,itemClassName:x}=l||{},[y,z]=(0,d.useState)(!1),A=p??y,B=(0,d.useCallback)(a=>{q?.(a),z(a)},[q]),C=a.find(a=>a.value===h),D=C?.label||o("placeholder.select",{ns:"common"});return(0,b.jsxs)(f.PortalToFollowElem,{placement:r||"bottom-start",offset:s||4,open:A,onOpenChange:B,triggerPopupSameWidth:t,children:[(0,b.jsx)(f.PortalToFollowElemTrigger,{onClick:()=>B(!A),asChild:!0,children:(0,b.jsx)("div",{className:(0,g.cn)("system-sm-regular group flex h-8 cursor-pointer items-center rounded-lg bg-components-input-bg-normal px-2 text-components-input-text-filled hover:bg-state-base-hover-alt",A&&"bg-state-base-hover-alt",u),children:m?m(C,A):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grow",title:D,children:D}),(0,b.jsx)(c.RiArrowDownSLine,{className:(0,g.cn)("h-4 w-4 shrink-0 text-text-quaternary group-hover:text-text-secondary",A&&"text-text-secondary")})]})})}),(0,b.jsx)(f.PortalToFollowElemContent,{className:(0,g.cn)("z-10",v),children:(0,b.jsx)("div",{className:(0,g.cn)("rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg shadow-shadow-shadow-5",w),children:a.map(a=>{let d=h===a.value;return(0,b.jsx)("div",{className:(0,g.cn)("system-sm-medium flex h-8 cursor-pointer items-center rounded-lg px-2 text-text-secondary hover:bg-state-base-hover",x),title:a.label,onClick:()=>{i?.(a.value),B(!1)},children:n?n(a,d):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mr-1 grow truncate px-1",children:a.label}),d&&(0,b.jsx)(c.RiCheckLine,{className:"h-4 w-4 shrink-0 text-text-accent"})]})},a.value)})})})]})}])},674766,a=>{"use strict";a.s(["transformDataSourceToTool",0,a=>({id:a.plugin_id,provider:a.provider,name:a.provider,author:a.declaration.identity.author,description:a.declaration.identity.description,icon:a.declaration.identity.icon,label:a.declaration.identity.label,type:a.declaration.provider_type,team_credentials:{},allow_delete:!0,is_team_authorization:a.is_authorized,is_authorized:a.is_authorized,labels:a.declaration.identity.tags||[],plugin_id:a.plugin_id,plugin_unique_identifier:a.plugin_unique_identifier,tools:a.declaration.datasources.map(a=>({name:a.identity.name,author:a.identity.author,label:a.identity.label,description:a.description,parameters:a.parameters,labels:[],output_schema:a.output_schema})),credentialsSchema:a.declaration.credentials_schema||[],meta:{version:""}})])},368425,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843);a.i(752298);var e=a.i(693025),f=a.i(825319),g=a.i(346896),h=a.i(527344);let i=d.memo(({timezone:a,className:c,inline:e=!1})=>{let f=(0,d.useMemo)(()=>(0,g.convertTimezoneToOffsetStr)(a),[a]);return(0,b.jsx)("span",{className:(0,h.cn)("system-sm-regular text-text-tertiary",e&&"text-text-quaternary",c),title:`Timezone: ${a} (${f})`,children:f})});var j=a.i(495331),k=a.i(909795);let l=d.memo(({handleSelectCurrentTime:a,handleConfirm:c})=>{let{t:d}=(0,e.useTranslation)();return(0,b.jsxs)("div",{className:"flex items-center justify-between border-t-[0.5px] border-divider-regular p-2",children:[(0,b.jsx)(k.default,{variant:"secondary-accent",size:"small",className:"mr-1 flex-1",onClick:a,children:d("operation.now",{ns:"time"})}),(0,b.jsx)(k.default,{variant:"primary",size:"small",className:"ml-1 flex-1",onClick:c.bind(null),children:d("operation.ok",{ns:"time"})})]})});var m=a.i(347350),n=a.i(786641);a.s(["default",0,({value:a,timezone:k,placeholder:o,onChange:p,onClear:q,renderTrigger:r,title:s,minuteFilter:t,popupClassName:u,notClearable:v=!1,triggerFullWidth:w=!1,showTimezone:x=!1,placement:y="bottom-start"})=>{let{t:z}=(0,e.useTranslation)(),[A,B]=(0,d.useState)(!1),C=(0,d.useRef)(null),D=(0,d.useRef)(!0),[E,F]=(0,d.useState)(()=>(0,g.toDayjs)(a,{timezone:k}));(0,d.useEffect)(()=>{let a=a=>{C.current&&!C.current.contains(a.target)&&B(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let G=(0,d.useRef)(a),H=(0,d.useRef)(k);(0,d.useEffect)(()=>{if(D.current){D.current=!1,G.current=a,H.current=k;return}let b=G.current!==a,c=H.current!==k;if(G.current=a,H.current=k,c||b){if(null!=a){let d=(0,g.toDayjs)(a,{timezone:k});if(!d)return;F(d),c&&!b&&p(d);return}F(a=>{if((0,g.isDayjsObject)(a))return k?(0,g.getDateWithTimezone)({date:a,timezone:k}):a})}},[k,a,p]);let I=b=>{if(b.stopPropagation(),A)return void B(!1);if(B(!0),a){let b=(0,g.toDayjs)(a,{timezone:k});!b||E&&(0,g.isDayjsObject)(E)&&b.isSame(E,"minute")||F(b)}},J=(a,b,c)=>{let d,e=(d=Number.parseInt(a,10)%12,c===j.Period.PM?d+12:d),f=Number.parseInt(b,10);F(a=>((0,g.isDayjsObject)(a)?a:(k?(0,g.getDateWithTimezone)({timezone:k}):(0,g.default)()).startOf("minute")).set("hour",e).set("minute",f).set("second",0).set("millisecond",0))},K=(0,d.useCallback)(()=>(0,g.isDayjsObject)(E)?E:(k?(0,g.getDateWithTimezone)({timezone:k}):(0,g.default)()).startOf("day"),[E,k]),L=(0,d.useCallback)(a=>{let b=K();J(a,b.minute().toString().padStart(2,"0"),b.format("A"))},[K]),M=(0,d.useCallback)(a=>{let b=K();J((0,g.getHourIn12Hour)(b).toString().padStart(2,"0"),a,b.format("A"))},[K]),N=(0,d.useCallback)(a=>{let b=K();J((0,g.getHourIn12Hour)(b).toString().padStart(2,"0"),b.minute().toString().padStart(2,"0"),a)},[K]),O=(0,d.useCallback)(()=>{let a=(0,g.getDateWithTimezone)({timezone:k});F(a),p(a),B(!1)},[k,p]),P=(0,d.useCallback)(()=>{p((0,g.isDayjsObject)(E)?E:void 0),B(!1)},[E,p]),Q="hh:mm A",R=(0,d.useCallback)(a=>{if(!a)return"";let b=(0,g.toDayjs)(a,{timezone:k});return b?.format(Q)||""},[k])(a),S=A&&(0,g.isDayjsObject)(E)?E.format(Q):o||z("defaultPlaceholder",{ns:"time"}),T=(0,b.jsx)("input",{className:"system-xs-regular flex-1 cursor-pointer select-none appearance-none truncate bg-transparent p-1 text-components-input-text-filled outline-none placeholder:text-components-input-text-placeholder",readOnly:!0,value:A?"":R,placeholder:S});return(0,b.jsxs)(f.PortalToFollowElem,{open:A,onOpenChange:B,placement:y,children:[(0,b.jsx)(f.PortalToFollowElemTrigger,{className:w?"!block w-full":void 0,children:r?r({inputElem:T,onClick:I,isOpen:A}):(0,b.jsxs)("div",{className:(0,h.cn)("group flex cursor-pointer items-center gap-x-0.5 rounded-lg bg-components-input-bg-normal px-2 py-1 hover:bg-state-base-hover-alt",w?"w-full min-w-0":"w-[252px]"),onClick:I,children:[T,x&&k&&(0,b.jsx)(i,{timezone:k,inline:!0,className:"shrink-0 select-none text-xs"}),(0,b.jsx)(c.RiTimeLine,{className:(0,h.cn)("h-4 w-4 shrink-0 text-text-quaternary",A?"text-text-secondary":"group-hover:text-text-secondary",(R||A&&E)&&!v&&"group-hover:hidden")}),(0,b.jsx)(c.RiCloseCircleFill,{className:(0,h.cn)("hidden h-4 w-4 shrink-0 text-text-quaternary",(R||A&&E)&&!v&&"hover:text-text-secondary group-hover:inline-block"),role:"button","aria-label":z("operation.clear",{ns:"common"}),onClick:a=>{a.stopPropagation(),F(void 0),A||q()}})]})}),(0,b.jsx)(f.PortalToFollowElemContent,{className:(0,h.cn)("z-50",u),children:(0,b.jsxs)("div",{className:"mt-1 w-[252px] rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg shadow-lg shadow-shadow-shadow-5",children:[(0,b.jsx)(m.default,{title:s}),(0,b.jsx)(n.default,{selectedTime:E,minuteFilter:t,handleSelectHour:L,handleSelectMinute:M,handleSelectPeriod:N}),(0,b.jsx)(l,{handleSelectCurrentTime:O,handleConfirm:P})]})})]})}],368425)},69419,a=>{a.v(a=>Promise.resolve().then(()=>a(9575)))}];

//# sourceMappingURL=_5d73e20d._.js.map