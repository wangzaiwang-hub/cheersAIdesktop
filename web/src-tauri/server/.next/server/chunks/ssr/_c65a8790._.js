module.exports=[5596,a=>{"use strict";var b=a.i(668308);a.s(["sendGAEvent",0,(a,c)=>{b.isServer||"function"!=typeof window.gtag||window.gtag("event",a,c)}])},540073,a=>{"use strict";var b=a.i(608061),c=a.i(607990),d=a.i(533306),e=a.i(57843);a.i(752298);var f=a.i(693025);a.i(60796);var g=a.i(55282),h=a.i(909795),i=a.i(816134),j=a.i(114715),k=a.i(18039),l=a.i(763539),m=a.i(527344),n=a.i(5596);a.s(["default",0,()=>{let{t:a}=(0,f.useTranslation)(),o=(0,d.useRouter)(),p=decodeURIComponent((0,d.useSearchParams)().get("token")||""),[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(""),{mutateAsync:u,isPending:v}=(0,l.useMailRegister)(),w=(0,e.useCallback)(a=>{j.default.notify({type:"error",message:a})},[]),x=(0,e.useCallback)(()=>q.trim()?k.validPassword.test(q)?q===s||(w(a("account.notEqual",{ns:"common"})),!1):(w(a("error.passwordInvalid",{ns:"login"})),!1):(w(a("error.passwordEmpty",{ns:"login"})),!1),[q,s,w,a]),y=(0,e.useCallback)(async()=>{if(x())try{let{result:b}=await u({token:p,new_password:q,password_confirm:s});if("success"===b){let b=(()=>{let a=c.default.get("utm_info");if(!a)return null;try{return JSON.parse(a)}catch(a){return console.error("Failed to parse utm_info cookie:",a),null}})();(0,g.trackEvent)(b?"user_registration_success_with_utm":"user_registration_success",{method:"email",...b}),(0,n.sendGAEvent)(b?"user_registration_success_with_utm":"user_registration_success",{method:"email",...b}),c.default.remove("utm_info"),j.default.notify({type:"success",message:a("api.actionSuccess",{ns:"common"})}),o.replace("/apps")}}catch(a){console.error(a)}},[q,p,x,s,u]);return(0,b.jsx)("div",{className:(0,m.cn)("flex w-full grow flex-col items-center justify-center","px-6","md:px-[108px]"),children:(0,b.jsxs)("div",{className:"flex flex-col md:w-[400px]",children:[(0,b.jsxs)("div",{className:"mx-auto w-full",children:[(0,b.jsx)("h2",{className:"title-4xl-semi-bold text-text-primary",children:a("changePassword",{ns:"login"})}),(0,b.jsx)("p",{className:"body-md-regular mt-2 text-text-secondary",children:a("changePasswordTip",{ns:"login"})})]}),(0,b.jsx)("div",{className:"mx-auto mt-6 w-full",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{htmlFor:"password",className:"system-md-semibold my-2 text-text-secondary",children:a("account.newPassword",{ns:"common"})}),(0,b.jsx)("div",{className:"relative mt-1",children:(0,b.jsx)(i.default,{id:"password",type:"password",value:q,onChange:a=>r(a.target.value),placeholder:a("passwordPlaceholder",{ns:"login"})||""})}),(0,b.jsx)("div",{className:"body-xs-regular mt-1 text-text-secondary",children:a("error.passwordInvalid",{ns:"login"})})]}),(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("label",{htmlFor:"confirmPassword",className:"system-md-semibold my-2 text-text-secondary",children:a("account.confirmPassword",{ns:"common"})}),(0,b.jsx)("div",{className:"relative mt-1",children:(0,b.jsx)(i.default,{id:"confirmPassword",type:"password",value:s,onChange:a=>t(a.target.value),placeholder:a("confirmPasswordPlaceholder",{ns:"login"})||""})})]}),(0,b.jsx)("div",{children:(0,b.jsx)(h.default,{variant:"primary",className:"w-full",onClick:y,disabled:v||!q||!s,children:a("changePasswordBtn",{ns:"login"})})})]})})]})})}])},626319,a=>{a.v(b=>Promise.all(["server/chunks/ssr/45478_@amplitude_targeting_lib_esm_index_692bde65.js"].map(b=>a.l(b))).then(()=>b(799955)))},988202,a=>{a.v(b=>Promise.all(["server/chunks/ssr/119d9_@amplitude_session-replay-browser_lib_esm_worker_index_0e53835e.js"].map(b=>a.l(b))).then(()=>b(297381)))},439156,a=>{a.v(b=>Promise.all(["server/chunks/ssr/2889f_@amplitude_rrweb-plugin-console-record_dist_rrweb-plugin-console-record_2133e23d.js"].map(b=>a.l(b))).then(()=>b(721079)))},160037,a=>{a.v(b=>Promise.all(["server/chunks/ssr/d32d6_@amplitude_rrweb-record_dist_rrweb-record_9ec258c9.js"].map(b=>a.l(b))).then(()=>b(173279)))},425380,a=>{a.v(b=>Promise.all(["server/chunks/ssr/119d9_@amplitude_session-replay-browser_lib_esm_observers_8b19b023.js"].map(b=>a.l(b))).then(()=>b(854997)))}];

//# sourceMappingURL=_c65a8790._.js.map