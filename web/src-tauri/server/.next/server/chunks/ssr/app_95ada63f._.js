module.exports=[48431,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843);a.i(752298);var e=a.i(693025),f=a.i(909795);a.i(622666);var g=a.i(593110),h=a.i(933887),i=a.i(18039),j=a.i(29255),k=a.i(375616),l=a.i(527344);let m=d.memo(()=>{let a=!i.IS_CE_EDITION,{isAPIKeySet:m}=(0,k.useProviderContext)(),{setShowAccountSettingModal:n}=(0,j.useModalContext)(),{t:o}=(0,e.useTranslation)(),[p,q]=(0,d.useState)(!0);return m||!p?null:(0,b.jsxs)("div",{className:(0,l.cn)("border-components-panel-border bg-components-panel-bg","relative mb-6 rounded-2xl border p-8 shadow-md "),children:[(0,b.jsxs)("div",{className:(0,l.cn)("text-[24px] font-semibold text-text-primary",a?"flex h-8 items-center space-x-1":"mb-6 leading-8"),children:[a&&(0,b.jsx)("em-emoji",{id:"ðŸ˜€"}),a?(0,b.jsx)("div",{children:o("apiKeyInfo.cloud.trial.title",{ns:"appOverview",providerName:"OpenAI"})}):(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:o("apiKeyInfo.selfHost.title.row1",{ns:"appOverview"})}),(0,b.jsx)("div",{children:o("apiKeyInfo.selfHost.title.row2",{ns:"appOverview"})})]})]}),a&&(0,b.jsx)("div",{className:"mt-1 text-sm font-normal text-text-tertiary",children:o("apiKeyInfo.cloud.trial.description",{ns:"appOverview"})}),(0,b.jsxs)(f.default,{variant:"primary",className:"mt-2 space-x-2",onClick:()=>n({payload:h.ACCOUNT_SETTING_TAB.PROVIDER}),children:[(0,b.jsx)("div",{className:"text-sm font-medium",children:o("apiKeyInfo.setAPIBtn",{ns:"appOverview"})}),(0,b.jsx)(g.LinkExternal02,{className:"h-4 w-4"})]}),!a&&(0,b.jsxs)("a",{className:"mt-2 flex h-[26px] items-center space-x-1  p-1 text-xs font-medium text-[#155EEF]",href:"https://cloud.dify.ai/apps",target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)("div",{children:o("apiKeyInfo.tryCloud",{ns:"appOverview"})}),(0,b.jsx)(g.LinkExternal02,{className:"h-3 w-3"})]}),(0,b.jsx)("div",{onClick:()=>q(!1),className:"absolute right-4 top-4 flex h-8 w-8 cursor-pointer items-center justify-center ",children:(0,b.jsx)(c.RiCloseLine,{className:"h-4 w-4 text-text-tertiary"})})]})});a.s(["default",0,m])},226022,a=>{"use strict";var b=a.i(608061),c=a.i(435133),d=a.i(568743),e=a.i(57843);a.i(752298);var f,g,h=a.i(693025),i=a.i(697525),j="0123456789abcdef",k="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",l="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",m={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},n=!0,o="[DecimalError] ",p=o+"Invalid argument: ",q=o+"Precision limit exceeded",r=o+"crypto unavailable",s="[object Decimal]",t=Math.floor,u=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,y=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,z=k.length-1,A=l.length-1,B={toStringTag:s};function C(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=N(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=N(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}function D(a,b,c){if(a!==~~a||a<b||a>c)throw Error(p+a)}function E(a,b,c,d){var e,f,g,h;for(f=a[0];f>=10;f/=10)--b;return--b<0?(b+=7,e=0):(e=Math.ceil((b+1)/7),b%=7),f=u(10,7-b),h=a[e]%f|0,null==d?b<3?(0==b?h=h/100|0:1==b&&(h=h/10|0),g=c<4&&99999==h||c>3&&49999==h||5e4==h||0==h):g=(c<4&&h+1==f||c>3&&h+1==f/2)&&(a[e+1]/f/100|0)==u(10,b-2)-1||(h==f/2||0==h)&&(a[e+1]/f/100|0)==0:b<4?(0==b?h=h/1e3|0:1==b?h=h/100|0:2==b&&(h=h/10|0),g=(d||c<4)&&9999==h||!d&&c>3&&4999==h):g=((d||c<4)&&h+1==f||!d&&c>3&&h+1==f/2)&&(a[e+1]/f/1e3|0)==u(10,b-3)-1,g}function F(a,b,c){for(var d,e,f=[0],g=0,h=a.length;g<h;){for(e=f.length;e--;)f[e]*=b;for(f[0]+=j.indexOf(a.charAt(g++)),d=0;d<f.length;d++)f[d]>c-1&&(void 0===f[d+1]&&(f[d+1]=0),f[d+1]+=f[d]/c|0,f[d]%=c)}return f.reverse()}B.absoluteValue=B.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),H(a)},B.ceil=function(){return H(new this.constructor(this),this.e+1,2)},B.clampedTo=B.clamp=function(a,b){var c=this.constructor;if(a=new c(a),b=new c(b),!a.s||!b.s)return new c(NaN);if(a.gt(b))throw Error(p+b);return 0>this.cmp(a)?a:this.cmp(b)>0?b:new c(this)},B.comparedTo=B.cmp=function(a){var b,c,d,e,f=this.d,g=(a=new this.constructor(a)).d,h=this.s,i=a.s;if(!f||!g)return h&&i?h!==i?h:f===g?0:!f^h<0?1:-1:NaN;if(!f[0]||!g[0])return f[0]?h:g[0]?-i:0;if(h!==i)return h;if(this.e!==a.e)return this.e>a.e^h<0?1:-1;for(b=0,c=(d=f.length)<(e=g.length)?d:e;b<c;++b)if(f[b]!==g[b])return f[b]>g[b]^h<0?1:-1;return d===e?0:d>e^h<0?1:-1},B.cosine=B.cos=function(){var a,b,c=this,d=c.constructor;return c.d?c.d[0]?(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d,e;if(b.isZero())return b;(d=b.d.length)<32?e=(1/W(4,c=Math.ceil(d/3))).toString():(c=16,e="2.3283064365386962890625e-10"),a.precision+=c,b=V(a,1,b.times(e),new a(1));for(var f=c;f--;){var g=b.times(b);b=g.times(g).minus(g).times(8).plus(1)}return a.precision-=c,b}(d,X(d,c)),d.precision=a,d.rounding=b,H(2==g||3==g?c.neg():c,a,b,!0)):new d(1):new d(NaN)},B.cubeRoot=B.cbrt=function(){var a,b,c,d,e,f,g,h,i,j,k=this.constructor;if(!this.isFinite()||this.isZero())return new k(this);for(n=!1,(f=this.s*u(this.s*this,1/3))&&Math.abs(f)!=1/0?d=new k(f.toString()):(c=C(this.d),(f=((a=this.e)-c.length+1)%3)&&(c+=1==f||-2==f?"0":"00"),f=u(c,1/3),a=t((a+1)/3)-(a%3==(a<0?-1:2)),(d=new k(c=f==1/0?"5e"+a:(c=f.toExponential()).slice(0,c.indexOf("e")+1)+a)).s=this.s),g=(a=k.precision)+3;;)if(d=G((j=(i=(h=d).times(h).times(h)).plus(this)).plus(this).times(h),j.plus(i),g+2,1),C(h.d).slice(0,g)===(c=C(d.d)).slice(0,g)){if("9999"!=(c=c.slice(g-3,g+1))&&(e||"4999"!=c)){+c&&(+c.slice(1)||"5"!=c.charAt(0))||(H(d,a+1,1),b=!d.times(d).times(d).eq(this));break}if(!e&&(H(h,a+1,0),h.times(h).times(h).eq(this))){d=h;break}g+=4,e=1}return n=!0,H(d,a,k.rounding,b)},B.decimalPlaces=B.dp=function(){var a,b=this.d,c=NaN;if(b){if(c=((a=b.length-1)-t(this.e/7))*7,a=b[a])for(;a%10==0;a/=10)c--;c<0&&(c=0)}return c},B.dividedBy=B.div=function(a){return G(this,new this.constructor(a))},B.dividedToIntegerBy=B.divToInt=function(a){var b=this.constructor;return H(G(this,new b(a),0,1,1),b.precision,b.rounding)},B.equals=B.eq=function(a){return 0===this.cmp(a)},B.floor=function(){return H(new this.constructor(this),this.e+1,3)},B.greaterThan=B.gt=function(a){return this.cmp(a)>0},B.greaterThanOrEqualTo=B.gte=function(a){var b=this.cmp(a);return 1==b||0===b},B.hyperbolicCosine=B.cosh=function(){var a,b,c,d,e,f=this,g=f.constructor,h=new g(1);if(!f.isFinite())return new g(f.s?1/0:NaN);if(f.isZero())return h;c=g.precision,d=g.rounding,g.precision=c+Math.max(f.e,f.sd())+4,g.rounding=1,(e=f.d.length)<32?b=(1/W(4,a=Math.ceil(e/3))).toString():(a=16,b="2.3283064365386962890625e-10"),f=V(g,1,f.times(b),new g(1),!0);for(var i,j=a,k=new g(8);j--;)i=f.times(f),f=h.minus(i.times(k.minus(i.times(k))));return H(f,g.precision=c,g.rounding=d,!0)},B.hyperbolicSine=B.sinh=function(){var a,b,c,d,e=this,f=e.constructor;if(!e.isFinite()||e.isZero())return new f(e);if(b=f.precision,c=f.rounding,f.precision=b+Math.max(e.e,e.sd())+4,f.rounding=1,(d=e.d.length)<3)e=V(f,2,e,e,!0);else{a=(a=1.4*Math.sqrt(d))>16?16:0|a,e=V(f,2,e=e.times(1/W(5,a)),e,!0);for(var g,h=new f(5),i=new f(16),j=new f(20);a--;)g=e.times(e),e=e.times(h.plus(g.times(i.times(g).plus(j))))}return f.precision=b,f.rounding=c,H(e,b,c,!0)},B.hyperbolicTangent=B.tanh=function(){var a,b,c=this.constructor;return this.isFinite()?this.isZero()?new c(this):(a=c.precision,b=c.rounding,c.precision=a+7,c.rounding=1,G(this.sinh(),this.cosh(),c.precision=a,c.rounding=b)):new c(this.s)},B.inverseCosine=B.acos=function(){var a=this,b=a.constructor,c=a.abs().cmp(1),d=b.precision,e=b.rounding;return -1!==c?0===c?a.isNeg()?L(b,d,e):new b(0):new b(NaN):a.isZero()?L(b,d+4,e).times(.5):(b.precision=d+6,b.rounding=1,a=new b(1).minus(a).div(a.plus(1)).sqrt().atan(),b.precision=d,b.rounding=e,a.times(2))},B.inverseHyperbolicCosine=B.acosh=function(){var a,b,c=this,d=c.constructor;return c.lte(1)?new d(c.eq(1)?0:NaN):c.isFinite()?(a=d.precision,b=d.rounding,d.precision=a+Math.max(Math.abs(c.e),c.sd())+4,d.rounding=1,n=!1,c=c.times(c).minus(1).sqrt().plus(c),n=!0,d.precision=a,d.rounding=b,c.ln()):new d(c)},B.inverseHyperbolicSine=B.asinh=function(){var a,b,c=this,d=c.constructor;return!c.isFinite()||c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+2*Math.max(Math.abs(c.e),c.sd())+6,d.rounding=1,n=!1,c=c.times(c).plus(1).sqrt().plus(c),n=!0,d.precision=a,d.rounding=b,c.ln())},B.inverseHyperbolicTangent=B.atanh=function(){var a,b,c,d,e=this,f=e.constructor;return e.isFinite()?e.e>=0?new f(e.abs().eq(1)?e.s/0:e.isZero()?e:NaN):(a=f.precision,b=f.rounding,Math.max(d=e.sd(),a)<-(2*e.e)-1)?H(new f(e),a,b,!0):(f.precision=c=d-e.e,e=G(e.plus(1),new f(1).minus(e),c+a,1),f.precision=a+4,f.rounding=1,e=e.ln(),f.precision=a,f.rounding=b,e.times(.5)):new f(NaN)},B.inverseSine=B.asin=function(){var a,b,c,d,e=this,f=e.constructor;return e.isZero()?new f(e):(b=e.abs().cmp(1),c=f.precision,d=f.rounding,-1!==b)?0===b?((a=L(f,c+4,d).times(.5)).s=e.s,a):new f(NaN):(f.precision=c+6,f.rounding=1,e=e.div(new f(1).minus(e.times(e)).sqrt().plus(1)).atan(),f.precision=c,f.rounding=d,e.times(2))},B.inverseTangent=B.atan=function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.constructor,l=k.precision,m=k.rounding;if(j.isFinite()){if(j.isZero())return new k(j);else if(j.abs().eq(1)&&l+4<=A)return(g=L(k,l+4,m).times(.25)).s=j.s,g}else{if(!j.s)return new k(NaN);if(l+4<=A)return(g=L(k,l+4,m).times(.5)).s=j.s,g}for(k.precision=h=l+10,k.rounding=1,a=c=Math.min(28,h/7+2|0);a;--a)j=j.div(j.times(j).plus(1).sqrt().plus(1));for(n=!1,b=Math.ceil(h/7),d=1,i=j.times(j),g=new k(j),e=j;-1!==a;)if(e=e.times(i),f=g.minus(e.div(d+=2)),e=e.times(i),void 0!==(g=f.plus(e.div(d+=2))).d[b])for(a=b;g.d[a]===f.d[a]&&a--;);return c&&(g=g.times(2<<c-1)),n=!0,H(g,k.precision=l,k.rounding=m,!0)},B.isFinite=function(){return!!this.d},B.isInteger=B.isInt=function(){return!!this.d&&t(this.e/7)>this.d.length-2},B.isNaN=function(){return!this.s},B.isNegative=B.isNeg=function(){return this.s<0},B.isPositive=B.isPos=function(){return this.s>0},B.isZero=function(){return!!this.d&&0===this.d[0]},B.lessThan=B.lt=function(a){return 0>this.cmp(a)},B.lessThanOrEqualTo=B.lte=function(a){return 1>this.cmp(a)},B.logarithm=B.log=function(a){var b,c,d,e,f,g,h,i=this.constructor,j=i.precision,k=i.rounding;if(null==a)a=new i(10),b=!0;else{if(c=(a=new i(a)).d,a.s<0||!c||!c[0]||a.eq(1))return new i(NaN);b=a.eq(10)}if(c=this.d,this.s<0||!c||!c[0]||this.eq(1))return new i(c&&!c[0]?-1/0:1!=this.s?NaN:c?0:1/0);if(b)if(c.length>1)e=!0;else{for(d=c[0];d%10==0;)d/=10;e=1!==d}if(n=!1,E((h=G(f=S(this,g=j+5),b?K(i,g+10):S(a,g),g,1)).d,d=j,k))do if(g+=10,h=G(f=S(this,g),b?K(i,g+10):S(a,g),g,1),!e){+C(h.d).slice(d+1,d+15)+1==1e14&&(h=H(h,j+1,0));break}while(E(h.d,d+=10,k))return n=!0,H(h,j,k)},B.minus=B.sub=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o=this.constructor;if(a=new o(a),!this.d||!a.d)return this.s&&a.s?this.d?a.s=-a.s:a=new o(a.d||this.s!==a.s?this:NaN):a=new o(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.plus(a);if(j=this.d,m=a.d,h=o.precision,i=o.rounding,!j[0]||!m[0]){if(m[0])a.s=-a.s;else{if(!j[0])return new o(3===i?-0:0);a=new o(this)}return n?H(a,h,i):a}if(c=t(a.e/7),k=t(this.e/7),j=j.slice(),f=k-c){for((l=f<0)?(b=j,f=-f,g=m.length):(b=m,c=k,g=j.length),f>(d=Math.max(Math.ceil(h/7),g)+2)&&(f=d,b.length=1),b.reverse(),d=f;d--;)b.push(0);b.reverse()}else{for((l=(d=j.length)<(g=m.length))&&(g=d),d=0;d<g;d++)if(j[d]!=m[d]){l=j[d]<m[d];break}f=0}for(l&&(b=j,j=m,m=b,a.s=-a.s),g=j.length,d=m.length-g;d>0;--d)j[g++]=0;for(d=m.length;d>f;){if(j[--d]<m[d]){for(e=d;e&&0===j[--e];)j[e]=1e7-1;--j[e],j[d]+=1e7}j[d]-=m[d]}for(;0===j[--g];)j.pop();for(;0===j[0];j.shift())--c;return j[0]?(a.d=j,a.e=J(j,c),n?H(a,h,i):a):new o(3===i?-0:0)},B.modulo=B.mod=function(a){var b,c=this.constructor;return(a=new c(a),this.d&&a.s&&(!a.d||a.d[0]))?a.d&&(!this.d||this.d[0])?(n=!1,9==c.modulo?(b=G(this,a.abs(),0,3,1),b.s*=a.s):b=G(this,a,0,c.modulo,1),b=b.times(a),n=!0,this.minus(b)):H(new c(this),c.precision,c.rounding):new c(NaN)},B.naturalExponential=B.exp=function(){return R(this)},B.naturalLogarithm=B.ln=function(){return S(this)},B.negated=B.neg=function(){var a=new this.constructor(this);return a.s=-a.s,H(a)},B.plus=B.add=function(a){var b,c,d,e,f,g,h,i,j,k,l=this.constructor;if(a=new l(a),!this.d||!a.d)return this.s&&a.s?this.d||(a=new l(a.d||this.s===a.s?this:NaN)):a=new l(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.minus(a);if(j=this.d,k=a.d,h=l.precision,i=l.rounding,!j[0]||!k[0])return k[0]||(a=new l(this)),n?H(a,h,i):a;if(f=t(this.e/7),d=t(a.e/7),j=j.slice(),e=f-d){for(e<0?(c=j,e=-e,g=k.length):(c=k,d=f,g=j.length),e>(g=(f=Math.ceil(h/7))>g?f+1:g+1)&&(e=g,c.length=1),c.reverse();e--;)c.push(0);c.reverse()}for((g=j.length)-(e=k.length)<0&&(e=g,c=k,k=j,j=c),b=0;e;)b=(j[--e]=j[e]+k[e]+b)/1e7|0,j[e]%=1e7;for(b&&(j.unshift(b),++d),g=j.length;0==j[--g];)j.pop();return a.d=j,a.e=J(j,d),n?H(a,h,i):a},B.precision=B.sd=function(a){var b;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(p+a);return this.d?(b=M(this.d),a&&this.e+1>b&&(b=this.e+1)):b=NaN,b},B.round=function(){var a=this.constructor;return H(new a(this),this.e+1,a.rounding)},B.sine=B.sin=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d=b.d.length;if(d<3)return b.isZero()?b:V(a,2,b,b);c=(c=1.4*Math.sqrt(d))>16?16:0|c,b=V(a,2,b=b.times(1/W(5,c)),b);for(var e,f=new a(5),g=new a(16),h=new a(20);c--;)e=b.times(b),b=b.times(f.plus(e.times(g.times(e).minus(h))));return b}(d,X(d,c)),d.precision=a,d.rounding=b,H(g>2?c.neg():c,a,b,!0)):new d(NaN)},B.squareRoot=B.sqrt=function(){var a,b,c,d,e,f,g=this.d,h=this.e,i=this.s,j=this.constructor;if(1!==i||!g||!g[0])return new j(!i||i<0&&(!g||g[0])?NaN:g?this:1/0);for(n=!1,0==(i=Math.sqrt(+this))||i==1/0?(((b=C(g)).length+h)%2==0&&(b+="0"),i=Math.sqrt(b),h=t((h+1)/2)-(h<0||h%2),d=new j(b=i==1/0?"5e"+h:(b=i.toExponential()).slice(0,b.indexOf("e")+1)+h)):d=new j(i.toString()),c=(h=j.precision)+3;;)if(d=(f=d).plus(G(this,f,c+2,1)).times(.5),C(f.d).slice(0,c)===(b=C(d.d)).slice(0,c)){if("9999"!=(b=b.slice(c-3,c+1))&&(e||"4999"!=b)){+b&&(+b.slice(1)||"5"!=b.charAt(0))||(H(d,h+1,1),a=!d.times(d).eq(this));break}if(!e&&(H(f,h+1,0),f.times(f).eq(this))){d=f;break}c+=4,e=1}return n=!0,H(d,h,j.rounding,a)},B.tangent=B.tan=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+10,d.rounding=1,(c=c.sin()).s=1,c=G(c,new d(1).minus(c.times(c)).sqrt(),a+10,0),d.precision=a,d.rounding=b,H(2==g||4==g?c.neg():c,a,b,!0)):new d(NaN)},B.times=B.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(a.s*=this.s,!l||!l[0]||!m||!m[0])return new k(!a.s||l&&!l[0]&&!m||m&&!m[0]&&!l?NaN:!l||!m?a.s/0:0*a.s);for(c=t(this.e/7)+t(a.e/7),(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=J(f,c),n?H(a,k.precision,k.rounding):a},B.toBinary=function(a,b){return Y(this,2,a,b)},B.toDecimalPlaces=B.toDP=function(a,b){var c=this,d=c.constructor;return(c=new d(c),void 0===a)?c:(D(a,0,1e9),void 0===b?b=d.rounding:D(b,0,8),H(c,a+c.e+1,b))},B.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=I(d,!0):(D(a,0,1e9),void 0===b?b=e.rounding:D(b,0,8),c=I(d=H(new e(d),a+1,b),!0,a+1)),d.isNeg()&&!d.isZero()?"-"+c:c},B.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?c=I(this):(D(a,0,1e9),void 0===b?b=e.rounding:D(b,0,8),c=I(d=H(new e(this),a+this.e+1,b),!1,a+d.e+1)),this.isNeg()&&!this.isZero()?"-"+c:c},B.toFraction=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o=this.d,q=this.constructor;if(!o)return new q(this);if(j=c=new q(1),d=i=new q(0),g=(f=(b=new q(d)).e=M(o)-this.e-1)%7,b.d[0]=u(10,g<0?7+g:g),null==a)a=f>0?b:j;else{if(!(h=new q(a)).isInt()||h.lt(j))throw Error(p+h);a=h.gt(b)?f>0?b:j:h}for(n=!1,h=new q(C(o)),k=q.precision,q.precision=f=7*o.length*2;l=G(h,b,0,1,1),1!=(e=c.plus(l.times(d))).cmp(a);)c=d,d=e,e=j,j=i.plus(l.times(e)),i=e,e=b,b=h.minus(l.times(e)),h=e;return e=G(a.minus(c),d,0,1,1),i=i.plus(e.times(j)),c=c.plus(e.times(d)),i.s=j.s=this.s,m=1>G(j,d,f,1).minus(this).abs().cmp(G(i,c,f,1).minus(this).abs())?[j,d]:[i,c],q.precision=k,n=!0,m},B.toHexadecimal=B.toHex=function(a,b){return Y(this,16,a,b)},B.toNearest=function(a,b){var c=this,d=c.constructor;if(c=new d(c),null==a){if(!c.d)return c;a=new d(1),b=d.rounding}else{if(a=new d(a),void 0===b?b=d.rounding:D(b,0,8),!c.d)return a.s?c:a;if(!a.d)return a.s&&(a.s=c.s),a}return a.d[0]?(n=!1,c=G(c,a,0,b,1).times(a),n=!0,H(c)):(a.s=c.s,c=a),c},B.toNumber=function(){return+this},B.toOctal=function(a,b){return Y(this,8,a,b)},B.toPower=B.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!h.d||!a.d||!h.d[0]||!a.d[0])return new i(u(+h,j));if((h=new i(h)).eq(1))return h;if(d=i.precision,f=i.rounding,a.eq(1))return H(h,d,f);if((b=t(a.e/7))>=a.d.length-1&&(c=j<0?-j:j)<=0x1fffffffffffff)return e=O(i,h,c,d),a.s<0?new i(1).div(e):H(e,d,f);if((g=h.s)<0){if(b<a.d.length-1)return new i(NaN);if((1&a.d[b])==0&&(g=1),0==h.e&&1==h.d[0]&&1==h.d.length)return h.s=g,h}return(b=0!=(c=u(+h,j))&&isFinite(c)?new i(c+"").e:t(j*(Math.log("0."+C(h.d))/Math.LN10+h.e+1)))>i.maxE+1||b<i.minE-1?new i(b>0?g/0:0):(n=!1,i.rounding=h.s=1,c=Math.min(12,(b+"").length),(e=R(a.times(S(h,d+c)),d)).d&&E((e=H(e,d+5,1)).d,d,f)&&(b=d+10,+C((e=H(R(a.times(S(h,b+c)),b),b+5,1)).d).slice(d+1,d+15)+1==1e14&&(e=H(e,d+1,0))),e.s=g,n=!0,i.rounding=f,H(e,d,f))},B.toPrecision=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=I(d,d.e<=e.toExpNeg||d.e>=e.toExpPos):(D(a,1,1e9),void 0===b?b=e.rounding:D(b,0,8),c=I(d=H(new e(d),a,b),a<=d.e||d.e<=e.toExpNeg,a)),d.isNeg()&&!d.isZero()?"-"+c:c},B.toSignificantDigits=B.toSD=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(D(a,1,1e9),void 0===b?b=c.rounding:D(b,0,8)),H(new c(this),a,b)},B.toString=function(){var a=this.constructor,b=I(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()&&!this.isZero()?"-"+b:b},B.truncated=B.trunc=function(){return H(new this.constructor(this),this.e+1,1)},B.valueOf=B.toJSON=function(){var a=this.constructor,b=I(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()?"-"+b:b};var G=function(){function a(a,b,c){var d,e=0,f=a.length;for(a=a.slice();f--;)d=a[f]*b+e,a[f]=d%c|0,e=d/c|0;return e&&a.unshift(e),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c,d){for(var e=0;c--;)a[c]-=e,e=+(a[c]<b[c]),a[c]=e*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,g,h,i,j){var k,l,m,n,o,p,q,r,s,u,v,w,x,y,z,A,B,C,D,E,F=d.constructor,G=d.s==e.s?1:-1,I=d.d,J=e.d;if(!I||!I[0]||!J||!J[0])return new F(!d.s||!e.s||(I?J&&I[0]==J[0]:!J)?NaN:I&&0==I[0]||!J?0*G:G/0);for(j?(o=1,l=d.e-e.e):(j=1e7,o=7,l=t(d.e/o)-t(e.e/o)),D=J.length,B=I.length,u=(s=new F(G)).d=[],m=0;J[m]==(I[m]||0);m++);if(J[m]>(I[m]||0)&&l--,null==g?(y=g=F.precision,h=F.rounding):y=i?g+(d.e-e.e)+1:g,y<0)u.push(1),p=!0;else{if(y=y/o+2|0,m=0,1==D){for(n=0,J=J[0],y++;(m<B||n)&&y--;m++)z=n*j+(I[m]||0),u[m]=z/J|0,n=z%J|0;p=n||m<B}else{for((n=j/(J[0]+1)|0)>1&&(J=a(J,n,j),I=a(I,n,j),D=J.length,B=I.length),A=D,w=(v=I.slice(0,D)).length;w<D;)v[w++]=0;(E=J.slice()).unshift(0),C=J[0],J[1]>=j/2&&++C;do n=0,(k=b(J,v,D,w))<0?(x=v[0],D!=w&&(x=x*j+(v[1]||0)),(n=x/C|0)>1?(n>=j&&(n=j-1),r=(q=a(J,n,j)).length,w=v.length,1==(k=b(q,v,r,w))&&(n--,c(q,D<r?E:J,r,j))):(0==n&&(k=n=1),q=J.slice()),(r=q.length)<w&&q.unshift(0),c(v,q,w,j),-1==k&&(w=v.length,(k=b(J,v,D,w))<1&&(n++,c(v,D<w?E:J,w,j))),w=v.length):0===k&&(n++,v=[0]),u[m++]=n,k&&v[0]?v[w++]=I[A]||0:(v=[I[A]],w=1);while((A++<B||void 0!==v[0])&&y--)p=void 0!==v[0]}u[0]||u.shift()}if(1==o)s.e=l,f=p;else{for(m=1,n=u[0];n>=10;n/=10)m++;s.e=m+l*o-1,H(s,i?g+s.e+1:g,h,p)}return s}}();function H(a,b,c,d){var e,f,g,h,i,j,k,l,m,o=a.constructor;a:if(null!=b){if(!(l=a.d))return a;for(e=1,h=l[0];h>=10;h/=10)e++;if((f=b-e)<0)f+=7,g=b,i=(k=l[m=0])/u(10,e-g-1)%10|0;else if((m=Math.ceil((f+1)/7))>=(h=l.length))if(d){for(;h++<=m;)l.push(0);k=i=0,e=1,f%=7,g=f-7+1}else break a;else{for(e=1,k=h=l[m];h>=10;h/=10)e++;f%=7,i=(g=f-7+e)<0?0:k/u(10,e-g-1)%10|0}if(d=d||b<0||void 0!==l[m+1]||(g<0?k:k%u(10,e-g-1)),j=c<4?(i||d)&&(0==c||c==(a.s<0?3:2)):i>5||5==i&&(4==c||d||6==c&&(f>0?g>0?k/u(10,e-g):0:l[m-1])%10&1||c==(a.s<0?8:7)),b<1||!l[0])return l.length=0,j?(b-=a.e+1,l[0]=u(10,(7-b%7)%7),a.e=-b||0):l[0]=a.e=0,a;if(0==f?(l.length=m,h=1,m--):(l.length=m+1,h=u(10,7-f),l[m]=g>0?(k/u(10,e-g)%u(10,g)|0)*h:0),j)for(;;)if(0==m){for(f=1,g=l[0];g>=10;g/=10)f++;for(g=l[0]+=h,h=1;g>=10;g/=10)h++;f!=h&&(a.e++,1e7==l[0]&&(l[0]=1));break}else{if(l[m]+=h,1e7!=l[m])break;l[m--]=0,h=1}for(f=l.length;0===l[--f];)l.pop()}return n&&(a.e>o.maxE?(a.d=null,a.e=NaN):a.e<o.minE&&(a.e=0,a.d=[0])),a}function I(a,b,c){if(!a.isFinite())return T(a);var d,e=a.e,f=C(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+N(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(a.e<0?"e":"e+")+a.e):e<0?(f="0."+N(-e-1)+f,c&&(d=c-g)>0&&(f+=N(d))):e>=g?(f+=N(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+N(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=N(d))),f}function J(a,b){var c=a[0];for(b*=7;c>=10;c/=10)b++;return b}function K(a,b,c){if(b>z)throw n=!0,c&&(a.precision=c),Error(q);return H(new a(k),b,1,!0)}function L(a,b,c){if(b>A)throw Error(q);return H(new a(l),b,c,!0)}function M(a){var b=a.length-1,c=7*b+1;if(b=a[b]){for(;b%10==0;b/=10)c--;for(b=a[0];b>=10;b/=10)c++}return c}function N(a){for(var b="";a--;)b+="0";return b}function O(a,b,c,d){var e,f=new a(1),g=Math.ceil(d/7+4);for(n=!1;;){if(c%2&&Z((f=f.times(b)).d,g)&&(e=!0),0===(c=t(c/2))){c=f.d.length-1,e&&0===f.d[c]&&++f.d[c];break}Z((b=b.times(b)).d,g)}return n=!0,f}function P(a){return 1&a.d[a.d.length-1]}function Q(a,b,c){for(var d,e,f=new a(b[0]),g=0;++g<b.length;){if(!(e=new a(b[g])).s){f=e;break}((d=f.cmp(e))===c||0===d&&f.s===c)&&(f=e)}return f}function R(a,b){var c,d,e,f,g,h,i,j=0,k=0,l=0,m=a.constructor,o=m.rounding,p=m.precision;if(!a.d||!a.d[0]||a.e>17)return new m(a.d?!a.d[0]?1:a.s<0?0:1/0:a.s?a.s<0?0:a:0/0);for(null==b?(n=!1,i=p):i=b,h=new m(.03125);a.e>-2;)a=a.times(h),l+=5;for(i+=d=Math.log(u(2,l))/Math.LN10*2+5|0,c=f=g=new m(1),m.precision=i;;){if(f=H(f.times(a),i,1),c=c.times(++k),C((h=g.plus(G(f,c,i,1))).d).slice(0,i)===C(g.d).slice(0,i)){for(e=l;e--;)g=H(g.times(g),i,1);if(null!=b)return m.precision=p,g;if(!(j<3&&E(g.d,i-d,o,j)))return H(g,m.precision=p,o,n=!0);m.precision=i+=10,c=f=h=new m(1),k=0,j++}g=h}}function S(a,b){var c,d,e,f,g,h,i,j,k,l,m,o=1,p=a,q=p.d,r=p.constructor,s=r.rounding,t=r.precision;if(p.s<0||!q||!q[0]||!p.e&&1==q[0]&&1==q.length)return new r(q&&!q[0]?-1/0:1!=p.s?NaN:q?0:p);if(null==b?(n=!1,k=t):k=b,r.precision=k+=10,d=(c=C(q)).charAt(0),!(15e14>Math.abs(f=p.e)))return j=K(r,k+2,t).times(f+""),p=S(new r(d+"."+c.slice(1)),k-10).plus(j),r.precision=t,null==b?H(p,t,s,n=!0):p;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=C((p=p.times(a)).d)).charAt(0),o++;for(f=p.e,d>1?(p=new r("0."+c),f++):p=new r(d+"."+c.slice(1)),l=p,i=g=p=G(p.minus(1),p.plus(1),k,1),m=H(p.times(p),k,1),e=3;;){if(g=H(g.times(m),k,1),C((j=i.plus(G(g,new r(e),k,1))).d).slice(0,k)===C(i.d).slice(0,k)){if(i=i.times(2),0!==f&&(i=i.plus(K(r,k+2,t).times(f+""))),i=G(i,new r(o),k,1),null!=b)return r.precision=t,i;if(!E(i.d,k-10,s,h))return H(i,r.precision=t,s,n=!0);r.precision=k+=10,j=g=p=G(l.minus(1),l.plus(1),k,1),m=H(p.times(p),k,1),e=h=1}i=j,e+=2}}function T(a){return String(a.s*a.s/0)}function U(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);d++);for(e=b.length;48===b.charCodeAt(e-1);--e);if(b=b.slice(d,e)){if(e-=d,a.e=c=c-d-1,a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";a.d.push(+b),n&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function V(a,b,c,d,e){var f,g,h,i,j=a.precision,k=Math.ceil(j/7);for(n=!1,i=c.times(c),h=new a(d);;){if(g=G(h.times(i),new a(b++*b++),j,1),h=e?d.plus(g):d.minus(g),d=G(g.times(i),new a(b++*b++),j,1),void 0!==(g=h.plus(d)).d[k]){for(f=k;g.d[f]===h.d[f]&&f--;);if(-1==f)break}f=h,h=d,d=g,g=f}return n=!0,g.d.length=k+1,g}function W(a,b){for(var c=a;--b;)c*=a;return c}function X(a,b){var c,d=b.s<0,e=L(a,a.precision,1),f=e.times(.5);if((b=b.abs()).lte(f))return g=d?4:1,b;if((c=b.divToInt(e)).isZero())g=d?3:2;else{if((b=b.minus(c.times(e))).lte(f))return g=P(c)?d?2:3:d?4:1,b;g=P(c)?d?1:4:d?3:2}return b.minus(e).abs()}function Y(a,b,c,d){var e,g,h,i,k,l,m,n,o,p=a.constructor,q=void 0!==c;if(q?(D(c,1,1e9),void 0===d?d=p.rounding:D(d,0,8)):(c=p.precision,d=p.rounding),a.isFinite()){for(h=(m=I(a)).indexOf("."),q?(e=2,16==b?c=4*c-3:8==b&&(c=3*c-2)):e=b,h>=0&&(m=m.replace(".",""),(o=new p(1)).e=m.length-h,o.d=F(I(o),10,e),o.e=o.d.length),g=k=(n=F(m,10,e)).length;0==n[--k];)n.pop();if(n[0]){if(h<0?g--:((a=new p(a)).d=n,a.e=g,n=(a=G(a,o,c,d,0,e)).d,g=a.e,l=f),h=n[c],i=e/2,l=l||void 0!==n[c+1],l=d<4?(void 0!==h||l)&&(0===d||d===(a.s<0?3:2)):h>i||h===i&&(4===d||l||6===d&&1&n[c-1]||d===(a.s<0?8:7)),n.length=c,l)for(;++n[--c]>e-1;)n[c]=0,c||(++g,n.unshift(1));for(k=n.length;!n[k-1];--k);for(h=0,m="";h<k;h++)m+=j.charAt(n[h]);if(q){if(k>1)if(16==b||8==b){for(h=16==b?4:3,--k;k%h;k++)m+="0";for(k=(n=F(m,e,b)).length;!n[k-1];--k);for(h=1,m="1.";h<k;h++)m+=j.charAt(n[h])}else m=m.charAt(0)+"."+m.slice(1);m=m+(g<0?"p":"p+")+g}else if(g<0){for(;++g;)m="0"+m;m="0."+m}else if(++g>k)for(g-=k;g--;)m+="0";else g<k&&(m=m.slice(0,g)+"."+m.slice(g))}else m=q?"0p+0":"0";m=(16==b?"0x":2==b?"0b":8==b?"0o":"")+m}else m=T(a);return a.s<0?"-"+m:m}function Z(a,b){if(a.length>b)return a.length=b,!0}function $(a){return new this(a).abs()}function _(a){return new this(a).acos()}function aa(a){return new this(a).acosh()}function ab(a,b){return new this(a).plus(b)}function ac(a){return new this(a).asin()}function ad(a){return new this(a).asinh()}function ae(a){return new this(a).atan()}function af(a){return new this(a).atanh()}function ag(a,b){a=new this(a),b=new this(b);var c,d=this.precision,e=this.rounding,f=d+4;return a.s&&b.s?a.d||b.d?!b.d||a.isZero()?(c=b.s<0?L(this,d,e):new this(0)).s=a.s:!a.d||b.isZero()?(c=L(this,f,1).times(.5)).s=a.s:b.s<0?(this.precision=f,this.rounding=1,c=this.atan(G(a,b,f,1)),b=L(this,f,1),this.precision=d,this.rounding=e,c=a.s<0?c.minus(b):c.plus(b)):c=this.atan(G(a,b,f,1)):(c=L(this,f,1).times(b.s>0?.25:.75)).s=a.s:c=new this(NaN),c}function ah(a){return new this(a).cbrt()}function ai(a){return H(a=new this(a),a.e+1,2)}function aj(a,b,c){return new this(a).clamp(b,c)}function ak(a){if(!a||"object"!=typeof a)throw Error(o+"Object expected");var b,c,d,e=!0===a.defaults,f=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(b=0;b<f.length;b+=3)if(c=f[b],e&&(this[c]=m[c]),void 0!==(d=a[c]))if(t(d)===d&&d>=f[b+1]&&d<=f[b+2])this[c]=d;else throw Error(p+c+": "+d);if(c="crypto",e&&(this[c]=m[c]),void 0!==(d=a[c]))if(!0===d||!1===d||0===d||1===d)if(d)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[c]=!0;else throw Error(r);else this[c]=!1;else throw Error(p+c+": "+d);return this}function al(a){return new this(a).cos()}function am(a){return new this(a).cosh()}function an(a,b){return new this(a).div(b)}function ao(a){return new this(a).exp()}function ap(a){return H(a=new this(a),a.e+1,3)}function aq(){var a,b,c=new this(0);for(a=0,n=!1;a<arguments.length;)if(b=new this(arguments[a++]),b.d)c.d&&(c=c.plus(b.times(b)));else{if(b.s)return n=!0,new this(1/0);c=b}return n=!0,c.sqrt()}function ar(a){return a instanceof aM||a&&a.toStringTag===s||!1}function as(a){return new this(a).ln()}function at(a,b){return new this(a).log(b)}function au(a){return new this(a).log(2)}function av(a){return new this(a).log(10)}function aw(){return Q(this,arguments,-1)}function ax(){return Q(this,arguments,1)}function ay(a,b){return new this(a).mod(b)}function az(a,b){return new this(a).mul(b)}function aA(a,b){return new this(a).pow(b)}function aB(a){var b,c,d,e,f=0,g=new this(1),h=[];if(void 0===a?a=this.precision:D(a,1,1e9),d=Math.ceil(a/7),this.crypto)if(crypto.getRandomValues)for(b=crypto.getRandomValues(new Uint32Array(d));f<d;)(e=b[f])>=429e7?b[f]=crypto.getRandomValues(new Uint32Array(1))[0]:h[f++]=e%1e7;else if(crypto.randomBytes){for(b=crypto.randomBytes(d*=4);f<d;)(e=b[f]+(b[f+1]<<8)+(b[f+2]<<16)+((127&b[f+3])<<24))>=214e7?crypto.randomBytes(4).copy(b,f):(h.push(e%1e7),f+=4);f=d/4}else throw Error(r);else for(;f<d;)h[f++]=1e7*Math.random()|0;for(d=h[--f],a%=7,d&&a&&(e=u(10,7-a),h[f]=(d/e|0)*e);0===h[f];f--)h.pop();if(f<0)c=0,h=[0];else{for(c=-1;0===h[0];c-=7)h.shift();for(d=1,e=h[0];e>=10;e/=10)d++;d<7&&(c-=7-d)}return g.e=c,g.d=h,g}function aC(a){return H(a=new this(a),a.e+1,this.rounding)}function aD(a){return(a=new this(a)).d?a.d[0]?a.s:0*a.s:a.s||NaN}function aE(a){return new this(a).sin()}function aF(a){return new this(a).sinh()}function aG(a){return new this(a).sqrt()}function aH(a,b){return new this(a).sub(b)}function aI(){var a=0,b=arguments,c=new this(b[0]);for(n=!1;c.s&&++a<b.length;)c=c.plus(b[a]);return n=!0,H(c,this.precision,this.rounding)}function aJ(a){return new this(a).tan()}function aK(a){return new this(a).tanh()}function aL(a){return H(a=new this(a),a.e+1,1)}B[Symbol.for("nodejs.util.inspect.custom")]=B.toString,B[Symbol.toStringTag]="Decimal";var aM=B.constructor=function a(b){var c,d,e;function f(a){var b,c,d;if(!(this instanceof f))return new f(a);if(this.constructor=f,ar(a)){this.s=a.s,n?!a.d||a.e>f.maxE?(this.e=NaN,this.d=null):a.e<f.minE?(this.e=0,this.d=[0]):(this.e=a.e,this.d=a.d.slice()):(this.e=a.e,this.d=a.d?a.d.slice():a.d);return}if("number"==(d=typeof a)){if(0===a){this.s=1/a<0?-1:1,this.e=0,this.d=[0];return}if(a<0?(a=-a,this.s=-1):this.s=1,a===~~a&&a<1e7){for(b=0,c=a;c>=10;c/=10)b++;n?b>f.maxE?(this.e=NaN,this.d=null):b<f.minE?(this.e=0,this.d=[0]):(this.e=b,this.d=[a]):(this.e=b,this.d=[a]);return}if(0*a!=0){a||(this.s=NaN),this.e=NaN,this.d=null;return}return U(this,a.toString())}if("string"===d)return 45===(c=a.charCodeAt(0))?(a=a.slice(1),this.s=-1):(43===c&&(a=a.slice(1)),this.s=1),y.test(a)?U(this,a):function(a,b){var c,d,e,f,g,h,i,j,k;if(b.indexOf("_")>-1){if(b=b.replace(/(\d)_(?=\d)/g,"$1"),y.test(b))return U(a,b)}else if("Infinity"===b||"NaN"===b)return+b||(a.s=NaN),a.e=NaN,a.d=null,a;if(w.test(b))c=16,b=b.toLowerCase();else if(v.test(b))c=2;else if(x.test(b))c=8;else throw Error(p+b);for((f=b.search(/p/i))>0?(i=+b.slice(f+1),b=b.substring(2,f)):b=b.slice(2),g=(f=b.indexOf("."))>=0,d=a.constructor,g&&(f=(h=(b=b.replace(".","")).length)-f,e=O(d,new d(c),f,2*f)),f=k=(j=F(b,c,1e7)).length-1;0===j[f];--f)j.pop();return f<0?new d(0*a.s):(a.e=J(j,k),a.d=j,n=!1,g&&(a=G(a,e,4*h)),i&&(a=a.times(54>Math.abs(i)?u(2,i):aM.pow(2,i))),n=!0,a)}(this,a);if("bigint"===d)return a<0?(a=-a,this.s=-1):this.s=1,U(this,a.toString());throw Error(p+a)}if(f.prototype=B,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.EUCLID=9,f.config=f.set=ak,f.clone=a,f.isDecimal=ar,f.abs=$,f.acos=_,f.acosh=aa,f.add=ab,f.asin=ac,f.asinh=ad,f.atan=ae,f.atanh=af,f.atan2=ag,f.cbrt=ah,f.ceil=ai,f.clamp=aj,f.cos=al,f.cosh=am,f.div=an,f.exp=ao,f.floor=ap,f.hypot=aq,f.ln=as,f.log=at,f.log10=av,f.log2=au,f.max=aw,f.min=ax,f.mod=ay,f.mul=az,f.pow=aA,f.random=aB,f.round=aC,f.sign=aD,f.sin=aE,f.sinh=aF,f.sqrt=aG,f.sub=aH,f.sum=aI,f.tan=aJ,f.tanh=aK,f.trunc=aL,void 0===b&&(b={}),b&&!0!==b.defaults)for(c=0,e=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}(m);k=new aM(k),l=new aM(l);var aN=a.i(978634),aO=a.i(516793),aP=a.i(182769),aQ=a.i(105249),aR=a.i(926261),aS=a.i(573912);let aT={green:{lineColor:"rgba(6, 148, 162, 1)",bgColor:["rgba(6, 148, 162, 0.2)","rgba(67, 174, 185, 0.08)"]},orange:{lineColor:"rgba(255, 138, 76, 1)",bgColor:["rgba(254, 145, 87, 0.2)","rgba(255, 138, 76, 0.1)"]},blue:{lineColor:"rgba(28, 100, 242, 1)",bgColor:["rgba(28, 100, 242, 0.3)","rgba(28, 100, 242, 0.1)"]}},aU="#9CA3AF",aV="#F3F4F6",aW="MMM D, YYYY",aX={messages:{colorType:"green"},conversations:{colorType:"green"},endUsers:{colorType:"orange"},costs:{colorType:"blue",showTokens:!0},workflowCosts:{colorType:"blue"}},aY=a=>aM.sum(...a).toNumber(),aZ={start:(0,c.default)().subtract(7,"day").format(aW),end:(0,c.default)().format(aW)},a$=({basicInfo:{title:a,explanation:d,timePeriod:e},chartType:f="conversations",chartData:g,valueKey:i,isAvg:j,unit:k="",yMax:l,className:m})=>{let{t:n}=(0,h.useTranslation)(),o=g.data,p=o.length,q=Array.from({length:p>=2?p-2:p},()=>"1");q.push(""),q.unshift("");let r=o.map(({date:a})=>a),s=i||Object.keys(o[0]).find(a=>a.includes("count"))||"",t=o.map(a=>a[s]||0),u={dataset:{dimensions:["date",s],source:o},grid:{top:8,right:36,bottom:10,left:25,containLabel:!0},tooltip:{trigger:"item",position:"top",borderWidth:0},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{color:aU,hideOverlap:!0,overflow:"break",formatter:a=>(0,c.default)(a).format(aW)},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:aV,width:1,type:[10,10]},interval:a=>0===a||a===r.length-1}},{position:"bottom",boundaryGap:!1,data:q,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#E5E7EB"},interval:(a,b)=>!!b}}],yAxis:{max:l??"dataMax",type:"value",axisLabel:{color:aU,hideOverlap:!0},splitLine:{lineStyle:{color:aV}}},series:[{type:"line",showSymbol:!0,symbolSize:4,lineStyle:{color:aT[aX[f].colorType].lineColor,width:2},itemStyle:{color:aT[aX[f].colorType].lineColor},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:aT[aX[f].colorType].bgColor[0]},{offset:1,color:aT[aX[f].colorType].bgColor[1]}],global:!1}},tooltip:{padding:[8,12,8,12],formatter:a=>`<div style='color:#6B7280;font-size:12px'>${a.name}</div>
                          <div style='font-size:14px;color:#1F2A37'>${a.data[s]}
                              ${!aX[f].showTokens?"":`<span style='font-size:12px'>
                                  <span style='margin-left:4px;color:#6B7280'>(</span>
                                  <span style='color:#FF8A4C'>~$${(0,aO.get)(a.data,"total_price",0)}</span>
                                  <span style='color:#6B7280'>)</span>
                              </span>`}
                          </div>`}}]},v=j?aY(t)/t.length:aY(t);return(0,b.jsxs)("div",{className:`flex w-full flex-col rounded-xl bg-components-chart-bg px-6 py-4 shadow-xs ${m??""}`,children:[(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)(aP.default,{name:a,type:e,hoverTip:d})}),(0,b.jsx)("div",{className:"mb-4 flex-1",children:(0,b.jsx)(aP.default,{isExtraInLine:aX[f].showTokens,name:"costs"!==f?`${v.toLocaleString()} ${k}`:`${v<1e3?v:`${(0,aS.formatNumber)(Math.round(v/1e3))}k`}`,type:aX[f].showTokens?(0,b.jsxs)("span",{children:[n("analysis.tokenUsage.consumed",{ns:"appOverview"})," ","Tokens",(0,b.jsxs)("span",{className:"text-sm",children:[(0,b.jsx)("span",{className:"ml-1 text-text-tertiary",children:"("}),(0,b.jsxs)("span",{className:"text-orange-400",children:["~",aY(o.map(a=>Number.parseFloat(String((0,aO.get)(a,"total_price","0"))))).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4})]}),(0,b.jsx)("span",{className:"text-text-tertiary",children:")"})]})]}):"",textStyle:{main:`!text-3xl !font-normal ${0===v?"!text-text-quaternary":""}`}})}),(0,b.jsx)(aN.default,{option:u,style:{height:160}})]})},a_=({start:a,end:b,key:d="count"})=>Array.from({length:(0,c.default)(b).diff((0,c.default)(a),"day")||1},()=>({date:"",[d]:0})).map((b,d)=>(b.date=(0,c.default)(a).add(d,"day").format(aW),b)),a0=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppDailyMessages)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.totalMessages.title",{ns:"appOverview"}),explanation:d("analysis.totalMessages.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_(c.query??aZ)}:e,chartType:"messages",...g&&{yMax:500}})},a1=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppDailyConversations)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.totalConversations.title",{ns:"appOverview"}),explanation:d("analysis.totalConversations.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_(c.query??aZ)}:e,chartType:"conversations",...g&&{yMax:500}})},a2=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppDailyEndUsers)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.activeUsers.title",{ns:"appOverview"}),explanation:d("analysis.activeUsers.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_(c.query??aZ)}:e,chartType:"endUsers",...g&&{yMax:500}})},a3=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppAverageSessionInteractions)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.avgSessionInteractions.title",{ns:"appOverview"}),explanation:d("analysis.avgSessionInteractions.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_({...c.query??aZ,key:"interactions"})}:e,chartType:"conversations",valueKey:"interactions",isAvg:!0,...g&&{yMax:500}})},a4=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppAverageResponseTime)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.avgResponseTime.title",{ns:"appOverview"}),explanation:d("analysis.avgResponseTime.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_({...c.query??aZ,key:"latency"})}:e,valueKey:"latency",chartType:"conversations",isAvg:!0,unit:d("analysis.ms",{ns:"appOverview"}),...g&&{yMax:500}})},a5=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppTokensPerSecond)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.tps.title",{ns:"appOverview"}),explanation:d("analysis.tps.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_({...c.query??aZ,key:"tps"})}:e,valueKey:"tps",chartType:"conversations",isAvg:!0,unit:d("analysis.tokenPS",{ns:"appOverview"}),...g&&{yMax:100},className:"min-w-0"})},a6=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppSatisfactionRate)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.userSatisfactionRate.title",{ns:"appOverview"}),explanation:d("analysis.userSatisfactionRate.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_({...c.query??aZ,key:"rate"})}:e,valueKey:"rate",chartType:"endUsers",isAvg:!0,...g&&{yMax:1e3},className:"h-full"})},a7=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useAppTokenCosts)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.tokenUsage.title",{ns:"appOverview"}),explanation:d("analysis.tokenUsage.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_(c.query??aZ)}:e,chartType:"costs",...g&&{yMax:100}})},a8=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useWorkflowDailyConversations)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.totalMessages.title",{ns:"appOverview"}),explanation:d("analysis.totalMessages.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_({...c.query??aZ,key:"runs"})}:e,chartType:"conversations",valueKey:"runs",...g&&{yMax:500}})},a9=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useWorkflowDailyTerminals)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.activeUsers.title",{ns:"appOverview"}),explanation:d("analysis.activeUsers.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_(c.query??aZ)}:e,chartType:"endUsers",...g&&{yMax:500}})},ba=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useWorkflowTokenCosts)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.tokenUsage.title",{ns:"appOverview"}),explanation:d("analysis.tokenUsage.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_(c.query??aZ)}:e,chartType:"workflowCosts",...g&&{yMax:100}})},bb=({id:a,period:c})=>{let{t:d}=(0,h.useTranslation)(),{data:e,isLoading:f}=(0,aR.useWorkflowAverageInteractions)(a,c.query);if(f||!e)return(0,b.jsx)(aQ.default,{});let g=!e.data||0===e.data.length;return(0,b.jsx)(a$,{basicInfo:{title:d("analysis.avgUserInteractions.title",{ns:"appOverview"}),explanation:d("analysis.avgUserInteractions.explanation",{ns:"appOverview"}),timePeriod:c.name},chartData:g?{data:a_({...c.query??aZ,key:"interactions"})}:e,chartType:"conversations",valueKey:"interactions",isAvg:!0,...g&&{yMax:500}})};var bc=a.i(243103),bd=a.i(18039),be=a.i(805611);let bf=(0,c.default)(),bg=e.memo(({periodMapping:a,onSelect:c,queryDateFormat:d})=>{let{t:f}=(0,h.useTranslation)(),g=e.useCallback(b=>{let e=b.value,g=a[e]?.value??"-1",h=b.name||f("filter.period.allTime",{ns:"appLog"});-1===g?c({name:f("filter.period.allTime",{ns:"appLog"}),query:void 0}):0===g?c({name:h,query:{start:bf.startOf("day").format(d),end:bf.endOf("day").format(d)}}):c({name:h,query:{start:bf.subtract(g,"day").startOf("day").format(d),end:bf.endOf("day").format(d)}})},[c,a,d,f]);return(0,b.jsx)(be.SimpleSelect,{items:Object.entries(a).map(([a,b])=>({value:a,name:f(`filter.period.${b.name}`,{ns:"appLog"})})),className:"mt-0 !w-40",notClearable:!0,onSelect:g,defaultValue:"2"})});a.i(10035);var bh=a.i(953471),bh=bh,bi=a.i(252813),bj=a.i(429150),bk=a.i(111089),bl=a.i(368988),bm=a.i(527344);let bn=(0,c.default)(),bo=e.memo(({start:a,end:c,onStartChange:d,onEndChange:f})=>{let g=(0,bi.useLocale)(),h=(0,e.useCallback)(({value:a,handleClickTrigger:c,isOpen:d})=>(0,b.jsx)("div",{className:(0,bm.cn)("system-sm-regular flex h-7 cursor-pointer items-center rounded-lg px-1 text-components-input-text-filled hover:bg-state-base-hover",d&&"bg-state-base-hover"),onClick:c,children:a?(0,aS.formatToLocalTime)(a,g,"MMM D"):""}),[g]),i=c.subtract(30,"day"),j=(0,e.useCallback)(a=>!!a.isAfter(bn,"date")||!((a.isAfter(i,"date")||a.isSame(i,"date"))&&(a.isBefore(c,"date")||a.isSame(c,"date"))),[i,c]),k=a.add(30,"day"),l=(0,e.useCallback)(b=>!!b.isAfter(bn,"date")||!((b.isAfter(a,"date")||b.isSame(a,"date"))&&(b.isBefore(k,"date")||b.isSame(k,"date"))),[k,a]);return(0,b.jsxs)("div",{className:"flex h-8 items-center space-x-0.5 rounded-lg bg-components-input-bg-normal px-2",children:[(0,b.jsx)("div",{className:"p-px",children:(0,b.jsx)(bj.RiCalendarLine,{className:"size-3.5 text-text-tertiary"})}),(0,b.jsx)(bl.default,{value:a,onChange:d,renderTrigger:h,needTimePicker:!1,onClear:bk.noop,noConfirm:!0,getIsDateDisabled:j}),(0,b.jsx)("span",{className:"system-sm-regular text-text-tertiary",children:"-"}),(0,b.jsx)(bl.default,{value:c,onChange:f,renderTrigger:h,needTimePicker:!1,onClear:bk.noop,noConfirm:!0,getIsDateDisabled:l})]})}),bp=(0,c.default)(),bq=e.memo(({isCustomRange:a,ranges:c,onSelect:d})=>{let{t:f}=(0,h.useTranslation)(),g=(0,e.useCallback)(a=>{let{name:b,value:c}=a,e=null;d({query:e=0===c?{start:bp.startOf("day"),end:bp.endOf("day")}:{start:bp.subtract(a.value,"day").startOf("day"),end:bp.endOf("day")},name:b})},[d]),i=(0,e.useCallback)((c,d)=>(0,b.jsxs)("div",{className:(0,bm.cn)("flex h-8 cursor-pointer items-center space-x-1.5 rounded-lg bg-components-input-bg-normal pl-3 pr-2",d&&"bg-state-base-hover-alt"),children:[(0,b.jsx)("div",{className:"system-sm-regular text-components-input-text-filled",children:a?f("filter.period.custom",{ns:"appLog"}):c?.name}),(0,b.jsx)(bj.RiArrowDownSLine,{className:(0,bm.cn)("size-4 text-text-quaternary",d&&"text-text-secondary")})]}),[a]),j=(0,e.useCallback)(({item:a,selected:c})=>(0,b.jsxs)(b.Fragment,{children:[c&&(0,b.jsx)("span",{className:(0,bm.cn)("absolute left-2 top-[9px] flex items-center  text-text-accent"),children:(0,b.jsx)(bj.RiCheckLine,{className:"h-4 w-4","aria-hidden":"true"})}),(0,b.jsx)("span",{className:(0,bm.cn)("system-md-regular block truncate"),children:a.name})]}),[]);return(0,b.jsx)(be.SimpleSelect,{items:c.map(a=>({...a,name:f(`filter.period.${a.name}`,{ns:"appLog"})})),className:"mt-0 !w-40",notClearable:!0,onSelect:g,defaultValue:0,wrapperClassName:"h-8",optionWrapClassName:"w-[200px] translate-x-[-24px]",renderTrigger:i,optionClassName:"flex items-center py-0 pl-7 pr-2 h-8",renderOption:j})}),br=(0,c.default)(),bs=e.memo(({ranges:a,onSelect:c,queryDateFormat:d})=>{let f=(0,bi.useLocale)(),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(br),[k,l]=(0,e.useState)(br),m=(0,e.useCallback)(a=>{h(!1),j(a.query.start),l(a.query.end),c({name:a.name,query:{start:a.query.start.format(d),end:a.query.end.format(d)}})},[c,d]),n=(0,e.useCallback)(a=>b=>{if(!b||"start"===a&&b.isSame(i)||"end"===a&&b.isSame(k))return;"start"===a?j(b):l(b);let e="start"===a?b:i,g="end"===a?b:k;c({name:`${(0,aS.formatToLocalTime)(e,f,"MMM D")} - ${(0,aS.formatToLocalTime)(g,f,"MMM D")}`,query:{start:e.format(d),end:g.format(d)}}),h(!0)},[i,k,c,f,d]);return(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(bq,{isCustomRange:g,ranges:a,onSelect:m}),(0,b.jsx)(bh.default,{className:"h-3.5 w-2 text-components-input-bg-normal"}),(0,b.jsx)(bo,{start:i,end:k,onStartChange:n("start"),onEndChange:n("end")})]})});c.default.extend(d.default);let bt=(0,c.default)(),bu=[{value:0,name:"today"},{value:7,name:"last7days"},{value:30,name:"last30days"}],bv="YYYY-MM-DD HH:mm";function bw({appId:a,headerRight:c}){let{t:d}=(0,h.useTranslation)(),f=(0,bc.useStore)(a=>a.appDetail),g=f?.mode!=="completion"&&f?.mode!=="workflow",j=f?.mode==="workflow",[k,l]=(0,e.useState)(bd.IS_CLOUD_EDITION?{name:d("filter.period.today",{ns:"appLog"}),query:{start:bt.startOf("day").format(bv),end:bt.endOf("day").format(bv)}}:{name:d("filter.period.last7days",{ns:"appLog"}),query:{start:bt.subtract(7,"day").startOf("day").format(bv),end:bt.endOf("day").format(bv)}});return f?(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("div",{className:"system-xl-semibold mb-2 text-text-primary",children:d("appMenus.overview",{ns:"common"})}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[bd.IS_CLOUD_EDITION?(0,b.jsx)(bs,{ranges:bu,onSelect:l,queryDateFormat:bv}):(0,b.jsx)(bg,{periodMapping:i.TIME_PERIOD_MAPPING,onSelect:l,queryDateFormat:bv}),c]})]}),!j&&(0,b.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,b.jsx)(a1,{period:k,id:a}),(0,b.jsx)(a2,{period:k,id:a})]}),!j&&(0,b.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[g?(0,b.jsx)(a3,{period:k,id:a}):(0,b.jsx)(a4,{period:k,id:a}),(0,b.jsx)(a5,{period:k,id:a})]}),!j&&(0,b.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,b.jsx)(a6,{period:k,id:a}),(0,b.jsx)(a7,{period:k,id:a})]}),!j&&g&&(0,b.jsx)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:(0,b.jsx)(a0,{period:k,id:a})}),j&&(0,b.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,b.jsx)(a8,{period:k,id:a}),(0,b.jsx)(a9,{period:k,id:a})]}),j&&(0,b.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,b.jsx)(ba,{period:k,id:a}),(0,b.jsx)(bb,{period:k,id:a})]})]}):null}a.s(["default",()=>bw],226022)},776790,a=>{"use strict";var b,c=a.i(608061),d=a.i(429150),e=a.i(497746),f=a.i(533306),g=a.i(57843);a.i(752298);var h=a.i(693025),i=a.i(757801),j=a.i(796807),k=a.i(594957);let l=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:k.default});l.displayName="AliyunIcon";var m=a.i(290894);let n=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:m.default});n.displayName="AliyunIconBig";var o=a.i(450591);let p=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:o.default});p.displayName="ArizeIcon";var q=a.i(598228);let r=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:q.default});r.displayName="ArizeIconBig";var s=a.i(247573);let t=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:s.default});t.displayName="DatabricksIcon";var u=a.i(520196);let v=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:u.default});v.displayName="DatabricksIconBig";var w=a.i(550578);let x=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:w.default});x.displayName="LangfuseIcon";var y=a.i(722540);let z=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:y.default});z.displayName="LangfuseIconBig";var A=a.i(128055);let B=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:A.default});B.displayName="LangsmithIcon";var C=a.i(130399);let D=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:C.default});D.displayName="LangsmithIconBig";var E=a.i(291641);let F=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:E.default});F.displayName="MlflowIcon";var G=a.i(989748);let H=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:G.default});H.displayName="MlflowIconBig";var I=a.i(658536);let J=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:I.default});J.displayName="OpikIcon";var K=a.i(454302);let L=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:K.default});L.displayName="OpikIconBig";var M=a.i(845670);let N=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:M.default});N.displayName="PhoenixIcon";var O=a.i(847309);let P=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:O.default});P.displayName="PhoenixIconBig";var Q=a.i(716653);let R=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:Q.default});R.displayName="TencentIcon";var S=a.i(280033);let T=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:S.default});T.displayName="TencentIconBig";var U=a.i(527702);let V=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:U.default});V.displayName="TracingIcon";var W=a.i(619568);let X=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:W.default});X.displayName="WeaveIcon";var Y=a.i(423301);let Z=({ref:a,...b})=>(0,c.jsx)(j.default,{...b,ref:a,data:Y.default});Z.displayName="WeaveIconBig";var $=a.i(105249),_=a.i(114715),aa=a.i(854867),ab=a.i(705134),ac=a.i(802066),ad=a.i(527344),ae=a.i(825319),af=a.i(81492),ag=a.i(483664),ah=a.i(909795),ai=a.i(42550);a.i(622666);var aj=a.i(593110);a.i(363731);var ak=a.i(187385),al=((b={}).arize="arize",b.phoenix="phoenix",b.langSmith="langsmith",b.langfuse="langfuse",b.opik="opik",b.weave="weave",b.aliyun="aliyun",b.mlflow="mlflow",b.databricks="databricks",b.tencent="tencent",b);let am={[al.arize]:"https://docs.arize.com/arize",[al.phoenix]:"https://docs.arize.com/phoenix",[al.langSmith]:"https://docs.smith.langchain.com/",[al.langfuse]:"https://docs.langfuse.com",[al.opik]:"https://www.comet.com/docs/opik/tracing/integrations/dify#setup-instructions",[al.weave]:"https://weave-docs.wandb.ai/",[al.aliyun]:"https://help.aliyun.com/zh/arms/tracing-analysis/untitled-document-1750672984680",[al.mlflow]:"https://mlflow.org/docs/latest/genai/",[al.databricks]:"https://docs.databricks.com/aws/en/mlflow3/genai/tracing/",[al.tencent]:"https://cloud.tencent.com/document/product/248/116531"};var an=a.i(816134);let ao=g.memo(({className:a,label:b,labelClassName:d,value:e,onChange:f,isRequired:g=!1,placeholder:h=""})=>(0,c.jsxs)("div",{className:(0,ad.cn)(a),children:[(0,c.jsxs)("div",{className:"flex py-[7px]",children:[(0,c.jsxs)("div",{className:(0,ad.cn)(d,"flex h-[18px] items-center text-[13px] font-medium text-text-primary"),children:[b," "]}),g&&(0,c.jsx)("span",{className:"ml-0.5 text-xs font-semibold text-[#D92D20]",children:"*"})]}),(0,c.jsx)(an.default,{value:e,onChange:a=>f(a.target.value),className:"h-9",placeholder:h})]})),ap="tracing.configProvider",aq={api_key:"",space_id:"",project:"",endpoint:""},ar={api_key:"",project:"",endpoint:""},as={api_key:"",project:"",endpoint:""},at={public_key:"",secret_key:"",host:""},au={api_key:"",project:"",url:"",workspace:""},av={api_key:"",entity:"",project:"",endpoint:"",host:""},aw={app_name:"",license_key:"",endpoint:""},ax={tracking_uri:"",experiment_id:"",username:"",password:""},ay={experiment_id:"",host:"",client_id:"",client_secret:"",personal_access_token:""},az={token:"",endpoint:"",service_name:""},aA=g.memo(({appId:a,type:b,payload:d,onRemoved:f,onCancel:j,onSaved:k,onChosen:l})=>{let{t:m}=(0,h.useTranslation)(),n=!!d,o=!n,[p,q]=(0,g.useState)(!1),[r,s]=(0,g.useState)((()=>{if(n)return d;if(b===al.arize)return aq;if(b===al.phoenix)return ar;if(b===al.langSmith)return as;if(b===al.langfuse)return at;if(b===al.opik)return au;else if(b===al.aliyun)return aw;else if(b===al.mlflow)return ax;else if(b===al.databricks)return ay;else if(b===al.tencent)return az;return av})()),[t,{setTrue:u,setFalse:v}]=(0,e.useBoolean)(!1),w=(0,g.useCallback)(async()=>{await (0,ac.removeTracingConfig)({appId:a,provider:b}),_.default.notify({type:"success",message:m("api.remove",{ns:"common"})}),f(),v()},[v,a,b,m,f]),x=(0,g.useCallback)(a=>b=>{s({...r,[a]:b})},[r]),y=(0,g.useCallback)(()=>{let a="";return b===al.arize&&(r.api_key||(a=m("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),r.space_id||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Space ID"})),a||r.project||(a=m("errorMsg.fieldRequired",{ns:"common",field:m(`${ap}.project`,{ns:"app"})}))),b===al.phoenix&&(r.api_key||(a=m("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),a||r.project||(a=m("errorMsg.fieldRequired",{ns:"common",field:m(`${ap}.project`,{ns:"app"})}))),b===al.langSmith&&(r.api_key||(a=m("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),a||r.project||(a=m("errorMsg.fieldRequired",{ns:"common",field:m(`${ap}.project`,{ns:"app"})}))),b===al.langfuse&&(a||r.secret_key||(a=m("errorMsg.fieldRequired",{ns:"common",field:m(`${ap}.secretKey`,{ns:"app"})})),a||r.public_key||(a=m("errorMsg.fieldRequired",{ns:"common",field:m(`${ap}.publicKey`,{ns:"app"})})),a||r.host||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Host"}))),al.opik,b===al.weave&&(a||r.api_key||(a=m("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),a||r.project||(a=m("errorMsg.fieldRequired",{ns:"common",field:m(`${ap}.project`,{ns:"app"})}))),b===al.aliyun&&(a||r.app_name||(a=m("errorMsg.fieldRequired",{ns:"common",field:"App Name"})),a||r.license_key||(a=m("errorMsg.fieldRequired",{ns:"common",field:"License Key"})),a||r.endpoint||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Endpoint"}))),b===al.mlflow&&(a||r.tracking_uri||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Tracking URI"}))),b===al.databricks&&(a||r.experiment_id||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Experiment ID"})),a||r.host||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Host"}))),b===al.tencent&&(a||r.token||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Token"})),a||r.endpoint||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Endpoint"})),a||r.service_name||(a=m("errorMsg.fieldRequired",{ns:"common",field:"Service Name"}))),a},[r,m,b]),z=(0,g.useCallback)(async()=>{if(p)return;let c=y();if(c)return void _.default.notify({type:"error",message:c});let d=n?ac.updateTracingConfig:ac.addTracingConfig;try{await d({appId:a,body:{tracing_provider:b,tracing_config:r}}),_.default.notify({type:"success",message:m("api.success",{ns:"common"})}),k(r),o&&l(b)}finally{q(!1)}},[a,y,r,o,n,p,l,k,m,b]);return(0,c.jsx)(c.Fragment,{children:t?(0,c.jsx)(ai.default,{isShow:!0,type:"warning",title:m(`${ap}.removeConfirmTitle`,{ns:"app",key:m(`tracing.${b}.title`,{ns:"app"})}),content:m(`${ap}.removeConfirmContent`,{ns:"app"}),onConfirm:w,onCancel:v}):(0,c.jsx)(ae.PortalToFollowElem,{open:!0,children:(0,c.jsx)(ae.PortalToFollowElemContent,{className:"z-[60] h-full w-full",children:(0,c.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-background-overlay",children:(0,c.jsxs)("div",{className:"mx-2 max-h-[calc(100vh-120px)] w-[640px] overflow-y-auto rounded-2xl bg-components-panel-bg shadow-xl",children:[(0,c.jsxs)("div",{className:"px-8 pt-8",children:[(0,c.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,c.jsxs)("div",{className:"title-2xl-semi-bold text-text-primary",children:[m(`${ap}.title`,{ns:"app"}),m(`tracing.${b}.title`,{ns:"app"})]})}),(0,c.jsxs)("div",{className:"space-y-4",children:[b===al.arize&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:r.api_key,onChange:x("api_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"API Key"})}),(0,c.jsx)(ao,{label:"Space ID",labelClassName:"!text-sm",isRequired:!0,value:r.space_id,onChange:x("space_id"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"Space ID"})}),(0,c.jsx)(ao,{label:m(`${ap}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:r.project,onChange:x("project"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.project`,{ns:"app"})})}),(0,c.jsx)(ao,{label:"Endpoint",labelClassName:"!text-sm",value:r.endpoint,onChange:x("endpoint"),placeholder:"https://otlp.arize.com"})]}),b===al.phoenix&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:r.api_key,onChange:x("api_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"API Key"})}),(0,c.jsx)(ao,{label:m(`${ap}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:r.project,onChange:x("project"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.project`,{ns:"app"})})}),(0,c.jsx)(ao,{label:"Endpoint",labelClassName:"!text-sm",value:r.endpoint,onChange:x("endpoint"),placeholder:"https://app.phoenix.arize.com"})]}),b===al.aliyun&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:"License Key",labelClassName:"!text-sm",isRequired:!0,value:r.license_key,onChange:x("license_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"License Key"})}),(0,c.jsx)(ao,{label:"Endpoint",labelClassName:"!text-sm",value:r.endpoint,onChange:x("endpoint"),placeholder:"https://tracing.arms.aliyuncs.com"}),(0,c.jsx)(ao,{label:"App Name",labelClassName:"!text-sm",value:r.app_name,onChange:x("app_name")})]}),b===al.tencent&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:"Token",labelClassName:"!text-sm",isRequired:!0,value:r.token,onChange:x("token"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"Token"})}),(0,c.jsx)(ao,{label:"Endpoint",labelClassName:"!text-sm",isRequired:!0,value:r.endpoint,onChange:x("endpoint"),placeholder:"https://your-region.cls.tencentcs.com"}),(0,c.jsx)(ao,{label:"Service Name",labelClassName:"!text-sm",isRequired:!0,value:r.service_name,onChange:x("service_name"),placeholder:"dify_app"})]}),b===al.weave&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:r.api_key,onChange:x("api_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"API Key"})}),(0,c.jsx)(ao,{label:m(`${ap}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:r.project,onChange:x("project"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.project`,{ns:"app"})})}),(0,c.jsx)(ao,{label:"Entity",labelClassName:"!text-sm",value:r.entity,onChange:x("entity"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"Entity"})}),(0,c.jsx)(ao,{label:"Endpoint",labelClassName:"!text-sm",value:r.endpoint,onChange:x("endpoint"),placeholder:"https://trace.wandb.ai/"}),(0,c.jsx)(ao,{label:"Host",labelClassName:"!text-sm",value:r.host,onChange:x("host"),placeholder:"https://api.wandb.ai"})]}),b===al.langSmith&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:r.api_key,onChange:x("api_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"API Key"})}),(0,c.jsx)(ao,{label:m(`${ap}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:r.project,onChange:x("project"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.project`,{ns:"app"})})}),(0,c.jsx)(ao,{label:"Endpoint",labelClassName:"!text-sm",value:r.endpoint,onChange:x("endpoint"),placeholder:"https://api.smith.langchain.com"})]}),b===al.langfuse&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:m(`${ap}.secretKey`,{ns:"app"}),labelClassName:"!text-sm",value:r.secret_key,isRequired:!0,onChange:x("secret_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.secretKey`,{ns:"app"})})}),(0,c.jsx)(ao,{label:m(`${ap}.publicKey`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:r.public_key,onChange:x("public_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.publicKey`,{ns:"app"})})}),(0,c.jsx)(ao,{label:"Host",labelClassName:"!text-sm",isRequired:!0,value:r.host,onChange:x("host"),placeholder:"https://cloud.langfuse.com"})]}),b===al.opik&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:"API Key",labelClassName:"!text-sm",value:r.api_key,onChange:x("api_key"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:"API Key"})}),(0,c.jsx)(ao,{label:m(`${ap}.project`,{ns:"app"}),labelClassName:"!text-sm",value:r.project,onChange:x("project"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.project`,{ns:"app"})})}),(0,c.jsx)(ao,{label:"Workspace",labelClassName:"!text-sm",value:r.workspace,onChange:x("workspace"),placeholder:"default"}),(0,c.jsx)(ao,{label:"Url",labelClassName:"!text-sm",value:r.url,onChange:x("url"),placeholder:"https://www.comet.com/opik/api/"})]}),b===al.mlflow&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:m(`${ap}.trackingUri`,{ns:"app"}),labelClassName:"!text-sm",value:r.tracking_uri,isRequired:!0,onChange:x("tracking_uri"),placeholder:"http://localhost:5000"}),(0,c.jsx)(ao,{label:m(`${ap}.experimentId`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:r.experiment_id,onChange:x("experiment_id"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.experimentId`,{ns:"app"})})}),(0,c.jsx)(ao,{label:m(`${ap}.username`,{ns:"app"}),labelClassName:"!text-sm",value:r.username,onChange:x("username"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.username`,{ns:"app"})})}),(0,c.jsx)(ao,{label:m(`${ap}.password`,{ns:"app"}),labelClassName:"!text-sm",value:r.password,onChange:x("password"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.password`,{ns:"app"})})})]}),b===al.databricks&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ao,{label:m(`${ap}.experimentId`,{ns:"app"}),labelClassName:"!text-sm",value:r.experiment_id,onChange:x("experiment_id"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.experimentId`,{ns:"app"})}),isRequired:!0}),(0,c.jsx)(ao,{label:m(`${ap}.databricksHost`,{ns:"app"}),labelClassName:"!text-sm",value:r.host,onChange:x("host"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.databricksHost`,{ns:"app"})}),isRequired:!0}),(0,c.jsx)(ao,{label:m(`${ap}.clientId`,{ns:"app"}),labelClassName:"!text-sm",value:r.client_id,onChange:x("client_id"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.clientId`,{ns:"app"})})}),(0,c.jsx)(ao,{label:m(`${ap}.clientSecret`,{ns:"app"}),labelClassName:"!text-sm",value:r.client_secret,onChange:x("client_secret"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.clientSecret`,{ns:"app"})})}),(0,c.jsx)(ao,{label:m(`${ap}.personalAccessToken`,{ns:"app"}),labelClassName:"!text-sm",value:r.personal_access_token,onChange:x("personal_access_token"),placeholder:m(`${ap}.placeholder`,{ns:"app",key:m(`${ap}.personalAccessToken`,{ns:"app"})})})]})]}),(0,c.jsxs)("div",{className:"my-8 flex h-8 items-center justify-between",children:[(0,c.jsxs)("a",{className:"flex items-center space-x-1 text-xs font-normal leading-[18px] text-[#155EEF]",target:"_blank",href:am[b],children:[(0,c.jsx)("span",{children:m(`${ap}.viewDocsLink`,{ns:"app",key:m(`tracing.${b}.title`,{ns:"app"})})}),(0,c.jsx)(aj.LinkExternal02,{className:"h-3 w-3"})]}),(0,c.jsxs)("div",{className:"flex items-center",children:[n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ah.default,{className:"h-9 text-sm font-medium text-text-secondary",onClick:u,children:(0,c.jsx)("span",{className:"text-[#D92D20]",children:m("operation.remove",{ns:"common"})})}),(0,c.jsx)(i.default,{type:"vertical",className:"mx-3 h-[18px]"})]}),(0,c.jsx)(ah.default,{className:"mr-2 h-9 text-sm font-medium text-text-secondary",onClick:j,children:m("operation.cancel",{ns:"common"})}),(0,c.jsx)(ah.default,{className:"h-9 text-sm font-medium",variant:"primary",onClick:z,loading:p,children:m(`operation.${o?"saveAndEnable":"save"}`,{ns:"common"})})]})]})]}),(0,c.jsx)("div",{className:"border-t-[0.5px] border-divider-regular",children:(0,c.jsxs)("div",{className:"flex items-center justify-center bg-background-section-burn py-3 text-xs text-text-tertiary",children:[(0,c.jsx)(ak.Lock01,{className:"mr-1 h-3 w-3 text-text-tertiary"}),m("modelProvider.encrypted.front",{ns:"common"}),(0,c.jsx)("a",{className:"mx-1 text-primary-600",target:"_blank",rel:"noopener noreferrer",href:"https://pycryptodome.readthedocs.io/en/latest/src/cipher/oaep.html",children:"PKCS1_OAEP"}),m("modelProvider.encrypted.back",{ns:"common"})]})})]})})})})})});a.i(658335);var aB=a.i(659062),aB=aB;let aC="tracing",aD=g.memo(({type:a,readOnly:b,isChosen:e,config:f,onChoose:i,hasConfigured:j,onConfig:k})=>{let{t:l}=(0,h.useTranslation)(),m={[al.arize]:r,[al.phoenix]:P,[al.langSmith]:D,[al.langfuse]:z,[al.opik]:L,[al.weave]:Z,[al.aliyun]:n,[al.mlflow]:H,[al.databricks]:v,[al.tencent]:T}[a],o=(0,g.useCallback)(a=>{a.stopPropagation(),k()},[k]),p=(0,g.useCallback)(a=>{a.preventDefault(),a.stopPropagation();let b=f?.project_url;b&&window.open(b,"_blank","noopener,noreferrer")},[f?.project_url]),q=(0,g.useCallback)(a=>{a.stopPropagation(),e||!j||b||i()},[j,e,i,b]);return(0,c.jsxs)("div",{className:(0,ad.cn)("rounded-xl border-[1.5px] bg-background-section-burn px-4 py-3",e?"border-components-option-card-option-selected-border bg-background-section":"border-transparent",!e&&j&&!b&&"cursor-pointer"),onClick:q,children:[(0,c.jsxs)("div",{className:"flex items-center justify-between space-x-1",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(m,{className:"h-6"}),e&&(0,c.jsx)("div",{className:"system-2xs-medium-uppercase ml-1 flex h-4 items-center rounded-[4px] border border-text-accent-secondary px-1 text-text-accent-secondary",children:l(`${aC}.inUse`,{ns:"app"})})]}),!b&&(0,c.jsxs)("div",{className:"flex items-center justify-between space-x-1",children:[j&&(0,c.jsxs)("div",{className:"flex h-6 cursor-pointer items-center space-x-1 rounded-md border-[0.5px] border-components-button-secondary-border bg-components-button-secondary-bg px-2 text-text-secondary shadow-xs",onClick:p,children:[(0,c.jsx)(aB.default,{className:"h-3 w-3"}),(0,c.jsx)("div",{className:"text-xs font-medium",children:l(`${aC}.view`,{ns:"app"})})]}),(0,c.jsxs)("div",{className:"flex h-6 cursor-pointer items-center space-x-1 rounded-md border-[0.5px] border-components-button-secondary-border bg-components-button-secondary-bg px-2 text-text-secondary shadow-xs",onClick:o,children:[(0,c.jsx)(d.RiEqualizer2Line,{className:"h-3 w-3"}),(0,c.jsx)("div",{className:"text-xs font-medium",children:l(`${aC}.config`,{ns:"app"})})]})]})]}),(0,c.jsx)("div",{className:"system-xs-regular mt-2 text-text-tertiary",children:l(`${aC}.${a}.description`,{ns:"app"})})]})}),aE={lg:"w-9 h-9 p-2 rounded-[10px]",md:"w-6 h-6 p-1 rounded-lg"},aF=g.memo(({className:a,size:b})=>{let d=aE[b];return(0,c.jsx)("div",{className:(0,ad.cn)(a,d,"bg-primary-500 shadow-md"),children:(0,c.jsx)(V,{className:"h-full w-full"})})}),aG="tracing",aH=g.memo(({appId:a,readOnly:b,enabled:d,onStatusChange:f,chosenProvider:j,onChooseProvider:k,arizeConfig:l,phoenixConfig:m,langSmithConfig:n,langFuseConfig:o,opikConfig:p,weaveConfig:q,aliyunConfig:r,mlflowConfig:s,databricksConfig:t,tencentConfig:u,onConfigUpdated:v,onConfigRemoved:w})=>{let x,y,{t:z}=(0,h.useTranslation)(),[A,B]=(0,g.useState)(al.langfuse),[C,{setTrue:D,setFalse:E}]=(0,e.useBoolean)(!1),F=(0,g.useCallback)(a=>()=>{B(a),D()},[D]),G=(0,g.useCallback)(a=>()=>{k(a)},[k]),H=(0,g.useCallback)(a=>{v(A,a),E()},[A,E,v]),I=(0,g.useCallback)(()=>{w(A),E()},[A,E,w]),J=l&&m&&n&&o&&p&&q&&r&&s&&t&&u,K=!l&&!m&&!n&&!o&&!p&&!q&&!r&&!s&&!t&&!u,L=(0,c.jsx)(af.default,{className:"ml-3",defaultValue:d,onChange:f,disabled:K}),M=(0,c.jsx)(aD,{type:al.arize,readOnly:b,config:l,hasConfigured:!!l,onConfig:F(al.arize),isChosen:j===al.arize,onChoose:G(al.arize)},"arize-provider-panel"),N=(0,c.jsx)(aD,{type:al.phoenix,readOnly:b,config:m,hasConfigured:!!m,onConfig:F(al.phoenix),isChosen:j===al.phoenix,onChoose:G(al.phoenix)},"phoenix-provider-panel"),O=(0,c.jsx)(aD,{type:al.langSmith,readOnly:b,config:n,hasConfigured:!!n,onConfig:F(al.langSmith),isChosen:j===al.langSmith,onChoose:G(al.langSmith)},"langSmith-provider-panel"),P=(0,c.jsx)(aD,{type:al.langfuse,readOnly:b,config:o,hasConfigured:!!o,onConfig:F(al.langfuse),isChosen:j===al.langfuse,onChoose:G(al.langfuse)},"langfuse-provider-panel"),Q=(0,c.jsx)(aD,{type:al.opik,readOnly:b,config:p,hasConfigured:!!p,onConfig:F(al.opik),isChosen:j===al.opik,onChoose:G(al.opik)},"opik-provider-panel"),R=(0,c.jsx)(aD,{type:al.weave,readOnly:b,config:q,hasConfigured:!!q,onConfig:F(al.weave),isChosen:j===al.weave,onChoose:G(al.weave)},"weave-provider-panel"),S=(0,c.jsx)(aD,{type:al.aliyun,readOnly:b,config:r,hasConfigured:!!r,onConfig:F(al.aliyun),isChosen:j===al.aliyun,onChoose:G(al.aliyun)},"aliyun-provider-panel"),T=(0,c.jsx)(aD,{type:al.mlflow,readOnly:b,config:s,hasConfigured:!!s,onConfig:F(al.mlflow),isChosen:j===al.mlflow,onChoose:G(al.mlflow)},"mlflow-provider-panel"),U=(0,c.jsx)(aD,{type:al.databricks,readOnly:b,config:t,hasConfigured:!!t,onConfig:F(al.databricks),isChosen:j===al.databricks,onChoose:G(al.databricks)},"databricks-provider-panel"),V=(0,c.jsx)(aD,{type:al.tencent,readOnly:b,config:u,hasConfigured:!!u,onConfig:F(al.tencent),isChosen:j===al.tencent,onChoose:G(al.tencent)},"tencent-provider-panel");return(0,c.jsxs)("div",{className:"w-[420px] rounded-2xl border-[0.5px] border-components-panel-border bg-components-panel-bg p-4 shadow-xl",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(aF,{size:"md",className:"mr-2"}),(0,c.jsx)("div",{className:"title-2xl-semi-bold text-text-primary",children:z(`${aG}.tracing`,{ns:"app"})})]}),(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)(aa.default,{color:d?"green":"gray"}),(0,c.jsx)("div",{className:(0,ad.cn)("system-xs-semibold-uppercase ml-1 text-text-tertiary",d&&"text-util-colors-green-green-600"),children:z(`${aG}.${d?"enabled":"disabled"}`,{ns:"app"})}),!b&&(0,c.jsx)(c.Fragment,{children:K?(0,c.jsx)(ag.default,{popupContent:z(`${aG}.disabledTip`,{ns:"app"}),children:L}):L})]})]}),(0,c.jsx)("div",{className:"system-xs-regular mt-2 text-text-tertiary",children:z(`${aG}.tracingDescription`,{ns:"app"})}),(0,c.jsx)(i.default,{className:"my-3"}),(0,c.jsx)("div",{className:"relative",children:J||K?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"system-xs-medium-uppercase text-text-tertiary",children:z(`${aG}.configProviderTitle.${J?"configured":"notConfigured"}`,{ns:"app"})}),(0,c.jsxs)("div",{className:"mt-2 max-h-96 space-y-2 overflow-y-auto",children:[P,O,Q,T,U,R,M,N,S,V]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"system-xs-medium-uppercase text-text-tertiary",children:z(`${aG}.configProviderTitle.configured`,{ns:"app"})}),(0,c.jsx)("div",{className:"mt-2 max-h-40 space-y-2 overflow-y-auto",children:(x=[],o&&x.push(P),n&&x.push(O),p&&x.push(Q),q&&x.push(R),l&&x.push(M),m&&x.push(N),r&&x.push(S),s&&x.push(T),t&&x.push(U),u&&x.push(V),x)}),(0,c.jsx)("div",{className:"system-xs-medium-uppercase mt-3 text-text-tertiary",children:z(`${aG}.configProviderTitle.moreProvider`,{ns:"app"})}),(0,c.jsx)("div",{className:"mt-2 max-h-40 space-y-2 overflow-y-auto",children:(y=[],l||y.push(M),m||y.push(N),o||y.push(P),n||y.push(O),p||y.push(Q),q||y.push(R),r||y.push(S),s||y.push(T),t||y.push(U),u||y.push(V),y)})]})}),C&&(0,c.jsx)(aA,{appId:a,type:A,payload:A===al.mlflow?s:A===al.databricks?t:A===al.arize?l:A===al.phoenix?m:A===al.langSmith?n:A===al.langfuse?o:A===al.opik?p:A===al.aliyun?r:A===al.tencent?u:q,onCancel:E,onSaved:H,onChosen:k,onRemoved:I})]})}),aI=g.memo(({className:a,hasConfigured:b,children:d,...e})=>{let[f,h]=(0,g.useState)(!1),i=(0,g.useRef)(f),j=(0,g.useCallback)(a=>{h(a),i.current=a},[h]),k=(0,g.useCallback)(()=>{j(!i.current)},[j]);return e.readOnly&&!b?null:(0,c.jsxs)(ae.PortalToFollowElem,{open:f,onOpenChange:j,placement:"bottom-end",offset:12,children:[(0,c.jsx)(ae.PortalToFollowElemTrigger,{onClick:k,children:(0,c.jsx)("div",{className:(0,ad.cn)("select-none",a),children:d})}),(0,c.jsx)(ae.PortalToFollowElemContent,{className:"z-[11]",children:(0,c.jsx)(aH,{...e})})]})}),aJ="tracing",aK=g.memo(()=>{let{t:a}=(0,h.useTranslation)(),b=(0,f.usePathname)(),j=/\/app\/([^/]+)/.exec(b),k=j?.length&&j[1]?j[1]:"",{isCurrentWorkspaceEditor:m}=(0,ab.useAppContext)(),n=!m,[o,{setTrue:q}]=(0,e.useBoolean)(!1),[r,s]=(0,g.useState)(null),u=r?.enabled||!1,v=async(b,c)=>{await (0,ac.updateTracingStatus)({appId:k,body:b}),s(b),c||_.default.notify({type:"success",message:a("api.success",{ns:"common"})})},w=a=>{v({tracing_provider:r?.tracing_provider||null,enabled:a})},y=a=>{v({tracing_provider:a,enabled:!0})},z=r?.tracing_provider||null,A={[al.arize]:p,[al.phoenix]:N,[al.langSmith]:B,[al.langfuse]:x,[al.opik]:J,[al.weave]:X,[al.aliyun]:l,[al.mlflow]:F,[al.databricks]:t,[al.tencent]:R},C=z?A[z]:void 0,[D,E]=(0,g.useState)(null),[G,H]=(0,g.useState)(null),[I,K]=(0,g.useState)(null),[L,M]=(0,g.useState)(null),[O,P]=(0,g.useState)(null),[Q,S]=(0,g.useState)(null),[T,U]=(0,g.useState)(null),[V,W]=(0,g.useState)(null),[Y,Z]=(0,g.useState)(null),[ae,af]=(0,g.useState)(null),ag=!!(I||L||O||Q||D||G||T||V||Y||ae),ah=async()=>{let a=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.phoenix});b||H(a)},b=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.langSmith});b||K(a)},c=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.langfuse});b||M(a)},d=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.opik});b||P(a)},e=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.weave});b||S(a)},f=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.aliyun});b||U(a)},g=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.mlflow});b||W(a)},h=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.databricks});b||Z(a)},i=async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.tencent});b||af(a)};Promise.all([(async()=>{let{tracing_config:a,has_not_configured:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:al.arize});b||E(a)})(),a(),b(),c(),d(),e(),f(),g(),h(),i()])},ai=async a=>{let{tracing_config:b}=await (0,ac.fetchTracingConfig)({appId:k,provider:a});a===al.arize?E(b):a===al.phoenix?H(b):a===al.langSmith?K(b):a===al.langfuse?M(b):a===al.opik?P(b):a===al.weave?S(b):a===al.aliyun?U(b):a===al.tencent&&af(b)},aj=a=>{a===al.arize?E(null):a===al.phoenix?H(null):a===al.langSmith?K(null):a===al.langfuse?M(null):a===al.opik?P(null):a===al.weave?S(null):a===al.aliyun?U(null):a===al.mlflow?W(null):a===al.databricks?Z(null):a===al.tencent&&af(null),a===z&&v({enabled:!1,tracing_provider:null},!0)};return((0,g.useEffect)(()=>{(async()=>{s(await (0,ac.fetchTracingStatus)({appId:k})),await ah(),q()})()},[]),o)?(0,c.jsxs)("div",{className:(0,ad.cn)("flex items-center justify-between"),children:[!z&&(0,c.jsx)(aI,{appId:k,readOnly:n,hasConfigured:!1,enabled:u,onStatusChange:w,chosenProvider:z,onChooseProvider:y,arizeConfig:D,phoenixConfig:G,langSmithConfig:I,langFuseConfig:L,opikConfig:O,weaveConfig:Q,aliyunConfig:T,mlflowConfig:V,databricksConfig:Y,tencentConfig:ae,onConfigUpdated:ai,onConfigRemoved:aj,children:(0,c.jsxs)("div",{className:(0,ad.cn)("flex cursor-pointer select-none items-center rounded-xl border-l-[0.5px] border-t border-effects-highlight bg-background-default-dodge p-2 shadow-xs hover:border-effects-highlight-lightmode-off hover:bg-background-default-lighter"),children:[(0,c.jsx)(aF,{size:"md"}),(0,c.jsx)("div",{className:"system-sm-semibold mx-2 text-text-secondary",children:a(`${aJ}.title`,{ns:"app"})}),(0,c.jsx)("div",{className:"rounded-md p-1",children:(0,c.jsx)(d.RiEqualizer2Line,{className:"h-4 w-4 text-text-tertiary"})}),(0,c.jsx)(i.default,{type:"vertical",className:"h-3.5"}),(0,c.jsx)("div",{className:"rounded-md p-1",children:(0,c.jsx)(d.RiArrowDownDoubleLine,{className:"h-4 w-4 text-text-tertiary"})})]})}),ag&&(0,c.jsx)(aI,{appId:k,readOnly:n,hasConfigured:!0,enabled:u,onStatusChange:w,chosenProvider:z,onChooseProvider:y,arizeConfig:D,phoenixConfig:G,langSmithConfig:I,langFuseConfig:L,opikConfig:O,weaveConfig:Q,aliyunConfig:T,mlflowConfig:V,databricksConfig:Y,tencentConfig:ae,onConfigUpdated:ai,onConfigRemoved:aj,children:(0,c.jsxs)("div",{className:(0,ad.cn)("flex cursor-pointer select-none items-center rounded-xl border-l-[0.5px] border-t border-effects-highlight bg-background-default-dodge p-2 shadow-xs hover:border-effects-highlight-lightmode-off hover:bg-background-default-lighter"),children:[(0,c.jsxs)("div",{className:"ml-4 mr-1 flex items-center",children:[(0,c.jsx)(aa.default,{color:u?"green":"gray"}),(0,c.jsx)("div",{className:"system-xs-semibold-uppercase ml-1.5 text-text-tertiary",children:a(`${aJ}.${u?"enabled":"disabled"}`,{ns:"app"})})]}),C&&(0,c.jsx)(C,{className:"ml-1 h-4"}),(0,c.jsx)("div",{className:"ml-2 rounded-md p-1",children:(0,c.jsx)(d.RiEqualizer2Line,{className:"h-4 w-4 text-text-tertiary"})}),(0,c.jsx)(i.default,{type:"vertical",className:"h-3.5"})]})})]}):(0,c.jsx)("div",{className:"mb-3 flex items-center justify-between",children:(0,c.jsx)("div",{className:"w-[200px]",children:(0,c.jsx)($.default,{})})})});a.s(["default",0,aK],776790)}];

//# sourceMappingURL=app_95ada63f._.js.map