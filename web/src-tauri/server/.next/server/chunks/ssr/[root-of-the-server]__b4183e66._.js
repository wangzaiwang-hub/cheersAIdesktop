module.exports=[760327,a=>{"use strict";let b=({url:a,fileName:b,rel:c,target:d})=>{if(!a)return;let e=document.createElement("a");e.href=a,b&&(e.download=b),c&&(e.rel=c),d&&(e.target=d),e.style.display="none",document.body.appendChild(e),e.click(),e.remove()};a.s(["downloadBlob",0,({data:a,fileName:c})=>{let d=window.URL.createObjectURL(a);b({url:d,fileName:c,rel:"noopener noreferrer"}),window.URL.revokeObjectURL(d)},"downloadUrl",0,({url:a,fileName:c,rel:d="noopener noreferrer",target:e})=>{b({url:a,fileName:c,rel:d,target:e})}])},666680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},44348,a=>{"use strict";var b=a.i(666680);let c={randomUUID:b.default.randomUUID},d=new Uint8Array(256),e=d.length,f=[];for(let a=0;a<256;++a)f.push((a+256).toString(16).slice(1));a.s(["v4",0,function(a,g,h){if(c.randomUUID&&!g&&!a)return c.randomUUID();let i=(a=a||{}).random||(a.rng||function(){return e>d.length-16&&(b.default.randomFillSync(d),e=0),d.slice(e,e+=16)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,g){h=h||0;for(let a=0;a<16;++a)g[h+a]=i[a];return g}return function(a,b=0){return(f[a[b+0]]+f[a[b+1]]+f[a[b+2]]+f[a[b+3]]+"-"+f[a[b+4]]+f[a[b+5]]+"-"+f[a[b+6]]+f[a[b+7]]+"-"+f[a[b+8]]+f[a[b+9]]+"-"+f[a[b+10]]+f[a[b+11]]+f[a[b+12]]+f[a[b+13]]+f[a[b+14]]+f[a[b+15]]).toLowerCase()}(i)}],44348)},844137,a=>{"use strict";var b=a.i(848636),c=a.i(528698),d=a.i(749249),e=a.i(28959),f=a.i(41511),g=a.i(425282);let h="tools",i=[h,"allToolProviders"],j=[h,"builtIn"],k=[h,"customTools"],l=[h,"workflowTools"],m=[h,"MCPTools"],n={[e.CollectionType.builtIn]:j,[e.CollectionType.custom]:k,[e.CollectionType.workflow]:l,[e.CollectionType.mcp]:m},o=[h,"rag-recommended-plugins"];a.s(["useAllBuiltInTools",0,()=>(0,c.useQuery)({queryKey:j,queryFn:()=>(0,f.get)("/workspaces/current/tools/builtin")}),"useAllCustomTools",0,()=>(0,c.useQuery)({queryKey:k,queryFn:()=>(0,f.get)("/workspaces/current/tools/api")}),"useAllMCPTools",0,()=>(0,c.useQuery)({queryKey:m,queryFn:()=>(0,f.get)("/workspaces/current/tools/mcp")}),"useAllToolProviders",0,(a=!0)=>(0,c.useQuery)({queryKey:i,queryFn:()=>(0,f.get)("/workspaces/current/tool-providers"),enabled:a}),"useAllWorkflowTools",0,()=>(0,c.useQuery)({queryKey:l,queryFn:()=>(0,f.get)("/workspaces/current/tools/workflow")}),"useAppTriggers",0,(a,b)=>(0,c.useQuery)({queryKey:[h,"app-triggers",a],queryFn:()=>(0,f.get)(`/apps/${a}/triggers`),enabled:!!a,...b}),"useAuthorizeMCP",0,()=>(0,b.useMutation)({mutationKey:[h,"authorize-mcp"],mutationFn:a=>(0,f.post)("/workspaces/current/tool-provider/mcp/auth",{body:a})}),"useBuiltinTools",0,a=>(0,c.useQuery)({enabled:!!a,queryKey:[h,"builtin-provider-tools",a],queryFn:()=>(0,f.get)(`/workspaces/current/tool-provider/builtin/${a}/tools`)}),"useCreateMCP",0,()=>(0,b.useMutation)({mutationKey:[h,"create-mcp"],mutationFn:a=>(0,f.post)("workspaces/current/tool-provider/mcp",{body:{...a}})}),"useCreateMCPServer",0,()=>(0,b.useMutation)({mutationKey:[h,"create-mcp-server"],mutationFn:a=>{let{appID:b,...c}=a;return(0,f.post)(`apps/${b}/server`,{body:{...c}})}}),"useDeleteMCP",0,({onSuccess:a})=>(0,b.useMutation)({mutationKey:[h,"delete-mcp"],mutationFn:a=>(0,f.del)("/workspaces/current/tool-provider/mcp",{body:{provider_id:a}}),onSuccess:a}),"useInvalidToolsByType",0,a=>{let b=a?n[a]:void 0;return(0,g.useInvalid)(b)},"useInvalidateAllBuiltInTools",0,()=>(0,g.useInvalid)(j),"useInvalidateAllCustomTools",0,()=>(0,g.useInvalid)(k),"useInvalidateAllMCPTools",0,()=>(0,g.useInvalid)(m),"useInvalidateAllToolProviders",0,()=>(0,g.useInvalid)(i),"useInvalidateAllWorkflowTools",0,()=>(0,g.useInvalid)(l),"useInvalidateAppTriggers",0,()=>{let a=(0,d.useQueryClient)();return b=>{a.invalidateQueries({queryKey:[h,"app-triggers",b]})}},"useInvalidateMCPServerDetail",0,()=>{let a=(0,d.useQueryClient)();return b=>{a.invalidateQueries({queryKey:[h,"MCPServerDetail",b]})}},"useInvalidateMCPTools",0,()=>{let a=(0,d.useQueryClient)();return b=>{a.invalidateQueries({queryKey:[h,"get-MCP-provider-tool",b]})}},"useInvalidateRAGRecommendedPlugins",0,()=>{let a=(0,d.useQueryClient)();return (b="all")=>{a.invalidateQueries({queryKey:[...o,b]})}},"useMCPServerDetail",0,a=>(0,c.useQuery)({queryKey:[h,"MCPServerDetail",a],queryFn:()=>(0,f.get)(`/apps/${a}/server`)}),"useMCPTools",0,a=>(0,c.useQuery)({enabled:!!a,queryKey:[h,"get-MCP-provider-tool",a],queryFn:()=>(0,f.get)(`/workspaces/current/tool-provider/mcp/tools/${a}`)}),"useRAGRecommendedPlugins",0,(a="all")=>(0,c.useQuery)({queryKey:[...o,a],queryFn:()=>(0,f.get)("/rag/pipelines/recommended-plugins",{params:{type:a}})}),"useRefreshMCPServerCode",0,()=>(0,b.useMutation)({mutationKey:[h,"refresh-mcp-server-code"],mutationFn:a=>(0,f.get)(`apps/${a}/server/refresh`)}),"useUpdateMCP",0,({onSuccess:a})=>(0,b.useMutation)({mutationKey:[h,"update-mcp"],mutationFn:a=>(0,f.put)("workspaces/current/tool-provider/mcp",{body:{...a}}),onSuccess:a}),"useUpdateMCPServer",0,()=>(0,b.useMutation)({mutationKey:[h,"update-mcp-server"],mutationFn:a=>{let{appID:b,...c}=a;return(0,f.put)(`apps/${b}/server`,{body:{...c}})}}),"useUpdateMCPTools",0,()=>(0,b.useMutation)({mutationFn:a=>(0,f.get)(`/workspaces/current/tool-provider/mcp/update/${a}`)}),"useUpdateTriggerStatus",0,()=>(0,b.useMutation)({mutationKey:[h,"update-trigger-status"],mutationFn:a=>{let{appId:b,triggerId:c,enableTrigger:d}=a;return(0,f.post)(`/apps/${b}/trigger-enable`,{body:{trigger_id:c,enable_trigger:d}})}})])},970854,a=>{"use strict";var b=a.i(848636),c=a.i(528698);a.i(749249);var d=a.i(28959),e=a.i(41511),f=a.i(425282);let g="triggers",h=a=>({id:a.plugin_id||a.name,name:a.name,author:a.author,description:a.description,icon:a.icon||"",icon_dark:a.icon_dark||"",label:a.label,type:d.CollectionType.trigger,team_credentials:{},is_team_authorization:!1,allow_delete:!1,labels:a.tags||[],plugin_id:a.plugin_id,plugin_unique_identifier:a.plugin_unique_identifier||"",events:a.events.map(b=>({name:b.name,author:a.author,label:b.identity.label,description:b.description,parameters:b.parameters.map(a=>({name:a.name,label:a.label,human_description:a.description||a.label,type:a.type,form:a.type,llm_description:JSON.stringify(a.description||{}),required:a.required||!1,default:a.default||"",options:a.options?.map(a=>({label:a.label,value:a.value}))||[],multiple:a.multiple||!1})),labels:a.tags||[],output_schema:b.output_schema||{}})),subscription_constructor:a.subscription_constructor,subscription_schema:a.subscription_schema,supported_creation_methods:a.supported_creation_methods,meta:{version:"1.0"}});a.s(["useAllTriggerPlugins",0,(a=!0)=>(0,c.useQuery)({queryKey:[g,"all"],queryFn:async()=>(await (0,e.get)("/workspaces/current/triggers")).map(h),enabled:a,staleTime:0,gcTime:0}),"useBuildTriggerSubscription",0,()=>(0,b.useMutation)({mutationKey:[g,"build-subscription"],mutationFn:a=>{let{provider:b,subscriptionBuilderId:c,...d}=a;return(0,e.post)(`/workspaces/current/trigger-provider/${b}/subscriptions/builder/build/${c}`,{body:d})}}),"useConfigureTriggerOAuth",0,()=>(0,b.useMutation)({mutationKey:[g,"configure-oauth"],mutationFn:a=>{let{provider:b,...c}=a;return(0,e.post)(`/workspaces/current/trigger-provider/${b}/oauth/client`,{body:c})}}),"useCreateTriggerSubscriptionBuilder",0,()=>(0,b.useMutation)({mutationKey:[g,"create-subscription-builder"],mutationFn:a=>{let{provider:b,...c}=a;return(0,e.post)(`/workspaces/current/trigger-provider/${b}/subscriptions/builder/create`,{body:c})}}),"useDeleteTriggerOAuth",0,()=>(0,b.useMutation)({mutationKey:[g,"delete-oauth"],mutationFn:a=>(0,e.del)(`/workspaces/current/trigger-provider/${a}/oauth/client`)}),"useDeleteTriggerSubscription",0,()=>(0,b.useMutation)({mutationKey:[g,"delete-subscription"],mutationFn:a=>(0,e.post)(`/workspaces/current/trigger-provider/${a}/subscriptions/delete`)}),"useInitiateTriggerOAuth",0,()=>(0,b.useMutation)({mutationKey:[g,"initiate-oauth"],mutationFn:a=>(0,e.get)(`/workspaces/current/trigger-provider/${a}/subscriptions/oauth/authorize`,{},{silent:!0})}),"useInvalidateAllTriggerPlugins",0,()=>(0,f.useInvalid)([g,"all"]),"useTriggerOAuthConfig",0,(a,b=!0)=>(0,c.useQuery)({queryKey:[g,"oauth-config",a],queryFn:()=>(0,e.get)(`/workspaces/current/trigger-provider/${a}/oauth/client`),enabled:b&&!!a}),"useTriggerPluginDynamicOptions",0,(a,b=!0)=>(0,c.useQuery)({queryKey:[g,"dynamic-options",a.plugin_id,a.provider,a.action,a.parameter,a.credential_id,a.credentials,a.extra],queryFn:()=>a.credentials?(0,e.post)("/workspaces/current/plugin/parameters/dynamic-options-with-credentials",{body:{plugin_id:a.plugin_id,provider:a.provider,action:a.action,parameter:a.parameter,credential_id:a.credential_id,credentials:a.credentials}},{silent:!0}):(0,e.get)("/workspaces/current/plugin/parameters/dynamic-options",{params:{plugin_id:a.plugin_id,provider:a.provider,action:a.action,parameter:a.parameter,credential_id:a.credential_id,provider_type:"trigger"}},{silent:!0}),enabled:b&&!!a.plugin_id&&!!a.provider&&!!a.action&&!!a.parameter&&!!a.credential_id,retry:0,staleTime:0,gcTime:0}),"useTriggerProviderInfo",0,(a,b=!0)=>(0,c.useQuery)({queryKey:[g,"provider-info",a],queryFn:()=>(0,e.get)(`/workspaces/current/trigger-provider/${a}/info`),enabled:b&&!!a,staleTime:0,gcTime:0}),"useTriggerSubscriptionBuilderLogs",0,(a,b,d={})=>{let{enabled:f=!0,refetchInterval:h=!1}=d;return(0,c.useQuery)({queryKey:[g,"subscription-builder-logs",a,b],queryFn:()=>(0,e.get)(`/workspaces/current/trigger-provider/${a}/subscriptions/builder/logs/${b}`),enabled:f&&!!a&&!!b,refetchInterval:h})},"useTriggerSubscriptions",0,(a,b=!0)=>(0,c.useQuery)({queryKey:[g,"list-subscriptions",a],queryFn:()=>(0,e.get)(`/workspaces/current/trigger-provider/${a}/subscriptions/list`),enabled:b&&!!a}),"useUpdateTriggerSubscription",0,()=>(0,b.useMutation)({mutationKey:[g,"update-subscription"],mutationFn:a=>{let{subscriptionId:b,...c}=a;return(0,e.post)(`/workspaces/current/trigger-provider/${b}/subscriptions/update`,{body:c})}}),"useUpdateTriggerSubscriptionBuilder",0,()=>(0,b.useMutation)({mutationKey:[g,"update-subscription-builder"],mutationFn:a=>{let{provider:b,subscriptionBuilderId:c,...d}=a;return(0,e.post)(`/workspaces/current/trigger-provider/${b}/subscriptions/builder/update/${c}`,{body:d})}}),"useVerifyAndUpdateTriggerSubscriptionBuilder",0,()=>(0,b.useMutation)({mutationKey:[g,"verify-and-update-subscription-builder"],mutationFn:a=>{let{provider:b,subscriptionBuilderId:c,...d}=a;return(0,e.post)(`/workspaces/current/trigger-provider/${b}/subscriptions/builder/verify-and-update/${c}`,{body:d},{silent:!0})}}),"useVerifyTriggerSubscription",0,()=>(0,b.useMutation)({mutationKey:[g,"verify-subscription"],mutationFn:a=>{let{provider:b,subscriptionId:c,...d}=a;return(0,e.post)(`/workspaces/current/trigger-provider/${b}/subscriptions/verify/${c}`,{body:d},{silent:!0})}})])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b4183e66._.js.map