module.exports=[909795,a=>{"use strict";var b=a.i(608061),c=a.i(142261),d=a.i(527344);let e=({loading:a=!1,children:c,className:d})=>(0,b.jsxs)("div",{className:`inline-block h-4 w-4 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-gray-200 ${a?"motion-reduce:animate-[spin_1.5s_linear_infinite]":"hidden"} ${d??""}`,role:"status",children:[(0,b.jsx)("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."}),c]}),f=(0,c.cva)("btn disabled:btn-disabled",{variants:{variant:{primary:"btn-primary",warning:"btn-warning",secondary:"btn-secondary","secondary-accent":"btn-secondary-accent",ghost:"btn-ghost","ghost-accent":"btn-ghost-accent",tertiary:"btn-tertiary"},size:{small:"btn-small",medium:"btn-medium",large:"btn-large"}},defaultVariants:{variant:"secondary",size:"medium"}}),g=({className:a,variant:c,size:g,destructive:h,loading:i,styleCss:j,children:k,spinnerClassName:l,ref:m,...n})=>(0,b.jsxs)("button",{type:"button",className:(0,d.cn)(f({variant:c,size:g,className:a}),h&&"btn-destructive"),ref:m,style:j,...n,children:[k,i&&(0,b.jsx)(e,{loading:i,className:(0,d.cn)("!ml-1 !h-3 !w-3 !border-2 !text-white",l)})]});g.displayName="Button",a.s(["Button",()=>g,"default",0,g],909795)},288e3,429264,a=>{"use strict";var b=a.i(57843);a.s(["default",0,function(a){var c=(0,b.useRef)(a);return c.current=a,c}],288e3);var c=function(a){return"function"==typeof a},d=function(a){return"string"==typeof a},e=function(a){return"number"==typeof a},f=function(a){return void 0===a};a.s(["isFunction",()=>c,"isNumber",()=>e,"isString",()=>d,"isUndef",()=>f],429264)},240944,936557,a=>{"use strict";var b=a.i(57843),c=a.i(288e3);a.i(429264),a.s(["default",0,!1],936557),a.s(["default",0,function(a){var d=(0,c.default)(a);(0,b.useEffect)(function(){return function(){d.current()}},[])}],240944)},446855,a=>{"use strict";a.s(["default",0,!1])},280342,a=>{"use strict";var b=a.i(57843),c={SVG:"image/svg+xml",ICO:"image/x-icon",GIF:"image/gif",PNG:"image/png"};let d=function(a){(0,b.useEffect)(function(){if(a){var b=a.split("."),d=b[b.length-1].toLocaleUpperCase(),e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type=c[d],e.href=a,e.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(e)}},[a])};var e=a.i(240944),f=a.i(446855),g={restoreOnUnmount:!1};let h=function(a,c){void 0===c&&(c=g);var d=(0,b.useRef)(f.default?document.title:"");(0,b.useEffect)(function(){document.title=a},[a]),(0,e.default)(function(){c.restoreOnUnmount&&(document.title=d.current)})};var i=a.i(724423),j=a.i(499257);function k(a){let c=(0,i.useIsSystemFeaturesPending)(),e=(0,i.useGlobalPublicStore)(a=>a.systemFeatures),f=a?`${a} - `:"",g="",k="";!1===c&&(e.branding.enabled?(g=`${f}${e.branding.application_title}`,k=e.branding.favicon):(g=`${f}Dify`,k=`${j.basePath}/favicon.ico`)),h(g),(0,b.useEffect)(()=>{let a=null;return e.branding.favicon&&(document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon'], link[rel='mask-icon']").forEach(a=>a.parentNode?.removeChild(a)),(a=document.createElement("link")).rel="apple-touch-icon",a.href=e.branding.favicon,document.head.appendChild(a)),()=>{a?.remove()}},[e.branding.favicon]),d(k)}a.s(["default",()=>k],280342)},888595,a=>{"use strict";var b=a.i(608061),c=a.i(533306),d=a.i(57843);a.i(752298);var e=a.i(693025),f=a.i(909795),g=a.i(280342),h=a.i(9575),i=a.i(499257),j=a.i(105249),k=a.i(114715);a.s(["default",0,()=>{(0,g.default)("");let[a,l]=(0,d.useState)(""),[m,n]=(0,d.useState)(!0),[o,p]=(0,d.useState)(!1),q=(0,c.useRouter)(),{t:r}=(0,e.useTranslation)(),s=async()=>{n(!0);try{let b=await (0,h.initValidate)({body:{password:a}});if("success"===b.result)p(!0),q.push("/install");else throw Error("Validation failed")}catch(a){k.default.notify({type:"error",message:a.message,duration:5e3}),n(!1)}};return(0,d.useEffect)(()=>{(0,h.fetchInitValidateStatus)().then(a=>{"finished"===a.status?window.location.href=`${i.basePath}/install`:n(!1)})},[]),m?(0,b.jsx)(j.default,{}):(0,b.jsx)("div",{children:!o&&(0,b.jsxs)("div",{className:"mx-12 block min-w-28",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary",children:r("adminInitPassword",{ns:"login"})}),(0,b.jsx)("div",{className:"relative mt-1 rounded-md shadow-sm",children:(0,b.jsx)("input",{id:"password",type:"password",value:a,onChange:a=>l(a.target.value),className:"block w-full appearance-none rounded-md border border-divider-regular px-3 py-2 shadow-sm placeholder:text-text-quaternary focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"})})]}),(0,b.jsx)("div",{className:"flex flex-row flex-wrap justify-stretch p-0",children:(0,b.jsx)(f.default,{variant:"primary",onClick:s,className:"min-w-28 basis-full",children:r("validate",{ns:"login"})})})]})})}])}];

//# sourceMappingURL=_a1927f65._.js.map