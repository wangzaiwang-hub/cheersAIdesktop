module.exports=[413353,a=>{"use strict";var b=a.i(780442);a.s(["FileTypeIcon",()=>b.default])},562168,a=>{"use strict";function b(a){return[...new Set(a)]}a.s(["uniq",()=>b])},137550,184813,38276,337007,a=>{"use strict";var b=a.i(608061),c=a.i(796807),d=a.i(732056);let e=({ref:a,...e})=>(0,b.jsx)(c.default,{...e,ref:a,data:d.default});e.displayName="InputField",a.s(["default",0,e],184813);var f=a.i(181096);let g=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:f.default});g.displayName="PipelineFill",a.s(["default",0,g],38276);var h=a.i(8717);let i=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:h.default});i.displayName="PipelineLine",a.s(["default",0,i],337007),a.s([],137550)},688785,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},126781,(a,b,c)=>{"use strict";var d=a.r(688785);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},705783,(a,b,c)=>{b.exports=a.r(126781)()},712699,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a.r(57843),g=i(f),h=i(a.r(705783));function i(a){return a&&a.__esModule?a:{default:a}}var j={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},k=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],l=function(a,b){b.style.fontSize=a.fontSize,b.style.fontFamily=a.fontFamily,b.style.fontWeight=a.fontWeight,b.style.fontStyle=a.fontStyle,b.style.letterSpacing=a.letterSpacing,b.style.textTransform=a.textTransform},m=function(){},n=function(a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function, not "+typeof a);function b(a){if(!(this instanceof b))throw TypeError("Cannot call a class as a function");var c=function(a,b){if(!a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.inputRef=function(a){c.input=a,"function"==typeof c.props.inputRef&&c.props.inputRef(a)},c.placeHolderSizerRef=function(a){c.placeHolderSizer=a},c.sizerRef=function(a){c.sizer=a},c.state={inputWidth:a.minWidth,inputId:a.id||m(),prevId:a.id},c}return b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a),e(b,null,[{key:"getDerivedStateFromProps",value:function(a,b){var c=a.id;return c!==b.prevId?{inputId:c||m(),prevId:c}:null}}]),e(b,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(a,b){b.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var a=this.input&&window.getComputedStyle(this.input);a&&(l(a,this.sizer),this.placeHolderSizer&&l(a,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var a=void 0;(a=(this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2)+("number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0))<this.props.minWidth&&(a=this.props.minWidth),a!==this.state.inputWidth&&this.setState({inputWidth:a})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){return this.props.injectStyles,null}},{key:"render",value:function(){var a=[this.props.defaultValue,this.props.value,""].reduce(function(a,b){return null!=a?a:b}),b=d({},this.props.style);b.display||(b.display="inline-block");var c=d({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),e=function(a,b){var c={};for(var d in a)!(b.indexOf(d)>=0)&&Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}(this.props,[]);return k.forEach(function(a){return delete e[a]}),e.className=this.props.inputClassName,e.id=this.state.inputId,e.style=c,g.default.createElement("div",{className:this.props.className,style:b},this.renderStyles(),g.default.createElement("input",d({},e,{ref:this.inputRef})),g.default.createElement("div",{ref:this.sizerRef,style:j},a),this.props.placeholder?g.default.createElement("div",{ref:this.placeHolderSizerRef,style:j},this.props.placeholder):null)}}]),b}(f.Component);n.propTypes={className:h.default.string,defaultValue:h.default.any,extraWidth:h.default.oneOfType([h.default.number,h.default.string]),id:h.default.string,injectStyles:h.default.bool,inputClassName:h.default.string,inputRef:h.default.func,inputStyle:h.default.object,minWidth:h.default.oneOfType([h.default.number,h.default.string]),onAutosize:h.default.func,onChange:h.default.func,placeholder:h.default.string,placeholderIsMinWidth:h.default.bool,style:h.default.object,value:h.default.any},n.defaultProps={minWidth:1,injectStyles:!0},c.default=n},144244,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843),e=a.i(712699);a.i(752298);var f=a.i(693025),g=a.i(114715),h=a.i(527344);a.s(["default",0,({items:a,onChange:i,disableAdd:j,disableRemove:k,customizedConfirmKey:l="Enter",isInWorkflow:m,placeholder:n,required:o=!1,inputClassName:p})=>{let{t:q}=(0,f.useTranslation)(),{notify:r}=(0,g.useToastContext)(),[s,t]=(0,d.useState)(""),[u,v]=(0,d.useState)(!1),w="Tab"===l,x=(0,d.useCallback)(b=>{let c=b.trim();if(!c){o&&r({type:"error",message:q("segment.keywordEmpty",{ns:"datasetDocuments"})});return}a.find(a=>a===c)?r({type:"error",message:q("segment.keywordDuplicate",{ns:"datasetDocuments"})}):c.length>20?r({type:"error",message:q("segment.keywordError",{ns:"datasetDocuments"})}):(i([...a,c]),setTimeout(()=>{t("")}))},[a,i,r,q,o]);return(0,b.jsxs)("div",{className:(0,h.cn)("flex flex-wrap",!m&&"min-w-[200px]",w?"rounded-lg bg-components-input-bg-normal pb-1 pl-1":""),children:[(a||[]).map((d,e)=>(0,b.jsxs)("div",{className:(0,h.cn)("system-xs-regular mr-1 mt-1 flex items-center rounded-md border border-divider-deep bg-components-badge-white-to-dark py-1 pl-1.5 pr-1 text-text-secondary"),children:[d,!k&&(0,b.jsx)("div",{className:"flex h-4 w-4 cursor-pointer items-center justify-center",onClick:()=>{let b;(b=[...a]).splice(e,1),i(b)},children:(0,b.jsx)(c.RiCloseLine,{className:"ml-0.5 h-3.5 w-3.5 text-text-tertiary"})})]},d)),!j&&(0,b.jsxs)("div",{className:(0,h.cn)("group/tag-add mt-1 flex items-center gap-x-0.5",w?"":"rounded-md border border-dashed border-divider-deep px-1.5"),children:[!w&&!u&&(0,b.jsx)(c.RiAddLine,{className:"h-3.5 w-3.5 text-text-placeholder group-hover/tag-add:text-text-secondary"}),(0,b.jsx)(e.default,{inputClassName:(0,h.cn)("appearance-none text-text-primary caret-[#295EFF] outline-none placeholder:text-text-placeholder group-hover/tag-add:placeholder:text-text-secondary",w?"bg-transparent":"",p),className:(0,h.cn)(!m&&"max-w-[300px]",m&&"max-w-[146px]","system-xs-regular overflow-hidden rounded-md py-1",w&&"border border-transparent px-1.5",u&&w&&"border-dashed border-divider-deep"),onFocus:()=>v(!0),onBlur:()=>{x(s),v(!1)},value:s,onChange:a=>{t(a.target.value)},onKeyDown:a=>{w&&"Enter"===a.key&&t(`${s}â†µ`),a.key===l&&(w&&a.preventDefault(),x(s))},placeholder:n||(w?q("model.params.stop_sequencesPlaceholder",{ns:"common"}):q("segment.addKeyWord",{ns:"datasetDocuments"}))})]})]})}])},335913,a=>{"use strict";var b=a.i(608061),c=a.i(142261),d=a.i(57843),e=a.i(483664),f=a.i(527344);let g=(0,c.cva)([],{variants:{align:{left:"justify-start",center:"justify-center",right:"justify-end"}},defaultVariants:{align:"center"}}),h=d.memo(({className:a,title:c,onSelect:h,selected:i,disabled:j,align:k="center",tooltip:l})=>{let m=(0,d.useCallback)(()=>{i||j||h()},[h,i,j]);return(0,b.jsxs)("div",{className:(0,f.cn)("system-sm-regular flex h-8 cursor-default items-center rounded-md border border-components-option-card-option-border bg-components-option-card-option-bg px-2 text-text-secondary",!i&&!j&&"cursor-pointer hover:border-components-option-card-option-border-hover hover:bg-components-option-card-option-bg-hover hover:shadow-xs",i&&"system-sm-medium border-[1.5px] border-components-option-card-option-selected-border bg-components-option-card-option-selected-bg shadow-xs",j&&"text-text-disabled",g({align:k}),a),onClick:m,children:[(0,b.jsx)("span",{children:c}),l&&(0,b.jsx)(e.default,{popupContent:(0,b.jsx)("div",{className:"w-[240px]",children:l})})]})});a.s(["default",0,h])},532655,a=>{"use strict";var b=a.i(608061),c=a.i(57843);a.i(752298);var d=a.i(693025),e=a.i(168799);let f=c.memo(({value:a,onChange:f,name:g,required:h,readonly:i})=>{let{t:j}=(0,d.useTranslation)(),k=(0,c.useCallback)(()=>{f(!a)},[a,f]);return(0,b.jsxs)("div",{className:"flex h-6 items-center gap-2",children:[(0,b.jsx)(e.default,{className:"!h-4 !w-4",checked:!!a,onCheck:k,disabled:i}),(0,b.jsxs)("div",{className:"system-sm-medium flex items-center gap-1 text-text-secondary",children:[g,!h&&(0,b.jsx)("span",{className:"system-xs-regular text-text-tertiary",children:j("panel.optional",{ns:"workflow"})})]})]})});a.s(["default",0,f])},754457,401378,a=>{"use strict";var b=a.i(608061),c=a.i(57843);a.i(752298);var d=a.i(693025);a.i(622666);var e=a.i(411219),e=e;a.i(701836);var f=a.i(157133),g=a.i(825319),h=a.i(954200),i=a.i(305381),j=a.i(909795);let k=/^(https?|ftp):\/\//,l=({onUpload:a,disabled:e})=>{let{t:f}=(0,d.useTranslation)(),[g,i]=(0,c.useState)("");return(0,b.jsxs)("div",{className:"flex h-8 items-center rounded-lg border border-components-panel-border bg-components-panel-bg pl-1.5 pr-1 shadow-xs",children:[(0,b.jsx)("input",{type:"text",className:"mr-0.5 h-[18px] grow appearance-none bg-transparent px-1 text-[13px] text-text-primary outline-none",value:g,onChange:a=>i(a.target.value),placeholder:f("imageUploader.pasteImageLinkInputPlaceholder",{ns:"common"})||""}),(0,b.jsx)(j.default,{variant:"primary",size:"small",disabled:!g||e,onClick:()=>{e||a({type:h.TransferMethod.remote_url,_id:`${Date.now()}`,fileId:"",progress:k.test(g)?0:-1,url:g})},children:f("operation.ok",{ns:"common"})})]})};var m=a.i(429150);a.i(943046);var n=a.i(604364);a.s(["RefreshCcw01",()=>n.default],401378);var n=n;a.i(955696);var o=a.i(2496),p=a.i(530007),q=a.i(483664),r=a.i(527344);let s=({list:a,readonly:e,onRemove:f,onReUpload:g,onImageLinkLoadSuccess:i,onImageLinkLoadError:j})=>{let{t:k}=(0,d.useTranslation)(),[l,s]=(0,c.useState)("");return(0,b.jsxs)("div",{className:"flex flex-wrap",children:[a.map(a=>(0,b.jsxs)("div",{className:"group relative mr-1 rounded-lg border-[0.5px] border-black/5",children:[a.type===h.TransferMethod.local_file&&100!==a.progress&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"absolute inset-0 z-[1] flex items-center justify-center bg-black/30",style:{left:a.progress>-1?`${a.progress}%`:0},children:-1===a.progress&&(0,b.jsx)(n.default,{className:"h-5 w-5 text-white",onClick:()=>g?.(a._id)})}),a.progress>-1&&(0,b.jsxs)("span",{className:"absolute left-[50%] top-[50%] z-[1] translate-x-[-50%] translate-y-[-50%] text-sm text-white mix-blend-lighten",children:[a.progress,"%"]})]}),a.type===h.TransferMethod.remote_url&&100!==a.progress&&(0,b.jsxs)("div",{className:`
                  absolute inset-0 z-[1] flex items-center justify-center rounded-lg border
                  ${-1===a.progress?"border-[#DC6803] bg-[#FEF0C7]":"border-transparent bg-black/[0.16]"}
                `,children:[a.progress>-1&&(0,b.jsx)(m.RiLoader2Line,{className:"h-5 w-5 animate-spin text-white"}),-1===a.progress&&(0,b.jsx)(q.default,{popupContent:k("imageUploader.pasteImageLinkInvalid",{ns:"common"}),children:(0,b.jsx)(o.AlertTriangle,{className:"h-4 w-4 text-[#DC6803]"})})]}),(0,b.jsx)("img",{className:"h-16 w-16 cursor-pointer rounded-lg border-[0.5px] border-black/5 object-cover",alt:a.file?.name,onLoad:()=>{a.type===h.TransferMethod.remote_url&&i&&-1!==a.progress&&i(a._id)},onError:()=>{a.type===h.TransferMethod.remote_url&&j&&j(a._id)},src:a.type===h.TransferMethod.remote_url?a.url:a.base64Url,onClick:()=>100===a.progress&&s(a.type===h.TransferMethod.remote_url?a.url:a.base64Url)}),!e&&(0,b.jsx)("button",{type:"button",className:(0,r.cn)("absolute -right-[9px] -top-[9px] z-10 h-[18px] w-[18px] items-center justify-center","rounded-2xl shadow-lg hover:bg-state-base-hover",-1===a.progress?"flex":"hidden group-hover:flex"),onClick:()=>f?.(a._id),children:(0,b.jsx)(m.RiCloseLine,{className:"h-3 w-3 text-text-tertiary"})})]},a._id)),l&&(0,b.jsx)(p.default,{url:l,onCancel:()=>s(""),title:""})]})},t=({children:a,onUpload:d,closePopover:e,limit:f,disabled:g})=>{let[j,k]=(0,c.useState)(!1),{handleLocalFileUpload:l}=(0,i.useLocalFileUploader)({limit:f,onUpload:d,disabled:g});return(0,b.jsxs)("div",{className:"relative",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),children:[a(j),(0,b.jsx)("input",{className:"absolute inset-0 block w-full cursor-pointer text-[0] opacity-0 disabled:cursor-not-allowed",onClick:a=>a.target.value="",type:"file",accept:h.ALLOW_FILE_EXTENSIONS.map(a=>`.${a}`).join(","),onChange:a=>{let b=a.target.files?.[0];b&&(l(b),e?.())},disabled:g})]})},u=({onUpload:a,disabled:f})=>{let{t:h}=(0,d.useTranslation)(),[i,j]=(0,c.useState)(!1);return(0,b.jsxs)(g.PortalToFollowElem,{open:i,onOpenChange:j,placement:"top-start",children:[(0,b.jsx)(g.PortalToFollowElemTrigger,{onClick:()=>{f||j(a=>!a)},children:(0,b.jsxs)("div",{className:`
          relative flex h-8 items-center justify-center rounded-lg bg-components-button-tertiary-bg px-3 text-xs text-text-tertiary hover:bg-components-button-tertiary-bg-hover
          ${f?"cursor-not-allowed":"cursor-pointer"}
        `,children:[(0,b.jsx)(e.default,{className:"mr-2 h-4 w-4"}),h("imageUploader.pasteImageLink",{ns:"common"})]})}),(0,b.jsx)(g.PortalToFollowElemContent,{className:"z-10",children:(0,b.jsx)("div",{className:"w-[320px] rounded-lg border-[0.5px] border-components-panel-border bg-components-panel-bg p-2 shadow-lg",children:(0,b.jsx)(l,{onUpload:b=>{j(!1),a(b)}})})})]})};a.s(["default",0,({settings:a,onFilesChange:e,disabled:g})=>{let{t:j}=(0,d.useTranslation)(),{files:k,onUpload:l,onRemove:m,onImageLinkLoadError:n,onImageLinkLoadSuccess:o,onReUpload:p}=(0,i.useImageFiles)();(0,c.useEffect)(()=>{e(k)},[k]);let q=(0,b.jsx)(t,{onUpload:l,disabled:k.length>=a.number_limits||g,limit:+a.image_file_size_limit,children:a=>(0,b.jsxs)("div",{className:`
            flex h-8 cursor-pointer items-center justify-center rounded-lg
            bg-components-button-tertiary-bg px-3 text-xs text-text-tertiary
            ${a&&"hover:bg-components-button-tertiary-bg-hover"}
          `,children:[(0,b.jsx)(f.ImagePlus,{className:"mr-2 h-4 w-4"}),j("imageUploader.uploadFromComputer",{ns:"common"})]})}),r=(0,b.jsx)(u,{onUpload:l,disabled:k.length>=a.number_limits||g});return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-1",children:(0,b.jsx)(s,{list:k,onRemove:m,onReUpload:p,onImageLinkLoadError:n,onImageLinkLoadSuccess:o})}),(0,b.jsx)("div",{className:`grid gap-1 ${2===a.transfer_methods.length?"grid-cols-2":"grid-cols-1"}`,children:a.transfer_methods.map(a=>a===h.TransferMethod.local_file?(0,b.jsx)(c.Fragment,{children:q},h.TransferMethod.local_file):a===h.TransferMethod.remote_url?(0,b.jsx)(c.Fragment,{children:r},h.TransferMethod.remote_url):null)})]})}],754457)},122745,a=>{"use strict";var b=a.i(311967);a.s(["ApiConnectionMod",()=>b.default])},821820,a=>{"use strict";var b=a.i(608061);a.i(752298);var c=a.i(693025),d=a.i(416985),e=a.i(102170),f=a.i(527344);a.s(["default",0,({topK:a,scoreThreshold:g,scoreThresholdEnabled:h,onChange:i,isInHitTesting:j=!1,isInRetrievalSetting:k=!1})=>{let{t:l}=(0,c.useTranslation)();return(0,b.jsxs)("div",{className:(0,f.cn)("flex flex-col gap-2 self-stretch",k&&"w-full max-w-[480px]"),children:[!j&&!k&&(0,b.jsx)("div",{className:"flex h-7 flex-col gap-2 self-stretch pt-1",children:(0,b.jsx)("label",{className:"system-sm-semibold text-text-secondary",children:l("retrievalSettings",{ns:"dataset"})})}),(0,b.jsxs)("div",{className:(0,f.cn)("flex gap-4 self-stretch",{"flex-col":j,"flex-row":k,"flex-col sm:flex-row":!j&&!k}),children:[(0,b.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,b.jsx)(e.default,{className:"grow",value:a,onChange:(a,b)=>i({top_k:b}),enable:!0})}),(0,b.jsx)("div",{className:"flex grow flex-col gap-1",children:(0,b.jsx)(d.default,{className:"grow",value:g,onChange:(a,b)=>i({score_threshold:b}),enable:h,hasSwitch:!0,onSwitchChange:(a,b)=>{i({score_threshold_enabled:b})}})})]})]})}])},188509,792937,841318,794712,a=>{"use strict";var b=a.i(608061),c=a.i(292458),d=a.i(57843);a.i(752298);var e=a.i(693025);a.i(224256);var f=a.i(863991);a.s(["Economic",()=>f.default],792937);var f=f,g=a.i(460895);a.s(["HighQuality",()=>g.default],841318);var g=g,h=a.i(825319),i=a.i(527344);a.i(387799);var j=a.i(944054),k=a.i(736188),l=a.i(543945),m=a.i(429150),n=a.i(644734),o=a.i(703298),p=a.i(483664);let q=d.memo(({keywordNumber:a,onKeywordNumberChange:c})=>{let{t:f}=(0,e.useTranslation)(),g=(0,d.useCallback)(a=>{a&&c(a)},[c]);return(0,b.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,b.jsxs)("div",{className:"flex grow items-center gap-x-0.5",children:[(0,b.jsx)("div",{className:"system-xs-medium truncate text-text-secondary",children:f("form.numberOfKeywords",{ns:"datasetSettings"})}),(0,b.jsx)(p.default,{popupContent:"number of keywords",children:(0,b.jsx)(m.RiQuestionLine,{className:"h-3.5 w-3.5 text-text-quaternary"})})]}),(0,b.jsx)(o.default,{className:"mr-3 w-[206px] shrink-0",value:a,max:50,onChange:c}),(0,b.jsx)(n.InputNumber,{wrapperClassName:"shrink-0 w-12",type:"number",value:a,onChange:g})]})});a.s(["default",0,({value:a,onChange:m,disabled:n,currentValue:o,keywordNumber:p,onKeywordNumberChange:r})=>{let{t:s}=(0,e.useTranslation)(),t=(0,d.useRef)(null),u=(0,c.useHover)(t),v=o===j.IndexingType.QUALIFIED;return(0,b.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-y-2"),children:[(0,b.jsx)(l.default,{id:j.IndexingType.QUALIFIED,isActive:a===j.IndexingType.QUALIFIED,onClick:m,icon:(0,b.jsx)(g.default,{className:"size-[18px]"}),iconActiveColor:"text-util-colors-orange-orange-500",title:s("stepTwo.qualified",{ns:"datasetCreation"}),description:s("form.indexMethodHighQualityTip",{ns:"datasetSettings"}),disabled:n,isRecommended:!0,effectColor:k.EffectColor.orange,showEffectColor:!0,className:"gap-x-2"}),(0,b.jsxs)(h.PortalToFollowElem,{open:u,offset:4,placement:"right",children:[(0,b.jsx)(h.PortalToFollowElemTrigger,{children:(0,b.jsx)(l.default,{ref:t,id:j.IndexingType.ECONOMICAL,isActive:a===j.IndexingType.ECONOMICAL,onClick:m,icon:(0,b.jsx)(f.default,{className:"size-[18px]"}),iconActiveColor:"text-util-colors-indigo-indigo-600",title:s("form.indexMethodEconomy",{ns:"datasetSettings"}),description:s("form.indexMethodEconomyTip",{ns:"datasetSettings",count:p}),disabled:n||v,effectColor:k.EffectColor.indigo,showEffectColor:!0,showChildren:!0,className:"gap-x-2",children:(0,b.jsx)(q,{keywordNumber:p,onKeywordNumberChange:r})})}),(0,b.jsx)(h.PortalToFollowElemContent,{style:{zIndex:60},children:(0,b.jsx)("div",{className:"rounded-lg border-components-panel-border bg-components-tooltip-bg p-3 text-xs font-medium text-text-secondary shadow-lg",children:s("form.indexMethodChangeToEconomyDisabledTip",{ns:"datasetSettings"})})})]})]})}],188509);var r=a.i(981133),s=a.i(892839),t=a.i(816134),u=a.i(705134),v=a.i(986431);let w=d.memo(({leftIcon:a,name:c,email:d,isSelected:f,isMe:g=!1,onClick:h})=>{let{t:j}=(0,e.useTranslation)();return(0,b.jsxs)("div",{className:"flex cursor-pointer items-center gap-2 rounded-lg py-1 pl-2 pr-[10px] hover:bg-state-base-hover",onClick:h,children:[a,(0,b.jsxs)("div",{className:"grow",children:[(0,b.jsxs)("div",{className:"system-sm-medium truncate text-text-secondary",children:[c,g&&(0,b.jsx)("span",{className:"system-xs-regular text-text-tertiary",children:j("form.me",{ns:"datasetSettings"})})]}),(0,b.jsx)("div",{className:"system-xs-regular truncate text-text-tertiary",children:d})]}),f&&(0,b.jsx)(m.RiCheckLine,{className:(0,i.cn)("size-4 shrink-0 text-text-accent",g&&"opacity-30")})]})}),x=d.memo(({leftIcon:a,text:c,onClick:d,isSelected:e})=>(0,b.jsxs)("div",{className:"flex cursor-pointer items-center gap-x-1 rounded-lg px-2 py-1 hover:bg-state-base-hover",onClick:d,children:[a,(0,b.jsx)("div",{className:"system-md-regular grow px-1 text-text-secondary",children:c}),e&&(0,b.jsx)(m.RiCheckLine,{className:"size-4 text-text-accent"})]}));a.s(["default",0,({disabled:a,permission:c,value:f,memberList:g,onChange:j,onMemberSelect:k})=>{let{t:l}=(0,e.useTranslation)(),n=(0,u.useSelector)(a=>a.userProfile),[o,p]=(0,d.useState)(!1),[q,y]=(0,d.useState)(""),[z,A]=(0,d.useState)(""),{run:B}=(0,r.useDebounceFn)(()=>{A(q)},{wait:500}),C=a=>{y(a),B()},D=(0,d.useCallback)(a=>{f.includes(a.id)?k(f.filter(b=>b!==a.id)):k([...f,a.id])},[f,k]),E=(0,d.useMemo)(()=>[n,...g.filter(a=>a.id!==n.id).filter(a=>f.includes(a.id))],[n,f,g]),F=(0,d.useMemo)(()=>n.name.includes(z)||n.email.includes(z),[z,n]),G=(0,d.useMemo)(()=>g.filter(a=>(a.name.includes(z)||a.email.includes(z))&&a.id!==n.id&&["owner","admin","editor","dataset_operator"].includes(a.role)),[g,z,n]),H=(0,d.useCallback)(()=>{j(v.DatasetPermission.onlyMe),p(!1)},[j]),I=(0,d.useCallback)(()=>{j(v.DatasetPermission.allTeamMembers),p(!1)},[j]),J=(0,d.useCallback)(()=>{j(v.DatasetPermission.partialMembers),k([n.id])},[j,k,n]),K=c===v.DatasetPermission.onlyMe,L=c===v.DatasetPermission.allTeamMembers,M=c===v.DatasetPermission.partialMembers,N=E.map(a=>a.name).join(", ");return(0,b.jsx)(h.PortalToFollowElem,{open:o,onOpenChange:p,placement:"bottom-start",offset:4,children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h.PortalToFollowElemTrigger,{onClick:()=>!a&&p(a=>!a),className:"block",children:(0,b.jsxs)("div",{className:(0,i.cn)("flex cursor-pointer items-center gap-x-0.5 rounded-lg bg-components-input-bg-normal px-2 py-1 hover:bg-state-base-hover-alt",o&&"bg-state-base-hover-alt",a&&"!cursor-not-allowed !bg-components-input-bg-disabled hover:!bg-components-input-bg-disabled"),children:[K&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center",children:(0,b.jsx)(s.default,{avatar:n.avatar_url,name:n.name,size:20})}),(0,b.jsx)("div",{className:"system-sm-regular grow p-1 text-components-input-text-filled",children:l("form.permissionsOnlyMe",{ns:"datasetSettings"})})]}),L&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center",children:(0,b.jsx)(m.RiGroup2Line,{className:"size-4 text-text-secondary"})}),(0,b.jsx)("div",{className:"system-sm-regular grow p-1 text-components-input-text-filled",children:l("form.permissionsAllMember",{ns:"datasetSettings"})})]}),M&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative flex size-6 shrink-0 items-center justify-center",children:[1===E.length&&(0,b.jsx)(s.default,{avatar:E[0].avatar_url,name:E[0].name,size:20}),E.length>=2&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.default,{avatar:E[0].avatar_url,name:E[0].name,className:"absolute left-0 top-0 z-0",size:16}),(0,b.jsx)(s.default,{avatar:E[1].avatar_url,name:E[1].name,className:"absolute bottom-0 right-0 z-10",size:16})]})]}),(0,b.jsx)("div",{title:N,className:"system-sm-regular grow truncate p-1 text-components-input-text-filled",children:N})]}),(0,b.jsx)(m.RiArrowDownSLine,{className:(0,i.cn)("h-4 w-4 shrink-0 text-text-quaternary group-hover:text-text-secondary",o&&"text-text-secondary",a&&"!text-components-input-text-placeholder")})]})}),(0,b.jsx)(h.PortalToFollowElemContent,{className:"z-[1002]",children:(0,b.jsxs)("div",{className:"relative w-[480px] rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur shadow-lg shadow-shadow-shadow-5",children:[(0,b.jsxs)("div",{className:"p-1",children:[(0,b.jsx)(x,{leftIcon:(0,b.jsx)(s.default,{avatar:n.avatar_url,name:n.name,className:"shrink-0",size:24}),text:l("form.permissionsOnlyMe",{ns:"datasetSettings"}),onClick:H,isSelected:K}),(0,b.jsx)(x,{leftIcon:(0,b.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center",children:(0,b.jsx)(m.RiGroup2Line,{className:"size-4 text-text-secondary"})}),text:l("form.permissionsAllMember",{ns:"datasetSettings"}),onClick:I,isSelected:L}),(0,b.jsx)(x,{leftIcon:(0,b.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center",children:(0,b.jsx)(m.RiLock2Line,{className:"size-4 text-text-secondary"})}),text:l("form.permissionsInvitedMembers",{ns:"datasetSettings"}),onClick:J,isSelected:M})]}),M&&(0,b.jsxs)("div",{className:"max-h-[360px] overflow-y-auto border-t-[1px] border-divider-regular pb-1 pl-1 pr-1",children:[(0,b.jsx)("div",{className:"sticky left-0 top-0 z-10 bg-components-panel-on-panel-item-bg p-2 pb-1",children:(0,b.jsx)(t.default,{showLeftIcon:!0,showClearIcon:!0,value:q,onChange:a=>C(a.target.value),onClear:()=>C("")})}),(0,b.jsxs)("div",{className:"flex flex-col p-1",children:[F&&(0,b.jsx)(w,{leftIcon:(0,b.jsx)(s.default,{avatar:n.avatar_url,name:n.name,className:"shrink-0",size:24}),name:n.name,email:n.email,isSelected:!0,isMe:!0}),G.map(a=>(0,b.jsx)(w,{leftIcon:(0,b.jsx)(s.default,{avatar:a.avatar_url,name:a.name,className:"shrink-0",size:24}),name:a.name,email:a.email,isSelected:f.includes(a.id),onClick:D.bind(null,a)})),!F&&0===G.length&&(0,b.jsx)("div",{className:"system-xs-regular flex items-center justify-center whitespace-pre-wrap px-1 py-6 text-center text-text-tertiary",children:l("form.onSearchResults",{ns:"datasetSettings"})})]})]})]})})]})})}],794712)}];

//# sourceMappingURL=_10172a90._.js.map