module.exports=[272510,387732,478233,744640,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843);a.i(752298);var e=a.i(693025);a.i(151730);var f=a.i(395078),g=a.i(216457);a.s(["ChatBot",()=>g.default],387732);var g=g,h=a.i(809099);a.s(["ListSparkle",()=>h.default],478233);var h=h,i=a.i(164508);a.s(["Logic",()=>i.default],744640);var i=i,j=a.i(825319),k=a.i(954200),l=a.i(527344),m=a.i(168799);let n=[k.AppModeEnum.WORKFLOW,k.AppModeEnum.ADVANCED_CHAT,k.AppModeEnum.CHAT,k.AppModeEnum.AGENT_CHAT,k.AppModeEnum.COMPLETION],o=d.memo(({type:a,className:d,wrapperClassName:e,style:j})=>{let m=(0,l.cn)("inline-flex h-5 w-5 items-center justify-center rounded-md border border-divider-regular",e),n=(0,l.cn)("h-3.5 w-3.5 text-components-avatar-shape-fill-stop-100",d);return a===k.AppModeEnum.CHAT?(0,b.jsx)("div",{style:j,className:(0,l.cn)(m,"bg-components-icon-bg-blue-solid"),children:(0,b.jsx)(g.default,{className:n})}):a===k.AppModeEnum.AGENT_CHAT?(0,b.jsx)("div",{style:j,className:(0,l.cn)(m,"bg-components-icon-bg-violet-solid"),children:(0,b.jsx)(i.default,{className:n})}):a===k.AppModeEnum.ADVANCED_CHAT?(0,b.jsx)("div",{style:j,className:(0,l.cn)(m,"bg-components-icon-bg-blue-light-solid"),children:(0,b.jsx)(f.BubbleTextMod,{className:n})}):a===k.AppModeEnum.WORKFLOW?(0,b.jsx)("div",{style:j,className:(0,l.cn)(m,"bg-components-icon-bg-indigo-solid"),children:(0,b.jsx)(c.RiExchange2Fill,{className:n})}):a===k.AppModeEnum.COMPLETION?(0,b.jsx)("div",{style:j,className:(0,l.cn)(m,"bg-components-icon-bg-teal-solid"),children:(0,b.jsx)(h.default,{className:n})}):null});function p({values:a}){let{t:d}=(0,e.useTranslation)();return a&&0!==a.length?1===a.length?(0,b.jsxs)("div",{className:(0,l.cn)("flex h-8 flex-nowrap items-center justify-between gap-1"),children:[(0,b.jsx)(o,{type:a[0]}),(0,b.jsx)("div",{className:"line-clamp-1 flex flex-1 items-center text-center",children:(0,b.jsx)(r,{type:a[0],className:"system-sm-medium text-components-menu-item-text"})})]}):(0,b.jsx)("div",{className:(0,l.cn)("relative flex h-8 items-center justify-between -space-x-2"),children:a.map((a,c)=>(0,b.jsx)(o,{type:a,wrapperClassName:"border border-components-panel-on-panel-item-bg",style:{zIndex:5-c}},a))}):(0,b.jsxs)("div",{className:(0,l.cn)("flex h-8 items-center justify-between gap-1"),children:[(0,b.jsx)(c.RiFilter3Line,{className:"h-4 w-4 text-text-tertiary"}),(0,b.jsx)("div",{className:"system-sm-medium min-w-[65px] grow text-center text-text-tertiary",children:d("typeSelector.all",{ns:"app"})}),(0,b.jsx)(c.RiArrowDownSLine,{className:"h-4 w-4 text-text-tertiary"})]})}function q({checked:a,type:c,onClick:d}){return(0,b.jsxs)("li",{className:"flex cursor-pointer items-center space-x-2 rounded-lg py-1 pl-2 pr-1 hover:bg-state-base-hover",onClick:d,children:[(0,b.jsx)(m.default,{checked:a}),(0,b.jsx)(o,{type:c}),(0,b.jsx)("div",{className:"grow p-1 pl-0",children:(0,b.jsx)(r,{type:c,className:"system-sm-medium text-components-menu-item-text"})})]})}function r({type:a,className:c}){let{t:d}=(0,e.useTranslation)(),f="";return a===k.AppModeEnum.CHAT&&(f=d("typeSelector.chatbot",{ns:"app"})),a===k.AppModeEnum.AGENT_CHAT&&(f=d("typeSelector.agent",{ns:"app"})),a===k.AppModeEnum.COMPLETION&&(f=d("typeSelector.completion",{ns:"app"})),a===k.AppModeEnum.ADVANCED_CHAT&&(f=d("typeSelector.advanced",{ns:"app"})),a===k.AppModeEnum.WORKFLOW&&(f=d("typeSelector.workflow",{ns:"app"})),(0,b.jsx)("span",{className:c,children:f})}a.s(["AppTypeIcon",0,o,"AppTypeLabel",()=>r,"default",0,({value:a,onChange:f})=>{let[g,h]=(0,d.useState)(!1),{t:i}=(0,e.useTranslation)();return(0,b.jsx)(j.PortalToFollowElem,{open:g,onOpenChange:h,placement:"bottom-start",offset:4,children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.PortalToFollowElemTrigger,{onClick:()=>h(a=>!a),className:"block",children:(0,b.jsxs)("div",{className:(0,l.cn)("flex cursor-pointer items-center justify-between space-x-1 rounded-md px-2 hover:bg-state-base-hover"),children:[(0,b.jsx)(p,{values:a}),a&&a.length>0&&(0,b.jsx)("button",{type:"button","aria-label":i("operation.clear",{ns:"common"}),className:"group h-4 w-4",onClick:a=>{a.stopPropagation(),f([])},children:(0,b.jsx)(c.RiCloseCircleFill,{className:"h-3.5 w-3.5 text-text-quaternary group-hover:text-text-tertiary"})})]})}),(0,b.jsx)(j.PortalToFollowElemContent,{className:"z-[1002]",children:(0,b.jsx)("ul",{className:"relative w-[240px] rounded-xl border border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg backdrop-blur-[5px]",children:n.map(c=>(0,b.jsx)(q,{type:c,checked:!!(a.length>0&&a?.indexOf(c)!==-1),onClick:()=>{a?.indexOf(c)!==-1?f(a?.filter(a=>a!==c)??[]):f([...a||[],c])}},c))})})]})})}],272510)},73781,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(981133),e=a.i(261574),f=a.i(111089),g=a.i(57843);a.i(752298);var h=a.i(693025),i=a.i(355968),j=a.i(909795),k=a.i(816134),l=a.i(940272),m=a.i(81492),n=a.i(146172),o=a.i(114715),p=a.i(130582),q=a.i(375616),r=a.i(954200),s=a.i(429178),t=a.i(56328);a.s(["default",0,({show:a=!1,isEditModal:u=!1,appIconType:v,appIcon:w,appIconBackground:x,appIconUrl:y,appName:z,appDescription:A,appMode:B,appUseIconAsAnswerIcon:C,max_active_requests:D,onConfirm:E,confirmDisabled:F,onHide:G})=>{let{t:H}=(0,h.useTranslation)(),[I,J]=g.useState(z),[K,L]=(0,g.useState)(()=>"image"===v?{type:"image",fileId:w,url:y}:{type:"emoji",icon:w,background:x}),[M,N]=(0,g.useState)(!1),[O,P]=(0,g.useState)(A||""),[Q,R]=(0,g.useState)(C||!1),[S,T]=(0,g.useState)(null!=D?String(D):""),{plan:U,enableBilling:V}=(0,q.useProviderContext)(),W=V&&U.usage.buildApps>=U.total.buildApps,X=(0,g.useCallback)(()=>{if(!I.trim())return void o.default.notify({type:"error",message:H("appCustomize.nameRequired",{ns:"explore"})});let a=""!==S.trim()&&!isNaN(Number(S)),b={name:I,icon_type:K.type,icon:"emoji"===K.type?K.icon:K.fileId,icon_background:"emoji"===K.type?K.background:void 0,description:O,use_icon_as_answer_icon:Q};a&&(b.max_active_requests=Number(S)),E(b),G()},[I,K,O,Q,E,G,H,S]),{run:Y}=(0,d.useDebounceFn)(X,{wait:300});return(0,e.useKeyPress)(["meta.enter","ctrl.enter"],()=>{a&&!(!u&&W)&&I.trim()&&Y()}),(0,e.useKeyPress)("esc",()=>{a&&G()}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.default,{isShow:a,onClose:f.noop,className:"relative !max-w-[480px] px-8",children:[(0,b.jsx)("div",{className:"absolute right-4 top-4 cursor-pointer p-2",onClick:G,children:(0,b.jsx)(c.RiCloseLine,{className:"h-4 w-4 text-text-tertiary"})}),u&&(0,b.jsx)("div",{className:"mb-9 text-xl font-semibold leading-[30px] text-text-primary",children:H("editAppTitle",{ns:"app"})}),!u&&(0,b.jsx)("div",{className:"mb-9 text-xl font-semibold leading-[30px] text-text-primary",children:H("appCustomize.title",{ns:"explore",name:z})}),(0,b.jsxs)("div",{className:"mb-9",children:[(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsx)("div",{className:"py-2 text-sm font-medium leading-[20px] text-text-primary",children:H("newApp.captionName",{ns:"app"})}),(0,b.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,b.jsx)(i.default,{size:"large",onClick:()=>{N(!0)},className:"cursor-pointer",iconType:K.type,icon:"image"===K.type?K.fileId:K.icon,background:"image"===K.type?void 0:K.background,imageUrl:"image"===K.type?K.url:void 0}),(0,b.jsx)(k.default,{value:I,onChange:a=>J(a.target.value),placeholder:H("newApp.appNamePlaceholder",{ns:"app"})||"",className:"h-10 grow"})]})]}),(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsx)("div",{className:"py-2 text-sm font-medium leading-[20px] text-text-primary",children:H("newApp.captionDescription",{ns:"app"})}),(0,b.jsx)(n.default,{className:"resize-none",placeholder:H("newApp.appDescriptionPlaceholder",{ns:"app"})||"",value:O,onChange:a=>P(a.target.value)})]}),u&&(B===r.AppModeEnum.CHAT||B===r.AppModeEnum.ADVANCED_CHAT||B===r.AppModeEnum.AGENT_CHAT)&&(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"py-2 text-sm font-medium leading-[20px] text-text-primary",children:H("answerIcon.title",{ns:"app"})}),(0,b.jsx)(m.default,{defaultValue:Q,onChange:a=>R(a)})]}),(0,b.jsx)("p",{className:"body-xs-regular text-text-tertiary",children:H("answerIcon.descriptionInExplore",{ns:"app"})})]}),u&&(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsx)("div",{className:"mb-2 mt-2 text-sm font-medium leading-[20px] text-text-primary",children:H("maxActiveRequests",{ns:"app"})}),(0,b.jsx)(k.default,{type:"number",min:1,placeholder:H("maxActiveRequestsPlaceholder",{ns:"app"}),value:S,onChange:a=>{T(a.target.value)},className:"h-10 w-full"}),(0,b.jsx)("p",{className:"body-xs-regular mb-0 mt-2 text-text-tertiary",children:H("maxActiveRequestsTip",{ns:"app"})})]}),!u&&W&&(0,b.jsx)(p.default,{className:"mt-4",loc:"app-explore-create"})]}),(0,b.jsxs)("div",{className:"flex flex-row-reverse",children:[(0,b.jsxs)(j.default,{disabled:!u&&W||!I.trim()||F,className:"ml-2 w-24 gap-1",variant:"primary",onClick:Y,children:[(0,b.jsx)("span",{children:u?H("operation.save",{ns:"common"}):H("operation.create",{ns:"common"})}),(0,b.jsx)(t.default,{keys:["ctrl","â†µ"],bgColor:"white"})]}),(0,b.jsx)(j.default,{className:"w-24",onClick:G,children:H("operation.cancel",{ns:"common"})})]})]}),M&&(0,b.jsx)(s.default,{onSelect:a=>{L(a),N(!1)},onClose:()=>{L("image"===v?{type:"image",url:y,fileId:w}:{type:"emoji",icon:w,background:x}),N(!1)}})]})}])},888819,a=>{"use strict";let b=(0,a.i(282791).create)(a=>({dependencies:[],setDependencies:b=>a({dependencies:b})}));a.s(["useStore",0,b])},179062,a=>{"use strict";var b,c,d=((b={}).GROUP="group",b.ACCOUNT="account",b),e=((c={}).PUBLIC="public",c.SPECIFIC_GROUPS_MEMBERS="private",c.ORGANIZATION="private_all",c.EXTERNAL_MEMBERS="sso_verified",c);a.s(["AccessMode",()=>e,"SubjectType",()=>d])},892839,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(527344);a.s(["default",0,({name:a,avatar:e,size:f=30,className:g,textClassName:h,onError:i})=>{let j="shrink-0 flex items-center rounded-full bg-primary-600",k={width:`${f}px`,height:`${f}px`,fontSize:`${f}px`,lineHeight:`${f}px`},[l,m]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{e&&l&&m(!1)},[e]),e&&!l)?(0,b.jsx)("img",{className:(0,d.cn)(j,g),style:k,alt:a,src:e,onError:()=>{m(!0),i?.(!0)},onLoad:()=>i?.(!1)}):(0,b.jsx)("div",{className:(0,d.cn)(j,g),style:k,children:(0,b.jsx)("div",{className:(0,d.cn)(h,"scale-[0.4] text-center text-white"),style:k,children:a&&a[0].toLocaleUpperCase()})})}])},692520,a=>{"use strict";a.i(18039);var b,c=a.i(41511);a.i(174465);var d=((b={}).webApp="webApp",b.installedApp="installedApp",b.tryApp="tryApp",b);let e={webApp:"",installedApp:"installed-apps",tryApp:"trial-apps"};function f(a){return"webApp"===a}function g(a,b){let d=!f(b);switch(a){case"get":return d?c.get:c.getPublic;case"post":return d?c.post:c.postPublic;case"patch":return d?c.patch:c.patchPublic;case"del":return d?c.del:c.delPublic}}function h(a,b,c){return"webApp"!==b?`${e[b]}/${c}/${a.startsWith("/")?a.slice(1):a}`:a}let i=async(a,b,c,d="")=>g("post",c)(h(`chat-messages/${b}/stop`,c,d)),j=async(a,{onData:b,onCompleted:d,onError:e,onMessageReplace:g,getAbortController:i},j,k="")=>(0,c.ssePost)(h("completion-messages",j,k),{body:{...a,response_mode:"streaming"}},{onData:b,onCompleted:d,isPublicAPI:f(j),onError:e,onMessageReplace:g,getAbortController:i}),k=async(a,{onWorkflowStarted:b,onNodeStarted:d,onNodeFinished:e,onWorkflowFinished:g,onIterationStart:i,onIterationNext:j,onIterationFinish:k,onLoopStart:l,onLoopNext:m,onLoopFinish:n,onTextChunk:o,onTextReplace:p},q,r="")=>(0,c.ssePost)(h("workflows/run",q,r),{body:{...a,response_mode:"streaming"}},{onNodeStarted:d,onWorkflowStarted:b,onWorkflowFinished:g,isPublicAPI:f(q),onNodeFinished:e,onIterationStart:i,onIterationNext:j,onIterationFinish:k,onLoopStart:l,onLoopNext:m,onLoopFinish:n,onTextChunk:o,onTextReplace:p}),l=async(a,b,c,d="")=>{if(b)return g("post",c)(h(`workflows/tasks/${b}/stop`,c,d))},m=async()=>(0,c.getPublic)("/site"),n=async(a,b="",c,d,e)=>g("get",a)(h("conversations",a,b),{params:{limit:e||20,...c?{last_id:c}:{},...void 0!==d?{pinned:d}:{}}}),o=async(a,b="",c)=>g("patch",a)(h(`conversations/${c}/pin`,a,b)),p=async(a,b="",c)=>g("patch",a)(h(`conversations/${c}/unpin`,a,b)),q=async(a,b="",c)=>g("del",a)(h(`conversations/${c}`,a,b)),r=async(a,b="",c,d)=>g("post",a)(h(`conversations/${c}/name`,a,b),{body:{name:d}}),s=async(a,b="",c)=>g("post",a)(h(`conversations/${c}/name`,a,b),{body:{auto_generate:!0}}),t=async(a,b,c="")=>g("get",b)(h("messages",b,c),{params:{conversation_id:a,limit:20,last_id:""}}),u=async(a,b="")=>g("get",a)(h("parameters",a,b)),v=async(a,b="")=>g("get",a)(h("meta",a,b)),w=async({url:a,body:b},c,d="")=>g("post",c)(h(a,c,d),{body:b}),x=async(a,b,c="")=>g("get",b)(h(`/messages/${a}/more-like-this`,b,c),{params:{response_mode:"blocking"}}),y=async(a,b="")=>g("get",a)(h("/saved-messages",a,b),{},{silent:!0});a.s(["AppSourceType",()=>d,"audioToText",0,(a,b,c)=>g("post",b)(a,{body:c},{bodyStringify:!1,deleteContentType:!0}),"delConversation",0,q,"fetchAppInfo",0,m,"fetchAppMeta",0,v,"fetchAppParams",0,u,"fetchChatList",0,t,"fetchConversations",0,n,"fetchMoreLikeThis",0,x,"fetchSavedMessage",0,y,"fetchSuggestedQuestions",0,(a,b,c="")=>g("get",b)(h(`/messages/${a}/suggested-questions`,b,c)),"generationConversationName",0,s,"getAppAccessModeByAppCode",0,a=>(0,c.getPublic)(`/webapp/access-mode?appCode=${a}`),"getUrl",()=>h,"getUserCanAccess",0,(a,b)=>b?(0,c.get)(`/enterprise/webapp/permission?appId=${a}`):(0,c.getPublic)(`/webapp/permission?appId=${a}`),"pinConversation",0,o,"removeMessage",0,(a,b,c="")=>g("del",b)(h(`/saved-messages/${a}`,b,c)),"renameConversation",0,r,"saveMessage",0,(a,b,c="")=>g("post",b)(h("/saved-messages",b,c),{body:{message_id:a}}),"sendCompletionMessage",0,j,"sendWorkflowMessage",0,k,"stopChatMessageResponding",0,i,"stopWorkflowMessage",0,l,"textToAudioStream",0,(a,b,c,d)=>g("post",b)(a,{body:d,header:c},{needAllResponseContent:!0}),"unpinConversation",0,p,"updateFeedback",0,w])},808216,a=>{"use strict";var b=a.i(41511);a.s(["fetchAppDetail",0,a=>(0,b.get)(`/explore/apps/${a}`),"fetchAppList",0,()=>(0,b.get)("/explore/apps"),"fetchBanners",0,a=>{let c=a?`/explore/banners?language=${a}`:"/explore/banners";return(0,b.get)(c)},"fetchInstalledAppList",0,a=>(0,b.get)(`/installed-apps${a?`?app_id=${a}`:""}`),"getAppAccessModeByAppId",0,a=>(0,b.get)(`/enterprise/webapp/app/access-mode?appId=${a}`),"uninstallApp",0,a=>(0,b.del)(`/installed-apps/${a}`),"updatePinStatus",0,(a,c)=>(0,b.patch)(`/installed-apps/${a}`,{body:{is_pinned:c}})])},395078,a=>{"use strict";var b=a.i(718175);a.s(["BubbleTextMod",()=>b.default])},422335,343837,a=>{"use strict";var b,c,d=a.i(57843),e=a.i(599656),f=a.i(781362),g=a.i(888819);a.s(["usePluginDependencies",0,()=>{let{mutateAsync:a}=(0,f.useMutationCheckDependencies)(),{mutateAsync:b}=(0,e.useCheckPipelineDependencies)();return{handleCheckPluginDependencies:(0,d.useCallback)(async(c,d=!1)=>{let e=d?b:a,{leaked_dependencies:f}=await e(c),{setDependencies:h}=g.useStore.getState();h(f)},[a,b])}}],422335);var h=((b={}).YAML_CONTENT="yaml-content",b.YAML_URL="yaml-url",b),i=((c={}).COMPLETED="completed",c.COMPLETED_WITH_WARNINGS="completed-with-warnings",c.PENDING="pending",c.FAILED="failed",c);a.s(["DSLImportMode",()=>h,"DSLImportStatus",()=>i],343837)},373029,a=>{a.v({textGradient:"style-module__X1HmsG__textGradient"})},130582,565575,a=>{"use strict";var b=a.i(608061),c=a.i(57843);a.i(752298);var d=a.i(693025),e=a.i(909795),f=a.i(259768),g=a.i(931164);let h=(a,b,c)=>{let d,e=`Technical Support Request ${b} ${a}`,f=`
    Please do not remove the following information:
    -----------------------------------------------
    Current Plan: ${b}
    Account: ${a}
    Version: ${c}
    Platform:
    Problem Description:
  `;return d="mailto:support@dify.ai",e&&(d+=`?subject=${encodeURIComponent(e)}`),f&&(d+=`&body=${encodeURIComponent(f)}`),d};a.s(["mailToSupport",0,h],565575);var i=a.i(705134),j=a.i(375616),k=a.i(527344),l=a.i(747104),m=a.i(373029);let n=c.memo(({loc:a,className:c})=>{let{t:n}=(0,d.useTranslation)(),{plan:o}=(0,j.useProviderContext)(),{userProfile:p,langGeniusVersionInfo:q}=(0,i.useAppContext)(),r=o.type===g.Plan.team,s=o.usage.buildApps,t=o.total.buildApps,u=s/t*100;return(0,b.jsxs)("div",{className:(0,k.cn)("flex flex-col gap-3 rounded-xl border-[0.5px] border-components-panel-border-subtle bg-components-panel-on-panel-item-bg p-4 shadow-xs backdrop-blur-sm",c),children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[!r&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:(0,k.cn)("title-xl-semi-bold mb-1",m.default.textGradient),children:n("apps.fullTip1",{ns:"billing"})}),(0,b.jsx)("div",{className:"system-xs-regular text-text-tertiary",children:n("apps.fullTip1des",{ns:"billing"})})]}),r&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:(0,k.cn)("title-xl-semi-bold mb-1",m.default.textGradient),children:n("apps.fullTip2",{ns:"billing"})}),(0,b.jsx)("div",{className:"system-xs-regular text-text-tertiary",children:n("apps.fullTip2des",{ns:"billing"})})]}),(o.type===g.Plan.sandbox||o.type===g.Plan.professional)&&(0,b.jsx)(l.default,{isShort:!0,loc:a}),o.type!==g.Plan.sandbox&&o.type!==g.Plan.professional&&(0,b.jsx)(e.default,{variant:"secondary-accent",children:(0,b.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:h(p.email,o.type,q.current_version),children:n("apps.contactUs",{ns:"billing"})})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"system-xs-medium flex items-center justify-between text-text-secondary",children:[(0,b.jsx)("div",{children:n("usagePage.buildApps",{ns:"billing"})}),(0,b.jsxs)("div",{children:[s,"/",t]})]}),(0,b.jsx)(f.default,{percent:u,color:u<50?"bg-components-progress-bar-progress-solid":u<80?"bg-components-progress-warning-progress":"bg-components-progress-error-progress"})]})]})});a.s(["default",0,n],130582)}];

//# sourceMappingURL=_478e51b6._.js.map