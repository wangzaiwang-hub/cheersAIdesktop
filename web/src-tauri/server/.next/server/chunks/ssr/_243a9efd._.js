module.exports=[280342,a=>{"use strict";var b=a.i(57843),c={SVG:"image/svg+xml",ICO:"image/x-icon",GIF:"image/gif",PNG:"image/png"};let d=function(a){(0,b.useEffect)(function(){if(a){var b=a.split("."),d=b[b.length-1].toLocaleUpperCase(),e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type=c[d],e.href=a,e.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(e)}},[a])};var e=a.i(240944),f=a.i(446855),g={restoreOnUnmount:!1};let h=function(a,c){void 0===c&&(c=g);var d=(0,b.useRef)(f.default?document.title:"");(0,b.useEffect)(function(){document.title=a},[a]),(0,e.default)(function(){c.restoreOnUnmount&&(document.title=d.current)})};var i=a.i(724423),j=a.i(499257);function k(a){let c=(0,i.useIsSystemFeaturesPending)(),e=(0,i.useGlobalPublicStore)(a=>a.systemFeatures),f=a?`${a} - `:"",g="",k="";!1===c&&(e.branding.enabled?(g=`${f}${e.branding.application_title}`,k=e.branding.favicon):(g=`${f}Dify`,k=`${j.basePath}/favicon.ico`)),h(g),(0,b.useEffect)(()=>{let a=null;return e.branding.favicon&&(document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon'], link[rel='mask-icon']").forEach(a=>a.parentNode?.removeChild(a)),(a=document.createElement("link")).rel="apple-touch-icon",a.href=e.branding.favicon,document.head.appendChild(a)),()=>{a?.remove()}},[e.branding.favicon]),d(k)}a.s(["default",()=>k],280342)},61500,a=>{"use strict";var b=a.i(252813);a.s(["useDatasetApiAccessUrl",0,()=>(0,b.useDocLink)()("/api-reference/datasets/get-knowledge-base-list")])},664358,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(168799),e=a.i(483664),f=a.i(527344);let g=c.memo(({className:a="",isChecked:c,onChange:g,label:h,labelClassName:i,tooltip:j,testId:k})=>(0,b.jsxs)("label",{className:(0,f.cn)(a,"flex h-7 items-center space-x-2"),children:[(0,b.jsx)(d.default,{checked:c,onCheck:()=>g(!c),id:k}),(0,b.jsx)("div",{className:(0,f.cn)("text-sm font-normal text-text-secondary",i),children:h}),j&&(0,b.jsx)(e.default,{popupContent:(0,b.jsx)("div",{className:"w-[200px]",children:j}),triggerClassName:"ml-0.5 w-4 h-4"})]}));a.s(["default",0,g])},318359,a=>{a.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"13",height:"20",viewBox:"0 0 13 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"path",attributes:{id:"Shape",d:"M0 0H13V20C9.98017 20 7.26458 18.1615 6.14305 15.3576L0 0Z",fill:"currentColor"},children:[]}]},name:"Corner"})},59652,a=>{a.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"g",attributes:{id:"star-04"},children:[{type:"element",name:"path",attributes:{id:"Solid",d:"M5.88897 0.683596C5.82708 0.522683 5.67249 0.416504 5.50008 0.416504C5.32768 0.416504 5.17308 0.522683 5.11119 0.683596L4.27287 2.86321C4.1477 3.18865 4.10837 3.28243 4.05457 3.35809C4.00059 3.43401 3.93426 3.50034 3.85834 3.55433C3.78267 3.60813 3.68889 3.64746 3.36346 3.77263L1.18384 4.61094C1.02293 4.67283 0.916748 4.82743 0.916748 4.99984C0.916748 5.17224 1.02293 5.32684 1.18384 5.38873L3.36346 6.22705C3.68889 6.35221 3.78267 6.39155 3.85834 6.44535C3.93426 6.49933 4.00059 6.56566 4.05457 6.64158C4.10837 6.71724 4.1477 6.81102 4.27287 7.13646L5.11119 9.31608C5.17308 9.47699 5.32768 9.58317 5.50008 9.58317C5.67249 9.58317 5.82709 9.47699 5.88898 9.31608L6.72729 7.13646C6.85246 6.81102 6.89179 6.71724 6.94559 6.64158C6.99957 6.56566 7.06591 6.49933 7.14183 6.44535C7.21749 6.39155 7.31127 6.35221 7.6367 6.22705L9.81632 5.38873C9.97723 5.32684 10.0834 5.17224 10.0834 4.99984C10.0834 4.82743 9.97723 4.67283 9.81632 4.61094L7.6367 3.77263C7.31127 3.64746 7.21749 3.60813 7.14183 3.55433C7.06591 3.50034 6.99957 3.43401 6.94559 3.35809C6.89179 3.28243 6.85246 3.18865 6.72729 2.86321L5.88897 0.683596Z",fill:"currentColor"},children:[]}]}]},name:"Star04"})},811880,a=>{a.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"g",attributes:{id:"star-06"},children:[{type:"element",name:"g",attributes:{id:"Solid"},children:[{type:"element",name:"path",attributes:{d:"M3.66675 1.33268C3.66675 0.964492 3.36827 0.666016 3.00008 0.666016C2.63189 0.666016 2.33341 0.964492 2.33341 1.33268V2.33268H1.33341C0.965225 2.33268 0.666748 2.63116 0.666748 2.99935C0.666748 3.36754 0.965225 3.66602 1.33341 3.66602H2.33341V4.66602C2.33341 5.0342 2.63189 5.33268 3.00008 5.33268C3.36827 5.33268 3.66675 5.0342 3.66675 4.66602V3.66602H4.66675C5.03494 3.66602 5.33341 3.36754 5.33341 2.99935C5.33341 2.63116 5.03494 2.33268 4.66675 2.33268H3.66675V1.33268Z",fill:"currentColor"},children:[]},{type:"element",name:"path",attributes:{d:"M3.66675 11.3327C3.66675 10.9645 3.36827 10.666 3.00008 10.666C2.63189 10.666 2.33341 10.9645 2.33341 11.3327V12.3327H1.33341C0.965225 12.3327 0.666748 12.6312 0.666748 12.9993C0.666748 13.3675 0.965225 13.666 1.33341 13.666H2.33341V14.666C2.33341 15.0342 2.63189 15.3327 3.00008 15.3327C3.36827 15.3327 3.66675 15.0342 3.66675 14.666V13.666H4.66675C5.03494 13.666 5.33341 13.3675 5.33341 12.9993C5.33341 12.6312 5.03494 12.3327 4.66675 12.3327H3.66675V11.3327Z",fill:"currentColor"},children:[]},{type:"element",name:"path",attributes:{d:"M9.28898 1.76003C9.18995 1.50257 8.94259 1.33268 8.66675 1.33268C8.3909 1.33268 8.14354 1.50257 8.04452 1.76003L6.8884 4.76594C6.68813 5.28663 6.6252 5.43668 6.53912 5.55774C6.45274 5.67921 6.34661 5.78534 6.22514 5.87172C6.10408 5.9578 5.95403 6.02073 5.43334 6.221L2.42743 7.37712C2.16997 7.47614 2.00008 7.7235 2.00008 7.99935C2.00008 8.2752 2.16997 8.52256 2.42743 8.62158L5.43334 9.7777C5.95403 9.97797 6.10408 10.0409 6.22514 10.127C6.34661 10.2134 6.45274 10.3195 6.53912 10.441C6.6252 10.562 6.68813 10.7121 6.8884 11.2328L8.04452 14.2387C8.14354 14.4961 8.3909 14.666 8.66675 14.666C8.9426 14.666 9.18995 14.4961 9.28898 14.2387L10.4451 11.2328C10.6454 10.7121 10.7083 10.562 10.7944 10.441C10.8808 10.3195 10.9869 10.2134 11.1084 10.127C11.2294 10.0409 11.3795 9.97797 11.9002 9.7777L14.9061 8.62158C15.1635 8.52256 15.3334 8.2752 15.3334 7.99935C15.3334 7.7235 15.1635 7.47614 14.9061 7.37712L11.9002 6.221C11.3795 6.02073 11.2294 5.9578 11.1084 5.87172C10.9869 5.78534 10.8808 5.67921 10.7944 5.55774C10.7083 5.43668 10.6454 5.28663 10.4451 4.76594L9.28898 1.76003Z",fill:"currentColor"},children:[]}]}]}]},name:"Star06"})},779121,(a,b,c)=>{a.e,b.exports=function(a,b,c){a=a||{};var d=b.prototype,e={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f(a,b,c,e){return d.fromToBase(a,b,c,e)}c.en.relativeTime=e,d.fromToBase=function(b,d,f,g,h){for(var i,j,k,l=f.$locale().relativeTime||e,m=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],n=m.length,o=0;o<n;o+=1){var p=m[o];p.d&&(i=g?c(b).diff(f,p.d,!0):f.diff(b,p.d,!0));var q=(a.rounding||Math.round)(Math.abs(i));if(k=i>0,q<=p.r||!p.r){q<=1&&o>0&&(p=m[o-1]);var r=l[p.l];h&&(q=h(""+q)),j="string"==typeof r?r.replace("%d",q):r(q,d,p.l,k);break}}if(d)return j;var s=k?l.future:l.past;return"function"==typeof s?s(j):s.replace("%s",j)},d.to=function(a,b){return f(a,b,this,!0)},d.from=function(a,b){return f(a,b,this)};var g=function(a){return a.$u?c.utc():c()};d.toNow=function(a){return this.to(g(this),a)},d.fromNow=function(a){return this.from(g(this),a)}}},204685,a=>{"use strict";var b=a.i(435133),c=a.i(779121),d=a.i(57843),e=a.i(252813),f=a.i(136403);a.i(12951),a.i(303890),a.i(659257),a.i(435125),a.i(460925),a.i(793823),a.i(336872),a.i(679858),a.i(231291),a.i(810843),a.i(201515),a.i(583301),a.i(834039),a.i(428571),a.i(40164),a.i(544460),a.i(626673),a.i(305644),a.i(84036),a.i(447712),b.default.extend(c.default),a.s(["useFormatTimeFromNow",0,()=>{let a=(0,e.useLocale)();return{formatTimeFromNow:(0,d.useCallback)(c=>{let d=f.localeMap[a]??"en";return(0,b.default)(c).locale(d).fromNow()},[a])}}])},70854,a=>{"use strict";var b=a.i(57843);a.i(752298);var c=a.i(693025);a.s(["useKnowledge",0,()=>{let{t:a}=(0,c.useTranslation)(),d=(0,b.useCallback)(b=>a(`indexingTechnique.${b}`,{ns:"dataset"}),[a]),e=(0,b.useCallback)((b,c)=>c?a("indexingMethod.invertedIndex",{ns:"dataset"}):a(`indexingMethod.${b}`,{ns:"dataset"}),[a]),f=(0,b.useCallback)((a,b)=>{let c=d(a);return b&&(c+=` \xb7 ${e(b,"economy"===a)}`),c},[d,e]);return{formatIndexingTechnique:d,formatIndexingMethod:e,formatIndexingTechniqueAndMethod:f}}])},122745,a=>{"use strict";var b=a.i(311967);a.s(["ApiConnectionMod",()=>b.default])},314608,a=>{"use strict";var b=a.i(240944);a.s(["useUnmount",()=>b.default])},232082,a=>{"use strict";var b=a.i(703335);a.s(["Tag03",()=>b.default])},198038,a=>{"use strict";var b=a.i(57843),c=a.i(429264),d=a.i(936557);a.s(["default",0,function(a){d.default&&!(0,c.isFunction)(a)&&console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof a,'".')),(0,b.useEffect)(function(){var b=null==a?void 0:a();if(!b||"object"!=typeof b||"function"!=typeof b.then)return b},[])}])},262721,16988,a=>{"use strict";var b=a.i(608061),c=a.i(796807),d=a.i(318359);let e=({ref:a,...e})=>(0,b.jsx)(c.default,{...e,ref:a,data:d.default});e.displayName="Corner",a.i(59652),a.i(811880),a.s([],262721),a.s(["Corner",0,e],16988)},302547,a=>{"use strict";let b=(0,a.i(282791).create)(a=>({tagList:[],setTagList:b=>a(()=>({tagList:b})),showTagManagementModal:!1,setShowTagManagementModal:b=>a(()=>({showTagManagementModal:b}))}));a.s(["useStore",0,b])},934176,a=>{"use strict";var b=a.i(999590);a.s(["Tag01",()=>b.default])},199516,a=>{"use strict";var b=a.i(41511);a.s(["bindTag",0,(a,c,d)=>(0,b.post)("/tag-bindings/create",{body:{tag_ids:a,target_id:c,type:d}}),"createTag",0,(a,c)=>(0,b.post)("/tags",{body:{name:a,type:c}}),"deleteTag",0,a=>(0,b.del)(`/tags/${a}`),"fetchTagList",0,a=>(0,b.get)("/tags",{params:{type:a}}),"unBindTag",0,(a,c,d)=>(0,b.post)("/tag-bindings/remove",{body:{tag_id:a,target_id:c,type:d}}),"updateTag",0,(a,c)=>(0,b.patch)(`/tags/${a}`,{body:{name:c}})])},546614,a=>{"use strict";var b=a.i(198038);a.s(["useMount",()=>b.default])},162962,742929,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(981133),e=a.i(546614),f=a.i(57843);a.i(752298);var g=a.i(693025);a.i(284909);var h=a.i(934176),i=a.i(232082);a.i(622666);var j=a.i(332945);a.i(658335);var k=a.i(555766),l=a.i(816134),m=a.i(825319),n=a.i(199516),o=a.i(527344),p=a.i(302547);a.s(["default",0,({type:a,value:q,onChange:r})=>{let{t:s}=(0,g.useTranslation)(),[t,u]=(0,f.useState)(!1),v=(0,p.useStore)(a=>a.tagList),w=(0,p.useStore)(a=>a.setTagList),x=(0,p.useStore)(a=>a.setShowTagManagementModal),[y,z]=(0,f.useState)(""),[A,B]=(0,f.useState)(""),{run:C}=(0,d.useDebounceFn)(()=>{B(y)},{wait:500}),D=a=>{z(a),C()},E=(0,f.useMemo)(()=>v.filter(b=>b.type===a&&b.name.includes(A)),[a,v,A]),F=(0,f.useMemo)(()=>v.find(a=>a.id===q[0]),[q,v]);return(0,e.useMount)(()=>{(0,n.fetchTagList)(a).then(a=>{w(a)})}),(0,b.jsx)(m.PortalToFollowElem,{open:t,onOpenChange:u,placement:"bottom-start",offset:4,children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.PortalToFollowElemTrigger,{onClick:()=>u(a=>!a),className:"block",children:(0,b.jsxs)("div",{className:(0,o.cn)("flex h-8 cursor-pointer select-none items-center gap-1 rounded-lg border-[0.5px] border-transparent bg-components-input-bg-normal px-2",!t&&!!q.length&&"shadow-xs",t&&!!q.length&&"shadow-xs"),children:[(0,b.jsx)("div",{className:"p-[1px]",children:(0,b.jsx)(h.Tag01,{className:"h-3.5 w-3.5 text-text-tertiary"})}),(0,b.jsxs)("div",{className:"text-[13px] leading-[18px] text-text-secondary",children:[!q.length&&s("tag.placeholder",{ns:"common"}),!!q.length&&F?.name]}),q.length>1&&(0,b.jsx)("div",{className:"text-xs font-medium leading-[18px] text-text-tertiary",children:`+${q.length-1}`}),!q.length&&(0,b.jsx)("div",{className:"p-[1px]",children:(0,b.jsx)(c.RiArrowDownSLine,{className:"h-3.5 w-3.5 text-text-tertiary"})}),!!q.length&&(0,b.jsx)("div",{className:"group/clear cursor-pointer p-[1px]",onClick:a=>{a.stopPropagation(),r([])},children:(0,b.jsx)(k.XCircle,{className:"h-3.5 w-3.5 text-text-tertiary group-hover/clear:text-text-secondary"})})]})}),(0,b.jsx)(m.PortalToFollowElemContent,{className:"z-[1002]",children:(0,b.jsxs)("div",{className:"relative w-[240px] rounded-lg border-[0.5px] border-components-panel-border bg-components-panel-bg-blur shadow-lg backdrop-blur-[5px]",children:[(0,b.jsx)("div",{className:"p-2",children:(0,b.jsx)(l.default,{showLeftIcon:!0,showClearIcon:!0,value:y,onChange:a=>D(a.target.value),onClear:()=>D("")})}),(0,b.jsxs)("div",{className:"max-h-72 overflow-auto p-1",children:[E.map(a=>(0,b.jsxs)("div",{className:"flex cursor-pointer select-none items-center gap-2 rounded-lg py-[6px] pl-3 pr-2 hover:bg-state-base-hover",onClick:()=>{q.includes(a.id)?r(q.filter(b=>b!==a.id)):r([...q,a.id])},children:[(0,b.jsx)("div",{title:a.name,className:"grow truncate text-sm leading-5 text-text-tertiary",children:a.name}),q.includes(a.id)&&(0,b.jsx)(j.Check,{className:"h-4 w-4 shrink-0 text-text-secondary"})]},a.id)),!E.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1 p-3",children:[(0,b.jsx)(i.Tag03,{className:"h-6 w-6 text-text-tertiary"}),(0,b.jsx)("div",{className:"text-xs leading-[14px] text-text-tertiary",children:s("tag.noTag",{ns:"common"})})]})]}),(0,b.jsx)("div",{className:"border-t-[0.5px] border-divider-regular"}),(0,b.jsx)("div",{className:"p-1",children:(0,b.jsxs)("div",{className:"flex cursor-pointer select-none items-center gap-2 rounded-lg py-[6px] pl-3 pr-2 hover:bg-state-base-hover",onClick:()=>{x(!0),u(!1)},children:[(0,b.jsx)(i.Tag03,{className:"h-4 w-4 text-text-tertiary"}),(0,b.jsx)("div",{className:"grow truncate text-sm leading-5 text-text-secondary",children:s("tag.manageTags",{ns:"common"})})]})})]})})]})})}],162962);var q=a.i(234782),r=a.i(314608),s=a.i(111089),t=a.i(639378),u=a.i(168799),v=a.i(757801),w=a.i(114715);let x=f.memo(a=>{let{t:d}=(0,g.useTranslation)(),{notify:e}=(0,t.useContext)(w.ToastContext),{targetID:h,type:i,value:j,selectedTags:k,onCacheUpdate:m,onChange:o,onCreate:q}=a,x=(0,p.useStore)(a=>a.tagList),y=(0,p.useStore)(a=>a.setTagList),z=(0,p.useStore)(a=>a.setShowTagManagementModal),[A,B]=(0,f.useState)(j),[C,D]=(0,f.useState)(""),E=a=>{D(a)},F=(0,f.useMemo)(()=>x.every(a=>a.type===i&&a.name!==C),[i,x,C]),G=(0,f.useMemo)(()=>k.filter(a=>a.name.includes(C)),[C,k]),H=(0,f.useMemo)(()=>x.filter(a=>a.type===i&&!j.includes(a.id)&&a.name.includes(C)),[i,x,j,C]),[I,J]=(0,f.useState)(!1),K=async()=>{if(C&&!I)try{J(!0);let a=await (0,n.createTag)(C,i);e({type:"success",message:d("tag.created",{ns:"common"})}),y([...x,a]),D(""),J(!1),q()}catch{e({type:"error",message:d("tag.failed",{ns:"common"})}),J(!1)}},L=async a=>{try{await (0,n.bindTag)(a,h,i),e({type:"success",message:d("actionMsg.modifiedSuccessfully",{ns:"common"})})}catch{e({type:"error",message:d("actionMsg.modifiedUnsuccessfully",{ns:"common"})})}},M=async a=>{try{await (0,n.unBindTag)(a,h,i),e({type:"success",message:d("actionMsg.modifiedSuccessfully",{ns:"common"})})}catch{e({type:"error",message:d("actionMsg.modifiedUnsuccessfully",{ns:"common"})})}},N=a=>{A.includes(a.id)?B(A.filter(b=>b!==a.id)):B([...A,a.id])},O=(0,f.useMemo)(()=>j.length===A.length&&j.every(a=>A.includes(a))&&A.every(a=>j.includes(a)),[j,A]);return(0,r.useUnmount)(()=>{if(!O){let a,b,c;a=A.filter(a=>!j.includes(a)),b=j.filter(a=>!A.includes(a)),m(x.filter(a=>A.includes(a.id))),c=[],a.length&&c.push(L(a)),b.length&&c.push(...b.map(a=>M(a))),Promise.all(c).finally(()=>{o&&o()})}}),(0,b.jsxs)("div",{className:"relative w-full rounded-lg border-[0.5px] border-components-panel-border bg-components-panel-bg-blur",children:[(0,b.jsx)("div",{className:"p-2 pb-1",children:(0,b.jsx)(l.default,{showLeftIcon:!0,showClearIcon:!0,value:C,placeholder:d("tag.selectorPlaceholder",{ns:"common"})||"",onChange:a=>E(a.target.value),onClear:()=>E("")})}),C&&F&&(0,b.jsx)("div",{className:"p-1",children:(0,b.jsxs)("div",{className:"flex cursor-pointer items-center gap-x-1 rounded-lg px-2 py-1.5 hover:bg-state-base-hover",onClick:K,children:[(0,b.jsx)(c.RiAddLine,{className:"h-4 w-4 text-text-tertiary"}),(0,b.jsxs)("div",{className:"system-md-regular grow truncate px-1 text-text-secondary",children:[`${d("tag.create",{ns:"common"})} `,(0,b.jsx)("span",{className:"system-md-medium",children:`'${C}'`})]})]})}),C&&F&&H.length>0&&(0,b.jsx)(v.default,{type:"horizontal",className:"my-0 h-px bg-divider-subtle"}),(H.length>0||G.length>0)&&(0,b.jsxs)("div",{className:"max-h-[232px] overflow-y-auto p-1",children:[G.map(a=>(0,b.jsxs)("div",{className:"flex cursor-pointer items-center gap-x-1 rounded-lg px-2 py-1.5 hover:bg-state-base-hover",onClick:()=>N(a),children:[(0,b.jsx)(u.default,{className:"shrink-0",checked:A.includes(a.id),onCheck:s.noop}),(0,b.jsx)("div",{title:a.name,className:"system-md-regular grow truncate px-1 text-text-secondary",children:a.name})]},a.id)),H.map(a=>(0,b.jsxs)("div",{className:"flex cursor-pointer items-center gap-x-1 rounded-lg px-2 py-1.5 hover:bg-state-base-hover",onClick:()=>N(a),children:[(0,b.jsx)(u.default,{className:"shrink-0",checked:A.includes(a.id),onCheck:s.noop}),(0,b.jsx)("div",{title:a.name,className:"system-md-regular grow truncate px-1 text-text-secondary",children:a.name})]},a.id))]}),!C&&!H.length&&!G.length&&(0,b.jsx)("div",{className:"p-1",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-y-1 p-3",children:[(0,b.jsx)(c.RiPriceTag3Line,{className:"h-6 w-6 text-text-quaternary"}),(0,b.jsx)("div",{className:"system-xs-regular text-text-tertiary",children:d("tag.noTag",{ns:"common"})})]})}),(0,b.jsx)(v.default,{type:"horizontal",className:"my-0 h-px bg-divider-subtle"}),(0,b.jsx)("div",{className:"p-1",children:(0,b.jsxs)("div",{className:"flex cursor-pointer items-center gap-x-1 rounded-lg px-2 py-1.5 hover:bg-state-base-hover",onClick:()=>z(!0),children:[(0,b.jsx)(c.RiPriceTag3Line,{className:"h-4 w-4 text-text-tertiary"}),(0,b.jsx)("div",{className:"system-md-regular grow truncate px-1 text-text-secondary",children:d("tag.manageTags",{ns:"common"})})]})})]})}),y=f.memo(({tags:a})=>{let{t:d}=(0,g.useTranslation)();return(0,b.jsx)("div",{className:"flex w-full cursor-pointer items-center gap-1 overflow-hidden rounded-lg p-1 hover:bg-state-base-hover",children:a.length?(0,b.jsx)(b.Fragment,{children:a.map((a,d)=>(0,b.jsxs)("div",{className:"flex items-center gap-x-0.5 rounded-[5px] border border-divider-deep bg-components-badge-bg-dimm px-[5px] py-[3px]",children:[(0,b.jsx)(c.RiPriceTag3Line,{className:"h-3 w-3 shrink-0 text-text-quaternary"}),(0,b.jsx)("div",{className:"system-2xs-medium-uppercase text-nowrap text-text-tertiary",children:a})]},d))}):(0,b.jsxs)("div",{className:"flex items-center gap-x-0.5 rounded-[5px] border border-dashed border-divider-deep bg-components-badge-bg-dimm px-[5px] py-[3px]",children:[(0,b.jsx)(c.RiPriceTag3Line,{className:"h-3 w-3 shrink-0 text-text-quaternary"}),(0,b.jsx)("div",{className:"system-2xs-medium-uppercase text-nowrap text-text-tertiary",children:d("tag.addTag",{ns:"common"})})]})})});a.s(["default",0,({targetID:a,isPopover:c=!0,position:d,type:e,value:g,selectedTags:h,onCacheUpdate:i,onChange:j,minWidth:k})=>{let l=(0,p.useStore)(a=>a.tagList),m=(0,p.useStore)(a=>a.setTagList),r=(0,f.useCallback)(async()=>{m(await (0,n.fetchTagList)(e))},[m,e]),s=(0,f.useMemo)(()=>h?.length?h.filter(a=>l.find(b=>b.id===a.id)).map(a=>a.name):[],[h,l]);return(0,b.jsx)(b.Fragment,{children:c&&(0,b.jsx)(q.default,{htmlContent:(0,b.jsx)(x,{type:e,targetID:a,value:g,selectedTags:h,onCacheUpdate:i,onChange:j,onCreate:r}),position:d,trigger:"click",btnElement:(0,b.jsx)(y,{tags:s}),btnClassName:a=>(0,o.cn)(a?"!bg-state-base-hover !text-text-secondary":"!bg-transparent","!w-full !border-0 !p-0 !text-text-tertiary hover:!bg-state-base-hover hover:!text-text-secondary"),popupClassName:(0,o.cn)("!w-full !ring-0",k&&"!min-w-80"),className:"!z-20 h-fit !w-full"})})}],742929)}];

//# sourceMappingURL=_243a9efd._.js.map