module.exports=[943108,(a,b,c)=>{var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=!1;function t(){if(!s){s=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);if(o=/\b(iPhone|iP[ao]d)/.exec(a),p=/\b(iP[ao]d)/.exec(a),m=/Android/i.exec(a),q=/FBAN\/\w+;/i.exec(a),r=/Mobile/i.exec(a),n=!!/Win64/.exec(a),b){(d=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN)&&document&&document.documentMode&&(d=document.documentMode);var t=/(?:Trident\/(\d+.\d+))/.exec(a);i=t?parseFloat(t[1])+4:d,e=b[2]?parseFloat(b[2]):NaN,f=b[3]?parseFloat(b[3]):NaN,h=(g=b[4]?parseFloat(b[4]):NaN)&&(b=/(?:Chrome\/(\d+\.\d+))/.exec(a))&&b[1]?parseFloat(b[1]):NaN}else d=e=f=h=g=NaN;if(c){if(c[1]){var u=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);j=!u||parseFloat(u[1].replace("_","."))}else j=!1;k=!!c[2],l=!!c[3]}else j=k=l=!1}}var u={ie:function(){return t()||d},ieCompatibilityMode:function(){return t()||i>d},ie64:function(){return u.ie()&&n},firefox:function(){return t()||e},opera:function(){return t()||f},webkit:function(){return t()||g},safari:function(){return u.webkit()},chrome:function(){return t()||h},windows:function(){return t()||k},osx:function(){return t()||j},linux:function(){return t()||l},iphone:function(){return t()||o},mobile:function(){return t()||o||p||m||r},nativeApp:function(){return t()||q},android:function(){return t()||m},ipad:function(){return t()||p}};b.exports=u},962290,(a,b,c)=>{"use strict";b.exports={canUseDOM:!1,canUseWorkers:"u">typeof Worker,canUseEventListeners:!1,canUseViewport:!1,isInWorker:!0}},5043,(a,b,c)=>{"use strict";var d,e=a.r(962290);e.canUseDOM&&(d=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),b.exports=function(a,b){if(!e.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,f=c in document;if(!f){var g=document.createElement("div");g.setAttribute(c,"return;"),f="function"==typeof g[c]}return!f&&d&&"wheel"===a&&(f=document.implementation.hasFeature("Events.wheel","3.0")),f}},110035,(a,b,c)=>{"use strict";var d=a.r(943108),e=a.r(5043);function f(a){var b=0,c=0,d=0,e=0;return"detail"in a&&(c=a.detail),"wheelDelta"in a&&(c=-a.wheelDelta/120),"wheelDeltaY"in a&&(c=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(b=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0),d=10*b,e=10*c,"deltaY"in a&&(e=a.deltaY),"deltaX"in a&&(d=a.deltaX),(d||e)&&a.deltaMode&&(1==a.deltaMode?(d*=40,e*=40):(d*=800,e*=800)),d&&!b&&(b=d<1?-1:1),e&&!c&&(c=e<1?-1:1),{spinX:b,spinY:c,pixelX:d,pixelY:e}}f.getEventType=function(){return d.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},b.exports=f},362919,(a,b,c)=>{b.exports=a.r(110035)},237005,787570,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(314875),e=a.i(362919);function f(a,b,c,d,e){void 0===e&&(e=0);var f=m(b.width,b.height,e),h=f.width,i=f.height;return{x:g(a.x,h,c.width,d),y:g(a.y,i,c.height,d)}}function g(a,b,c,d){var e=b*d/2-c/2;return n(a,-e,e)}function h(a,b){return Math.sqrt(Math.pow(a.y-b.y,2)+Math.pow(a.x-b.x,2))}function i(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function j(a,b){return Math.min(a,Math.max(0,b))}function k(a,b){return b}function l(a,b){return{x:(b.x+a.x)/2,y:(b.y+a.y)/2}}function m(a,b,c){var d=c*Math.PI/180;return{width:Math.abs(Math.cos(d)*a)+Math.abs(Math.sin(d)*b),height:Math.abs(Math.sin(d)*a)+Math.abs(Math.cos(d)*b)}}function n(a,b,c){return Math.min(Math.max(a,b),c)}function o(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.filter(function(a){return"string"==typeof a&&!!(a.length>0)}).join(" ").trim()}var p=function(a){function b(){var g=null!==a&&a.apply(this,arguments)||this;return g.cropperRef=c.createRef(),g.imageRef=c.createRef(),g.videoRef=c.createRef(),g.containerPosition={x:0,y:0},g.containerRef=null,g.styleRef=null,g.containerRect=null,g.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},g.dragStartPosition={x:0,y:0},g.dragStartCrop={x:0,y:0},g.gestureZoomStart=0,g.gestureRotationStart=0,g.isTouching=!1,g.lastPinchDistance=0,g.lastPinchRotation=0,g.rafDragTimeout=null,g.rafPinchTimeout=null,g.wheelTimer=null,g.currentDoc="u">typeof document?document:null,g.currentWindow=null,g.resizeObserver=null,g.previousCropSize=null,g.isInitialized=!1,g.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},g.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&g.containerRef){var a=!0;g.resizeObserver=new window.ResizeObserver(function(b){if(a){a=!1;return}g.computeSizes()}),g.resizeObserver.observe(g.containerRef)}},g.preventZoomSafari=function(a){return a.preventDefault()},g.cleanEvents=function(){g.currentDoc&&(g.currentDoc.removeEventListener("mousemove",g.onMouseMove),g.currentDoc.removeEventListener("mouseup",g.onDragStopped),g.currentDoc.removeEventListener("touchmove",g.onTouchMove),g.currentDoc.removeEventListener("touchend",g.onDragStopped),g.currentDoc.removeEventListener("gesturechange",g.onGestureChange),g.currentDoc.removeEventListener("gestureend",g.onGestureEnd),g.currentDoc.removeEventListener("scroll",g.onScroll))},g.clearScrollEvent=function(){g.containerRef&&g.containerRef.removeEventListener("wheel",g.onWheel),g.wheelTimer&&clearTimeout(g.wheelTimer)},g.onMediaLoad=function(){var a=g.computeSizes();a&&(g.previousCropSize=a,g.emitCropData(),g.setInitialCrop(a),g.isInitialized=!0),g.props.onMediaLoaded&&g.props.onMediaLoaded(g.mediaSize)},g.setInitialCrop=function(a){if(g.props.initialCroppedAreaPercentages){var b,c,d,e,f,h,i,j=(b=g.props.initialCroppedAreaPercentages,c=g.mediaSize,d=g.props.rotation,e=g.props.minZoom,f=g.props.maxZoom,h=m(c.width,c.height,d),{crop:{x:(i=n(a.width/h.width*(100/b.width),e,f))*h.width/2-a.width/2-h.width*i*(b.x/100),y:i*h.height/2-a.height/2-h.height*i*(b.y/100)},zoom:i}),k=j.crop,l=j.zoom;g.props.onCropChange(k),g.props.onZoomChange&&g.props.onZoomChange(l)}else if(g.props.initialCroppedAreaPixels){var o,p,q,r,s,t,u,v,w,x=(o=g.props.initialCroppedAreaPixels,p=g.mediaSize,q=g.props.rotation,r=g.props.minZoom,s=g.props.maxZoom,void 0===q&&(q=0),t=m(p.naturalWidth,p.naturalHeight,q),v=n((u=p.width>p.height?p.width/p.naturalWidth:p.height/p.naturalHeight,a.height>a.width?a.height/(o.height*u):a.width/(o.width*u)),r,s),w=a.height>a.width?a.height/o.height:a.width/o.width,{crop:{x:((t.width-o.width)/2-o.x)*w,y:((t.height-o.height)/2-o.y)*w},zoom:v}),k=x.crop,l=x.zoom;g.props.onCropChange(k),g.props.onZoomChange&&g.props.onZoomChange(l)}},g.computeSizes=function(){var a,b,c,e,f,h,i=g.imageRef.current||g.videoRef.current;if(i&&g.containerRef){g.containerRect=g.containerRef.getBoundingClientRect(),g.saveContainerPosition();var j,k,l,n,o,p,q,r,s,t,u,v=g.containerRect.width/g.containerRect.height,w=(null==(a=g.imageRef.current)?void 0:a.naturalWidth)||(null==(b=g.videoRef.current)?void 0:b.videoWidth)||0,x=(null==(c=g.imageRef.current)?void 0:c.naturalHeight)||(null==(e=g.videoRef.current)?void 0:e.videoHeight)||0,y=i.offsetWidth<w||i.offsetHeight<x,z=w/x,A=void 0;if(y)switch(g.state.mediaObjectFit){default:case"contain":A=v>z?{width:g.containerRect.height*z,height:g.containerRect.height}:{width:g.containerRect.width,height:g.containerRect.width/z};break;case"horizontal-cover":A={width:g.containerRect.width,height:g.containerRect.width/z};break;case"vertical-cover":A={width:g.containerRect.height*z,height:g.containerRect.height}}else A={width:i.offsetWidth,height:i.offsetHeight};g.mediaSize=(0,d.__assign)((0,d.__assign)({},A),{naturalWidth:w,naturalHeight:x}),g.props.setMediaSize&&g.props.setMediaSize(g.mediaSize);var B=g.props.cropSize?g.props.cropSize:(j=g.mediaSize.width,k=g.mediaSize.height,l=g.containerRect.width,n=g.containerRect.height,o=g.props.aspect,void 0===(p=g.props.rotation)&&(p=0),r=(q=m(j,k,p)).width,s=q.height,(t=Math.min(r,l))>(u=Math.min(s,n))*o?{width:u*o,height:u}:{width:t,height:t/o});return((null==(f=g.state.cropSize)?void 0:f.height)!==B.height||(null==(h=g.state.cropSize)?void 0:h.width)!==B.width)&&g.props.onCropSizeChange&&g.props.onCropSizeChange(B),g.setState({cropSize:B},g.recomputeCropPosition),g.props.setCropSize&&g.props.setCropSize(B),B}},g.saveContainerPosition=function(){if(g.containerRef){var a=g.containerRef.getBoundingClientRect();g.containerPosition={x:a.left,y:a.top}}},g.onMouseDown=function(a){g.currentDoc&&(a.preventDefault(),g.currentDoc.addEventListener("mousemove",g.onMouseMove),g.currentDoc.addEventListener("mouseup",g.onDragStopped),g.saveContainerPosition(),g.onDragStart(b.getMousePoint(a)))},g.onMouseMove=function(a){return g.onDrag(b.getMousePoint(a))},g.onScroll=function(a){g.currentDoc&&(a.preventDefault(),g.saveContainerPosition())},g.onTouchStart=function(a){!g.currentDoc||(g.isTouching=!0,(!g.props.onTouchRequest||g.props.onTouchRequest(a))&&(g.currentDoc.addEventListener("touchmove",g.onTouchMove,{passive:!1}),g.currentDoc.addEventListener("touchend",g.onDragStopped),g.saveContainerPosition(),2===a.touches.length?g.onPinchStart(a):1===a.touches.length&&g.onDragStart(b.getTouchPoint(a.touches[0]))))},g.onTouchMove=function(a){a.preventDefault(),2===a.touches.length?g.onPinchMove(a):1===a.touches.length&&g.onDrag(b.getTouchPoint(a.touches[0]))},g.onGestureStart=function(a){g.currentDoc&&(a.preventDefault(),g.currentDoc.addEventListener("gesturechange",g.onGestureChange),g.currentDoc.addEventListener("gestureend",g.onGestureEnd),g.gestureZoomStart=g.props.zoom,g.gestureRotationStart=g.props.rotation)},g.onGestureChange=function(a){if(a.preventDefault(),!g.isTouching){var c=b.getMousePoint(a),d=g.gestureZoomStart-1+a.scale;if(g.setNewZoom(d,c,{shouldUpdatePosition:!0}),g.props.onRotationChange){var e=g.gestureRotationStart+a.rotation;g.props.onRotationChange(e)}}},g.onGestureEnd=function(a){g.cleanEvents()},g.onDragStart=function(a){var b,c;g.dragStartPosition={x:a.x,y:a.y},g.dragStartCrop=(0,d.__assign)({},g.props.crop),null==(c=(b=g.props).onInteractionStart)||c.call(b)},g.onDrag=function(a){var b=a.x,c=a.y;g.currentWindow&&(g.rafDragTimeout&&g.currentWindow.cancelAnimationFrame(g.rafDragTimeout),g.rafDragTimeout=g.currentWindow.requestAnimationFrame(function(){if(g.state.cropSize&&void 0!==b&&void 0!==c){var a=b-g.dragStartPosition.x,d=c-g.dragStartPosition.y,e={x:g.dragStartCrop.x+a,y:g.dragStartCrop.y+d},h=g.props.restrictPosition?f(e,g.mediaSize,g.state.cropSize,g.props.zoom,g.props.rotation):e;g.props.onCropChange(h)}}))},g.onDragStopped=function(){var a,b;g.isTouching=!1,g.cleanEvents(),g.emitCropData(),null==(b=(a=g.props).onInteractionEnd)||b.call(a)},g.onWheel=function(a){if(g.currentWindow&&(!g.props.onWheelRequest||g.props.onWheelRequest(a))){a.preventDefault();var c=b.getMousePoint(a),d=(0,e.default)(a).pixelY,f=g.props.zoom-d*g.props.zoomSpeed/200;g.setNewZoom(f,c,{shouldUpdatePosition:!0}),g.state.hasWheelJustStarted||g.setState({hasWheelJustStarted:!0},function(){var a,b;return null==(b=(a=g.props).onInteractionStart)?void 0:b.call(a)}),g.wheelTimer&&clearTimeout(g.wheelTimer),g.wheelTimer=g.currentWindow.setTimeout(function(){return g.setState({hasWheelJustStarted:!1},function(){var a,b;return null==(b=(a=g.props).onInteractionEnd)?void 0:b.call(a)})},250)}},g.getPointOnContainer=function(a,b){var c=a.x,d=a.y;if(!g.containerRect)throw Error("The Cropper is not mounted");return{x:g.containerRect.width/2-(c-b.x),y:g.containerRect.height/2-(d-b.y)}},g.getPointOnMedia=function(a){var b=a.x,c=a.y,d=g.props,e=d.crop,f=d.zoom;return{x:(b+e.x)/f,y:(c+e.y)/f}},g.setNewZoom=function(a,b,c){var d=(void 0===c?{}:c).shouldUpdatePosition;if(g.state.cropSize&&g.props.onZoomChange){var e=n(a,g.props.minZoom,g.props.maxZoom);if(void 0===d||d){var h=g.getPointOnContainer(b,g.containerPosition),i=g.getPointOnMedia(h),j={x:i.x*e-h.x,y:i.y*e-h.y},k=g.props.restrictPosition?f(j,g.mediaSize,g.state.cropSize,e,g.props.rotation):j;g.props.onCropChange(k)}g.props.onZoomChange(e)}},g.getCropData=function(){var a,b,c,e,h,i,l,n,o,p,q,r,s,t,u;return g.state.cropSize?(a=g.props.restrictPosition?f(g.props.crop,g.mediaSize,g.state.cropSize,g.props.zoom,g.props.rotation):g.props.crop,b=g.mediaSize,c=g.state.cropSize,e=g.getAspect(),h=g.props.zoom,i=g.props.rotation,l=g.props.restrictPosition,void 0===i&&(i=0),void 0===l&&(l=!0),n=l?j:k,o=m(b.width,b.height,i),p=m(b.naturalWidth,b.naturalHeight,i),q={x:n(100,((o.width-c.width/h)/2-a.x/h)/o.width*100),y:n(100,((o.height-c.height/h)/2-a.y/h)/o.height*100),width:n(100,c.width/o.width*100/h),height:n(100,c.height/o.height*100/h)},r=Math.round(n(p.width,q.width*p.width/100)),s=Math.round(n(p.height,q.height*p.height/100)),t=p.width>=p.height*e?{width:Math.round(s*e),height:s}:{width:r,height:Math.round(r/e)},u=(0,d.__assign)((0,d.__assign)({},t),{x:Math.round(n(p.width-t.width,q.x*p.width/100)),y:Math.round(n(p.height-t.height,q.y*p.height/100))}),{croppedAreaPercentages:q,croppedAreaPixels:u}):null},g.emitCropData=function(){var a=g.getCropData();if(a){var b=a.croppedAreaPercentages,c=a.croppedAreaPixels;g.props.onCropComplete&&g.props.onCropComplete(b,c),g.props.onCropAreaChange&&g.props.onCropAreaChange(b,c)}},g.emitCropAreaChange=function(){var a=g.getCropData();if(a){var b=a.croppedAreaPercentages,c=a.croppedAreaPixels;g.props.onCropAreaChange&&g.props.onCropAreaChange(b,c)}},g.recomputeCropPosition=function(){if(g.state.cropSize){var a=g.props.crop;if(g.isInitialized&&g.previousCropSize&&(Math.abs(g.previousCropSize.width-g.state.cropSize.width)>1e-6||Math.abs(g.previousCropSize.height-g.state.cropSize.height)>1e-6)){var b=g.state.cropSize.width/g.previousCropSize.width,c=g.state.cropSize.height/g.previousCropSize.height;a={x:g.props.crop.x*b,y:g.props.crop.y*c}}var d=g.props.restrictPosition?f(a,g.mediaSize,g.state.cropSize,g.props.zoom,g.props.rotation):a;g.previousCropSize=g.state.cropSize,g.props.onCropChange(d),g.emitCropData()}},g.onKeyDown=function(a){var b,c,e=g.props,h=e.crop,i=e.onCropChange,j=e.keyboardStep,k=e.zoom,l=e.rotation,m=j;if(g.state.cropSize){a.shiftKey&&(m*=.2);var n=(0,d.__assign)({},h);switch(a.key){case"ArrowUp":n.y-=m,a.preventDefault();break;case"ArrowDown":n.y+=m,a.preventDefault();break;case"ArrowLeft":n.x-=m,a.preventDefault();break;case"ArrowRight":n.x+=m,a.preventDefault();break;default:return}g.props.restrictPosition&&(n=f(n,g.mediaSize,g.state.cropSize,k,l)),a.repeat||null==(c=(b=g.props).onInteractionStart)||c.call(b),i(n)}},g.onKeyUp=function(a){var b,c;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}g.emitCropData(),null==(c=(b=g.props).onInteractionEnd)||c.call(b)},g}return(0,d.__extends)(b,a),b.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},b.prototype.componentWillUnmount=function(){var a,b;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null==(a=this.resizeObserver)||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null==(b=this.styleRef.parentNode)||b.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},b.prototype.componentDidUpdate=function(a){a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect||a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():(null==(b=a.cropSize)?void 0:b.height)!==(null==(c=this.props.cropSize)?void 0:c.height)||(null==(d=a.cropSize)?void 0:d.width)!==(null==(e=this.props.cropSize)?void 0:e.width)?this.computeSizes():((null==(f=a.crop)?void 0:f.x)!==(null==(g=this.props.crop)?void 0:g.x)||(null==(h=a.crop)?void 0:h.y)!==(null==(i=this.props.crop)?void 0:i.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&(null==(j=this.videoRef.current)||j.load());var b,c,d,e,f,g,h,i,j,k=this.getObjectFit();k!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:k},this.computeSizes)},b.prototype.getAspect=function(){var a=this.props,b=a.cropSize,c=a.aspect;return b?b.width/b.height:c},b.prototype.getObjectFit=function(){var a,b,c,d;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var e=this.containerRect.width/this.containerRect.height;return((null==(a=this.imageRef.current)?void 0:a.naturalWidth)||(null==(b=this.videoRef.current)?void 0:b.videoWidth)||0)/((null==(c=this.imageRef.current)?void 0:c.naturalHeight)||(null==(d=this.videoRef.current)?void 0:d.videoHeight)||0)<e?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},b.prototype.onPinchStart=function(a){var c=b.getTouchPoint(a.touches[0]),d=b.getTouchPoint(a.touches[1]);this.lastPinchDistance=h(c,d),this.lastPinchRotation=i(c,d),this.onDragStart(l(c,d))},b.prototype.onPinchMove=function(a){var c=this;if(this.currentDoc&&this.currentWindow){var d=b.getTouchPoint(a.touches[0]),e=b.getTouchPoint(a.touches[1]),f=l(d,e);this.onDrag(f),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=h(d,e),b=c.props.zoom*(a/c.lastPinchDistance);c.setNewZoom(b,f,{shouldUpdatePosition:!1}),c.lastPinchDistance=a;var g=i(d,e),j=c.props.rotation+(g-c.lastPinchRotation);c.props.onRotationChange&&c.props.onRotationChange(j),c.lastPinchRotation=g})}},b.prototype.render=function(){var a,b=this,e=this.props,f=e.image,g=e.video,h=e.mediaProps,i=e.cropperProps,j=e.transform,k=e.crop,l=k.x,m=k.y,n=e.rotation,p=e.zoom,q=e.cropShape,r=e.showGrid,s=e.roundCropAreaPixels,t=e.style,u=t.containerStyle,v=t.cropAreaStyle,w=t.mediaStyle,x=e.classes,y=x.containerClassName,z=x.cropAreaClassName,A=x.mediaClassName,B=null!=(a=this.state.mediaObjectFit)?a:this.getObjectFit();return c.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(a){return b.containerRef=a},"data-testid":"container",style:u,className:o("reactEasyCrop_Container",y)},f?c.createElement("img",(0,d.__assign)({alt:"",className:o("reactEasyCrop_Image","contain"===B&&"reactEasyCrop_Contain","horizontal-cover"===B&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===B&&"reactEasyCrop_Cover_Vertical",A)},h,{src:f,ref:this.imageRef,style:(0,d.__assign)((0,d.__assign)({},w),{transform:j||"translate(".concat(l,"px, ").concat(m,"px) rotate(").concat(n,"deg) scale(").concat(p,")")}),onLoad:this.onMediaLoad})):g&&c.createElement("video",(0,d.__assign)({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:o("reactEasyCrop_Video","contain"===B&&"reactEasyCrop_Contain","horizontal-cover"===B&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===B&&"reactEasyCrop_Cover_Vertical",A)},h,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:(0,d.__assign)((0,d.__assign)({},w),{transform:j||"translate(".concat(l,"px, ").concat(m,"px) rotate(").concat(n,"deg) scale(").concat(p,")")}),controls:!1}),(Array.isArray(g)?g:[{src:g}]).map(function(a){return c.createElement("source",(0,d.__assign)({key:a.src},a))})),this.state.cropSize&&c.createElement("div",(0,d.__assign)({ref:this.cropperRef,style:(0,d.__assign)((0,d.__assign)({},v),{width:s?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:s?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:o("reactEasyCrop_CropArea","round"===q&&"reactEasyCrop_CropAreaRound",r&&"reactEasyCrop_CropAreaGrid",z)},i)))},b.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:1},b.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},b.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},b}(c.Component);a.i(752298);var q=a.i(693025),r=a.i(954200),s=a.i(527344);a.i(701836);var t=a.i(157133);function u(a){return a*Math.PI/180}async function v(a,b,c,d=0,e={horizontal:!1,vertical:!1}){var f,g;let h,i=await new Promise((b,c)=>{let d=new Image;d.addEventListener("load",()=>b(d)),d.addEventListener("error",a=>c(a)),d.setAttribute("crossOrigin","anonymous"),d.src=a}),j=document.createElement("canvas"),k=j.getContext("2d"),l=function(a){switch(a.split(".").pop()?.toLowerCase()){case"png":return"image/png";case"jpg":case"jpeg":default:return"image/jpeg";case"gif":return"image/gif";case"webp":return"image/webp"}}(c);if(!k)throw Error("Could not create a canvas context");let m=u(d),{width:n,height:o}=(f=i.width,g=i.height,{width:Math.abs(Math.cos(h=u(d))*f)+Math.abs(Math.sin(h)*g),height:Math.abs(Math.sin(h)*f)+Math.abs(Math.cos(h)*g)});j.width=n,j.height=o,k.translate(n/2,o/2),k.rotate(m),k.scale(e.horizontal?-1:1,e.vertical?-1:1),k.translate(-i.width/2,-i.height/2),k.drawImage(i,0,0);let p=document.createElement("canvas"),q=p.getContext("2d");if(!q)throw Error("Could not create a canvas context");return p.width=b.width,p.height=b.height,q.drawImage(j,b.x,b.y,b.width,b.height,0,0,b.width,b.height),new Promise((a,b)=>{p.toBlob(c=>{c?a(c):b(Error("Could not create a blob"))},l)})}function w(a){return new Promise((b,c)=>{let d=new FileReader;d.onload=function(c){var d;let e=new Uint8Array(c.target?.result);a.name.toLowerCase().endsWith(".gif")?b(!0):82===(d=e)[0]&&73===d[1]&&70===d[2]&&70===d[3]&&87===d[8]&&69===d[9]&&66===d[10]&&80===d[11]?b(function(a){for(let b=12;b<a.length-4;b++)if(65===a[b]&&78===a[b+1]&&73===a[b+2]&&77===a[b+3])return!0;return!1}(e)):b(!1)},d.onerror=function(a){c(a)},d.readAsArrayBuffer(a)})}a.s(["checkIsAnimatedImage",()=>w,"default",()=>v],787570),a.s(["default",0,({className:a,cropShape:d,onImageInput:e})=>{let{t:f}=(0,q.useTranslation)(),[g,h]=(0,c.useState)(),[i,j]=(0,c.useState)(!1);(0,c.useEffect)(()=>()=>{g&&URL.revokeObjectURL(g.url)},[g]);let[k,l]=(0,c.useState)({x:0,y:0}),[m,n]=(0,c.useState)(1),o=async(a,b)=>{g&&e?.(!0,g.url,b,g.file.name)},{isDragActive:u,handleDragEnter:v,handleDragOver:x,handleDragLeave:y,handleDrop:z}=(a=>{let[b,d]=(0,c.useState)(!1),e=(0,c.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),d(!0)},[]),f=(0,c.useCallback)(a=>{a.preventDefault(),a.stopPropagation()},[]);return{handleDragEnter:e,handleDragOver:f,handleDragLeave:(0,c.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),d(!1)},[]),handleDrop:(0,c.useCallback)(b=>{b.preventDefault(),b.stopPropagation(),d(!1);let c=b.dataTransfer.files[0];c&&a(c)},[a]),isDragActive:b}})(a=>h({file:a,url:URL.createObjectURL(a)})),A=(0,c.createRef)();return(0,b.jsx)("div",{className:(0,s.cn)(a,"w-full px-3 py-1.5"),children:(0,b.jsx)("div",{className:(0,s.cn)(u&&"border-primary-600","relative flex aspect-square flex-col items-center justify-center rounded-lg border-[1.5px] border-dashed text-gray-500"),onDragEnter:v,onDragOver:x,onDragLeave:y,onDrop:z,children:g?i?(0,b.jsx)("img",{src:g?.url,alt:""}):(0,b.jsx)(p,{image:g?.url,crop:k,zoom:m,aspect:1,cropShape:d,onCropChange:l,onCropComplete:o,onZoomChange:n}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.ImagePlus,{className:"pointer-events-none mb-3 h-[30px] w-[30px]"}),(0,b.jsxs)("div",{className:"mb-[2px] text-sm font-medium",children:[(0,b.jsxs)("span",{className:"pointer-events-none",children:[f("imageInput.dropImageHere",{ns:"common"}),"Â "]}),(0,b.jsx)("button",{type:"button",className:"text-components-button-primary-bg",onClick:()=>A.current?.click(),children:f("imageInput.browse",{ns:"common"})}),(0,b.jsx)("input",{ref:A,type:"file",className:"hidden",onClick:a=>a.target.value="",accept:r.ALLOW_FILE_EXTENSIONS.map(a=>`.${a}`).join(","),onChange:a=>{let b=a.target.files?.[0];b&&(h({file:b,url:URL.createObjectURL(b)}),w(b).then(a=>{j(!!a),a&&e?.(!1,b)}))}})]}),(0,b.jsx)("div",{className:"pointer-events-none",children:f("imageInput.supportedFormats",{ns:"common"})})]})})})}],237005)}];

//# sourceMappingURL=_77f66ce1._.js.map