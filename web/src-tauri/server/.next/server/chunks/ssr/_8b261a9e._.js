module.exports=[166380,a=>{"use strict";var b=a.i(608061),c=a.i(57843);a.i(752298);var d=a.i(693025),e=a.i(854868),f=a.i(218865),g=a.i(825319),h=a.i(98654),i=a.i(781362),j=a.i(527344);let k=c.memo(({disabled:a=!1,isShow:k,onShowChange:l,pluginID:m,currentVersion:n,trigger:o,placement:p="bottom-start",offset:q={mainAxis:4,crossAxis:-16},onSelect:r})=>{let{t:s}=(0,d.useTranslation)(),t=s("dateTimeFormat",{ns:"appLog"}).split(" ")[0],{formatDate:u}=(0,h.default)(),{data:v}=(0,i.useVersionListOfPlugin)(m),w=(0,c.useCallback)(({version:a,unique_identifier:b,isDowngrade:c})=>{n!==a&&(r({version:a,unique_identifier:b,isDowngrade:c}),l(!1))},[n,r,l]);return(0,b.jsxs)(g.PortalToFollowElem,{placement:p,offset:q,open:k,onOpenChange:l,children:[(0,b.jsx)(g.PortalToFollowElemTrigger,{className:(0,j.cn)("inline-flex cursor-pointer items-center",a&&"cursor-default"),onClick:()=>{a||l(!0)},children:o}),(0,b.jsx)(g.PortalToFollowElemContent,{className:"z-[1000]",children:(0,b.jsxs)("div",{className:"relative w-[209px] rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg backdrop-blur-sm",children:[(0,b.jsx)("div",{className:"system-xs-medium-uppercase px-3 pb-0.5 pt-1 text-text-tertiary",children:s("detailPanel.switchVersion",{ns:"plugin"})}),(0,b.jsx)("div",{className:"relative",children:v?.data.versions.map(a=>(0,b.jsxs)("div",{className:(0,j.cn)("flex h-7 cursor-pointer items-center gap-1 rounded-lg px-3 py-1 hover:bg-state-base-hover",n===a.version&&"cursor-default opacity-30 hover:bg-transparent"),onClick:()=>w({version:a.version,unique_identifier:a.unique_identifier,isDowngrade:(0,e.lt)(a.version,n)}),children:[(0,b.jsxs)("div",{className:"flex grow items-center",children:[(0,b.jsx)("div",{className:"system-sm-medium text-text-secondary",children:a.version}),n===a.version&&(0,b.jsx)(f.default,{className:"ml-1",text:"CURRENT"})]}),(0,b.jsx)("div",{className:"system-xs-regular shrink-0 text-text-tertiary",children:u(a.created_at,t)})]},a.unique_identifier))})]})})]})});a.s(["default",0,k])},56328,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(527344);a.i(713310);var e=a.i(128972);let f=(0,c.memo)(({keys:a,className:c,textColor:f="default",bgColor:g="gray"})=>(0,b.jsx)("div",{className:(0,d.cn)("flex items-center gap-0.5",c),children:a.map(a=>(0,b.jsx)("div",{className:(0,d.cn)("system-kbd flex h-4 min-w-4 items-center justify-center rounded-[4px] px-1 capitalize","gray"===g&&"bg-components-kbd-bg-gray","white"===g&&"bg-components-kbd-bg-white text-text-primary-on-surface","secondary"===f&&"text-text-tertiary"),children:(0,e.getKeyboardKeyNameBySystem)(a)},a))}));a.s(["default",0,f])},2373,a=>{"use strict";var b=a.i(217772);a.s(["Mcp",()=>b.default])},260208,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843);a.i(752298);var e=a.i(693025),f=a.i(527344);a.s(["default",0,({placeholder:a,className:g,value:h,onChange:i,white:j})=>{let{t:k}=(0,e.useTranslation)(),l=(0,d.useRef)(null),[m,n]=(0,d.useState)(!1),o=(0,d.useRef)(!1),[p,q]=(0,d.useState)("");return(0,b.jsxs)("div",{className:(0,f.cn)("group flex h-8 items-center overflow-hidden rounded-lg border-none bg-components-input-bg-normal px-2 hover:bg-components-input-bg-hover",m&&"!bg-components-input-bg-active",j&&"!border-gray-300 !bg-white shadow-xs hover:!border-gray-300 hover:!bg-white",g),children:[(0,b.jsx)("div",{className:"pointer-events-none mr-1.5 flex h-4 w-4 shrink-0 items-center justify-center",children:(0,b.jsx)(c.RiSearchLine,{className:"h-4 w-4 text-components-input-text-placeholder","aria-hidden":"true"})}),(0,b.jsx)("input",{ref:l,type:"text",name:"query",className:(0,f.cn)("system-sm-regular caret-#295EFF block h-[18px] grow appearance-none border-0 bg-transparent text-components-input-text-filled outline-none placeholder:text-components-input-text-placeholder",j&&"!bg-white placeholder:!text-gray-400 hover:!bg-white group-hover:!bg-white"),placeholder:a||k("operation.search",{ns:"common"}),value:o.current?p:h,onChange:a=>{let b=a.target.value;o.current?q(b):i(b)},onCompositionStart:()=>{o.current=!0,q(h)},onCompositionEnd:a=>{o.current=!1,q(""),i(a.currentTarget.value)},onFocus:()=>n(!0),onBlur:()=>n(!1),autoComplete:"off"}),h&&(0,b.jsx)("button",{type:"button","aria-label":k("operation.clear",{ns:"common"}),className:"group/clear flex h-4 w-4 shrink-0 cursor-pointer items-center justify-center border-none bg-transparent p-0",onClick:()=>{i(""),l.current?.focus()},children:(0,b.jsx)(c.RiCloseCircleFill,{className:"h-4 w-4 text-text-quaternary group-hover/clear:text-text-tertiary"})})]})}])},646772,28814,a=>{"use strict";var b=a.i(57843);function c(a){try{let b=new URL(a);if("http:"!==b.protocol&&"https:"!==b.protocol)throw Error("Authorization URL must be HTTP or HTTPS")}catch(b){if(b instanceof Error&&"Authorization URL must be HTTP or HTTPS"===b.message)throw b;throw Error(`Invalid URL: ${a}`)}}function d(a){try{let b=new URL(a).hostname.toLowerCase();if("localhost"===b||"127.0.0.1"===b||"::1"===b)return!0;let c=b.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/);if(c){let[,a,b]=c.map(Number);if(10===a||172===a&&b>=16&&b<=31||192===a&&168===b||169===a&&254===b)return!0}return b.endsWith(".local")}catch{return!1}}a.s(["isPrivateOrLocalAddress",()=>d,"validateRedirectUrl",()=>c],28814),a.s(["openOAuthPopup",0,(a,b)=>{let d=window.screenX+(window.outerWidth-600)/2,e=window.screenY+(window.outerHeight-600)/2;c(a);let f=window.open(a,"OAuth",`width=600,height=600,left=${d},top=${e},scrollbars=yes`),g=a=>{a.data?.type==="oauth_callback"&&(window.removeEventListener("message",g),b(a.data))};window.addEventListener("message",g);let h=setInterval(()=>{f?.closed&&(clearInterval(h),window.removeEventListener("message",g),b())},1e3);return f},"useOAuthCallback",0,()=>{(0,b.useEffect)(()=>{let a=new URLSearchParams(window.location.search),b=a.get("subscription_id"),c=a.get("error"),d=a.get("error_description");if(window.opener){let a=window.opener?.origin||"*";b?window.opener.postMessage({type:"oauth_callback",success:!0,subscriptionId:b},a):c?window.opener.postMessage({type:"oauth_callback",success:!1,error:c,errorDescription:d},a):window.opener.postMessage({type:"oauth_callback"},a),window.close()}},[])}],646772)},599656,a=>{"use strict";var b=a.i(848636),c=a.i(528698);a.i(749249);var d=a.i(827460),e=a.i(41511),f=a.i(425282);let g="pipeline",h=[g,"template-list"],i=[g,"published-pipeline"];a.s(["publishedPipelineInfoQueryKeyPrefix",0,i,"useCheckPipelineDependencies",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"check-dependencies"],mutationFn:a=>(0,e.get)(`/rag/pipelines/imports/${a}/check-dependencies`),...a}),"useConvertDatasetToPipeline",0,()=>(0,b.useMutation)({mutationKey:[g,"convert-dataset-to-pipeline"],mutationFn:a=>(0,e.post)(`/rag/pipelines/transform/datasets/${a}`)}),"useDataSourceList",0,(a,b)=>(0,c.useQuery)({enabled:a,queryKey:[g,"datasource"],staleTime:0,queryFn:async()=>{let a=await (0,e.get)("/rag/pipelines/datasource-plugins");return b?.(a),a},retry:!1}),"useDatasourceSingleRun",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"datasource-node-single-run"],mutationFn:a=>{let{pipeline_id:b,...c}=a;return(0,e.post)(`/rag/pipelines/${b}/workflows/draft/datasource/variables-inspect`,{body:c})},...a}),"useDeleteTemplate",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"template-delete"],mutationFn:a=>(0,e.del)(`/rag/pipeline/customized/templates/${a}`),...a}),"useDraftPipelinePreProcessingParams",0,(a,b=!0)=>{let{pipeline_id:d,node_id:f}=a;return(0,c.useQuery)({queryKey:[g,"draft-pipeline-pre-processing-params",d,f],queryFn:()=>(0,e.get)(`/rag/pipelines/${d}/workflows/draft/pre-processing/parameters`,{params:{node_id:f}}),staleTime:0,enabled:b})},"useExportPipelineDSL",0,()=>(0,b.useMutation)({mutationKey:[g,"export-pipeline-dsl"],mutationFn:({pipelineId:a,include:b=!1})=>(0,e.get)(`/rag/pipelines/${a}/exports?include_secret=${b}`)}),"useExportTemplateDSL",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"template-dsl-export"],mutationFn:a=>(0,e.post)(`/rag/pipeline/customized/templates/${a}`),...a}),"useImportPipelineDSL",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"dsl-import"],mutationFn:a=>(0,e.post)("/rag/pipelines/imports",{body:a}),...a}),"useImportPipelineDSLConfirm",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"dsl-import-confirm"],mutationFn:a=>(0,e.post)(`/rag/pipelines/imports/${a}/confirm`),...a}),"useInvalidCustomizedTemplateList",0,()=>(0,f.useInvalid)([...h,"customized"]),"useInvalidDataSourceList",0,()=>(0,f.useInvalid)([g,"datasource"]),"usePipelineExecutionLog",0,a=>{let{dataset_id:b,document_id:d}=a;return(0,c.useQuery)({queryKey:[g,"pipeline-execution-log",b,d],queryFn:()=>(0,e.get)(`/datasets/${b}/documents/${d}/pipeline-execution-log`),staleTime:0})},"usePipelineTemplateById",0,(a,b)=>{let{template_id:d,type:f}=a;return(0,c.useQuery)({queryKey:[g,"template",f,d],queryFn:()=>(0,e.get)(`/rag/pipeline/templates/${d}`,{params:{type:f}}),enabled:b,staleTime:0})},"usePipelineTemplateList",0,(a,b=!0)=>(0,c.useQuery)({queryKey:[...h,a],queryFn:()=>(0,e.get)("/rag/pipeline/templates",{params:a}),enabled:b}),"usePreviewOnlineDocument",0,()=>(0,b.useMutation)({mutationKey:[g,"preview-online-document"],mutationFn:a=>{let{pipelineId:b,datasourceNodeId:c,workspaceID:f,pageID:g,pageType:h,credentialId:i}=a;return(0,e.post)(`/rag/pipelines/${b}/workflows/published/datasource/nodes/${c}/preview`,{body:{datasource_type:d.DatasourceType.onlineDocument,credential_id:i,inputs:{workspace_id:f,page_id:g,type:h}}})}}),"usePublishAsCustomizedPipeline",0,()=>(0,b.useMutation)({mutationKey:[g,"publish-as-customized-pipeline"],mutationFn:({pipelineId:a,name:b,icon_info:c,description:d})=>(0,e.post)(`/rag/pipelines/${a}/customized/publish`,{body:{name:b,icon_info:c,description:d}})}),"usePublishedPipelineInfo",0,a=>(0,c.useQuery)({queryKey:[...i,a],queryFn:()=>(0,e.get)(`/rag/pipelines/${a}/workflows/publish`),enabled:!!a}),"usePublishedPipelinePreProcessingParams",0,(a,b=!0)=>{let{pipeline_id:d,node_id:f}=a;return(0,c.useQuery)({queryKey:[g,"published-pipeline-pre-processing-params",d,f],queryFn:()=>(0,e.get)(`/rag/pipelines/${d}/workflows/published/pre-processing/parameters`,{params:{node_id:f}}),staleTime:0,enabled:b})},"usePublishedPipelineProcessingParams",0,a=>{let{pipeline_id:b,node_id:d}=a;return(0,c.useQuery)({queryKey:[g,"published-pipeline-processing-params",b,d],queryFn:()=>(0,e.get)(`/rag/pipelines/${b}/workflows/published/processing/parameters`,{params:{node_id:d}}),staleTime:0})},"useRunPublishedPipeline",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"run-published-pipeline"],mutationFn:a=>{let{pipeline_id:b,is_preview:c,...d}=a;return(0,e.post)(`/rag/pipelines/${b}/workflows/published/run`,{body:{...d,is_preview:c,response_mode:"blocking"}})},...a}),"useUpdateTemplateInfo",0,(a={})=>(0,b.useMutation)({mutationKey:[g,"template-update"],mutationFn:a=>{let{template_id:b,...c}=a;return(0,e.patch)(`/rag/pipeline/customized/templates/${b}`,{body:c})},...a})])},234651,a=>{"use strict";var b=a.i(848636),c=a.i(528698),d=a.i(41511),e=a.i(425282);let f="data-source-auth";a.s(["useGetDataSourceAuth",0,({pluginId:a,provider:b})=>(0,c.useQuery)({queryKey:[f,"specific-data-source",a,b],queryFn:()=>(0,d.get)(`/auth/plugin/datasource/${a}/${b}`),retry:0}),"useGetDataSourceListAuth",0,()=>(0,c.useQuery)({queryKey:[f,"list"],queryFn:()=>(0,d.get)("/auth/plugin/datasource/list"),retry:0}),"useGetDataSourceOAuthUrl",0,a=>(0,b.useMutation)({mutationKey:[f,"oauth-url",a],mutationFn:b=>(0,d.get)(`/oauth/plugin/${a}/datasource/get-authorization-url?credential_id=${b}`)}),"useGetDefaultDataSourceListAuth",0,()=>(0,c.useQuery)({queryKey:[f,"default-list"],queryFn:()=>(0,d.get)("/auth/plugin/datasource/default-list"),retry:0}),"useInvalidDataSourceAuth",0,({pluginId:a,provider:b})=>(0,e.useInvalid)([f,"specific-data-source",a,b]),"useInvalidDataSourceListAuth",0,()=>(0,e.useInvalid)([f,"list"]),"useInvalidDefaultDataSourceListAuth",0,()=>(0,e.useInvalid)([f,"default-list"])])},31736,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(527344);let e=c.memo(({isChecked:a,disabled:c=!1,onCheck:e,className:f})=>(0,b.jsx)("div",{role:"radio","aria-checked":a,"aria-disabled":c,className:(0,d.cn)("size-4 rounded-full",a&&!c&&"border-[5px] border-components-radio-border-checked hover:border-components-radio-border-checked-hover",!a&&!c&&"border border-components-radio-border hover:border-components-radio-border-hover",a&&c&&"border-[5px] border-components-radio-border-checked-disabled",!a&&c&&"border border-components-radio-border-disabled bg-components-radio-bg-disabled",!c&&"bg-components-radio-bg shadow-xs shadow-shadow-shadow-3 hover:bg-components-radio-bg-hover",f),onClick:a=>{c||e?.(a)}}));a.s(["default",0,e])}];

//# sourceMappingURL=_8b261a9e._.js.map