module.exports=[290384,65120,665388,a=>{"use strict";var b=a.i(608061),c=a.i(796807);a.i(360113),a.i(114865);var d=a.i(184901);let e=({ref:a,...e})=>(0,b.jsx)(c.default,{...e,ref:a,data:d.default});e.displayName="BracketsX",a.s(["default",0,e],65120);var f=a.i(176429);let g=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:f.default});g.displayName="CodeBrowser",a.s(["default",0,g],665388),a.i(427690),a.i(568560),a.i(725448),a.i(623735),a.i(811048),a.i(226615),a.i(501561),a.i(162216),a.i(550302),a.i(532232),a.s([],290384)},504612,a=>{"use strict";var b=a.i(608061),c=a.i(429150),d=a.i(57843),e=a.i(632789),f=a.i(585124),g=a.i(527344);let h=d.memo(({isShow:a,onHide:h,dialogClassName:i="",dialogBackdropClassName:j="",panelClassName:k="",maxWidthClassName:l="!max-w-[640px]",height:m="calc(100vh - 72px)",contentClassName:n,headerClassName:o,title:p,titleDescription:q,body:r,foot:s,isShowMask:t,clickOutsideNotOpen:u=!0,positionCenter:v})=>{let w=(0,d.useRef)(null),x=(0,f.default)()===f.MediaType.mobile;return a?(0,b.jsx)(e.default,{isOpen:a,clickOutsideNotOpen:u,onClose:h,footer:null,mask:x||t,positionCenter:v,dialogClassName:i,dialogBackdropClassName:j,panelClassName:(0,g.cn)("mx-2 mb-3 mt-16 rounded-xl !p-0 sm:mr-2",k,l),children:(0,b.jsxs)("div",{className:(0,g.cn)(n,"flex w-full flex-col rounded-xl border-[0.5px] border-divider-subtle bg-components-panel-bg shadow-xl"),style:{height:m},ref:w,children:[(0,b.jsxs)("div",{className:(0,g.cn)(o,"shrink-0 border-b border-divider-subtle py-4"),children:[(0,b.jsxs)("div",{className:"flex h-6 items-center justify-between pl-6 pr-5",children:[(0,b.jsx)("div",{className:"system-xl-semibold text-text-primary",children:p}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("div",{onClick:h,className:"flex h-6 w-6 cursor-pointer items-center justify-center",children:(0,b.jsx)(c.RiCloseLine,{className:"h-4 w-4 text-text-tertiary"})})})]}),q&&(0,b.jsx)("div",{className:"system-xs-regular pl-6 pr-10 text-text-tertiary",children:q})]}),(0,b.jsx)("div",{className:"grow overflow-y-auto",children:r}),s&&(0,b.jsx)("div",{className:"shrink-0",children:s})]})}):null});a.s(["default",0,h])},289874,(a,b,c)=>{b.exports=function(a){return a&&a.__esModule?a:{default:a}},b.exports.__esModule=!0,b.exports.default=b.exports},3284,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=a.r(314875),e=a.r(57843);c.default=function(a,b){void 0===a&&(a=!1);var c=(0,d.__read)((0,e.useState)(a),2),f=c[0],g=c[1];return[f,(0,e.useMemo)(function(){var c=void 0===b?!a:b;return{toggle:function(){return g(function(b){return b===a?c:a})},set:function(a){return g(a)},setLeft:function(){return g(a)},setRight:function(){return g(c)}}},[])]}},264227,(a,b,c)=>{"use strict";var d=a.r(289874);Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){void 0===a&&(a=!1);var b=(0,e.__read)((0,g.default)(!!a),2),c=b[0],d=b[1],h=d.toggle,i=d.set;return[c,(0,f.useMemo)(function(){return{toggle:h,set:function(a){return i(!!a)},setTrue:function(){return i(!0)},setFalse:function(){return i(!1)}}},[])]};var e=a.r(314875),f=a.r(57843),g=d(a.r(3284))},989681,787405,427228,29304,134579,220343,638599,901088,a=>{"use strict";function b(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function c(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function d(a){for(var b=1;b<arguments.length;b++){var d=null!=arguments[b]?arguments[b]:{};b%2?c(Object(d),!0).forEach(function(b){var c;c=d[b],b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(d)):c(Object(d)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(d,b))})}return a}function e(a){return function b(){for(var c=this,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return e.length>=a.length?a.apply(this,e):function(){for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];return b.apply(c,[].concat(e,d))}}}function f(a){return({}).toString.call(a).includes("Object")}function g(a){return"function"==typeof a}var h,i,j,k=e(function(a,b){throw Error(a[b]||a.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),l=function(a,b){return f(b)||k("changeType"),Object.keys(b).some(function(b){return!Object.prototype.hasOwnProperty.call(a,b)})&&k("changeField"),b},m=function(a){g(a)||k("selectorType")},n=function(a){g(a)||f(a)||k("handlerType"),f(a)&&Object.values(a).some(function(a){return!g(a)})&&k("handlersType")},o=function(a){a||k("initialIsRequired"),f(a)||k("initialType"),Object.keys(a).length||k("initialContent")};function p(a,b){return g(b)?b(a.current):b}function q(a,b){return a.current=d(d({},a.current),b),b}function r(a,b,c){return g(b)?b(a.current):Object.keys(c).forEach(function(c){var d;return null==(d=b[c])?void 0:d.call(b,a.current[c])}),c}var s={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},t=(h=function(a,b){throw Error(a[b]||a.default)},function a(){for(var b=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return d.length>=h.length?h.apply(this,d):function(){for(var c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return a.apply(b,[].concat(d,e))}})(s);let u=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduceRight(function(a,b){return b(a)},a)}};var v={type:"cancelation",msg:"operation is manually canceled"};let w=function(a){var b=!1,c=new Promise(function(c,d){a.then(function(a){return b?d(v):c(a)}),a.catch(d)});return c.cancel=function(){return b=!0},c};var x=function(a){if(Array.isArray(a))return a}(i=({create:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(a),n(b);var c={current:a},d=e(r)(c,b),f=e(q)(c),g=e(l)(a),h=e(p)(c);return[function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(a){return a};return m(a),a(c.current)},function(a){(function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduceRight(function(a,b){return b(a)},a)}})(d,f,g,h)(a)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(a,b){if("u">typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),2!==c.length);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}}(i,2)||function(a,c){if(a){if("string"==typeof a)return b(a,2);var d=Object.prototype.toString.call(a).slice(8,-1);if("Object"===d&&a.constructor&&(d=a.constructor.name),"Map"===d||"Set"===d)return Array.from(a);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return b(a,2)}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=x[0],z=x[1];function A(a){return document.body.appendChild(a)}function B(a){var b,c,d=y(function(a){return{config:a.config,reject:a.reject}}),e=(b="".concat(d.config.paths.vs,"/loader.js"),c=document.createElement("script"),b&&(c.src=b),c);return e.onload=function(){return a()},e.onerror=d.reject,e}function C(){var a=y(function(a){return{config:a.config,resolve:a.resolve,reject:a.reject}}),b=window.require;b.config(a.config),b(["vs/editor/editor.main"],function(b){D(b),a.resolve(b)},function(b){a.reject(b)})}function D(a){y().monaco||z({monaco:a})}var E=new Promise(function(a,b){return z({resolve:a,reject:b})});let F=function(){var a=y(function(a){return{monaco:a.monaco,isInitialized:a.isInitialized,resolve:a.resolve}});if(!a.isInitialized){if(z({isInitialized:!0}),a.monaco)return a.resolve(a.monaco),w(E);if(window.monaco&&window.monaco.editor)return D(window.monaco),a.resolve(window.monaco),w(E);u(A,B)(C)}return w(E)};var G=a.i(57843),H={display:"flex",position:"relative",textAlign:"initial"},I={width:"100%"},J={display:"none"},K={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},L=function({children:a}){return G.default.createElement("div",{style:K},a)},M=(0,G.memo)(function({width:a,height:b,isEditorReady:c,loading:d,_ref:e,className:f,wrapperProps:g}){return G.default.createElement("section",{style:{...H,width:a,height:b},...g},!c&&G.default.createElement(L,null,d),G.default.createElement("div",{ref:e,style:{...I,...!c&&J},className:f}))}),N=function(a){(0,G.useEffect)(a,[])},O=function(a,b,c=!0){let d=(0,G.useRef)(!0);(0,G.useEffect)(d.current||!c?()=>{d.current=!1}:a,b)};function P(){}function Q(a,b,c,d){var e,f,g,h,i,j;return e=a,f=d,e.editor.getModel(R(e,f))||(g=a,h=b,i=c,j=d,g.editor.createModel(h,i,j?R(g,j):void 0))}function R(a,b){return a.Uri.parse(b)}(0,G.memo)(function({original:a,modified:b,language:c,originalLanguage:d,modifiedLanguage:e,originalModelPath:f,modifiedModelPath:g,keepCurrentOriginalModel:h=!1,keepCurrentModifiedModel:i=!1,theme:j="light",loading:k="Loading...",options:l={},height:m="100%",width:n="100%",className:o,wrapperProps:p={},beforeMount:q=P,onMount:r=P}){let[s,t]=(0,G.useState)(!1),[u,v]=(0,G.useState)(!0),w=(0,G.useRef)(null),x=(0,G.useRef)(null),y=(0,G.useRef)(null),z=(0,G.useRef)(r),A=(0,G.useRef)(q),B=(0,G.useRef)(!1);N(()=>{let a=F();return a.then(a=>(x.current=a)&&v(!1)).catch(a=>a?.type!=="cancelation"&&console.error("Monaco initialization: error:",a)),()=>{let b;return w.current?(b=w.current?.getModel(),void(h||b?.original?.dispose(),i||b?.modified?.dispose(),w.current?.dispose())):a.cancel()}}),O(()=>{if(w.current&&x.current){let b=w.current.getOriginalEditor(),e=Q(x.current,a||"",d||c||"text",f||"");e!==b.getModel()&&b.setModel(e)}},[f],s),O(()=>{if(w.current&&x.current){let a=w.current.getModifiedEditor(),d=Q(x.current,b||"",e||c||"text",g||"");d!==a.getModel()&&a.setModel(d)}},[g],s),O(()=>{let a=w.current.getModifiedEditor();a.getOption(x.current.editor.EditorOption.readOnly)?a.setValue(b||""):b!==a.getValue()&&(a.executeEdits("",[{range:a.getModel().getFullModelRange(),text:b||"",forceMoveMarkers:!0}]),a.pushUndoStop())},[b],s),O(()=>{w.current?.getModel()?.original.setValue(a||"")},[a],s),O(()=>{let{original:a,modified:b}=w.current.getModel();x.current.editor.setModelLanguage(a,d||c||"text"),x.current.editor.setModelLanguage(b,e||c||"text")},[c,d,e],s),O(()=>{x.current?.editor.setTheme(j)},[j],s),O(()=>{w.current?.updateOptions(l)},[l],s);let C=(0,G.useCallback)(()=>{if(!x.current)return;A.current(x.current);let h=Q(x.current,a||"",d||c||"text",f||""),i=Q(x.current,b||"",e||c||"text",g||"");w.current?.setModel({original:h,modified:i})},[c,b,e,a,d,f,g]),D=(0,G.useCallback)(()=>{!B.current&&y.current&&(w.current=x.current.editor.createDiffEditor(y.current,{automaticLayout:!0,...l}),C(),x.current?.editor.setTheme(j),t(!0),B.current=!0)},[l,j,C]);return(0,G.useEffect)(()=>{s&&z.current(w.current,x.current)},[s]),(0,G.useEffect)(()=>{u||s||D()},[u,s,D]),G.default.createElement(M,{width:n,height:m,isEditorReady:s,loading:k,_ref:y,className:o,wrapperProps:p})});var S=function(a){let b=(0,G.useRef)();return(0,G.useEffect)(()=>{b.current=a},[a]),b.current},T=new Map,U=(0,G.memo)(function({defaultValue:a,defaultLanguage:b,defaultPath:c,value:d,language:e,path:f,theme:g="light",line:h,loading:i="Loading...",options:j={},overrideServices:k={},saveViewState:l=!0,keepCurrentModel:m=!1,width:n="100%",height:o="100%",className:p,wrapperProps:q={},beforeMount:r=P,onMount:s=P,onChange:t,onValidate:u=P}){let[v,w]=(0,G.useState)(!1),[x,y]=(0,G.useState)(!0),z=(0,G.useRef)(null),A=(0,G.useRef)(null),B=(0,G.useRef)(null),C=(0,G.useRef)(s),D=(0,G.useRef)(r),E=(0,G.useRef)(),H=(0,G.useRef)(d),I=S(f),J=(0,G.useRef)(!1),K=(0,G.useRef)(!1);N(()=>{let a=F();return a.then(a=>(z.current=a)&&y(!1)).catch(a=>a?.type!=="cancelation"&&console.error("Monaco initialization: error:",a)),()=>A.current?void(E.current?.dispose(),m?l&&T.set(f,A.current.saveViewState()):A.current.getModel()?.dispose(),A.current.dispose()):a.cancel()}),O(()=>{let g=Q(z.current,a||d||"",b||e||"",f||c||"");g!==A.current?.getModel()&&(l&&T.set(I,A.current?.saveViewState()),A.current?.setModel(g),l&&A.current?.restoreViewState(T.get(f)))},[f],v),O(()=>{A.current?.updateOptions(j)},[j],v),O(()=>{A.current&&void 0!==d&&(A.current.getOption(z.current.editor.EditorOption.readOnly)?A.current.setValue(d):d!==A.current.getValue()&&(K.current=!0,A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:d,forceMoveMarkers:!0}]),A.current.pushUndoStop(),K.current=!1))},[d],v),O(()=>{let a=A.current?.getModel();a&&e&&z.current?.editor.setModelLanguage(a,e)},[e],v),O(()=>{void 0!==h&&A.current?.revealLine(h)},[h],v),O(()=>{z.current?.editor.setTheme(g)},[g],v);let L=(0,G.useCallback)(()=>{if(!(!B.current||!z.current)&&!J.current){D.current(z.current);let i=f||c,m=Q(z.current,d||a||"",b||e||"",i||"");A.current=z.current?.editor.create(B.current,{model:m,automaticLayout:!0,...j},k),l&&A.current.restoreViewState(T.get(i)),z.current.editor.setTheme(g),void 0!==h&&A.current.revealLine(h),w(!0),J.current=!0}},[a,b,c,d,e,f,j,k,l,g,h]);return(0,G.useEffect)(()=>{v&&C.current(A.current,z.current)},[v]),(0,G.useEffect)(()=>{x||v||L()},[x,v,L]),H.current=d,(0,G.useEffect)(()=>{v&&t&&(E.current?.dispose(),E.current=A.current?.onDidChangeModelContent(a=>{K.current||t(A.current.getValue(),a)}))},[v,t]),(0,G.useEffect)(()=>{if(v){let a=z.current.editor.onDidChangeMarkers(a=>{let b=A.current.getModel()?.uri;if(b&&a.find(a=>a.path===b.path)){let a=z.current.editor.getModelMarkers({resource:b});u?.(a)}});return()=>{a?.dispose()}}return()=>{}},[v,u]),G.default.createElement(M,{width:n,height:o,isEditorReady:v,loading:i,_ref:B,className:p,wrapperProps:q})});a.s(["Editor",()=>U,"default",()=>U],989681);var V=((j={}).python3="python3",j.javascript="javascript",j.json="json",j);a.s(["CodeLanguage",()=>V],787405);var W=a.i(608061),X=a.i(981133),Y=a.i(527344);let Z=G.memo(({className:a,height:b,minHeight:c,onHeightChange:d,children:e,footer:f,hideResize:g})=>{let[h,i]=(0,G.useState)(0),[j,k]=(0,G.useState)(!1),[l,m]=(0,G.useState)(()=>getComputedStyle(document.body).userSelect),[n,o]=(0,G.useState)(b),p=(0,G.useCallback)(a=>{i(a.clientY),k(!0),o(b),m(getComputedStyle(document.body).userSelect),document.body.style.userSelect="none"},[b]),q=(0,G.useCallback)(()=>{k(!1),document.body.style.userSelect=l},[l]),{run:r}=(0,X.useDebounceFn)(a=>{if(!j)return;let b=n+(a.clientY-h);b<c&&(b=c),d(b)},{wait:0}),s=(0,G.useCallback)(r,[j,b,c,h]);return(0,G.useEffect)(()=>(document.addEventListener("mousemove",s),()=>{document.removeEventListener("mousemove",s)}),[s]),(0,G.useEffect)(()=>(document.addEventListener("mouseup",q),()=>{document.removeEventListener("mouseup",q)}),[q]),(0,W.jsxs)("div",{className:"relative",children:[(0,W.jsx)("div",{className:(0,Y.cn)(a,"overflow-y-auto"),style:{height:b},children:e}),f,!g&&(0,W.jsx)("div",{className:"absolute bottom-0 left-0 flex h-2 w-full cursor-row-resize justify-center",onMouseDown:p,children:(0,W.jsx)("div",{className:"h-[3px] w-5 rounded-sm bg-gray-300"})})]})});a.s(["default",0,Z],427228);var $=a.i(429150);a.i(752298);var _=a.i(693025),aa=a.i(483664),ab=a.i(735310),ac=a.i(527858),ad=a.i(780442),ae=a.i(516465),af=a.i(818386);a.s(["default",0,({fileList:a,isExpanded:b=!1,noBorder:c=!1,noPadding:d=!1})=>{let{t:e}=(0,_.useTranslation)(),[f,g]=(0,G.useState)(b),h=(0,G.useMemo)(()=>a.reduce((a,{list:b})=>[...a,...b],[]),[a]);return a.length?(0,W.jsxs)("div",{className:(0,Y.cn)("px-3 py-2",f&&"py-3",!c&&"border-t border-divider-subtle",d&&"!p-0"),children:[(0,W.jsxs)("div",{className:"flex justify-between gap-1",children:[f&&(0,W.jsx)("div",{className:"system-xs-semibold-uppercase grow cursor-pointer py-1 text-text-secondary",onClick:()=>g(!f),children:e("runDetail.fileListLabel",{ns:"appLog"})}),!f&&(0,W.jsx)("div",{className:"flex gap-1",children:h.map(a=>{let{id:b,name:c,type:d,supportFileType:e,base64Url:f,url:g}=a,h=e===ab.SupportUploadFileTypes.image;return(0,W.jsxs)(W.Fragment,{children:[h&&(0,W.jsx)(aa.default,{popupContent:c,children:(0,W.jsx)("div",{children:(0,W.jsx)(ac.default,{className:"h-8 w-8",imageUrl:f||g||""})},b)}),!h&&(0,W.jsx)(aa.default,{popupContent:c,children:(0,W.jsx)("div",{className:"rounded-md border-[0.5px] border-components-panel-border bg-components-panel-on-panel-item-bg p-1.5 shadow-xs",children:(0,W.jsx)(ad.default,{type:(0,af.getFileAppearanceType)(c,d),size:"lg"})},b)})]})})}),(0,W.jsxs)("div",{className:"flex cursor-pointer items-center gap-1",onClick:()=>g(!f),children:[!f&&(0,W.jsx)("div",{className:"system-xs-medium-uppercase text-text-tertiary",children:e("runDetail.fileListDetail",{ns:"appLog"})}),(0,W.jsx)($.RiArrowRightSLine,{className:(0,Y.cn)("h-4 w-4 text-text-tertiary",f&&"rotate-90")})]})]}),f&&(0,W.jsx)("div",{className:"flex flex-col gap-3",children:a.map(a=>(0,W.jsxs)("div",{className:"system-xs-regular flex flex-col gap-1",children:[(0,W.jsx)("div",{className:"py-1 text-text-tertiary ",children:a.varName}),a.list.map(a=>(0,W.jsx)(ae.default,{file:a,showDeleteAction:!1,showDownloadAction:!0,canPreview:!0},a.id))]},a.varName))})]}):null}],29304);var ag=a.i(962900);a.s(["Copy",()=>ag.default],134579),a.s(["default",0,({ref:a,hasFooter:b=!0,isInNode:c})=>{let[d,e]=(0,G.useState)(!1),[f,g]=(0,G.useState)(a?.current?.clientHeight),h=d?f-(b?56:29):0;return(0,G.useEffect)(()=>{a?.current&&g(a.current?.clientHeight)},[d]),{wrapClassName:d?c?"fixed z-10  right-[9px] top-[166px] bottom-[8px]  p-4 bg-components-panel-bg rounded-xl":"absolute z-10 left-4 right-6 top-[52px] bottom-0 pb-4 bg-components-panel-bg":"",wrapStyle:d?{boxShadow:"0px 0px 12px -4px rgba(16, 24, 40, 0.05), 0px -3px 6px -2px rgba(16, 24, 40, 0.03)"}:{},editorExpandHeight:h,isExpand:d,setIsExpand:e}}],220343);var ah=a.i(546232),ai=a.i(446855),aj=(0,ah.createUseStorageState)(function(){return ai.default?sessionStorage:void 0});a.s(["useSessionStorageState",0,aj],638599);var ak=a.i(206913);a.s(["Generator",()=>ak.default],901088)},89636,404632,a=>{"use strict";var b=a.i(608061),c=a.i(57843),d=a.i(649469),e=a.i(805611),f=a.i(703298),g=a.i(81492),h=a.i(144244),i=a.i(483664),j=a.i(527344),k=a.i(701458),l=a.i(299717);a.s(["default",0,({parameterRule:a,value:m,onChange:n,onSwitch:o,isInWorkflow:p})=>{let q=(0,k.useLanguage)(),[r,s]=(0,c.useState)(m),t=(0,c.useRef)(null),u=()=>{let b;return"int"===a.type||"float"===a.type?b=(0,l.isNullOrUndefined)(a.default)?a.min||0:a.default:"string"===a.type||"text"===a.type?b=a.default||"":"boolean"===a.type?b=!(0,l.isNullOrUndefined)(a.default)&&a.default:"tag"===a.type&&(b=(0,l.isNullOrUndefined)(a.default)?[]:a.default),b},v=m??r??u(),w=b=>{s(b),n&&("stop"===a.name||!(0,l.isNullOrUndefined)(m)||a.required)&&n(b)},x=b=>{let c=+b.target.value;!(0,l.isNullOrUndefined)(a.max)&&c>a.max&&(c=a.max,t.current.value=`${c}`),!(0,l.isNullOrUndefined)(a.min)&&c<a.min&&(c=a.min),w(c)},y=()=>{t.current&&(t.current.value=v)},z=b=>{if(!(0,l.isNullOrUndefined)(a.max)&&b>a.max){w(a.max),t.current.value=`${a.max}`;return}if(!(0,l.isNullOrUndefined)(a.min)&&b<a.min){w(a.min),t.current.value=`${a.min}`;return}w(b),t.current.value=`${b}`},A=a=>{w(a)},B=a=>{w(a.target.value)},C=a=>{w(a.value)},D=a=>{w(a)};return(0,c.useEffect)(()=>{("int"===a.type||"float"===a.type)&&t.current&&(t.current.value=`${v}`)},[m]),(0,b.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"shrink-0 basis-1/2",children:[(0,b.jsxs)("div",{className:(0,j.cn)("flex w-full shrink-0 items-center"),children:[!a.required&&"stop"!==a.name&&(0,b.jsx)("div",{className:"mr-2 w-7",children:(0,b.jsx)(g.default,{defaultValue:!(0,l.isNullOrUndefined)(m),onChange:a=>{o&&o(a,r||u())},size:"md"})}),(0,b.jsx)("div",{className:"system-xs-regular mr-0.5 truncate text-text-secondary",title:a.label[q]||a.label.en_US,children:a.label[q]||a.label.en_US}),a.help&&(0,b.jsx)(i.default,{popupContent:(0,b.jsx)("div",{className:"w-[150px] whitespace-pre-wrap",children:a.help[q]||a.help.en_US}),popupClassName:"mr-1",triggerClassName:"mr-1 w-4 h-4 shrink-0"})]}),"tag"===a.type&&(0,b.jsx)("div",{className:(0,j.cn)(!p&&"w-[150px]","system-xs-regular text-text-tertiary"),children:a?.tagPlaceholder?.[q]})]}),(()=>{let c=("int"===a.type||"float"===a.type)&&!(0,l.isNullOrUndefined)(a.min)&&!(0,l.isNullOrUndefined)(a.max);if("int"===a.type){let d=100;return a.max&&(a.max<100?d=1:a.max<1e3&&(d=10)),(0,b.jsxs)(b.Fragment,{children:[c&&(0,b.jsx)(f.default,{className:"w-[120px]",value:v,min:a.min,max:a.max,step:d,onChange:z}),(0,b.jsx)("input",{ref:t,className:"system-sm-regular ml-4 block h-8 w-16 shrink-0 appearance-none rounded-lg bg-components-input-bg-normal pl-3 text-components-input-text-filled outline-none",type:"number",max:a.max,min:a.min,step:c?d:+`0.${a.precision||0}`,onChange:x,onBlur:y})]})}return"float"===a.type?(0,b.jsxs)(b.Fragment,{children:[c&&(0,b.jsx)(f.default,{className:"w-[120px]",value:v,min:a.min,max:a.max,step:.1,onChange:z}),(0,b.jsx)("input",{ref:t,className:"system-sm-regular ml-4 block h-8 w-16 shrink-0 appearance-none rounded-lg bg-components-input-bg-normal pl-3 text-components-input-text-filled outline-none",type:"number",max:a.max,min:a.min,step:c?.1:+`0.${a.precision||0}`,onChange:x,onBlur:y})]}):"boolean"===a.type?(0,b.jsxs)(d.default.Group,{className:"flex w-[150px] items-center",value:v,onChange:A,children:[(0,b.jsx)(d.default,{value:!0,className:"w-[70px] px-[18px]",children:"True"}),(0,b.jsx)(d.default,{value:!1,className:"w-[70px] px-[18px]",children:"False"})]}):"string"!==a.type||a.options?.length?"text"===a.type?(0,b.jsx)("textarea",{className:"system-sm-regular ml-4 h-20 w-full rounded-lg bg-components-input-bg-normal px-1 text-components-input-text-filled",value:v,onChange:B}):"string"===a.type&&a?.options?.length?(0,b.jsx)(e.SimpleSelect,{className:"!py-0",wrapperClassName:(0,j.cn)("!h-8 w-full"),defaultValue:v,onSelect:C,items:a.options.map(a=>({value:a,name:a}))}):"tag"===a.type?(0,b.jsx)("div",{className:(0,j.cn)("!h-8 w-full"),children:(0,b.jsx)(h.default,{items:v,onChange:D,customizedConfirmKey:"Tab",isInWorkflow:p,required:a.required})}):null:(0,b.jsx)("input",{className:(0,j.cn)(p?"w-[150px]":"w-full","system-sm-regular ml-4 flex h-8 appearance-none items-center rounded-lg bg-components-input-bg-normal px-3 text-components-input-text-filled outline-none"),value:v,onChange:B})})()]})}],89636);var m=a.i(429150);a.i(752298);var n=a.i(693025),o=a.i(909795),p=a.i(501127),q=a.i(796807),r=a.i(108417);let s=({ref:a,...c})=>(0,b.jsx)(q.default,{...c,ref:a,data:r.default});s.displayName="Brush01",a.i(84761),a.i(645127),a.i(700519),a.i(674360),a.i(174622);var t=a.i(52377);let u=({ref:a,...c})=>(0,b.jsx)(q.default,{...c,ref:a,data:t.default});u.displayName="Scales02",a.i(658335);var v=a.i(534805),v=v,w=a.i(18039);let x={Creative:"model.tone.Creative",Balanced:"model.tone.Balanced",Precise:"model.tone.Precise",Custom:"model.tone.Custom"};a.s(["default",0,({onSelect:a})=>{let{t:d}=(0,n.useTranslation)(),e=(0,c.useCallback)(a=>(0,b.jsxs)(o.default,{size:"small",variant:"secondary",className:(0,j.cn)(a&&"bg-state-base-hover"),children:[d("modelProvider.loadPresets",{ns:"common"}),(0,b.jsx)(m.RiArrowDownSLine,{className:"ml-0.5 h-3.5 w-3.5"})]}),[d]),f=w.TONE_LIST.slice(0,3).map(a=>{var c;let e;return{value:a.id,text:(0,b.jsxs)("div",{className:"flex h-full items-center",children:[(c=a.id,e="mr-2 w-[14px] h-[14px]",({1:(0,b.jsx)(s,{className:`${e} text-[#6938EF]`}),2:(0,b.jsx)(u,{className:`${e} text-indigo-600`}),3:(0,b.jsx)(v.default,{className:`${e} text-[#107569]`})})[c]),d(x[a.name],{ns:"common"})]})}});return(0,b.jsx)(p.default,{renderTrigger:e,items:f,onSelect:b=>a(b.value),popupClassName:"z-[1003]"})}],404632)},644726,94317,358407,120264,a=>{"use strict";var b=a.i(608061),c=a.i(796807);a.i(975044),a.i(981004);var d=a.i(983163);let e=({ref:a,...e})=>(0,b.jsx)(c.default,{...e,ref:a,data:d.default});e.displayName="SlidersH",a.s(["default",0,e],94317),a.i(832332);var f=a.i(347675);let g=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:f.default});g.displayName="Stop",a.s(["default",0,g],358407);var h=a.i(951559);let i=({ref:a,...d})=>(0,b.jsx)(c.default,{...d,ref:a,data:h.default});i.displayName="StopCircle",a.s(["default",0,i],120264),a.s([],644726)},194977,a=>{"use strict";var b=a.i(608061),c=a.i(429150);a.i(752298);var d=a.i(693025);a.i(866028);var e=a.i(894180);a.i(644726);var f=a.i(94317),f=f,g=a.i(483664),h=a.i(375616),i=a.i(527344),j=a.i(933988),k=a.i(701458),l=a.i(912626),m=a.i(34976);a.s(["default",0,({disabled:a,currentProvider:n,currentModel:o,providerName:p,modelId:q,hasDeprecated:r,modelDisabled:s,isInWorkflow:t})=>{let{t:u}=(0,d.useTranslation)(),v=(0,k.useLanguage)(),{modelProviders:w}=(0,h.useProviderContext)();return(0,b.jsxs)("div",{className:(0,i.cn)("relative flex h-8 cursor-pointer items-center rounded-lg  px-2",!t&&"border ring-inset hover:ring-[0.5px]",!t&&(a?"border-text-warning bg-state-warning-hover ring-text-warning":"border-util-colors-indigo-indigo-600 bg-state-accent-hover ring-util-colors-indigo-indigo-600"),t&&"border border-workflow-block-parma-bg bg-workflow-block-parma-bg pr-[30px]  hover:border-components-input-border-active"),children:[n&&(0,b.jsx)(l.default,{className:"mr-1.5 !h-5 !w-5",provider:n,modelName:o?.model}),!n&&(0,b.jsx)(l.default,{className:"mr-1.5 !h-5 !w-5",provider:w.find(a=>a.provider===p),modelName:q}),o&&(0,b.jsx)(m.default,{className:"mr-1.5 text-text-primary",modelItem:o,showMode:!0,showFeatures:!0}),!o&&(0,b.jsx)("div",{className:"mr-1 truncate text-[13px] font-medium text-text-primary",children:q}),a?(0,b.jsx)(g.default,{popupContent:r?u("modelProvider.deprecated",{ns:"common"}):s&&o?j.MODEL_STATUS_TEXT[o.status][v]:"",children:(0,b.jsx)(e.AlertTriangle,{className:"h-4 w-4 text-[#F79009]"})}):(0,b.jsx)(f.default,{className:(0,i.cn)(t?"text-text-tertiary":"text-indigo-600","h-4 w-4 shrink-0")}),t&&(0,b.jsx)(c.RiArrowDownSLine,{className:"absolute right-2 top-[9px] h-3.5 w-3.5 text-text-tertiary"})]})}],194977)},433902,(a,b,c)=>{var d,e,f=function(a){var b=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,c=0,d={},e={manual:a.Prism&&a.Prism.manual,disableWorkerMessageHandler:a.Prism&&a.Prism.disableWorkerMessageHandler,util:{encode:function a(b){return b instanceof f?new f(b.type,a(b.content),b.alias):Array.isArray(b)?b.map(a):b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).slice(8,-1)},objId:function(a){return a.__id||Object.defineProperty(a,"__id",{value:++c}),a.__id},clone:function a(b,c){var d,f;switch(c=c||{},e.util.type(b)){case"Object":if(c[f=e.util.objId(b)])return c[f];for(var g in d={},c[f]=d,b)b.hasOwnProperty(g)&&(d[g]=a(b[g],c));return d;case"Array":if(c[f=e.util.objId(b)])return c[f];return d=[],c[f]=d,b.forEach(function(b,e){d[e]=a(b,c)}),d;default:return b}},getLanguage:function(a){for(;a;){var c=b.exec(a.className);if(c)return c[1].toLowerCase();a=a.parentElement}return"none"},setLanguage:function(a,c){a.className=a.className.replace(RegExp(b,"gi"),""),a.classList.add("language-"+c)},currentScript:function(){if("u"<typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName&&1)return document.currentScript;try{throw Error()}catch(d){var a=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(d.stack)||[])[1];if(a){var b=document.getElementsByTagName("script");for(var c in b)if(b[c].src==a)return b[c]}return null}},isActive:function(a,b,c){for(var d="no-"+b;a;){var e=a.classList;if(e.contains(b))return!0;if(e.contains(d))return!1;a=a.parentElement}return!!c}},languages:{plain:d,plaintext:d,text:d,txt:d,extend:function(a,b){var c=e.util.clone(e.languages[a]);for(var d in b)c[d]=b[d];return c},insertBefore:function(a,b,c,d){var f=(d=d||e.languages)[a],g={};for(var h in f)if(f.hasOwnProperty(h)){if(h==b)for(var i in c)c.hasOwnProperty(i)&&(g[i]=c[i]);c.hasOwnProperty(h)||(g[h]=f[h])}var j=d[a];return d[a]=g,e.languages.DFS(e.languages,function(b,c){c===j&&b!=a&&(this[b]=g)}),g},DFS:function a(b,c,d,f){f=f||{};var g=e.util.objId;for(var h in b)if(b.hasOwnProperty(h)){c.call(b,h,b[h],d||h);var i=b[h],j=e.util.type(i);"Object"!==j||f[g(i)]?"Array"!==j||f[g(i)]||(f[g(i)]=!0,a(i,c,h,f)):(f[g(i)]=!0,a(i,c,null,f))}}},plugins:{},highlightAll:function(a,b){e.highlightAllUnder(document,a,b)},highlightAllUnder:function(a,b,c){var d={callback:c,container:a,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};e.hooks.run("before-highlightall",d),d.elements=Array.prototype.slice.apply(d.container.querySelectorAll(d.selector)),e.hooks.run("before-all-elements-highlight",d);for(var f,g=0;f=d.elements[g++];)e.highlightElement(f,!0===b,d.callback)},highlightElement:function(b,c,d){var f=e.util.getLanguage(b),g=e.languages[f];e.util.setLanguage(b,f);var h=b.parentElement;h&&"pre"===h.nodeName.toLowerCase()&&e.util.setLanguage(h,f);var i=b.textContent,j={element:b,language:f,grammar:g,code:i};function k(a){j.highlightedCode=a,e.hooks.run("before-insert",j),j.element.innerHTML=j.highlightedCode,e.hooks.run("after-highlight",j),e.hooks.run("complete",j),d&&d.call(j.element)}if(e.hooks.run("before-sanity-check",j),(h=j.element.parentElement)&&"pre"===h.nodeName.toLowerCase()&&!h.hasAttribute("tabindex")&&h.setAttribute("tabindex","0"),!j.code){e.hooks.run("complete",j),d&&d.call(j.element);return}if(e.hooks.run("before-highlight",j),!j.grammar)return void k(e.util.encode(j.code));if(c&&a.Worker){var l=new Worker(e.filename);l.onmessage=function(a){k(a.data)},l.postMessage(JSON.stringify({language:j.language,code:j.code,immediateClose:!0}))}else k(e.highlight(j.code,j.grammar,j.language))},highlight:function(a,b,c){var d={code:a,grammar:b,language:c};if(e.hooks.run("before-tokenize",d),!d.grammar)throw Error('The language "'+d.language+'" has no grammar.');return d.tokens=e.tokenize(d.code,d.grammar),e.hooks.run("after-tokenize",d),f.stringify(e.util.encode(d.tokens),d.language)},tokenize:function(a,b){var c=b.rest;if(c){for(var d in c)b[d]=c[d];delete b.rest}var j=new h;return i(j,j.head,a),function a(b,c,d,h,j,k){for(var l in d)if(d.hasOwnProperty(l)&&d[l]){var m=d[l];m=Array.isArray(m)?m:[m];for(var n=0;n<m.length;++n){if(k&&k.cause==l+","+n)return;var o=m[n],p=o.inside,q=!!o.lookbehind,r=!!o.greedy,s=o.alias;if(r&&!o.pattern.global){var t=o.pattern.toString().match(/[imsuy]*$/)[0];o.pattern=RegExp(o.pattern.source,t+"g")}for(var u=o.pattern||o,v=h.next,w=j;v!==c.tail&&(!k||!(w>=k.reach));w+=v.value.length,v=v.next){var x,y=v.value;if(c.length>b.length)return;if(!(y instanceof f)){var z=1;if(r){if(!(x=g(u,w,b,q))||x.index>=b.length)break;var A=x.index,B=x.index+x[0].length,C=w;for(C+=v.value.length;A>=C;)C+=(v=v.next).value.length;if(C-=v.value.length,w=C,v.value instanceof f)continue;for(var D=v;D!==c.tail&&(C<B||"string"==typeof D.value);D=D.next)z++,C+=D.value.length;z--,y=b.slice(w,C),x.index-=w}else if(!(x=g(u,0,y,q)))continue;var A=x.index,E=x[0],F=y.slice(0,A),G=y.slice(A+E.length),H=w+y.length;k&&H>k.reach&&(k.reach=H);var I=v.prev;if(F&&(I=i(c,I,F),w+=F.length),function(a,b,c){for(var d=b.next,e=0;e<c&&d!==a.tail;e++)d=d.next;b.next=d,d.prev=b,a.length-=e}(c,I,z),v=i(c,I,new f(l,p?e.tokenize(E,p):E,s,E)),G&&i(c,v,G),z>1){var J={cause:l+","+n,reach:H};a(b,c,d,v.prev,w,J),k&&J.reach>k.reach&&(k.reach=J.reach)}}}}}}(a,j,b,j.head,0),function(a){for(var b=[],c=a.head.next;c!==a.tail;)b.push(c.value),c=c.next;return b}(j)},hooks:{all:{},add:function(a,b){var c=e.hooks.all;c[a]=c[a]||[],c[a].push(b)},run:function(a,b){var c=e.hooks.all[a];if(c&&c.length)for(var d,f=0;d=c[f++];)d(b)}},Token:f};function f(a,b,c,d){this.type=a,this.content=b,this.alias=c,this.length=0|(d||"").length}function g(a,b,c,d){a.lastIndex=b;var e=a.exec(c);if(e&&d&&e[1]){var f=e[1].length;e.index+=f,e[0]=e[0].slice(f)}return e}function h(){var a={value:null,prev:null,next:null},b={value:null,prev:a,next:null};a.next=b,this.head=a,this.tail=b,this.length=0}function i(a,b,c){var d=b.next,e={value:c,prev:b,next:d};return b.next=e,d.prev=e,a.length++,e}if(a.Prism=e,f.stringify=function a(b,c){if("string"==typeof b)return b;if(Array.isArray(b)){var d="";return b.forEach(function(b){d+=a(b,c)}),d}var f={type:b.type,content:a(b.content,c),tag:"span",classes:["token",b.type],attributes:{},language:c},g=b.alias;g&&(Array.isArray(g)?Array.prototype.push.apply(f.classes,g):f.classes.push(g)),e.hooks.run("wrap",f);var h="";for(var i in f.attributes)h+=" "+i+'="'+(f.attributes[i]||"").replace(/"/g,"&quot;")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'"'+h+">"+f.content+"</"+f.tag+">"},!a.document)return a.addEventListener&&(e.disableWorkerMessageHandler||a.addEventListener("message",function(b){var c=JSON.parse(b.data),d=c.language,f=c.code,g=c.immediateClose;a.postMessage(e.highlight(f,e.languages[d],d)),g&&a.close()},!1)),e;var j=e.util.currentScript();function k(){e.manual||e.highlightAll()}if(j&&(e.filename=j.src,j.hasAttribute("data-manual")&&(e.manual=!0)),!e.manual){var l=document.readyState;"loading"===l||"interactive"===l&&j&&j.defer?document.addEventListener("DOMContentLoaded",k):window.requestAnimationFrame?window.requestAnimationFrame(k):window.setTimeout(k,16)}return e}("u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});b.exports&&(b.exports=f),a.g.Prism=f,f.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},f.languages.markup.tag.inside["attr-value"].inside.entity=f.languages.markup.entity,f.languages.markup.doctype.inside["internal-subset"].inside=f.languages.markup,f.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Object.defineProperty(f.languages.markup.tag,"addInlined",{value:function(a,b){var c={};c["language-"+b]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:f.languages[b]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var d={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};d["language-"+b]={pattern:/[\s\S]+/,inside:f.languages[b]};var e={};e[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:d},f.languages.insertBefore("markup","cdata",e)}}),Object.defineProperty(f.languages.markup.tag,"addAttribute",{value:function(a,b){f.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+a+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[b,"language-"+b],inside:f.languages[b]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),f.languages.html=f.languages.markup,f.languages.mathml=f.languages.markup,f.languages.svg=f.languages.markup,f.languages.xml=f.languages.extend("markup",{}),f.languages.ssml=f.languages.xml,f.languages.atom=f.languages.xml,f.languages.rss=f.languages.xml,d=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,f.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+d.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+d.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+d.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+d.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:d,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},f.languages.css.atrule.inside.rest=f.languages.css,(e=f.languages.markup)&&(e.tag.addInlined("style","css"),e.tag.addAttribute("style","css")),f.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},f.languages.javascript=f.languages.extend("clike",{"class-name":[f.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source)+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),f.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,f.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:f.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:f.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:f.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:f.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:f.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),f.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:f.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),f.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),f.languages.markup&&(f.languages.markup.tag.addInlined("script","javascript"),f.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),f.languages.js=f.languages.javascript,function(){if(void 0!==f&&"u">typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},b="data-src-status",c="loading",d="loaded",e="pre[data-src]:not(["+b+'="'+d+'"]):not(['+b+'="'+c+'"])';f.hooks.add("before-highlightall",function(a){a.selector+=", "+e}),f.hooks.add("before-sanity-check",function(g){var h=g.element;if(h.matches(e)){g.code="",h.setAttribute(b,c);var i,j,k,l,m=h.appendChild(document.createElement("CODE"));m.textContent="Loading…";var n=h.getAttribute("data-src"),o=g.language;if("none"===o){var p=(/\.(\w+)$/.exec(n)||[,"none"])[1];o=a[p]||p}f.util.setLanguage(m,o),f.util.setLanguage(h,o);var q=f.plugins.autoloader;q&&q.loadLanguages(o),i=n,j=function(a){h.setAttribute(b,d);var c=function(a){var b=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(a||"");if(b){var c=Number(b[1]),d=b[2],e=b[3];return d?e?[c,Number(e)]:[c,void 0]:[c,c]}}(h.getAttribute("data-range"));if(c){var e=a.split(/\r\n?|\n/g),g=c[0],i=null==c[1]?e.length:c[1];g<0&&(g+=e.length),g=Math.max(0,Math.min(g-1,e.length)),i<0&&(i+=e.length),i=Math.max(0,Math.min(i,e.length)),a=e.slice(g,i).join("\n"),h.hasAttribute("data-start")||h.setAttribute("data-start",String(g+1))}m.textContent=a,f.highlightElement(m)},k=function(a){h.setAttribute(b,"failed"),m.textContent=a},(l=new XMLHttpRequest).open("GET",i,!0),l.onreadystatechange=function(){var a;4==l.readyState&&(l.status<400&&l.responseText?j(l.responseText):l.status>=400?k((a=l.status,"✖ Error "+a+" while fetching file: "+l.statusText)):k("✖ Error: File does not exist or is empty"))},l.send(null)}}),f.plugins.fileHighlight={highlight:function(a){for(var b,c=(a||document).querySelectorAll(e),d=0;b=c[d++];)f.highlightElement(b)}};var g=!1;f.fileHighlight=function(){g||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),g=!0),f.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},984278,(a,b,c)=>{Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},731295,(a,b,c)=>{Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source)+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},723748,(a,b,c)=>{Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(a,b){var c={};c["language-"+b]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[b]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var d={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};d["language-"+b]={pattern:/[\s\S]+/,inside:Prism.languages[b]};var e={};e[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:d},Prism.languages.insertBefore("markup","cdata",e)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(a,b){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+a+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[b,"language-"+b],inside:Prism.languages[b]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},226047,(a,b,c)=>{!function(a){var b=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function c(a){return a=a.replace(/<inner>/g,function(){return b}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+a+")")}var d=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,e=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return d}),f=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;a.languages.markdown=a.languages.extend("markup",{}),a.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:a.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+e+f+"(?:"+e+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+e+f+")(?:"+e+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(d),inside:a.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+e+")"+f+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+e+"$"),inside:{"table-header":{pattern:RegExp(d),alias:"important",inside:a.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:c(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:c(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:c(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:c(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(b){["url","bold","italic","strike","code-snippet"].forEach(function(c){b!==c&&(a.languages.markdown[b].inside.content.inside[c]=a.languages.markdown[c])})}),a.hooks.add("after-tokenize",function(a){("markdown"===a.language||"md"===a.language)&&function a(b){if(b&&"string"!=typeof b)for(var c=0,d=b.length;c<d;c++){var e=b[c];if("code"!==e.type){a(e.content);continue}var f=e.content[1],g=e.content[3];if(f&&g&&"code-language"===f.type&&"code-block"===g.type&&"string"==typeof f.content){var h=f.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),i="language-"+(h=(/[a-z][\w-]*/i.exec(h)||[""])[0].toLowerCase());g.alias?"string"==typeof g.alias?g.alias=[g.alias,i]:g.alias.push(i):g.alias=[i]}}}(a.tokens)}),a.hooks.add("wrap",function(b){if("code-block"===b.type){for(var c,d="",e=0,f=b.classes.length;e<f;e++){var j=b.classes[e],k=/language-(.+)/.exec(j);if(k){d=k[1];break}}var l=a.languages[d];if(l){b.content=a.highlight((c=b.content.replace(g,"")).replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(a,b){if("#"===(b=b.toLowerCase())[0])return i("x"===b[1]?parseInt(b.slice(2),16):Number(b.slice(1)));var c=h[b];return c||a}),l,d)}else if(d&&"none"!==d&&a.plugins.autoloader){var m="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());b.attributes.id=m,a.plugins.autoloader.loadLanguages(d,function(){var b=document.getElementById(m);b&&(b.innerHTML=a.highlight(b.textContent,a.languages[d],d))})}}});var g=RegExp(a.languages.markup.tag.pattern.source,"gi"),h={amp:"&",lt:"<",gt:">",quot:'"'},i=String.fromCodePoint||String.fromCharCode;a.languages.md=a.languages.markdown}(Prism)},925873,(a,b,c)=>{Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},19452,(a,b,c)=>{var d,e,f;e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,(d=Prism).languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},d.languages.css.atrule.inside.rest=d.languages.css,(f=d.languages.markup)&&(f.tag.addInlined("style","css"),f.tag.addAttribute("style","css"))},846549,(a,b,c)=>{Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec},868711,(a,b,c)=>{Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}},719981,(a,b,c)=>{var d;(d=Prism.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/}).string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:d},boolean:d.boolean,variable:d.variable}},513488,(a,b,c)=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},287423,(a,b,c)=>{for(var d=Prism,e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,f=0;f<2;f++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),d.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},d.languages.rust["closure-params"].inside.rest=d.languages.rust,d.languages.rust.attribute.inside.string=d.languages.rust.string},1334,(a,b,c)=>{Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*")+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(a){a.inside.interpolation.inside=Prism.languages.swift})},510750,(a,b,c)=>{var d,e;(d=Prism).languages.typescript=d.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),d.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete d.languages.typescript.parameter,delete d.languages.typescript["literal-property"],e=d.languages.extend("typescript",{}),delete e["class-name"],d.languages.typescript["class-name"].inside=e,d.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),d.languages.ts=d.languages.typescript},43884,(a,b,c)=>{var d,e,f,g;d=Prism,e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,f=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,g={pattern:RegExp(/(^|[^\w.])/.source+f+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},d.languages.java=d.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[g,{pattern:RegExp(/(^|[^\w.])/.source+f+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:g.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+f+/[A-Z]\w*\b/.source),lookbehind:!0,inside:g.inside}],keyword:e,function:[d.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),d.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),d.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":g,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+f+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:g.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+f+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:g.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})},196433,(a,b,c)=>{var d,e,f;d=Prism,e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,f=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source}),d.languages.cpp=d.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),d.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return f})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),d.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:d.languages.cpp}}}}),d.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),d.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:d.languages.extend("cpp",{})}}),d.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},d.languages.cpp["base-clause"])},962800,721647,783296,185643,11626,992090,747885,774012,877950,328784,952149,840220,49974,574226,71396,43610,131260,821651,381188,152211,375717,109307,95793,764068,722472,217908,940259,82067,116850,76448,26164,796264,189015,921362,891141,565932,a=>{"use strict";var b,c,d,e=a.i(608061),f=a.i(57843);a.i(752298);var g=a.i(693025);a.i(943046);var h=a.i(469655),i=a.i(105249),j=a.i(825319),k=a.i(18039),l=a.i(375616),m=a.i(763539),n=a.i(527344),o=a.i(933988),p=a.i(701458),q=a.i(403473),r=a.i(89636),s=a.i(404632),t=a.i(194977);a.s(["default",0,({popupClassName:a,portalToFollowElemContentClassName:b,isAdvancedMode:c,modelId:d,provider:u,setModel:v,completionParams:w,onCompletionParamsChange:x,hideDebugWithMultipleModel:y,debugWithMultipleModel:z,onDebugWithMultipleModelChange:A,renderTrigger:B,readonly:C,isInWorkflow:D})=>{let{t:E}=(0,g.useTranslation)(),{isAPIKeySet:F}=(0,l.useProviderContext)(),[G,H]=(0,f.useState)(!1),{data:I,isPending:J}=(0,m.useModelParameterRules)(u,d),{currentProvider:K,currentModel:L,activeTextGenerationModelList:M}=(0,p.useTextGenerationCurrentProviderAndModelAndModelList)({provider:u,model:d}),N=!K||!L,O=L?.status!==o.ModelStatusEnum.active,P=!F||N||O,Q=(0,f.useMemo)(()=>I?.data||[],[I]);return(0,e.jsx)(j.PortalToFollowElem,{open:G,onOpenChange:H,placement:D?"left":"bottom-end",offset:4,children:(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(j.PortalToFollowElemTrigger,{onClick:()=>{C||H(a=>!a)},className:"block",children:B?B({open:G,disabled:P,modelDisabled:O,hasDeprecated:N,currentProvider:K,currentModel:L,providerName:u,modelId:d}):(0,e.jsx)(t.default,{disabled:P,isInWorkflow:D,modelDisabled:O,hasDeprecated:N,currentProvider:K,currentModel:L,providerName:u,modelId:d})}),(0,e.jsx)(j.PortalToFollowElemContent,{className:(0,n.cn)("z-[60]",b),children:(0,e.jsxs)("div",{className:(0,n.cn)(a,"w-[389px] rounded-2xl border-[0.5px] border-components-panel-border bg-components-panel-bg shadow-lg"),children:[(0,e.jsxs)("div",{className:(0,n.cn)("max-h-[420px] overflow-y-auto p-4 pt-3"),children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:(0,n.cn)("system-sm-semibold mb-1 flex h-6 items-center text-text-secondary"),children:E("modelProvider.model",{ns:"common"}).toLocaleUpperCase()}),(0,e.jsx)(q.default,{defaultModel:u||d?{provider:u,model:d}:void 0,modelList:M,onSelect:({provider:a,model:b})=>{let c=M.find(b=>b.provider===a),d=c?.models.find(a=>a.model===b);v({modelId:b,provider:a,mode:d?.model_properties.mode,features:d?.features||[]})}})]}),!!Q.length&&(0,e.jsx)("div",{className:"my-3 h-px bg-divider-subtle"}),J&&(0,e.jsx)("div",{className:"mt-5",children:(0,e.jsx)(i.default,{})}),!J&&!!Q.length&&(0,e.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,e.jsx)("div",{className:(0,n.cn)("system-sm-semibold flex h-6 items-center text-text-secondary"),children:E("modelProvider.parameters",{ns:"common"})}),k.PROVIDER_WITH_PRESET_TONE.includes(u)&&(0,e.jsx)(s.default,{onSelect:a=>{let b=k.TONE_LIST.find(b=>b.id===a);b&&x({...w,...b.config})}})]}),!J&&!!Q.length&&[...Q,...c?[k.STOP_PARAMETER_RULE]:[]].map(a=>(0,e.jsx)(r.default,{parameterRule:a,value:w?.[a.name],onChange:b=>{var c;return c=a.name,void x({...w,[c]:b})},onSwitch:(b,c)=>((a,b,c)=>{if(!b){let b={...w};delete b[a],x(b)}b&&x({...w,[a]:c})})(a.name,b,c),isInWorkflow:D},`${d}-${a.name}`))]}),!y&&(0,e.jsxs)("div",{className:"bg-components-section-burn system-sm-regular flex h-[50px] cursor-pointer items-center justify-between rounded-b-xl border-t border-t-divider-subtle px-4 text-text-accent",onClick:()=>A?.(),children:[E(z?"debugAsSingleModel":"debugAsMultipleModel",{ns:"appDebug"}),(0,e.jsx)(h.ArrowNarrowLeft,{className:"h-3 w-3 rotate-180"})]})]})})]})})}],962800);var u=a.i(41511);let v=async(a,b)=>(0,u.post)(`apps/${a}/chat-messages/${b}/stop`),w=async(a,b,{onData:c,onCompleted:d,onError:e,onMessageReplace:f})=>(0,u.ssePost)(`apps/${a}/completion-messages`,{body:{...b,response_mode:"streaming"}},{onData:c,onCompleted:d,onError:e,onMessageReplace:f});a.s(["fetchConversationMessages",0,(a,b,c)=>(0,u.get)(`apps/${a}/chat-messages`,{params:{conversation_id:b}},{getAbortController:c}),"fetchPromptTemplate",0,({appMode:a,mode:b,modelName:c,hasSetDataSet:d})=>(0,u.get)("/app/prompt-templates",{params:{app_mode:a,model_mode:b,model_name:c,has_context:d}}),"fetchSuggestedQuestions",0,(a,b,c)=>(0,u.get)(`apps/${a}/chat-messages/${b}/suggested-questions`,{},{getAbortController:c}),"fetchTextGenerationMessage",0,({appId:a,messageId:b})=>(0,u.get)(`/apps/${a}/messages/${b}`),"generateBasicAppFirstTimeRule",0,a=>(0,u.post)("/rule-generate",{body:a}),"generateRule",0,a=>(0,u.post)("/instruction-generate",{body:a}),"sendCompletionMessage",0,w,"stopChatMessageResponding",0,v],721647);var x=a.i(497746);a.i(658335);var y=a.i(586478),z=a.i(146172);let A="generate",B=f.memo(({value:a,onChange:b})=>{let{t:c}=(0,g.useTranslation)(),[d,{toggle:f}]=(0,x.useBoolean)(!0);return(0,e.jsxs)("div",{className:"mt-4 text-[0px]",children:[(0,e.jsxs)("div",{className:"mb-1.5 flex  cursor-pointer items-center text-sm font-medium leading-5 text-text-primary",onClick:f,children:[(0,e.jsx)("div",{className:"system-sm-semibold-uppercase mr-1 text-text-secondary",children:c(`${A}.idealOutput`,{ns:"appDebug"})}),(0,e.jsxs)("div",{className:"system-xs-regular text-text-tertiary",children:["(",c(`${A}.optional`,{ns:"appDebug"}),")"]}),(0,e.jsx)(y.ArrowDownRoundFill,{className:(0,n.cn)("size text-text-quaternary",d&&"relative top-[1px] rotate-[-90deg]")})]}),!d&&(0,e.jsx)(z.default,{className:"h-[80px]",placeholder:c(`${A}.idealOutputPlaceholder`,{ns:"appDebug"}),value:a,onChange:a=>b(a.target.value)})]})});a.s(["default",0,B],783296);var C=a.i(928479),D=a.i(560847);a.i(433902),a.i(984278),a.i(731295),a.i(723748),a.i(226047),a.i(925873),a.i(19452),a.i(846549),a.i(868711),a.i(719981),a.i(513488),a.i(287423),a.i(1334),a.i(510750),a.i(43884),a.i(196433);let E="data-language",F="data-highlight-language",G="data-theme";class H extends C.ElementNode{__language;__theme;__isSyntaxHighlightSupported;static getType(){return"code"}static clone(a){return new H(a.__language,a.__key)}constructor(a,b){super(b),this.__language=a||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}afterCloneFrom(a){super.afterCloneFrom(a),this.__language=a.__language,this.__theme=a.__theme,this.__isSyntaxHighlightSupported=a.__isSyntaxHighlightSupported}createDOM(a){let b=document.createElement("code");(0,D.addClassNamesToElement)(b,a.theme.code),b.setAttribute("spellcheck","false");let c=this.getLanguage();c&&(b.setAttribute(E,c),this.getIsSyntaxHighlightSupported()&&b.setAttribute(F,c));let d=this.getTheme();d&&b.setAttribute(G,d);let e=this.getStyle();return e&&b.setAttribute("style",e),b}updateDOM(a,b,c){let d=this.__language,e=a.__language;d?d!==e&&b.setAttribute(E,d):e&&b.removeAttribute(E);let f=this.__isSyntaxHighlightSupported;a.__isSyntaxHighlightSupported&&e?f&&d?d!==e&&b.setAttribute(F,d):b.removeAttribute(F):f&&d&&b.setAttribute(F,d);let g=this.__theme,h=a.__theme;g?g!==h&&b.setAttribute(G,g):h&&b.removeAttribute(G);let i=this.__style,j=a.__style;return i?i!==j&&b.setAttribute("style",i):j&&b.removeAttribute("style"),!1}exportDOM(a){let b=document.createElement("pre");(0,D.addClassNamesToElement)(b,a._config.theme.code),b.setAttribute("spellcheck","false");let c=this.getLanguage();c&&(b.setAttribute(E,c),this.getIsSyntaxHighlightSupported()&&b.setAttribute(F,c));let d=this.getTheme();d&&b.setAttribute(G,d);let e=this.getStyle();return e&&b.setAttribute("style",e),{element:b}}static importDOM(){return{code:a=>null!=a.textContent&&(/\r?\n/.test(a.textContent)||function a(b,c){for(let d of b.childNodes){if((0,C.isHTMLElement)(d)&&d.tagName===c)return!0;a(d,c)}return!1}(a,"BR"))?{conversion:J,priority:1}:null,div:()=>({conversion:K,priority:1}),pre:()=>({conversion:J,priority:0}),table:a=>O(a)?{conversion:L,priority:3}:null,td:a=>{let b=a.closest("table");return a.classList.contains("js-file-line")||b&&O(b)?{conversion:M,priority:3}:null},tr:a=>{let b=a.closest("table");return b&&O(b)?{conversion:M,priority:3}:null}}}static importJSON(a){return I().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setLanguage(a.language).setTheme(a.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(a,b=!0){let c=this.getChildren(),d=c.length;if(d>=2&&"\n"===c[d-1].getTextContent()&&"\n"===c[d-2].getTextContent()&&a.isCollapsed()&&a.anchor.key===this.__key&&a.anchor.offset===d){c[d-1].remove(),c[d-2].remove();let a=(0,C.$createParagraphNode)();return this.insertAfter(a,b),a}let{anchor:e,focus:f}=a,g=(e.isBefore(f)?e:f).getNode();if((0,C.$isTextNode)(g)){let a=function(a){let b=a;for(let c=(0,C.$getSiblingCaret)(a,"previous");c&&(S(c.origin)||(0,C.$isTabNode)(c.origin));c=(0,D.$getAdjacentCaret)(c))b=c.origin;return b}(g),b=[];for(;;)if((0,C.$isTabNode)(a))b.push((0,C.$createTabNode)()),a=a.getNextSibling();else{if(!S(a))break;{let c=0,d=a.getTextContent(),e=a.getTextContentSize();for(;c<e&&" "===d[c];)c++;if(0!==c&&b.push(R(" ".repeat(c))),c!==e)break;a=a.getNextSibling()}}let c=g.splitText(e.offset)[0],d=+(0!==e.offset),f=c.getIndexWithinParent()+d,h=g.getParentOrThrow(),i=[(0,C.$createLineBreakNode)(),...b];h.splice(f,0,i);let j=b[b.length-1];j?j.select():0===e.offset?c.selectPrevious():c.getNextSibling().selectNext(0,0)}if(g instanceof H){let{offset:b}=a.anchor;g.splice(b,0,[(0,C.$createLineBreakNode)()]),g.select(b+1,b+1)}return null}canIndent(){return!1}collapseAtStart(){let a=(0,C.$createParagraphNode)();return this.getChildren().forEach(b=>a.append(b)),this.replace(a),!0}setLanguage(a){let b=this.getWritable();return b.__language=a||void 0,b}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(a){let b=this.getWritable();return b.__isSyntaxHighlightSupported=a,b}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(a){let b=this.getWritable();return b.__theme=a||void 0,b}getTheme(){return this.getLatest().__theme}}function I(a,b){return(0,C.$create)(H).setLanguage(a).setTheme(b)}function J(a){return{node:I(a.getAttribute(E))}}function K(a){let b=N(a);return b||function(a){let b=a.parentElement;for(;null!==b;){if(N(b))return!0;b=b.parentElement}return!1}(a)?{node:b?I():null}:{node:null}}function L(){return{node:I()}}function M(){return{node:null}}function N(a){return null!==a.style.fontFamily.match("monospace")}function O(a){return a.classList.contains("js-file-line-container")}class P extends C.TextNode{__highlightType;constructor(a="",b,c){super(a,c),this.__highlightType=b}static getType(){return"code-highlight"}static clone(a){return new P(a.__text,a.__highlightType||void 0,a.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(a){let b=this.getWritable();return b.__highlightType=a||void 0,b}canHaveFormat(){return!1}createDOM(a){let b=super.createDOM(a),c=Q(a.theme,this.__highlightType);return(0,D.addClassNamesToElement)(b,c),b}updateDOM(a,b,c){let d=super.updateDOM(a,b,c),e=Q(c.theme,a.__highlightType),f=Q(c.theme,this.__highlightType);return e!==f&&(e&&(0,D.removeClassNamesFromElement)(b,e),f&&(0,D.addClassNamesToElement)(b,f)),d}static importJSON(a){return R().updateFromJSON(a)}updateFromJSON(a){return super.updateFromJSON(a).setHighlightType(a.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(a){return this}isParentRequired(){return!0}createParentElementNode(){return I()}}function Q(a,b){return b&&a&&a.codeHighlight&&a.codeHighlight[b]}function R(a="",b){return(0,C.$applyNodeReplacement)(new P(a,b))}function S(a){return a instanceof P}(0,C.defineExtension)({name:"@lexical/code",nodes:[H,P]}),(b=Prism).languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]},Object.keys(c={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"}).forEach(function(a){var d=c[a],e=[];/^\w+$/.test(a)||e.push(/\w+/.exec(a)[0]),"diff"===a&&e.push("bold"),b.languages.diff[a]={pattern:RegExp("^(?:["+d+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:e,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(a)[0]}}}}),Object.defineProperty(b.languages.diff,"PREFIXES",{value:c}),globalThis.Prism||window.Prism,a.s(["CodeNode",()=>H],185643);var T=a.i(914114);let U="startTransition",V=f.useEffect;class W{key;ref;constructor(a){this.key=a,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(a){this.ref={current:a}}}let X=a=>{let b=document.getElementById("typeahead-menu");if(!b)return;let c=b.getBoundingClientRect();c.top+c.height>window.innerHeight&&b.scrollIntoView({block:"center"}),c.top<0&&b.scrollIntoView({block:"center"}),a.scrollIntoView({block:"nearest"})};function Y(a,b){let c=a.getBoundingClientRect(),d=b.getBoundingClientRect();return c.top>=d.top-6&&c.top<=d.bottom+6}let Z=(0,C.createCommand)("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function $({close:a,editor:b,anchorElementRef:c,resolution:d,options:e,menuRenderFn:g,onSelectOption:h,shouldSplitNodeWithQuery:i=!1,commandPriority:j=C.COMMAND_PRIORITY_LOW,preselectFirstItem:k=!0}){let[l,m]=(0,f.useState)(null),n=null!==l?Math.min(e.length-1,l):null,o=d.match&&d.match.matchingString;(0,f.useEffect)(()=>{k&&m(0)},[o,k]);let p=(0,f.useCallback)(c=>{b.update(()=>{h(c,null!=d.match&&i?function(a){let b,c=(0,C.$getSelection)();if(!(0,C.$isRangeSelection)(c)||!c.isCollapsed())return null;let d=c.anchor;if("text"!==d.type)return null;let e=d.getNode();if(!e.isSimpleText())return null;let f=d.offset,g=e.getTextContent().slice(0,f),h=a.replaceableString.length,i=f-function(a,b,c){let d=c;for(let c=d;c<=b.length;c++)a.slice(-c)===b.substring(0,c)&&(d=c);return d}(g,a.matchingString,h);return i<0?null:(0===i?[b]=e.splitText(f):[,b]=e.splitText(i,f),b)}(d.match):null,a,d.match?d.match.matchingString:"")})},[b,i,d.match,h,a]),q=(0,f.useCallback)(a=>{let c=b.getRootElement();null!==c&&(c.setAttribute("aria-activedescendant","typeahead-item-"+a),m(a))},[b]);return(0,f.useEffect)(()=>()=>{let a=b.getRootElement();null!==a&&a.removeAttribute("aria-activedescendant")},[b]),V(()=>{null===e?m(null):null===n&&k&&q(0)},[e,n,q,k]),(0,f.useEffect)(()=>(0,D.mergeRegister)(b.registerCommand(Z,({option:a})=>!(!a.ref||null==a.ref.current)&&(X(a.ref.current),!0),j)),[b,q,j]),(0,f.useEffect)(()=>(0,D.mergeRegister)(b.registerCommand(C.KEY_ARROW_DOWN_COMMAND,a=>{if(null!==e&&e.length){let c=null===n?0:n!==e.length-1?n+1:0;q(c);let d=e[c];if(!d)return q(-1),a.preventDefault(),a.stopImmediatePropagation(),!0;d.ref&&d.ref.current&&b.dispatchCommand(Z,{index:c,option:d}),a.preventDefault(),a.stopImmediatePropagation()}return!0},j),b.registerCommand(C.KEY_ARROW_UP_COMMAND,a=>{if(null!==e&&e.length){let b=null===n?e.length-1:0!==n?n-1:e.length-1;q(b);let c=e[b];if(!c)return q(-1),a.preventDefault(),a.stopImmediatePropagation(),!0;c.ref&&c.ref.current&&X(c.ref.current),a.preventDefault(),a.stopImmediatePropagation()}return!0},j),b.registerCommand(C.KEY_ESCAPE_COMMAND,b=>(b.preventDefault(),b.stopImmediatePropagation(),a(),!0),j),b.registerCommand(C.KEY_TAB_COMMAND,a=>null!==e&&null!==n&&null!=e[n]&&(a.preventDefault(),a.stopImmediatePropagation(),p(e[n]),!0),j),b.registerCommand(C.KEY_ENTER_COMMAND,a=>null!==e&&null!==n&&null!=e[n]&&(null!==a&&(a.preventDefault(),a.stopImmediatePropagation()),p(e[n]),!0),j)),[p,a,b,e,n,q,j]),g(c,(0,f.useMemo)(()=>({options:e,selectOptionAndCleanUp:p,selectedIndex:n,setHighlightedIndex:m}),[p,n,e]),d.match?d.match.matchingString:"")}function _({options:a,onQueryChange:b,onSelectOption:c,onOpen:d,onClose:g,menuRenderFn:h,triggerFn:i,anchorClassName:j,commandPriority:k=C.COMMAND_PRIORITY_LOW,parent:l,preselectFirstItem:m=!0,ignoreEntityBoundary:n=!1}){let[o]=(0,T.useLexicalComposerContext)(),[p,q]=(0,f.useState)(null),r=function(a,b,c,d,e=!0){let[g]=(0,T.useLexicalComposerContext)(),h=(0,f.useRef)(null),i=(0,f.useCallback)(()=>{if(null===h.current||void 0===d)return;h.current.style.top=h.current.style.bottom;let b=g.getRootElement(),f=h.current,i=f.firstChild;if(null!==b&&null!==a){var j,k;let{left:g,top:l,width:m,height:n}=a.getRect(),o=h.current.offsetHeight;if(f.style.top=`${l+o+3+(e?window.pageYOffset:0)}px`,f.style.left=`${g+window.pageXOffset}px`,f.style.height=`${n}px`,f.style.width=`${m}px`,null!==i){i.style.top=`${l}`;let a=i.getBoundingClientRect(),c=a.height,d=a.width,h=b.getBoundingClientRect();g+d>h.right&&(f.style.left=`${h.right-d+window.pageXOffset}px`),(l+c>window.innerHeight||l+c>h.bottom)&&l-h.top>c+n&&(f.style.top=`${l-c-n+(e?window.pageYOffset:0)}px`)}f.isConnected||(j=f,null!=(k=c)&&(j.className=k),j.setAttribute("aria-label","Typeahead menu"),j.setAttribute("role","listbox"),j.style.display="block",j.style.position="absolute",d.append(f)),f.setAttribute("id","typeahead-menu"),b.setAttribute("aria-controls","typeahead-menu")}},[g,a,e,c,d]);(0,f.useEffect)(()=>{let b=g.getRootElement();return null!==a&&i(),()=>{null!==b&&b.removeAttribute("aria-controls");let a=h.current;null!==a&&a.isConnected&&(a.remove(),a.removeAttribute("id"))}},[g,i,a]);let j=(0,f.useCallback)(c=>{null!==a&&(c||b(null))},[a,b]);return function(a,b,c,d){let[e]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>{if(null!=b&&null!=a){let a=e.getRootElement(),f=null!=a?function(a){let b=getComputedStyle(a),c="absolute"===b.position,d=/(auto|scroll)/;if("fixed"===b.position)return document.body;for(let e=a;e=e.parentElement;)if(b=getComputedStyle(e),(!c||"static"!==b.position)&&d.test(b.overflow+b.overflowY+b.overflowX))return e;return document.body}(a):document.body,g=!1,h=Y(b,f),i=function(){g||(window.requestAnimationFrame(function(){c(),g=!1}),g=!0);let a=Y(b,f);a!==h&&(h=a,null!=d&&d(a))},j=new ResizeObserver(c);return window.addEventListener("resize",c),document.addEventListener("scroll",i,{capture:!0,passive:!0}),j.observe(b),()=>{j.unobserve(b),window.removeEventListener("resize",c),document.removeEventListener("scroll",i,!0)}}},[b,e,d,c,a])}(a,h.current,i,j),h}(p,q,j,l),s=(0,f.useCallback)(()=>{q(null),null!=g&&null!==p&&g()},[g,p]),t=(0,f.useCallback)(a=>{q(a),null!=d&&null===p&&d(a)},[d,p]);return(0,f.useEffect)(()=>{let a=o.registerUpdateListener(()=>{o.getEditorState().read(()=>{var a;let c;if(!o.isEditable())return void s();let d=o._window||window,e=d.document.createRange(),g=(0,C.$getSelection)(),h=(c=null,o.getEditorState().read(()=>{let a=(0,C.$getSelection)();(0,C.$isRangeSelection)(a)&&(c=function(a){let b=a.anchor;if("text"!==b.type)return null;let c=b.getNode();if(!c.isSimpleText())return null;let d=b.offset;return c.getTextContent().slice(0,d)}(a))}),c);if(!(0,C.$isRangeSelection)(g)||!g.isCollapsed()||null===h||null===e)return void s();let j=i(h,o);(b(j?j.matchingString:null),null!==j&&(n||!(0===j.leadOffset&&o.getEditorState().read(()=>{let a=(0,C.$getSelection)();if((0,C.$isRangeSelection)(a)){let b=a.anchor.getNode().getPreviousSibling();return(0,C.$isTextNode)(b)&&b.isTextEntity()}return!1})))&&null!==function(a,b,c){let d=(0,C.getDOMSelection)(c);if(null===d||!d.isCollapsed)return!1;let e=d.anchorNode,f=d.anchorOffset;if(null==e||null==f)return!1;try{b.setStart(e,a),b.setEnd(e,f)}catch(a){return!1}return!0}(j.leadOffset,e,d))?(a=()=>t({getRect:()=>e.getBoundingClientRect(),match:j}),U in f.default?f.default[U](a):a()):s()})});return()=>{a()}},[o,i,b,p,s,t,n]),(0,f.useEffect)(()=>o.registerEditableListener(a=>{a||s()}),[o,s]),null===p||null===o||null===r.current?null:(0,e.jsx)($,{close:s,resolution:p,editor:o,anchorElementRef:r,options:a,menuRenderFn:h,shouldSplitNodeWithQuery:!0,onSelectOption:c,commandPriority:k,preselectFirstItem:m})}(0,C.createCommand)("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND"),a.s(["LexicalTypeaheadMenuPlugin",()=>_,"MenuOption",()=>W],11626);var aa=((d={}).prompt="prompt",d.code="code",d);function ab(a,b){return a.getEditorState().read(()=>{let a=(0,C.$getNodeByKey)(b);return null!==a&&a.isSelected()})}a.s(["GeneratorType",()=>aa],992090),a.s(["useBasicTypeaheadTriggerMatch",()=>a2,"useLexicalTextEntity",()=>a1,"useSelectOrDelete",()=>a_,"useTrigger",()=>a0],109307);var ac=a.i(423201);a.s(["ContextBlock",()=>aA,"DELETE_CONTEXT_BLOCK_COMMAND",()=>az,"INSERT_CONTEXT_BLOCK_COMMAND",()=>ay],840220);var ad=a.i(111089);a.s(["$createContextBlockNode",()=>am,"$isContextBlockNode",()=>an,"ContextBlockNode",()=>al],774012);var ae=C,af=a.i(429150);a.i(207340);var ag=a.i(671125);a.s(["File05",()=>ag.default],747885);var ag=ag,ah=a.i(184088),ai=a.i(124116),aj=a.i(938409);let ak=({nodeKey:a,datasets:b=[],onAddContext:c,canNotAddContext:d})=>{let{t:h}=(0,g.useTranslation)(),[i,k]=a_(a,az),[l,m,n]=a0(),{eventEmitter:o}=(0,ai.useEventEmitterContextContext)(),[p,q]=(0,f.useState)(b);return o?.useSubscription(a=>{a?.type===aj.UPDATE_DATASETS_EVENT_EMITTER&&q(a.payload)}),(0,e.jsxs)("div",{className:`
      group inline-flex h-6 items-center rounded-[5px] border border-transparent bg-[#F4F3FF] pl-1 pr-0.5 text-[#6938EF] hover:bg-[#EBE9FE]
      ${m?"bg-[#EBE9FE]":"bg-[#F4F3FF]"}
      ${k&&"!border-[#9B8AFB]"}
    `,ref:i,children:[(0,e.jsx)(ag.default,{className:"mr-1 h-[14px] w-[14px]"}),(0,e.jsx)("div",{className:"mr-1 text-xs font-medium",children:h("promptEditor.context.item.title",{ns:"common"})}),!d&&(0,e.jsxs)(j.PortalToFollowElem,{open:m,onOpenChange:n,placement:"bottom-end",offset:{mainAxis:3,alignmentAxis:-147},children:[(0,e.jsx)(j.PortalToFollowElemTrigger,{ref:l,children:(0,e.jsx)("div",{className:`
            flex h-[18px] w-[18px] cursor-pointer items-center justify-center rounded text-[11px] font-semibold
            ${m?"bg-[#6938EF] text-white":"bg-white/50 group-hover:bg-white group-hover:shadow-xs"}
          `,children:p.length})}),(0,e.jsx)(j.PortalToFollowElemContent,{style:{zIndex:100},children:(0,e.jsxs)("div",{className:"w-[360px] rounded-xl bg-white shadow-lg",children:[(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsx)("div",{className:"mb-2 text-xs font-medium text-gray-500",children:h("promptEditor.context.modal.title",{ns:"common",num:p.length})}),(0,e.jsx)("div",{className:"max-h-[270px] overflow-y-auto",children:p.map(a=>(0,e.jsxs)("div",{className:"flex h-8 items-center",children:[(0,e.jsx)("div",{className:"mr-2 flex h-6 w-6 shrink-0 items-center justify-center rounded-md border-[0.5px] border-[#EAECF5] bg-[#F5F8FF]",children:(0,e.jsx)(ah.Folder,{className:"h-4 w-4 text-[#444CE7]"})}),(0,e.jsx)("div",{className:"truncate text-sm text-gray-800",title:"",children:a.name})]},a.id))}),(0,e.jsxs)("div",{className:"flex h-8 cursor-pointer items-center text-[#155EEF]",onClick:c,children:[(0,e.jsx)("div",{className:"mr-2 flex h-6 w-6 shrink-0 items-center justify-center rounded-md border-[0.5px] border-gray-100",children:(0,e.jsx)(af.RiAddLine,{className:"h-[14px] w-[14px]"})}),(0,e.jsx)("div",{className:"text-[13px] font-medium",title:"",children:h("promptEditor.context.modal.add",{ns:"common"})})]})]}),(0,e.jsx)("div",{className:"rounded-b-xl border-t-[0.5px] border-gray-50 bg-gray-50 px-4 py-3 text-xs text-gray-500",children:h("promptEditor.context.modal.footer",{ns:"common"})})]})})]})]})};class al extends ae.DecoratorNode{__datasets;__onAddContext;__canNotAddContext;static getType(){return"context-block"}static clone(a){return new al(a.__datasets,a.__onAddContext,a.getKey(),a.__canNotAddContext)}isInline(){return!0}constructor(a,b,c,d){super(c),this.__datasets=a,this.__onAddContext=b,this.__canNotAddContext=d||!1}createDOM(){let a=document.createElement("div");return a.classList.add("inline-flex","items-center","align-middle"),a}updateDOM(){return!1}decorate(){return(0,e.jsx)(ak,{nodeKey:this.getKey(),datasets:this.getDatasets(),onAddContext:this.getOnAddContext(),canNotAddContext:this.getCanNotAddContext()})}getDatasets(){return this.getLatest().__datasets}getOnAddContext(){return this.getLatest().__onAddContext}getCanNotAddContext(){return this.getLatest().__canNotAddContext}static importJSON(a){return am(a.datasets,a.onAddContext,a.canNotAddContext)}exportJSON(){return{type:"context-block",version:1,datasets:this.getDatasets(),onAddContext:this.getOnAddContext(),canNotAddContext:this.getCanNotAddContext()}}getTextContent(){return"{{#context#}}"}}function am(a,b,c){return new al(a,b,void 0,c)}function an(a){return a instanceof al}a.s(["default",()=>ax],952149);var ao=ad,ap=C;class aq extends ap.TextNode{static getType(){return"custom-text"}static clone(a){return new aq(a.__text,a.__key)}createDOM(a){return super.createDOM(a)}static importJSON(a){let b=(0,ap.$createTextNode)(a.text);return b.setFormat(a.format),b.setDetail(a.detail),b.setMode(a.mode),b.setStyle(a.style),b}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"custom-text",version:1}}isSimpleText(){return("text"===this.__type||"custom-text"===this.__type)&&0===this.__mode}}function ar(a){return new aq(a)}function as(a,b,c,d){let e=a=>a instanceof c,f=a=>{let b=(0,C.$createTextNode)(a.getTextContent());b.setFormat(a.getFormat()),a.replace(b)};return[a.registerNodeTransform(aq,a=>{let c;if(!a.isSimpleText())return;let g=a.getPreviousSibling(),h=a.getTextContent(),i=a;if((0,C.$isTextNode)(g)){let c=g.getTextContent(),d=b(c+h);if(e(g))if(null===d||0!==g.getLatest().__mode)return void f(g);else{let b=d.end-c.length;if(b>0){let d=c+h.slice(0,b);if(g.select(),g.setTextContent(d),b===h.length)a.remove();else{let c=h.slice(b);a.setTextContent(c)}return}}else if(null===d||d.start<c.length)return}for(;;){let a,j=null===(c=b(h))?"":h.slice(c.end);if(h=j,""===j){let a=i.getNextSibling();if((0,C.$isTextNode)(a)){let c=b(j=i.getTextContent()+a.getTextContent());if(null===c)return void(e(a)?f(a):a.markDirty());if(0!==c.start)return}}else{let a=b(j);if(null!==a&&0===a.start)return}if(null===c)return;if(0===c.start&&(0,C.$isTextNode)(g)&&g.isTextEntity())continue;0===c.start?[a,i]=i.splitText(c.end):[,a,i]=i.splitText(c.start,c.end);let k=d(a);if(k.setFormat(a.getFormat()),a.replace(k),null==i)return}}),a.registerNodeTransform(c,a=>{let c=a.getTextContent(),d=b(c);if(null===d||0!==d.start)return void f(a);if(c.length>d.end)return void a.splitText(d.end);let g=a.getPreviousSibling();(0,C.$isTextNode)(g)&&g.isTextEntity()&&(f(g),f(a));let h=a.getNextSibling();(0,C.$isTextNode)(h)&&h.isTextEntity()&&(f(h),e(a)&&f(a))})]}a.s(["$createCustomTextNode",()=>ar,"CustomTextNode",()=>aq],877950);let at=(a,b,c)=>{let d;if(!a.isSimpleText())return;let e=a.getPreviousSibling(),f=a.getTextContent(),g=a;for(;;){let a,h=null===(d=b(f))?"":f.slice(d.end);if(f=h,""===h){let a=g.getNextSibling();if((0,C.$isTextNode)(a)){let c=b(h=g.getTextContent()+a.getTextContent());if(null===c)return void a.markDirty();if(0!==c.start)return}}else{let a=b(h);if(null!==a&&0===a.start)return}if(null===d)return;if(0===d.start&&(0,C.$isTextNode)(e)&&e.isTextEntity())continue;0===d.start?[a,g]=g.splitText(d.end):[,a,g]=g.splitText(d.start,d.end);let i=c(a);if(a.replace(i),null==g)return}};function au(a){let b,c=(0,C.$getSelection)();if(!(0,C.$isRangeSelection)(c)||!c.isCollapsed())return null;let d=c.anchor;if("text"!==d.type)return null;let e=d.getNode();if(!e.isSimpleText())return null;let f=d.offset,g=e.getTextContent().slice(0,f),h=a.replaceableString.length,i=f-function(a,b,c){let d=c;for(let c=d;c<=b.length;c++)a.slice(-c)===b.slice(0,c)&&(d=c);return d}(g,a.matchingString,h);return i<0?null:(0===i?[b]=e.splitText(f):[,b]=e.splitText(i,f),b)}function av(a){return JSON.stringify({root:{children:(a&&"string"==typeof a?a.split("\n"):[""]).map(a=>({children:[{detail:0,format:0,mode:"normal",style:"",text:a,type:"custom-text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1})),direction:"ltr",format:"",indent:0,type:"root",version:1}})}a.s(["$splitNodeContainingQuery",()=>au,"decoratorTransform",0,at,"registerLexicalTextEntity",()=>as,"textToEditorState",()=>av],328784);let aw=new RegExp(aj.CONTEXT_PLACEHOLDER_TEXT),ax=(0,f.memo)(({datasets:a=[],onAddContext:b=ao.noop,onInsert:c,canNotAddContext:d})=>{let[e]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>{if(!e.hasNodes([al]))throw Error("ContextBlockNodePlugin: ContextBlockNode not registered on editor")},[e]);let g=(0,f.useCallback)(()=>(c&&c(),(0,C.$applyNodeReplacement)(am(a,b,d))),[a,b,c,d]),h=(0,f.useCallback)(a=>{let b=aw.exec(a);if(null===b)return null;let c=b.index;return{end:c+aj.CONTEXT_PLACEHOLDER_TEXT.length,start:c}},[]);return(0,f.useEffect)(()=>(aw.lastIndex=0,(0,ac.mergeRegister)(e.registerNodeTransform(aq,a=>at(a,h,g)))),[]),null}),ay=(0,C.createCommand)("INSERT_CONTEXT_BLOCK_COMMAND"),az=(0,C.createCommand)("DELETE_CONTEXT_BLOCK_COMMAND"),aA=(0,f.memo)(({datasets:a=[],onAddContext:b=ad.noop,onInsert:c,onDelete:d,canNotAddContext:e})=>{let[g]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>{if(!g.hasNodes([al]))throw Error("ContextBlockPlugin: ContextBlock not registered on editor");return(0,ac.mergeRegister)(g.registerCommand(ay,()=>{let d=am(a,b,e);return(0,C.$insertNodes)([d]),c&&c(),!0},C.COMMAND_PRIORITY_EDITOR),g.registerCommand(az,()=>(d&&d(),!0),C.COMMAND_PRIORITY_EDITOR))},[g,a,b,c,d,e]),null});aA.displayName="ContextBlock",a.s(["DELETE_HISTORY_BLOCK_COMMAND",()=>aM,"HistoryBlock",()=>aN,"INSERT_HISTORY_BLOCK_COMMAND",()=>aL],43610);var aB=ad;a.s(["$createHistoryBlockNode",()=>aG,"$isHistoryBlockNode",()=>aH,"HistoryBlockNode",()=>aF],574226);var aC=C,aD=a.i(581750);a.s(["MessageClockCircle",()=>aD.default],49974);var aD=aD;let aE=({nodeKey:a,roleName:b={user:"",assistant:""},onEditRole:c})=>{let{t:d}=(0,g.useTranslation)(),[h,i]=a_(a,aM),[k,l,m]=a0(),{eventEmitter:n}=(0,ai.useEventEmitterContextContext)(),[o,p]=(0,f.useState)(b);return n?.useSubscription(a=>{a?.type===aj.UPDATE_HISTORY_EVENT_EMITTER&&p(a.payload)}),(0,e.jsxs)("div",{className:`
      group inline-flex h-6 items-center rounded-[5px] border border-transparent pl-1 pr-0.5 text-[#DD2590] hover:bg-[#FCE7F6]
      ${l?"bg-[#FCE7F6]":"bg-[#FDF2FA]"}
      ${i&&"!border-[#F670C7]"}
    `,ref:h,children:[(0,e.jsx)(aD.default,{className:"mr-1 h-[14px] w-[14px]"}),(0,e.jsx)("div",{className:"mr-1 text-xs font-medium",children:d("promptEditor.history.item.title",{ns:"common"})}),(0,e.jsxs)(j.PortalToFollowElem,{open:l,onOpenChange:m,placement:"top-end",offset:{mainAxis:4,alignmentAxis:-148},children:[(0,e.jsx)(j.PortalToFollowElemTrigger,{ref:k,children:(0,e.jsx)("div",{className:`
            flex h-[18px] w-[18px] cursor-pointer items-center justify-center rounded
            ${l?"bg-[#DD2590] text-white":"bg-white/50 group-hover:bg-white group-hover:shadow-xs"}
          `,children:(0,e.jsx)(af.RiMoreFill,{className:"h-3 w-3"})})}),(0,e.jsx)(j.PortalToFollowElemContent,{style:{zIndex:100},children:(0,e.jsxs)("div",{className:"w-[360px] rounded-xl bg-white shadow-lg",children:[(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsx)("div",{className:"mb-2 text-xs font-medium text-gray-500",children:d("promptEditor.history.modal.title",{ns:"common"})}),(0,e.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,e.jsx)("div",{className:"mr-1 w-20 text-xs font-semibold",children:o?.user}),d("promptEditor.history.modal.user",{ns:"common"})]}),(0,e.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,e.jsx)("div",{className:"mr-1 w-20 text-xs font-semibold",children:o?.assistant}),d("promptEditor.history.modal.assistant",{ns:"common"})]})]}),(0,e.jsx)("div",{className:"cursor-pointer rounded-b-xl border-t border-black/5 px-4 py-3 text-xs text-[#155EEF]",onClick:c,children:d("promptEditor.history.modal.edit",{ns:"common"})})]})})]})]})};class aF extends aC.DecoratorNode{__roleName;__onEditRole;static getType(){return"history-block"}static clone(a){return new aF(a.__roleName,a.__onEditRole,a.__key)}constructor(a,b,c){super(c),this.__roleName=a,this.__onEditRole=b}isInline(){return!0}createDOM(){let a=document.createElement("div");return a.classList.add("inline-flex","items-center","align-middle"),a}updateDOM(){return!1}decorate(){return(0,e.jsx)(aE,{nodeKey:this.getKey(),roleName:this.getRoleName(),onEditRole:this.getOnEditRole()})}getRoleName(){return this.getLatest().__roleName}getOnEditRole(){return this.getLatest().__onEditRole}static importJSON(a){return aG(a.roleName,a.onEditRole)}exportJSON(){return{type:"history-block",version:1,roleName:this.getRoleName(),onEditRole:this.getOnEditRole}}getTextContent(){return"{{#histories#}}"}}function aG(a,b){return new aF(a,b)}function aH(a){return a instanceof aF}a.s(["default",()=>aK],71396);var aI=ad;let aJ=new RegExp(aj.HISTORY_PLACEHOLDER_TEXT),aK=({history:a={user:"",assistant:""},onEditRole:b=aI.noop,onInsert:c})=>{let[d]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>{if(!d.hasNodes([aF]))throw Error("HistoryBlockNodePlugin: HistoryBlockNode not registered on editor")},[d]);let e=(0,f.useCallback)(()=>(c&&c(),(0,C.$applyNodeReplacement)(aG(a,b))),[a,b,c]),g=(0,f.useCallback)(a=>{let b=aJ.exec(a);if(null===b)return null;let c=b.index;return{end:c+aj.HISTORY_PLACEHOLDER_TEXT.length,start:c}},[]);return(0,f.useEffect)(()=>(aJ.lastIndex=0,(0,ac.mergeRegister)(d.registerNodeTransform(aq,a=>at(a,g,e)))),[]),null},aL=(0,C.createCommand)("INSERT_HISTORY_BLOCK_COMMAND"),aM=(0,C.createCommand)("DELETE_HISTORY_BLOCK_COMMAND"),aN=(0,f.memo)(({history:a={user:"",assistant:""},onEditRole:b=aB.noop,onInsert:c,onDelete:d})=>{let[e]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>{if(!e.hasNodes([aF]))throw Error("HistoryBlockPlugin: HistoryBlock not registered on editor");return(0,ac.mergeRegister)(e.registerCommand(aL,()=>{let d=aG(a,b);return(0,C.$insertNodes)([d]),c&&c(),!0},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(aM,()=>(d&&d(),!0),C.COMMAND_PRIORITY_EDITOR))},[e,a,b,c,d]),null});aN.displayName="HistoryBlock",a.s(["DELETE_QUERY_BLOCK_COMMAND",()=>aZ,"INSERT_QUERY_BLOCK_COMMAND",()=>aY,"QueryBlock",()=>a$],375717),a.s(["$createQueryBlockNode",()=>aU,"$isQueryBlockNode",()=>aV,"QueryBlockNode",()=>aT],381188);var aO=C,aP=a.i(796807),aQ=(a.i(543748),a.i(495303));let aR=({ref:a,...b})=>(0,e.jsx)(aP.default,{...b,ref:a,data:aQ.default});aR.displayName="UserEdit02",a.i(422364),a.i(817364),a.s([],131260),a.s(["UserEdit02",0,aR],821651);let aS=({nodeKey:a})=>{let{t:b}=(0,g.useTranslation)(),[c,d]=a_(a,aZ);return(0,e.jsxs)("div",{className:`
        inline-flex h-6 items-center rounded-[5px] border border-transparent bg-[#FFF6ED] pl-1 pr-0.5 hover:bg-[#FFEAD5]
        ${d&&"!border-[#FD853A]"}
      `,ref:c,children:[(0,e.jsx)(aR,{className:"mr-1 h-[14px] w-[14px] text-[#FD853A]"}),(0,e.jsx)("div",{className:"text-xs font-medium text-[#EC4A0A] opacity-60",children:"{{"}),(0,e.jsx)("div",{className:"text-xs font-medium text-[#EC4A0A]",children:b("promptEditor.query.item.title",{ns:"common"})}),(0,e.jsx)("div",{className:"text-xs font-medium text-[#EC4A0A] opacity-60",children:"}}"})]})};class aT extends aO.DecoratorNode{static getType(){return"query-block"}static clone(){return new aT}isInline(){return!0}createDOM(){let a=document.createElement("div");return a.classList.add("inline-flex","items-center","align-middle"),a}updateDOM(){return!1}decorate(){return(0,e.jsx)(aS,{nodeKey:this.getKey()})}static importJSON(){return aU()}exportJSON(){return{type:"query-block",version:1}}getTextContent(){return"{{#query#}}"}}function aU(){return new aT}function aV(a){return a instanceof aT}a.s(["default",()=>aX],152211);let aW=new RegExp(aj.QUERY_PLACEHOLDER_TEXT),aX=(0,f.memo)(({onInsert:a})=>{let[b]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>{if(!b.hasNodes([aT]))throw Error("QueryBlockNodePlugin: QueryBlockNode not registered on editor")},[b]);let c=(0,f.useCallback)(()=>(a&&a(),(0,C.$applyNodeReplacement)(aU())),[a]),d=(0,f.useCallback)(a=>{let b=aW.exec(a);if(null===b)return null;let c=b.index;return{end:c+aj.QUERY_PLACEHOLDER_TEXT.length,start:c}},[]);return(0,f.useEffect)(()=>(aW.lastIndex=0,(0,ac.mergeRegister)(b.registerNodeTransform(aq,a=>at(a,d,c)))),[]),null}),aY=(0,C.createCommand)("INSERT_QUERY_BLOCK_COMMAND"),aZ=(0,C.createCommand)("DELETE_QUERY_BLOCK_COMMAND"),a$=(0,f.memo)(({onInsert:a,onDelete:b})=>{let[c]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>{if(!c.hasNodes([aT]))throw Error("QueryBlockPlugin: QueryBlock not registered on editor");return(0,ac.mergeRegister)(c.registerCommand(aY,()=>{let b=aU();return(0,C.$insertNodes)([b]),a&&a(),!0},C.COMMAND_PRIORITY_EDITOR),c.registerCommand(aZ,()=>(b&&b(),!0),C.COMMAND_PRIORITY_EDITOR))},[c,a,b]),null});a$.displayName="QueryBlock";let a_=(a,b)=>{let c=(0,f.useRef)(null),[d]=(0,T.useLexicalComposerContext)(),[e,g,h]=function(a){let[b]=(0,T.useLexicalComposerContext)(),[c,d]=(0,f.useState)(()=>ab(b,a));return(0,f.useEffect)(()=>{let c=!0,e=b.registerUpdateListener(()=>{c&&d(ab(b,a))});return()=>{c=!1,e()}},[b,a]),[c,(0,f.useCallback)(c=>{b.update(()=>{let b=(0,C.$getSelection)();(0,C.$isNodeSelection)(b)||(b=(0,C.$createNodeSelection)(),(0,C.$setSelection)(b)),(0,C.$isNodeSelection)(b)&&(c?b.add(a):b.delete(a))})},[b,a]),(0,f.useCallback)(()=>{b.update(()=>{let a=(0,C.$getSelection)();(0,C.$isNodeSelection)(a)&&a.clear()})},[b])]}(a),i=(0,f.useCallback)(c=>{let f=(0,C.$getSelection)(),g=f?.getNodes();if(!e&&g?.length===1&&(an(g[0])&&b===az||aH(g[0])&&b===aM||aV(g[0])&&b===aZ)&&d.dispatchCommand(b,void 0),e&&(0,C.$isNodeSelection)(f)){c.preventDefault();let e=(0,C.$getNodeByKey)(a);if((0,C.$isDecoratorNode)(e))return b&&d.dispatchCommand(b,void 0),e.remove(),!0}return!1},[e,a,b,d]),j=(0,f.useCallback)(a=>{a.metaKey||a.ctrlKey||(a.stopPropagation(),h(),g(!0))},[g,h]);return(0,f.useEffect)(()=>{let a=c.current;return a&&a.addEventListener("click",j),()=>{a&&a.removeEventListener("click",j)}},[j]),(0,f.useEffect)(()=>(0,ac.mergeRegister)(d.registerCommand(C.KEY_DELETE_COMMAND,i,C.COMMAND_PRIORITY_LOW),d.registerCommand(C.KEY_BACKSPACE_COMMAND,i,C.COMMAND_PRIORITY_LOW)),[d,h,i]),[c,e]},a0=()=>{let a=(0,f.useRef)(null),[b,c]=(0,f.useState)(!1),d=(0,f.useCallback)(a=>{a.stopPropagation(),c(a=>!a)},[]);return(0,f.useEffect)(()=>{let b=a.current;return b&&b.addEventListener("click",d),()=>{b&&b.removeEventListener("click",d)}},[d]),[a,b,c]};function a1(a,b,c){let[d]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>(0,ac.mergeRegister)(...as(d,a,b,c)),[c,d,a,b])}function a2(a,{minLength:b=1,maxLength:c=75}){return(0,f.useCallback)(d=>{let e=RegExp(`(.*)([${a}]((?:[\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%\\'"~=<>_:;\\s]){0,${c}}))$`).exec(d);if(null!==e){let a=e[1],c=e[3];if(c.length>=b)return{leadOffset:e.index+a.length,matchingString:c,replaceableString:e[2]}}return null},[c,b,a])}a.s(["CurrentBlock",()=>bd,"DELETE_CURRENT_BLOCK_COMMAND",()=>bc,"INSERT_CURRENT_BLOCK_COMMAND",()=>bb],722472),a.s(["$createCurrentBlockNode",()=>a8,"CurrentBlockNode",()=>a7],95793);var a3=C;a.i(622666);var a4=a.i(33968),a5=a.i(760581);let a6=({nodeKey:a,generatorType:b})=>{let[c]=(0,T.useLexicalComposerContext)(),[d,g]=a_(a,bc),h=b===aa.prompt?a5.MagicEdit:a4.CodeAssistant;return(0,f.useEffect)(()=>{if(!c.hasNodes([a7]))throw Error("WorkflowVariableBlockPlugin: WorkflowVariableBlock not registered on editor")},[c]),(0,e.jsxs)("div",{className:(0,n.cn)("group/wrap relative mx-0.5 flex h-[18px] select-none items-center rounded-[5px] border pl-0.5 pr-[3px] text-util-colors-violet-violet-600 hover:border-state-accent-solid hover:bg-state-accent-hover",g?" border-state-accent-solid bg-state-accent-hover":" border-components-panel-border-subtle bg-components-badge-white-to-dark"),onClick:a=>{a.stopPropagation()},ref:d,children:[(0,e.jsx)(h,{className:"mr-0.5 h-[14px] w-[14px]"}),(0,e.jsx)("div",{className:"text-xs font-medium",children:b===aa.prompt?"current_prompt":"current_code"})]})};class a7 extends a3.DecoratorNode{__generatorType;static getType(){return"current-block"}static clone(a){return new a7(a.__generatorType,a.getKey())}isInline(){return!0}constructor(a,b){super(b),this.__generatorType=a}createDOM(){let a=document.createElement("div");return a.classList.add("inline-flex","items-center","align-middle"),a}updateDOM(){return!1}decorate(){return(0,e.jsx)(a6,{nodeKey:this.getKey(),generatorType:this.getGeneratorType()})}getGeneratorType(){return this.getLatest().__generatorType}static importJSON(a){return a8(a.generatorType)}exportJSON(){return{type:"current-block",version:1,generatorType:this.getGeneratorType()}}getTextContent(){return"{{#current#}}"}}function a8(a){return new a7(a)}a.s(["default",()=>ba],764068);let a9=new RegExp(aj.CURRENT_PLACEHOLDER_TEXT),ba=(0,f.memo)(({generatorType:a,onInsert:b})=>{let[c]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>{if(!c.hasNodes([a7]))throw Error("CurrentBlockNodePlugin: CurrentBlockNode not registered on editor")},[c]);let d=(0,f.useCallback)(()=>(b&&b(),(0,C.$applyNodeReplacement)(a8(a))),[b,a]),e=(0,f.useCallback)(a=>{let b=a9.exec(a);if(null===b)return null;let c=b.index;return{end:c+aj.CURRENT_PLACEHOLDER_TEXT.length,start:c}},[]);return(0,f.useEffect)(()=>(a9.lastIndex=0,(0,ac.mergeRegister)(c.registerNodeTransform(aq,a=>at(a,e,d)))),[]),null}),bb=(0,C.createCommand)("INSERT_CURRENT_BLOCK_COMMAND"),bc=(0,C.createCommand)("DELETE_CURRENT_BLOCK_COMMAND"),bd=(0,f.memo)(({generatorType:a,onInsert:b,onDelete:c})=>{let[d]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>{if(!d.hasNodes([a7]))throw Error("CURRENTBlockPlugin: CURRENTBlock not registered on editor");return(0,ac.mergeRegister)(d.registerCommand(bb,()=>{let c=a8(a);return(0,C.$insertNodes)([c]),b&&b(),!0},C.COMMAND_PRIORITY_EDITOR),d.registerCommand(bc,()=>(c&&c(),!0),C.COMMAND_PRIORITY_EDITOR))},[d,a,c,b]),null});bd.displayName="CurrentBlock",a.s(["DELETE_ERROR_MESSAGE_COMMAND",()=>bm,"ErrorMessageBlock",()=>bn,"INSERT_ERROR_MESSAGE_BLOCK_COMMAND",()=>bl],82067),a.s(["$createErrorMessageBlockNode",()=>bi,"ErrorMessageBlockNode",()=>bh],217908);var be=C;a.i(805980);var bf=a.i(634919);let bg=({nodeKey:a})=>{let[b]=(0,T.useLexicalComposerContext)(),[c,d]=a_(a,bm);return(0,f.useEffect)(()=>{if(!b.hasNodes([bh]))throw Error("WorkflowVariableBlockPlugin: WorkflowVariableBlock not registered on editor")},[b]),(0,e.jsxs)("div",{className:(0,n.cn)("group/wrap relative mx-0.5 flex h-[18px] select-none items-center rounded-[5px] border pl-0.5 pr-[3px] text-util-colors-orange-dark-orange-dark-600 hover:border-state-accent-solid hover:bg-state-accent-hover",d?" border-state-accent-solid bg-state-accent-hover":" border-components-panel-border-subtle bg-components-badge-white-to-dark"),onClick:a=>{a.stopPropagation()},ref:c,children:[(0,e.jsx)(bf.Variable02,{className:"mr-0.5 h-[14px] w-[14px]"}),(0,e.jsx)("div",{className:"text-xs font-medium",children:"error_message"})]})};class bh extends be.DecoratorNode{static getType(){return"error-message-block"}static clone(a){return new bh(a.getKey())}isInline(){return!0}constructor(a){super(a)}createDOM(){let a=document.createElement("div");return a.classList.add("inline-flex","items-center","align-middle"),a}updateDOM(){return!1}decorate(){return(0,e.jsx)(bg,{nodeKey:this.getKey()})}static importJSON(){return bi()}exportJSON(){return{type:"error-message-block",version:1}}getTextContent(){return"{{#error_message#}}"}}function bi(){return new bh}a.s(["default",()=>bk],940259);let bj=new RegExp(aj.ERROR_MESSAGE_PLACEHOLDER_TEXT),bk=(0,f.memo)(({onInsert:a})=>{let[b]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>{if(!b.hasNodes([bh]))throw Error("ErrorMessageBlockNodePlugin: ErrorMessageBlockNode not registered on editor")},[b]);let c=(0,f.useCallback)(()=>(a&&a(),(0,C.$applyNodeReplacement)(bi())),[a]),d=(0,f.useCallback)(a=>{let b=bj.exec(a);if(null===b)return null;let c=b.index;return{end:c+aj.ERROR_MESSAGE_PLACEHOLDER_TEXT.length,start:c}},[]);return(0,f.useEffect)(()=>(bj.lastIndex=0,(0,ac.mergeRegister)(b.registerNodeTransform(aq,a=>at(a,d,c)))),[]),null}),bl=(0,C.createCommand)("INSERT_ERROR_MESSAGE_BLOCK_COMMAND"),bm=(0,C.createCommand)("DELETE_ERROR_MESSAGE_COMMAND"),bn=(0,f.memo)(({onInsert:a,onDelete:b})=>{let[c]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>{if(!c.hasNodes([bh]))throw Error("ERROR_MESSAGEBlockPlugin: ERROR_MESSAGEBlock not registered on editor");return(0,ac.mergeRegister)(c.registerCommand(bl,()=>{let b=bi();return(0,C.$insertNodes)([b]),a&&a(),!0},C.COMMAND_PRIORITY_EDITOR),c.registerCommand(bm,()=>(b&&b(),!0),C.COMMAND_PRIORITY_EDITOR))},[c,b,a]),null});bn.displayName="ErrorMessageBlock",a.s(["DELETE_LAST_RUN_COMMAND",()=>bv,"INSERT_LAST_RUN_BLOCK_COMMAND",()=>bu,"LastRunBlock",()=>bw],26164),a.s(["$createLastRunBlockNode",()=>br,"LastRunBlockNode",()=>bq],116850);var bo=C;let bp=({nodeKey:a})=>{let[b]=(0,T.useLexicalComposerContext)(),[c,d]=a_(a,bv);return(0,f.useEffect)(()=>{if(!b.hasNodes([bq]))throw Error("WorkflowVariableBlockPlugin: WorkflowVariableBlock not registered on editor")},[b]),(0,e.jsxs)("div",{className:(0,n.cn)("group/wrap relative mx-0.5 flex h-[18px] select-none items-center rounded-[5px] border pl-0.5 pr-[3px] text-text-accent hover:border-state-accent-solid hover:bg-state-accent-hover",d?" border-state-accent-solid bg-state-accent-hover":" border-components-panel-border-subtle bg-components-badge-white-to-dark"),onClick:a=>{a.stopPropagation()},ref:c,children:[(0,e.jsx)(bf.Variable02,{className:"mr-0.5 h-[14px] w-[14px]"}),(0,e.jsx)("div",{className:"text-xs font-medium",children:"last_run"})]})};class bq extends bo.DecoratorNode{static getType(){return"last-run-block"}static clone(a){return new bq(a.getKey())}isInline(){return!0}constructor(a){super(a)}createDOM(){let a=document.createElement("div");return a.classList.add("inline-flex","items-center","align-middle"),a}updateDOM(){return!1}decorate(){return(0,e.jsx)(bp,{nodeKey:this.getKey()})}static importJSON(){return br()}exportJSON(){return{type:"last-run-block",version:1}}getTextContent(){return"{{#last_run#}}"}}function br(){return new bq}a.s(["default",()=>bt],76448);let bs=new RegExp(aj.LAST_RUN_PLACEHOLDER_TEXT),bt=(0,f.memo)(({onInsert:a})=>{let[b]=(0,T.useLexicalComposerContext)();(0,f.useEffect)(()=>{if(!b.hasNodes([bq]))throw Error("LastRunMessageBlockNodePlugin: LastRunMessageBlockNode not registered on editor")},[b]);let c=(0,f.useCallback)(()=>(a&&a(),(0,C.$applyNodeReplacement)(br())),[a]),d=(0,f.useCallback)(a=>{let b=bs.exec(a);if(null===b)return null;let c=b.index;return{end:c+aj.LAST_RUN_PLACEHOLDER_TEXT.length,start:c}},[]);return(0,f.useEffect)(()=>(bs.lastIndex=0,(0,ac.mergeRegister)(b.registerNodeTransform(aq,a=>at(a,d,c)))),[]),null}),bu=(0,C.createCommand)("INSERT_LAST_RUN_BLOCK_COMMAND"),bv=(0,C.createCommand)("DELETE_LAST_RUN_COMMAND"),bw=(0,f.memo)(({onInsert:a,onDelete:b})=>{let[c]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>{if(!c.hasNodes([bq]))throw Error("Last_RunBlockPlugin: Last_RunBlock not registered on editor");return(0,ac.mergeRegister)(c.registerCommand(bu,()=>{let b=br();return(0,C.$insertNodes)([b]),a&&a(),!0},C.COMMAND_PRIORITY_EDITOR),c.registerCommand(bv,()=>(b&&b(),!0),C.COMMAND_PRIORITY_EDITOR))},[c,b,a]),null});bw.displayName="LastRunBlock";let bx=(0,C.createCommand)("INSERT_VARIABLE_BLOCK_COMMAND"),by=(0,C.createCommand)("INSERT_VARIABLE_VALUE_BLOCK_COMMAND");a.s(["INSERT_VARIABLE_VALUE_BLOCK_COMMAND",0,by,"default",0,()=>{let[a]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>(0,ac.mergeRegister)(a.registerCommand(bx,()=>{let a=new aq("{");return(0,C.$insertNodes)([a]),!0},C.COMMAND_PRIORITY_EDITOR),a.registerCommand(by,a=>{let b=new aq(a);return(0,C.$insertNodes)([b]),!0},C.COMMAND_PRIORITY_EDITOR)),[a]),null}],796264),a.s(["CLEAR_HIDE_MENU_TIMEOUT",()=>bN,"DELETE_WORKFLOW_VARIABLE_BLOCK_COMMAND",()=>bM,"INSERT_WORKFLOW_VARIABLE_BLOCK_COMMAND",()=>bL,"UPDATE_WORKFLOW_NODES_MAP",()=>bO,"WorkflowVariableBlock",()=>bP],891141),a.s(["$createWorkflowVariableBlockNode",()=>bJ,"WorkflowVariableBlockNode",()=>bI],189015);var bz=C,bA=a.i(970502),bB=a.i(483664),bC=a.i(986963),bD=a.i(294057);a.i(963284);var bE=a.i(419164),bE=bE,bF=a.i(193390);a.i(713310);var bG=a.i(81862);let bH=(0,f.memo)(({nodeKey:a,variables:b,workflowNodesMap:c={},getVarType:d,environmentVariables:h,conversationVariables:i,ragVariables:j})=>{let k,l,{t:m}=(0,g.useTranslation)(),[n]=(0,T.useLexicalComposerContext)(),[o,p]=a_(a,bM),q=b.length,r=(0,bC.isRagVariableVar)(b),s=q>2&&!r,t=(k=(0,bC.isSystemVar)(b),l=b[q-1],`${k?"sys.":""}${l}`),[u,v]=(0,f.useState)(c),w=u[b[+!!r]],x=(0,bG.isExceptionVariable)(t,w?.type),y=(0,f.useMemo)(()=>{let a=!0,c=(0,bC.isENV)(b),d=(0,bC.isConversationVar)(b);return!!(0,bC.isGlobalVar)(b)||(c?h&&(a=h.some(a=>a.variable===`${b?.[0]??""}.${b?.[1]??""}`)):d?i&&(a=i.some(a=>a.variable===`${b?.[0]??""}.${b?.[1]??""}`)):r?j&&(a=j.some(a=>a.variable===`${b?.[0]??""}.${b?.[1]??""}.${b?.[2]??""}`)):a=!!w,a)},[b,w,h,i,r,j]),z=(0,bA.useReactFlow)(),A=(0,bA.useStoreApi)();(0,f.useEffect)(()=>{if(!n.hasNodes([bI]))throw Error("WorkflowVariableBlockPlugin: WorkflowVariableBlock not registered on editor");return(0,ac.mergeRegister)(n.registerCommand(bO,a=>(v(a),!0),C.COMMAND_PRIORITY_EDITOR))},[n]);let B=(0,f.useCallback)(()=>{let{clientWidth:a,clientHeight:b}=document.getElementById("workflow-container"),{setViewport:c}=z,{transform:d}=A.getState(),e=d[2],f=w.position;c({x:(a-400-w.width*e)/2-f.x*e,y:(b-w.height*e)/2-f.y*e,zoom:d[2]})},[w,z,A]),D=(0,e.jsx)(bE.default,{nodeType:w?.type,nodeTitle:w?.title,variables:b,onClick:a=>{a.stopPropagation(),B()},isExceptionVariable:x,errorMsg:y?void 0:m("errorMsg.invalidVariable",{ns:"workflow"}),isSelected:p,ref:o,notShowFullPath:s});return w?(0,e.jsx)(bB.default,{noDecoration:!0,popupContent:(0,e.jsx)(bD.default,{nodeName:w.title,path:b.slice(1),varType:d?d({nodeId:b[0],valueSelector:b}):bF.Type.string,nodeType:w?.type}),disabled:!s,children:(0,e.jsx)("div",{children:D})}):D});class bI extends bz.DecoratorNode{__variables;__workflowNodesMap;__getVarType;__environmentVariables;__conversationVariables;__ragVariables;static getType(){return"workflow-variable-block"}static clone(a){return new bI(a.__variables,a.__workflowNodesMap,a.__getVarType,a.__key,a.__environmentVariables,a.__conversationVariables,a.__ragVariables)}isInline(){return!0}constructor(a,b,c,d,e,f,g){super(d),this.__variables=a,this.__workflowNodesMap=b,this.__getVarType=c,this.__environmentVariables=e,this.__conversationVariables=f,this.__ragVariables=g}createDOM(){let a=document.createElement("div");return a.classList.add("inline-flex","items-center","align-middle"),a}updateDOM(){return!1}decorate(){return(0,e.jsx)(bH,{nodeKey:this.getKey(),variables:this.__variables,workflowNodesMap:this.__workflowNodesMap,getVarType:this.__getVarType,environmentVariables:this.__environmentVariables,conversationVariables:this.__conversationVariables,ragVariables:this.__ragVariables})}static importJSON(a){return bJ(a.variables,a.workflowNodesMap,a.getVarType,a.environmentVariables,a.conversationVariables,a.ragVariables)}exportJSON(){return{type:"workflow-variable-block",version:1,variables:this.getVariables(),workflowNodesMap:this.getWorkflowNodesMap(),getVarType:this.getVarType(),environmentVariables:this.getEnvironmentVariables(),conversationVariables:this.getConversationVariables(),ragVariables:this.getRagVariables()}}getVariables(){return this.getLatest().__variables}getWorkflowNodesMap(){return this.getLatest().__workflowNodesMap}getVarType(){return this.getLatest().__getVarType}getEnvironmentVariables(){return this.getLatest().__environmentVariables}getConversationVariables(){return this.getLatest().__conversationVariables}getRagVariables(){return this.getLatest().__ragVariables}getTextContent(){return`{{#${this.getVariables().join(".")}#}}`}}function bJ(a,b,c,d,e,f){return new bI(a,b,c,void 0,d,e,f)}a.s(["default",()=>bK],921362);let bK=(0,f.memo)(({workflowNodesMap:a,getVarType:b,onInsert:c,variables:d})=>{let[e]=(0,T.useLexicalComposerContext)(),g=d?.reduce((a,b)=>("rag"===b.nodeId?a.push(...b.vars):a.push(...b.vars.filter(a=>a.isRagVariable)),a),[]);(0,f.useEffect)(()=>{if(!e.hasNodes([bI]))throw Error("WorkflowVariableBlockNodePlugin: WorkflowVariableBlockNode not registered on editor")},[e]);let h=(0,f.useCallback)(e=>{c&&c();let f=e.getTextContent().slice(3,-3);return(0,C.$applyNodeReplacement)(bJ(f.split("."),a,b,d?.find(a=>"env"===a.nodeId)?.vars||[],d?.find(a=>"conversation"===a.nodeId)?.vars||[],g))},[c,a,b,d]),i=(0,f.useCallback)(a=>{let b=k.VAR_REGEX.exec(a);if(null===b)return null;let c=b.index;return{end:c+b[0].length,start:c}},[]),j=(0,f.useCallback)(a=>((0,k.resetReg)(),at(a,i,h)),[h,i]);return(0,f.useEffect)(()=>((0,k.resetReg)(),(0,ac.mergeRegister)(e.registerNodeTransform(aq,j))),[]),null}),bL=(0,C.createCommand)("INSERT_WORKFLOW_VARIABLE_BLOCK_COMMAND"),bM=(0,C.createCommand)("DELETE_WORKFLOW_VARIABLE_BLOCK_COMMAND"),bN=(0,C.createCommand)("CLEAR_HIDE_MENU_TIMEOUT"),bO=(0,C.createCommand)("UPDATE_WORKFLOW_NODES_MAP"),bP=(0,f.memo)(({workflowNodesMap:a,onInsert:b,onDelete:c,getVarType:d})=>{let[e]=(0,T.useLexicalComposerContext)();return(0,f.useEffect)(()=>{e.update(()=>{e.dispatchCommand(bO,a)})},[e,a]),(0,f.useEffect)(()=>{if(!e.hasNodes([bI]))throw Error("WorkflowVariableBlockPlugin: WorkflowVariableBlock not registered on editor");return(0,ac.mergeRegister)(e.registerCommand(bL,c=>{e.dispatchCommand(bN,void 0);let f=bJ(c,a,d);return(0,C.$insertNodes)([f]),b&&b(),!0},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(bM,()=>(c&&c(),!0),C.COMMAND_PRIORITY_EDITOR))},[e,b,c,a,d]),null});bP.displayName="WorkflowVariableBlock";var bQ=a.i(234724);a.s(["ArrowUpRight",()=>bQ.default],565932)},493397,a=>{a.v({optimizationNoteText:"style-module__9rk8qW__optimizationNoteText",textGradient:"style-module__9rk8qW__textGradient"})},373178,526688,507131,76284,82371,404662,737767,428864,60005,101169,666791,491666,909742,463827,a=>{"use strict";a.s(["default",()=>bn,"languageMap",()=>bm],373178);var b=a.i(608061),c=a.i(989681),d=a.i(111089),e=a.i(57843),f=a.i(818386),g=a.i(787405),h=a.i(730357),i=a.i(954200),j=a.i(527344);a.i(499257),a.s(["default",()=>bl],463827);var k=a.i(875067),l=a.i(427228),m=a.i(175809),n=a.i(29304);a.i(849888);var o=a.i(134579),p=a.i(547252),q=a.i(220343),r=a.i(497746);a.s(["GetCodeGeneratorResModal",()=>bd,"default",()=>be],666791);var s=a.i(638599),t=a.i(264227);a.i(752298);var u=a.i(693025),v=a.i(909795),w=a.i(42550);a.i(10035);var x=a.i(901088),y=a.i(105249),z=a.i(940272),A=a.i(114715),B=a.i(933988),C=a.i(701458),D=a.i(962800),E=a.i(721647),F=a.i(926261),G=a.i(783296);a.i(529638);var H=a.i(35176),I=a.i(849546);a.i(412708);var J=a.i(851571),K=a.i(735310),L=a.i(185643),M=a.i(946136),N=a.i(608422),O=a.i(434877),P=a.i(971707),Q=a.i(563268),R=a.i(336822),S=a.i(928479),T=a.i(124116),U=a.i(938409),V=a.i(909698),W=a.i(591143),X=a.i(914114),Y=a.i(11626),Z=a.i(555237),$=a.i(992090),_=a.i(697638),aa=a.i(109307),ab=a.i(328784),ac=a.i(722472),ad=a.i(82067),ae=a.i(26164),af=a.i(796264),ag=a.i(891141),ah=a.i(355968);a.i(943046);var ai=a.i(565932);a.i(290384);var aj=a.i(65120);a.s(["BracketsX",()=>aj.default],526688);var aj=aj;a.i(207340);var ak=a.i(747885);a.i(658335);var al=a.i(49974),am=a.i(828648),am=am;a.i(131260);var an=a.i(821651),ao=a.i(840220),ap=a.i(877950),aq=a.i(43610),ar=a.i(375717),as=Y;class at extends as.MenuOption{data;group;constructor(a){super(a.key),this.data=a,this.onSelectMenuOption=()=>this.data.onSelect?.(),this.renderMenuOption=a=>(0,b.jsx)(e.Fragment,{children:this.data.render(a)},this.data.key),this.group=a.group}onSelectMenuOption;renderMenuOption}let au=(0,e.memo)(({icon:a,title:c,disabled:d,isSelected:e,onClick:f,onMouseEnter:g,setRefElement:h})=>(0,b.jsxs)("div",{className:`
        flex h-6 cursor-pointer items-center rounded-md px-3 hover:bg-state-base-hover
        ${e&&!d&&"!bg-state-base-hover"}
        ${d?"cursor-not-allowed opacity-30":"cursor-pointer hover:bg-state-base-hover"}
      `,tabIndex:-1,ref:h,onMouseEnter:()=>{d||g()},onMouseDown:a=>{a.preventDefault(),a.stopPropagation()},onClick:()=>{d||f()},children:[a,(0,b.jsx)("div",{className:"ml-1 text-[13px] text-text-secondary",children:c})]}));au.displayName="PromptMenuItem";let av=(0,e.memo)(({title:a,icon:c,extraElement:d,isSelected:e,queryString:f,onClick:g,onMouseEnter:h,setRefElement:i})=>{let j=a,k="",l="";if(f){let b=RegExp(f,"i").exec(a);b&&(j=a.substring(0,b.index),k=b[0],l=a.substring(b.index+b[0].length))}return(0,b.jsxs)("div",{className:`
        flex h-6 cursor-pointer items-center rounded-md px-3 hover:bg-state-base-hover
        ${e&&"bg-state-base-hover"}
      `,tabIndex:-1,ref:i,onMouseEnter:h,onMouseDown:a=>{a.preventDefault(),a.stopPropagation()},onClick:g,children:[(0,b.jsx)("div",{className:"mr-2",children:c}),(0,b.jsxs)("div",{className:"grow truncate text-[13px] text-text-secondary",title:a,children:[j,(0,b.jsx)("span",{className:"text-text-accent",children:k}),l]}),d]})});av.displayName="VariableMenuItem";let aw=(0,e.memo)(({triggerString:a,contextBlock:c,queryBlock:d,historyBlock:f,variableBlock:g,externalToolBlock:h,workflowVariableBlock:i,currentBlock:j,errorMessageBlock:k,lastRunBlock:l,isSupportFileVar:m})=>{var n;let o,p,q,r,{eventEmitter:s}=(0,T.useEventEmitterContextContext)(),{refs:t,floatingStyles:v,isPositioned:w}=(0,W.useFloating)({placement:"bottom-start",middleware:[(0,V.offset)(0),(0,V.shift)({padding:8}),(0,V.flip)()]}),[x]=(0,X.useLexicalComposerContext)(),y=(0,aa.useBasicTypeaheadTriggerMatch)(a,{minLength:0,maxLength:0}),[z,A]=(0,e.useState)(null);s?.useSubscription(a=>{a.type===af.INSERT_VARIABLE_VALUE_BLOCK_COMMAND&&x.dispatchCommand(af.INSERT_VARIABLE_VALUE_BLOCK_COMMAND,`{{${a.payload}}}`)});let{allFlattenOptions:B,workflowVariableOptions:C}=(o=((a,c,d)=>{let{t:e}=(0,u.useTranslation)(),[f]=(0,X.useLexicalComposerContext)(),g=[];return a?.show&&g.push(new at({key:e("promptEditor.context.item.title",{ns:"common"}),group:"prompt context",render:({isSelected:c,onSelect:d,onSetHighlight:f})=>(0,b.jsx)(au,{title:e("promptEditor.context.item.title",{ns:"common"}),icon:(0,b.jsx)(ak.File05,{className:"h-4 w-4 text-[#6938EF]"}),disabled:!a.selectable,isSelected:c,onClick:d,onMouseEnter:f}),onSelect:()=>{a?.selectable&&f.dispatchCommand(ao.INSERT_CONTEXT_BLOCK_COMMAND,void 0)}})),c?.show&&g.push(new at({key:e("promptEditor.query.item.title",{ns:"common"}),group:"prompt query",render:({isSelected:a,onSelect:d,onSetHighlight:f})=>(0,b.jsx)(au,{title:e("promptEditor.query.item.title",{ns:"common"}),icon:(0,b.jsx)(an.UserEdit02,{className:"h-4 w-4 text-[#FD853A]"}),disabled:!c.selectable,isSelected:a,onClick:d,onMouseEnter:f}),onSelect:()=>{c?.selectable&&f.dispatchCommand(ar.INSERT_QUERY_BLOCK_COMMAND,void 0)}})),d?.show&&g.push(new at({key:e("promptEditor.history.item.title",{ns:"common"}),group:"prompt history",render:({isSelected:a,onSelect:c,onSetHighlight:f})=>(0,b.jsx)(au,{title:e("promptEditor.history.item.title",{ns:"common"}),icon:(0,b.jsx)(al.MessageClockCircle,{className:"h-4 w-4 text-[#DD2590]"}),disabled:!d.selectable,isSelected:a,onClick:c,onMouseEnter:f}),onSelect:()=>{d?.selectable&&f.dispatchCommand(aq.INSERT_HISTORY_BLOCK_COMMAND,void 0)}})),g})(c,d,f),p=((a,c)=>{let{t:d}=(0,u.useTranslation)(),[f]=(0,X.useLexicalComposerContext)(),g=(0,e.useMemo)(()=>{if(!a?.variables)return[];let d=a.variables.map(a=>new at({key:a.value,group:"prompt variable",render:({queryString:c,isSelected:d,onSelect:e,onSetHighlight:f})=>(0,b.jsx)(av,{title:a.value,icon:(0,b.jsx)(aj.default,{className:"h-[14px] w-[14px] text-text-accent"}),queryString:c,isSelected:d,onClick:e,onMouseEnter:f}),onSelect:()=>{f.dispatchCommand(af.INSERT_VARIABLE_VALUE_BLOCK_COMMAND,`{{${a.value}}}`)}}));if(!c)return d;let e=RegExp(c,"i");return d.filter(a=>e.test(a.key))},[f,c,a]),h=(0,e.useMemo)(()=>new at({key:d("promptEditor.variable.modal.add",{ns:"common"}),group:"prompt variable",render:({queryString:a,isSelected:c,onSelect:e,onSetHighlight:f})=>(0,b.jsx)(av,{title:d("promptEditor.variable.modal.add",{ns:"common"}),icon:(0,b.jsx)(aj.default,{className:"h-[14px] w-[14px] text-text-accent"}),queryString:a,isSelected:c,onClick:e,onMouseEnter:f}),onSelect:()=>{f.update(()=>{let a=(0,ap.$createCustomTextNode)("{{"),b=(0,ap.$createCustomTextNode)("}}");(0,S.$insertNodes)([a,b]),a.select()})}}),[f,d]);return(0,e.useMemo)(()=>a?.show?[...g,h]:[],[g,h,a?.show])})(g,n),q=((a,c)=>{let{t:d}=(0,u.useTranslation)(),[f]=(0,X.useLexicalComposerContext)(),g=(0,e.useMemo)(()=>{if(!a?.externalTools)return[];let d=a.externalTools.map(a=>new at({key:a.name,group:"external tool",render:({queryString:c,isSelected:d,onSelect:e,onSetHighlight:f})=>(0,b.jsx)(av,{title:a.name,icon:(0,b.jsx)(ah.default,{className:"!h-[14px] !w-[14px]",icon:a.icon,background:a.icon_background}),extraElement:(0,b.jsx)("div",{className:"text-xs text-text-tertiary",children:a.variableName}),queryString:c,isSelected:d,onClick:e,onMouseEnter:f}),onSelect:()=>{f.dispatchCommand(af.INSERT_VARIABLE_VALUE_BLOCK_COMMAND,`{{${a.variableName}}}`)}}));if(!c)return d;let e=RegExp(c,"i");return d.filter(a=>e.test(a.key))},[f,c,a]),h=(0,e.useMemo)(()=>new at({key:d("promptEditor.variable.modal.addTool",{ns:"common"}),group:"external tool",render:({queryString:a,isSelected:c,onSelect:e,onSetHighlight:f})=>(0,b.jsx)(av,{title:d("promptEditor.variable.modal.addTool",{ns:"common"}),icon:(0,b.jsx)(am.default,{className:"h-[14px] w-[14px] text-text-accent"}),extraElement:(0,b.jsx)(ai.ArrowUpRight,{className:"h-3 w-3 text-text-tertiary"}),queryString:a,isSelected:c,onClick:e,onMouseEnter:f}),onSelect:()=>{a?.onAddExternalTool?.()}}),[a,d]);return(0,e.useMemo)(()=>a?.show?[...g,h]:[],[g,h,a?.show])})(h,n),r=(0,e.useMemo)(()=>{if(!i?.show)return[];let a=i.variables||[];if(k?.show&&-1===a.findIndex(a=>"error_message"===a.nodeId)&&a.unshift({nodeId:"error_message",title:"error_message",isFlat:!0,vars:[{variable:"error_message",type:K.VarType.string}]}),l?.show&&-1===a.findIndex(a=>"last_run"===a.nodeId)&&a.unshift({nodeId:"last_run",title:"last_run",isFlat:!0,vars:[{variable:"last_run",type:K.VarType.object}]}),j?.show&&-1===a.findIndex(a=>"current"===a.nodeId)){let b="prompt"===j.generatorType?"current_prompt":"current_code";a.unshift({nodeId:"current",title:b,isFlat:!0,vars:[{variable:"current",type:K.VarType.string}]})}return a},[i?.show,i?.variables,k?.show,l?.show,j?.show,j?.generatorType]),(0,e.useMemo)(()=>({workflowVariableOptions:r,allFlattenOptions:[...o,...p,...q]}),[o,p,q,r])),D=(0,e.useCallback)((a,b,c)=>{x.update(()=>{b&&a?.key&&b.remove(),a.onSelectMenuOption(),c()})},[x]),E=(0,e.useCallback)(b=>{if(x.update(()=>{let b=(0,ab.$splitNodeContainingQuery)(y(a,x));b&&b.remove()}),1===b.length){let a=b[0];"current"===a?x.dispatchCommand(ac.INSERT_CURRENT_BLOCK_COMMAND,j?.generatorType):"error_message"===a?x.dispatchCommand(ad.INSERT_ERROR_MESSAGE_BLOCK_COMMAND,null):"last_run"===a&&x.dispatchCommand(ae.INSERT_LAST_RUN_BLOCK_COMMAND,null)}else"sys.query"===b[1]||"sys.files"===b[1]?x.dispatchCommand(ag.INSERT_WORKFLOW_VARIABLE_BLOCK_COMMAND,[b[1]]):x.dispatchCommand(ag.INSERT_WORKFLOW_VARIABLE_BLOCK_COMMAND,b)},[x,j?.generatorType,y,a]),F=(0,e.useCallback)(()=>{let a=new KeyboardEvent("keydown",{key:"Escape"});x.dispatchCommand(S.KEY_ESCAPE_COMMAND,a)},[x]),G=(0,e.useCallback)((a,{options:c,selectedIndex:d,selectOptionAndCleanUp:f,setHighlightedIndex:g})=>a.current&&(B.length||i?.show)?(setTimeout(()=>{a.current&&t.setReference(a.current)},0),(0,b.jsx)(b.Fragment,{children:Z.default.createPortal((0,b.jsx)("div",{className:"h-0 w-0",children:(0,b.jsxs)("div",{className:"w-[260px] rounded-lg border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg",style:{...v,visibility:w?"visible":"hidden"},ref:t.setFloating,children:[i?.show&&(0,b.jsx)("div",{className:"p-1",children:(0,b.jsx)(_.default,{searchBoxClassName:"mt-1",vars:C,onChange:a=>{E(a)},maxHeightClass:"max-h-[34vh]",isSupportFileVar:m,onClose:F,onBlur:F,showManageInputField:i.showManageInputField,onManageInputField:i.onManageInputField,autoFocus:!1,isInCodeGeneratorInstructionEditor:j?.generatorType===$.GeneratorType.code})}),i?.show&&!!c.length&&(0,b.jsx)("div",{className:"my-1 h-px w-full -translate-x-1 bg-divider-subtle"}),(0,b.jsx)("div",{children:c.map((a,h)=>(0,b.jsxs)(e.Fragment,{children:[0!==h&&c.at(h-1)?.group!==a.group&&(0,b.jsx)("div",{className:"my-1 h-px w-full -translate-x-1 bg-divider-subtle"}),a.renderMenuOption({queryString:z,isSelected:d===h,onSelect:()=>{f(a)},onSetHighlight:()=>{g(h)}})]},a.key))})]})}),a.current)})):null,[B.length,i?.show,v,w,t,C,m,F,j?.generatorType,E,z,i?.showManageInputField,i?.onManageInputField]);return(0,b.jsx)(Y.LexicalTypeaheadMenuPlugin,{options:B,onQueryChange:A,onSelectOption:D,anchorClassName:"z-[999999] translate-y-[calc(-100%-3px)]",menuRenderFn:G,triggerFn:y})});var ax=a.i(774012),ay=a.i(952149),ay=ay,az=a.i(95793),aA=a.i(764068),aA=aA,aB=a.i(217908),aC=a.i(940259),aC=aC,aD=a.i(574226),aE=a.i(71396),aE=aE,aF=a.i(116850),aG=a.i(76448),aG=aG,aH=a.i(423201);let aI=({onBlur:a,onFocus:b})=>{let[c]=(0,X.useLexicalComposerContext)(),d=(0,e.useRef)(null);return(0,e.useEffect)(()=>(0,aH.mergeRegister)(c.registerCommand(ag.CLEAR_HIDE_MENU_TIMEOUT,()=>(d.current&&(clearTimeout(d.current),d.current=null),!0),S.COMMAND_PRIORITY_EDITOR),c.registerCommand(S.BLUR_COMMAND,b=>{let e=b?.relatedTarget;return!e?.classList?.contains("var-search-input")&&(d.current=setTimeout(()=>{c.dispatchCommand(S.KEY_ESCAPE_COMMAND,new KeyboardEvent("keydown",{key:"Escape"}))},200),a&&a()),!0},S.COMMAND_PRIORITY_EDITOR),c.registerCommand(S.FOCUS_COMMAND,()=>(b&&b(),!0),S.COMMAND_PRIORITY_EDITOR)),[c,a,b]),null};var aJ=a.i(951050),aK=a.i(381188),aL=a.i(152211),aL=aL;let aM="PROMPT_EDITOR_UPDATE_VALUE_BY_EVENT_EMITTER",aN="PROMPT_EDITOR_INSERT_QUICKLY",aO=({instanceId:a})=>{let{eventEmitter:b}=(0,T.useEventEmitterContextContext)(),[c]=(0,X.useLexicalComposerContext)();return b?.useSubscription(b=>{if(b.type===aM&&b.instanceId===a){let a=c.parseEditorState((0,ab.textToEditorState)(b.payload));c.setEditorState(a)}}),b?.useSubscription(b=>{b.type===aN&&b.instanceId===a&&(c.focus(),c.update(()=>{let a=new ap.CustomTextNode("/");(0,S.$insertNodes)([a]),c.dispatchCommand(ag.CLEAR_HIDE_MENU_TIMEOUT,void 0)}))}),null};a.s(["PROMPT_EDITOR_INSERT_QUICKLY",0,aN,"PROMPT_EDITOR_UPDATE_VALUE_BY_EVENT_EMITTER",0,aM,"default",0,aO],507131);var aP=S;class aQ extends aP.TextNode{static getType(){return"variable-value-block"}static clone(a){return new aQ(a.__text,a.__key)}createDOM(a){let b=super.createDOM(a);return b.classList.add("inline-flex","items-center","px-0.5","h-[22px]","text-text-accent","rounded-[5px]","align-middle"),b}static importJSON(a){let b=aR(a.text);return b.setFormat(a.format),b.setDetail(a.detail),b.setMode(a.mode),b.setStyle(a.style),b}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"variable-value-block",version:1}}canInsertTextBefore(){return!1}}function aR(a=""){return(0,aP.$applyNodeReplacement)(new aQ(a))}let aS=RegExp("\\{\\{[a-zA-Z_][a-zA-Z0-9_]{0,29}\\}\\}","i"),aT=()=>{let[a]=(0,X.useLexicalComposerContext)();(0,e.useEffect)(()=>{if(!a.hasNodes([aQ]))throw Error("VariableValueBlockPlugin: VariableValueNode not registered on editor")},[a]);let b=(0,e.useCallback)(a=>aR(a.getTextContent()),[]),c=(0,e.useCallback)(a=>{let b=aS.exec(a);if(null===b)return null;let c=b[0].length,d=b.index;return{end:d+c,start:d}},[]);return(0,aa.useLexicalTextEntity)(c,aQ,b),null};var aU=a.i(189015),aV=a.i(921362),aV=aV;let aW=({instanceId:a,compact:c,wrapperClassName:d,className:f,placeholder:g,placeholderClassName:h,style:i,value:k,editable:l=!0,onChange:m,onBlur:n,onFocus:o,contextBlock:p,queryBlock:q,historyBlock:r,variableBlock:s,externalToolBlock:t,workflowVariableBlock:u,currentBlock:v,errorMessageBlock:w,lastRunBlock:x,isSupportFileVar:y})=>{let{eventEmitter:z}=(0,T.useEventEmitterContextContext)(),A={namespace:"prompt-editor",nodes:[L.CodeNode,ap.CustomTextNode,{replace:S.TextNode,with:a=>new ap.CustomTextNode(a.__text)},ax.ContextBlockNode,aD.HistoryBlockNode,aK.QueryBlockNode,aU.WorkflowVariableBlockNode,aQ,az.CurrentBlockNode,aB.ErrorMessageBlockNode,aF.LastRunBlockNode],editorState:(0,ab.textToEditorState)(k||""),onError:a=>{throw a}};return(0,e.useEffect)(()=>{z?.emit({type:U.UPDATE_DATASETS_EVENT_EMITTER,payload:p?.datasets})},[z,p?.datasets]),(0,e.useEffect)(()=>{z?.emit({type:U.UPDATE_HISTORY_EVENT_EMITTER,payload:r?.history})},[z,r?.history]),(0,b.jsx)(M.LexicalComposer,{initialConfig:{...A,editable:l},children:(0,b.jsxs)("div",{className:(0,j.cn)("relative",d),children:[(0,b.jsx)(R.RichTextPlugin,{contentEditable:(0,b.jsx)(N.ContentEditable,{className:(0,j.cn)("text-text-secondary outline-none",c?"text-[13px] leading-5":"text-sm leading-6",f),style:i||{}}),placeholder:(0,b.jsx)(aJ.default,{value:g,className:(0,j.cn)("truncate",h),compact:c}),ErrorBoundary:O.LexicalErrorBoundary}),(0,b.jsx)(aw,{triggerString:"/",contextBlock:p,historyBlock:r,queryBlock:q,variableBlock:s,externalToolBlock:t,workflowVariableBlock:u,currentBlock:v,errorMessageBlock:w,lastRunBlock:x,isSupportFileVar:y}),(0,b.jsx)(aw,{triggerString:"{",contextBlock:p,historyBlock:r,queryBlock:q,variableBlock:s,externalToolBlock:t,workflowVariableBlock:u,currentBlock:v,errorMessageBlock:w,lastRunBlock:x,isSupportFileVar:y}),p?.show&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ao.ContextBlock,{...p}),(0,b.jsx)(ay.default,{...p})]}),q?.show&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ar.QueryBlock,{...q}),(0,b.jsx)(aL.default,{})]}),r?.show&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aq.HistoryBlock,{...r}),(0,b.jsx)(aE.default,{...r})]}),(s?.show||t?.show)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(af.default,{}),(0,b.jsx)(aT,{})]}),u?.show&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ag.WorkflowVariableBlock,{...u}),(0,b.jsx)(aV.default,{...u})]}),v?.show&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ac.CurrentBlock,{...v}),(0,b.jsx)(aA.default,{...v})]}),w?.show&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ad.ErrorMessageBlock,{...w}),(0,b.jsx)(aC.default,{...w})]}),x?.show&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ae.LastRunBlock,{...x}),(0,b.jsx)(aG.default,{...x})]}),y&&(0,b.jsx)(aT,{}),(0,b.jsx)(Q.OnChangePlugin,{onChange:a=>{let b=a.read(()=>(0,S.$getRoot)().getChildren().map(a=>a.getTextContent()).join("\n"));m&&m(b)}}),(0,b.jsx)(aI,{onBlur:n,onFocus:o}),(0,b.jsx)(aO,{instanceId:a}),(0,b.jsx)(P.HistoryPlugin,{})]})})};a.s(["default",0,aW],76284);var aX=a.i(193390);let aY="generate",aZ=e.memo(({editorKey:a,generatorType:c,value:d,onChange:e,availableVars:f,availableNodes:g,getVarType:h=()=>aX.Type.string,isShowCurrentBlock:i,isShowLastRunBlock:k})=>{let{t:l}=(0,u.useTranslation)(),{eventEmitter:m}=(0,T.useEventEmitterContextContext)(),n="code"===c,o=n?(0,b.jsx)("div",{className:"system-sm-regular whitespace-break-spaces !leading-6 text-text-placeholder",children:l(`${aY}.codeGenInstructionPlaceHolderLine`,{ns:"appDebug"})}):(0,b.jsxs)("div",{className:"system-sm-regular text-text-placeholder",children:[(0,b.jsx)("div",{className:"leading-6",children:l(`${aY}.instructionPlaceHolderTitle`,{ns:"appDebug"})}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("div",{children:l(`${aY}.instructionPlaceHolderLine1`,{ns:"appDebug"})}),(0,b.jsx)("div",{children:l(`${aY}.instructionPlaceHolderLine2`,{ns:"appDebug"})}),(0,b.jsx)("div",{children:l(`${aY}.instructionPlaceHolderLine3`,{ns:"appDebug"})})]})]});return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(aW,{wrapperClassName:"border !border-components-input-bg-normal bg-components-input-bg-normal hover:!border-components-input-bg-hover rounded-[10px] px-4 pt-3",instanceId:a,placeholder:o,placeholderClassName:"px-4 pt-3",className:(0,j.cn)("min-h-[240px] pb-8"),value:d,workflowVariableBlock:{show:!0,variables:f,getVarType:h,workflowNodesMap:g.reduce((a,b)=>(a[b.id]={title:b.data.title,type:b.data.type,width:b.width,height:b.height,position:b.position},b.data.type===K.BlockEnum.Start&&(a.sys={title:l("blocks.start",{ns:"workflow"}),type:K.BlockEnum.Start}),a),{})},currentBlock:{show:i,generatorType:c},errorMessageBlock:{show:n},lastRunBlock:{show:k},onChange:e,editable:!0,isSupportFileVar:!1},a),(0,b.jsxs)("div",{className:"system-xs-regular absolute bottom-0 left-4 flex h-8 items-center space-x-0.5 text-components-input-text-placeholder",children:[(0,b.jsx)("span",{children:l("generate.press",{ns:"appDebug"})}),(0,b.jsx)("span",{className:"system-kbd flex h-4 w-3.5 items-center justify-center rounded-[4px] bg-components-kbd-bg-gray text-text-placeholder",children:"/"}),(0,b.jsx)("span",{children:l("generate.to",{ns:"appDebug"})}),(0,b.jsx)("span",{onClick:()=>{m?.emit({type:aN,instanceId:a})},className:"!ml-1 cursor-pointer hover:border-b hover:border-dotted hover:border-text-tertiary hover:text-text-tertiary",children:l("generate.insertContext",{ns:"appDebug"})})]})]})});a.s(["default",0,aZ],82371);let a$=e.memo(({nodeId:a,value:c,editorKey:d,onChange:f,generatorType:g,isShowCurrentBlock:h})=>{let i=(0,J.useWorkflowStore)(),j=(0,e.useCallback)((a,b)=>{let{nodesWithInspectVars:c}=i.getState(),d=b?.[0];return!!c.find(a=>a.nodeId===d)&&a.type!==K.VarType.file&&a.type!==K.VarType.arrayFile},[i]),{availableVars:k,availableNodes:l}=(0,I.default)(a,{onlyLeafNodeVar:!1,filterVar:j}),m=(0,H.useWorkflowVariableType)();return(0,b.jsx)(aZ,{value:c,onChange:f,editorKey:d,generatorType:g,availableVars:k,availableNodes:l,getVarType:m,isShowCurrentBlock:h,isShowLastRunBlock:!0})});a.s(["default",0,a$],404662);let a_=e.memo(()=>{let{t:a}=(0,u.useTranslation)();return(0,b.jsxs)("div",{className:"flex h-full w-0 grow flex-col items-center justify-center space-y-3 px-8",children:[(0,b.jsx)(x.Generator,{className:"size-8 text-text-quaternary"}),(0,b.jsx)("div",{className:"text-center text-[13px] font-normal leading-5 text-text-tertiary",children:(0,b.jsx)("div",{children:a("generate.newNoDataLine1",{ns:"appDebug"})})})]})});a.s(["default",0,a_],737767);var a0=a.i(429150),a1=a.i(483664);let a2=e.memo(({value:a,onUpdate:d,showFormatButton:f=!0,editorWrapperClassName:g,readOnly:l=!1,hideTopMenu:m=!1,topContent:n,className:o,onFocus:p,onBlur:q})=>{let{t:r}=(0,u.useTranslation)(),{theme:s}=(0,h.default)(),t=(0,e.useRef)(null),v=(0,e.useRef)(null),[w,x]=e.useState(!1),y=(0,e.useRef)(null);(0,e.useEffect)(()=>{t.current&&(s===i.Theme.light?t.current.editor.setTheme("light-theme"):t.current.editor.setTheme("dark-theme"))},[s]);let z=(0,e.useCallback)((a,b)=>{v.current=a,t.current=b,a.onDidFocusEditorText(()=>{p?.()}),a.onDidBlurEditorText(()=>{q?.()}),b.editor.defineTheme("light-theme",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#00000000","editor.lineHighlightBackground":"#00000000",focusBorder:"#00000000"}}),b.editor.defineTheme("dark-theme",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#00000000","editor.lineHighlightBackground":"#00000000",focusBorder:"#00000000"}}),b.editor.setTheme("light-theme"),x(!0)},[]),A=(0,e.useCallback)(()=>{v.current&&v.current.getAction("editor.action.formatDocument")?.run()},[]),B=(0,e.useCallback)(a=>{void 0!==a&&d?.(a)},[d]),C=(0,e.useMemo)(()=>s===i.Theme.light?"light-theme":"dark-theme",[s]);return(0,e.useEffect)(()=>{let a=new ResizeObserver(()=>{v.current?.layout()});return y.current&&a.observe(y.current),()=>{a.disconnect()}},[]),(0,b.jsxs)("div",{className:(0,j.cn)("flex h-full flex-col overflow-hidden bg-components-input-bg-normal",m&&"pt-2",o),children:[!m&&(0,b.jsxs)("div",{className:"flex items-center justify-between pl-2 pr-1 pt-1",children:[(0,b.jsx)("div",{className:"system-xs-semibold-uppercase py-0.5 text-text-secondary",children:(0,b.jsx)("span",{className:"px-1 py-0.5",children:"JSON"})}),(0,b.jsxs)("div",{className:"flex items-center gap-x-0.5",children:[f&&(0,b.jsx)(a1.default,{popupContent:r("operation.format",{ns:"common"}),children:(0,b.jsx)("button",{type:"button",className:"flex h-6 w-6 items-center justify-center",onClick:A,children:(0,b.jsx)(a0.RiIndentIncrease,{className:"h-4 w-4 text-text-tertiary"})})}),(0,b.jsx)(a1.default,{popupContent:r("operation.copy",{ns:"common"}),children:(0,b.jsx)("button",{type:"button",className:"flex h-6 w-6 items-center justify-center",onClick:()=>(0,k.default)(a),children:(0,b.jsx)(a0.RiClipboardLine,{className:"h-4 w-4 text-text-tertiary"})})})]})]}),n,(0,b.jsx)("div",{className:(0,j.cn)("relative overflow-hidden",g),children:(0,b.jsx)(c.Editor,{defaultLanguage:"json",theme:w?C:"default-theme",value:a,onChange:B,onMount:z,options:{readOnly:l,domReadOnly:!0,minimap:{enabled:!1},tabSize:2,scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"same",overviewRulerBorder:!1,hideCursorInOverviewRuler:!0,renderLineHighlightOnlyWhenFocus:!1,renderLineHighlight:"none",scrollbar:{vertical:"hidden",horizontal:"hidden",verticalScrollbarSize:0,horizontalScrollbarSize:0,alwaysConsumeMouseWheel:!1}}})})]})});a.s(["default",0,a2],428864);let a3=e.memo(({value:a,workflowVariableBlock:c})=>{let[d,f]=e.useState("keyIdPrefix-0");return(0,e.useEffect)(()=>{f(`prompt-res-editor-${Date.now()}`)},[a]),(0,b.jsx)(aW,{value:a,editable:!1,className:"h-full bg-transparent pt-0",workflowVariableBlock:c},d)}),a4=e.memo(({value:a,nodeId:c})=>{let{t:d}=(0,u.useTranslation)(),{availableVars:e,availableNodes:f}=(0,I.default)(c,{onlyLeafNodeVar:!1,filterVar:a=>!0});return(0,b.jsx)(a3,{value:a,workflowVariableBlock:{show:!0,variables:e||[],getVarType:()=>aX.Type.string,workflowNodesMap:f.reduce((a,b)=>(a[b.id]={title:b.data.title,type:b.data.type,width:b.width,height:b.height,position:b.position},b.data.type===K.BlockEnum.Start&&(a.sys={title:d("blocks.start",{ns:"workflow"}),type:K.BlockEnum.Start}),a),{})}})});var a5=a.i(189583),a6=a.i(493397);let a7=({message:a,className:c})=>{let{t:d}=(0,u.useTranslation)(),[e,{toggle:f}]=(0,r.useBoolean)(!1);return(0,b.jsxs)("div",{className:(0,j.cn)("rounded-xl border-[0.5px] border-components-panel-border bg-background-section-burn pl-4 shadow-xs",c),children:[(0,b.jsxs)("div",{className:"my-3 flex h-4 items-center justify-between pr-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(a0.RiSparklingFill,{className:"size-3.5 text-components-input-border-active-prompt-1"}),(0,b.jsx)("span",{className:(0,j.cn)(a6.default.optimizationNoteText,"system-xs-semibold-uppercase"),children:d("generate.optimizationNote",{ns:"appDebug"})})]}),(0,b.jsx)(a0.RiArrowDownSLine,{className:(0,j.cn)("size-4 cursor-pointer text-text-tertiary",e&&"rotate-[-90deg]"),onClick:f})]}),!e&&(0,b.jsx)("div",{className:"pb-4 pr-4",children:(0,b.jsx)(a5.Markdown,{className:"!text-sm",content:a})})]})};var a8=a.i(825319);let a9=({versionLen:a,value:c,onChange:d})=>{let{t:f}=(0,u.useTranslation)(),[g,{setFalse:h,toggle:i,set:k}]=(0,r.useBoolean)(!1),l=a>1,m=(0,e.useCallback)(a=>{l&&k(a)},[l,i]),n=(0,e.useCallback)(()=>{l&&i()},[l,i]),o=Array.from({length:a},(b,c)=>({label:`${f("generate.version",{ns:"appDebug"})} ${c+1}${c===a-1?` \xb7 ${f("generate.latest",{ns:"appDebug"})}`:""}`,value:c}));return(0,b.jsxs)(a8.PortalToFollowElem,{placement:"bottom-start",offset:{mainAxis:4,crossAxis:-12},open:g,onOpenChange:m,children:[(0,b.jsx)(a8.PortalToFollowElemTrigger,{onClick:n,asChild:!0,children:(0,b.jsxs)("div",{className:(0,j.cn)("system-xs-medium flex items-center text-text-tertiary",g&&"text-text-secondary",l&&"cursor-pointer"),children:[(0,b.jsxs)("div",{children:[f("generate.version",{ns:"appDebug"})," ",c+1,c===a-1&&` \xb7 ${f("generate.latest",{ns:"appDebug"})}`]}),l&&(0,b.jsx)(a0.RiArrowDownSLine,{className:"size-3 "})]})}),(0,b.jsx)(a8.PortalToFollowElemContent,{className:(0,j.cn)("z-[99]"),children:(0,b.jsxs)("div",{className:(0,j.cn)("w-[208px] rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg"),children:[(0,b.jsx)("div",{className:(0,j.cn)("system-xs-medium-uppercase flex h-[22px] items-center px-3 pl-3 text-text-tertiary"),children:f("generate.versions",{ns:"appDebug"})}),o.map(a=>(0,b.jsxs)("div",{className:(0,j.cn)("system-sm-medium flex h-7 cursor-pointer items-center rounded-lg px-2 text-text-secondary hover:bg-state-base-hover"),title:a.label,onClick:()=>{d(a.value),h()},children:[(0,b.jsx)("div",{className:"mr-1 grow truncate px-1 pl-1",children:a.label}),c===a.value&&(0,b.jsx)(a0.RiCheckLine,{className:"h-4 w-4 shrink-0 text-text-accent"})]},a.value))]})})]})},ba=e.memo(({isBasicMode:a,nodeId:c,current:d,currentVersionIndex:e,setCurrentVersionIndex:f,versions:g,onApply:h,generatorType:i})=>{let{t:j}=(0,u.useTranslation)(),l=i===$.GeneratorType.prompt;return(0,b.jsxs)("div",{className:"flex h-full flex-col",children:[(0,b.jsxs)("div",{className:"mb-3 flex shrink-0 items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"shrink-0 text-base font-semibold leading-[160%] text-text-secondary",children:j("generate.resTitle",{ns:"appDebug"})}),(0,b.jsx)(a9,{versionLen:g.length,value:e,onChange:f})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(v.default,{className:"px-2",onClick:()=>{(0,k.default)(d.modified),A.default.notify({type:"success",message:j("actionMsg.copySuccessfully",{ns:"common"})})},children:(0,b.jsx)(a0.RiClipboardLine,{className:"h-4 w-4 text-text-secondary"})}),(0,b.jsx)(v.default,{variant:"primary",onClick:h,children:j("generate.apply",{ns:"appDebug"})})]})]}),(0,b.jsxs)("div",{className:"flex grow flex-col overflow-y-auto",children:[d?.message&&(0,b.jsx)(a7,{message:d.message,className:"mb-3 shrink-0"}),(0,b.jsx)("div",{className:"grow pb-6",children:l?a?(0,b.jsx)(a3,{value:d?.modified,workflowVariableBlock:{show:!1}}):(0,b.jsx)(a4,{value:d?.modified||"",nodeId:c}):(0,b.jsx)(a2,{editorWrapperClassName:"h-full",className:"bg-transparent pt-0",value:d?.modified,readOnly:!0,hideTopMenu:!0})})]})]})});a.s(["default",0,ba],60005);let bb="gen-data-",bc=({storageKey:a})=>{let[b,c]=(0,s.useSessionStorageState)(`${bb}${a}-versions`,{defaultValue:[]}),[d,f]=(0,s.useSessionStorageState)(`${bb}${a}-version-index`,{defaultValue:0}),g=b?.[d||0],h=(0,e.useCallback)(a=>{f(()=>b?.length||0),c(b=>[...b,a])},[c,f,b?.length]);return{versions:b,addVersion:h,currentVersionIndex:d,setCurrentVersionIndex:f,current:g}};a.s(["default",0,bc],101169);let bd=({flowId:a,nodeId:c,currentCode:d,mode:f,isShow:g,codeLanguages:h,onClose:i,onFinished:j})=>{let{t:k}=(0,u.useTranslation)(),l={temperature:.7,max_tokens:0,top_p:0,echo:!1,stop:[],presence_penalty:0,frequency_penalty:0},m=localStorage.getItem("auto-gen-model")?JSON.parse(localStorage.getItem("auto-gen-model")):null,[n,o]=e.useState(m||{name:"",provider:"",mode:f,completion_params:l}),{defaultModel:p}=(0,C.useModelListAndDefaultModelAndCurrentProviderAndModel)(B.ModelTypeEnum.textGeneration),[q,r]=(0,s.useSessionStorageState)(`improve-instruction-${a}-${c}`),H=q||"",[I,J]=(0,e.useState)(""),[K,{setTrue:L,setFalse:M}]=(0,t.default)(!1),{addVersion:N,current:O,currentVersionIndex:P,setCurrentVersionIndex:Q,versions:R}=bc({storageKey:`${a}-${c}`}),[S,T]=(0,e.useState)(`${a}-0`),{data:U}=(0,F.useGenerateRuleTemplate)($.GeneratorType.code);(0,e.useEffect)(()=>{!H&&U&&r(U.data),T(`${a}-${Date.now()}`)},[U]);let V=(0,e.useCallback)(a=>{let b={...n,provider:a.provider,name:a.modelId,mode:a.mode};o(b),localStorage.setItem("auto-gen-model",JSON.stringify(b))},[n,o]),W=(0,e.useCallback)(a=>{let b={...n,completion_params:a};o(b),localStorage.setItem("auto-gen-model",JSON.stringify(b))},[n,o]),X=async()=>{if((""!==H.trim()||(A.default.notify({type:"error",message:k("errorMsg.fieldRequired",{ns:"common",field:k("code.instruction",{ns:"appDebug"})})}),0))&&!K){L();try{let{error:b,...e}=await (0,E.generateRule)({flow_id:a,node_id:c,current:d,instruction:H,model_config:n,ideal_output:I,language:bm[h]||"javascript"});e.code&&(e.modified=e.code),b?A.default.notify({type:"error",message:b}):N(e)}finally{M()}}},[Y,{setTrue:Z,setFalse:_}]=(0,t.default)(!1);(0,e.useEffect)(()=>{if(p){let a=localStorage.getItem("auto-gen-model")?JSON.parse(localStorage.getItem("auto-gen-model")||""):null;a?o({...a,completion_params:{...l,...a.completion_params}}):o(a=>({...a,name:p.model,provider:p.provider.provider}))}},[p]);let aa=(0,b.jsxs)("div",{className:"flex h-full w-0 grow flex-col items-center justify-center space-y-3",children:[(0,b.jsx)(y.default,{}),(0,b.jsx)("div",{className:"text-[13px] text-text-tertiary",children:k("codegen.loading",{ns:"appDebug"})})]});return(0,b.jsxs)(z.default,{isShow:g,onClose:i,className:"min-w-[1140px] !p-0",children:[(0,b.jsxs)("div",{className:"relative flex h-[680px] flex-wrap",children:[(0,b.jsxs)("div",{className:"h-full w-[570px] shrink-0 overflow-y-auto border-r border-divider-regular p-6",children:[(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("div",{className:`text-lg font-bold leading-[28px] ${a6.default.textGradient}`,children:k("codegen.title",{ns:"appDebug"})}),(0,b.jsx)("div",{className:"mt-1 text-[13px] font-normal text-text-tertiary",children:k("codegen.description",{ns:"appDebug"})})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(D.default,{popupClassName:"!w-[520px]",portalToFollowElemContentClassName:"z-[1000]",isAdvancedMode:!0,provider:n.provider,completionParams:n.completion_params,modelId:n.name,setModel:V,onCompletionParamsChange:W,hideDebugWithMultipleModel:!0})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-[0px]",children:[(0,b.jsx)("div",{className:"system-sm-semibold-uppercase mb-1.5 text-text-secondary",children:k("codegen.instruction",{ns:"appDebug"})}),(0,b.jsx)(a$,{editorKey:S,value:H,onChange:r,nodeId:c,generatorType:$.GeneratorType.code,isShowCurrentBlock:!!d})]}),(0,b.jsx)(G.default,{value:I,onChange:J}),(0,b.jsxs)("div",{className:"mt-7 flex justify-end space-x-2",children:[(0,b.jsx)(v.default,{onClick:i,children:k("generate.dismiss",{ns:"appDebug"})}),(0,b.jsxs)(v.default,{className:"flex space-x-1",variant:"primary",onClick:X,disabled:K,children:[(0,b.jsx)(x.Generator,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs font-semibold ",children:k("codegen.generate",{ns:"appDebug"})})]})]})]})]}),K&&aa,!K&&!O&&(0,b.jsx)(a_,{}),!K&&O&&(0,b.jsx)("div",{className:"h-full w-0 grow bg-background-default-subtle p-6 pb-0",children:(0,b.jsx)(ba,{current:O,currentVersionIndex:P||0,setCurrentVersionIndex:Q,versions:R||[],onApply:Z,generatorType:$.GeneratorType.code})})]}),Y&&(0,b.jsx)(w.default,{title:k("codegen.overwriteConfirmTitle",{ns:"appDebug"}),content:k("codegen.overwriteConfirmMessage",{ns:"appDebug"}),isShow:!0,onConfirm:()=>{_(),j(O)},onCancel:_})]})},be=e.memo(bd);a.i(509681);var bf=a.i(131399);let bg=e.memo(({nodeId:a,currentCode:c,className:d,codeLanguages:f,onGenerated:g})=>{let[h,{setTrue:k,setFalse:l}]=(0,r.useBoolean)(!1),n=(0,e.useCallback)(a=>{g?.(a.modified),l()},[g,l]),o=(0,bf.useHooksStore)(a=>a.configsMap);return(0,b.jsxs)("div",{className:(0,j.cn)(d),children:[(0,b.jsx)(m.ActionButton,{className:"hover:bg-[#155EFF]/8",onClick:k,children:(0,b.jsx)(x.Generator,{className:"h-4 w-4 text-primary-600"})}),h&&(0,b.jsx)(bd,{mode:i.AppModeEnum.CHAT,isShow:h,codeLanguages:f,onClose:l,onFinished:n,flowId:o?.flowId||"",nodeId:a,currentCode:c})]})}),bh=e.memo(({isExpand:a,onExpandChange:c})=>{let d=(0,e.useCallback)(()=>{c(!a)},[a]),f=a?a0.RiCollapseDiagonalLine:a0.RiExpandDiagonalLine;return(0,b.jsx)(m.default,{onClick:d,children:(0,b.jsx)(f,{className:"h-4 w-4"})})});a.s(["default",0,bh],491666);let bi=({className:a,style:c,children:d})=>(0,b.jsx)("div",{className:a,style:c,children:d}),bj=({className:a,style:c,isExpand:d,children:e})=>{let f=(0,J.useStore)(a=>a.panelWidth),g=d?{...c,width:f-1}:c;return(0,b.jsx)("div",{className:a,style:g,children:e})},bk=e.memo(({isInNode:a,...c})=>a?(0,b.jsx)(bj,{...c}):(0,b.jsx)(bi,{...c}));a.s(["default",0,bk],909742);let bl=e.memo(({nodeId:a,className:c,title:d,headerRight:f,children:g,minHeight:h=120,value:i,isFocus:r,isInNode:s,onGenerated:t,codeLanguages:u,fileList:v=[],showFileList:w,showCodeGenerator:x=!1,tip:y,footer:z})=>{let A=(0,e.useRef)(null),{wrapClassName:B,wrapStyle:C,isExpand:D,setIsExpand:E,editorExpandHeight:F}=(0,q.default)({ref:A,hasFooter:!1,isInNode:s}),G=h-28,[H,I]=(0,e.useState)(G),[J,K]=e.useState(!1),L=(0,e.useCallback)(()=>{(0,k.default)(i),K(!0),setTimeout(()=>{K(!1)},2e3)},[i]);return(0,b.jsx)(bk,{className:(0,j.cn)(B),style:C,isInNode:s,isExpand:D,children:(0,b.jsxs)("div",{ref:A,className:(0,j.cn)(c,D&&"h-full","rounded-lg border",r?"overflow-hidden border-components-input-border-hover bg-components-input-bg-hover":"border-transparent bg-components-input-bg-normal"),children:[(0,b.jsxs)("div",{className:"flex h-7 items-center justify-between pl-3 pr-2 pt-1",children:[(0,b.jsx)("div",{className:"system-xs-semibold-uppercase text-text-secondary",children:d}),(0,b.jsxs)("div",{className:"flex items-center",onClick:a=>{a.nativeEvent.stopImmediatePropagation(),a.stopPropagation()},children:[f,!!(x&&u)&&(0,b.jsx)("div",{className:"ml-1",children:(0,b.jsx)(bg,{onGenerated:t,codeLanguages:u,currentCode:i,nodeId:a})}),(0,b.jsx)(m.default,{className:"ml-1",onClick:L,children:J?(0,b.jsx)(p.CopyCheck,{className:"h-4 w-4"}):(0,b.jsx)(o.Copy,{className:"h-4 w-4 cursor-pointer"})}),(0,b.jsx)("div",{className:"ml-1",children:(0,b.jsx)(bh,{isExpand:D,onExpandChange:E})})]})]}),!!y&&(0,b.jsx)("div",{className:"px-1 py-0.5",children:y}),(0,b.jsx)(l.default,{height:D?F:H,minHeight:G,onHeightChange:I,hideResize:D,children:(0,b.jsx)("div",{className:"h-full pb-2 pl-2",children:g})}),w&&v.length>0&&(0,b.jsx)(n.default,{fileList:v}),z]})})}),bm={[g.CodeLanguage.javascript]:"javascript",[g.CodeLanguage.python3]:"python",[g.CodeLanguage.json]:"json"},bn=e.memo(({nodeId:a,value:g="",placeholder:k="",onChange:l=d.noop,title:m="",headerRight:n,language:o,readOnly:p,isJSONStringifyBeauty:q,height:r,isInNode:s,onMount:t,noWrapper:u,isExpand:v,showFileList:w,onGenerated:x,showCodeGenerator:y=!1,className:z,tip:A,footer:B})=>{let[C,D]=e.useState(!1),[E,F]=e.useState(!1),[G,H]=(0,e.useState)(56),{theme:I}=(0,h.default)(),J=(0,e.useRef)(g);(0,e.useEffect)(()=>{J.current=g},[g]);let K=(0,e.useMemo)(()=>"object"==typeof g?(0,f.getFilesInLogs)(g):[],[g]),L=(0,e.useRef)(null),M=()=>{L.current&&H(L.current.getContentHeight())},N=(()=>{if(!q)return g;try{return JSON.stringify(g,null,2)}catch{return g}})(),O=(0,e.useMemo)(()=>I===i.Theme.light?"light":"vs-dark",[I]),P=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{language:bm[o]||"javascript",theme:E?O:"default-theme",value:N,loading:(0,b.jsx)("span",{className:"text-text-primary",children:"Loading..."}),onChange:a=>{l(a||""),setTimeout(()=>{M()},10)},options:{readOnly:p,domReadOnly:!0,quickSuggestions:!1,minimap:{enabled:!1},lineNumbersMinChars:1,wordWrap:"on",unicodeHighlight:{ambiguousCharacters:!1},stickyScroll:{enabled:!1}},onMount:(a,b)=>{L.current=a,M(),a.onDidFocusEditorText(()=>{D(!0)}),a.onDidBlurEditorText(()=>{D(!1)}),b.editor.setTheme(I===i.Theme.light?"light":"vs-dark"),t?.(a,b),F(!0)}}),!N&&!C&&(0,b.jsx)("div",{className:"pointer-events-none absolute left-[36px] top-0 text-[13px] font-normal leading-[18px] text-gray-300",children:k})]});return(0,b.jsx)("div",{className:(0,j.cn)(v&&"h-full",z),children:u?(0,b.jsx)("div",{className:"no-wrapper relative",style:{height:v?"100%":G/2+18,minHeight:18},children:P}):(0,b.jsx)(bl,{nodeId:a,className:"relative",title:m,value:N,headerRight:n,isFocus:C&&!p,minHeight:r||200,isInNode:s,onGenerated:x,codeLanguages:o,fileList:K,showFileList:w,showCodeGenerator:y,tip:A,footer:B,children:P})})})}];

//# sourceMappingURL=_c2262080._.js.map