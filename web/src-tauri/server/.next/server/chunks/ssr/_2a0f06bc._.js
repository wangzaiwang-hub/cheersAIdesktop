module.exports=[280342,a=>{"use strict";var b=a.i(57843),c={SVG:"image/svg+xml",ICO:"image/x-icon",GIF:"image/gif",PNG:"image/png"};let d=function(a){(0,b.useEffect)(function(){if(a){var b=a.split("."),d=b[b.length-1].toLocaleUpperCase(),e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type=c[d],e.href=a,e.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(e)}},[a])};var e=a.i(240944),f=a.i(446855),g={restoreOnUnmount:!1};let h=function(a,c){void 0===c&&(c=g);var d=(0,b.useRef)(f.default?document.title:"");(0,b.useEffect)(function(){document.title=a},[a]),(0,e.default)(function(){c.restoreOnUnmount&&(document.title=d.current)})};var i=a.i(724423),j=a.i(499257);function k(a){let c=(0,i.useIsSystemFeaturesPending)(),e=(0,i.useGlobalPublicStore)(a=>a.systemFeatures),f=a?`${a} - `:"",g="",k="";!1===c&&(e.branding.enabled?(g=`${f}${e.branding.application_title}`,k=e.branding.favicon):(g=`${f}Dify`,k=`${j.basePath}/favicon.ico`)),h(g),(0,b.useEffect)(()=>{let a=null;return e.branding.favicon&&(document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon'], link[rel='mask-icon']").forEach(a=>a.parentNode?.removeChild(a)),(a=document.createElement("link")).rel="apple-touch-icon",a.href=e.branding.favicon,document.head.appendChild(a)),()=>{a?.remove()}},[e.branding.favicon]),d(k)}a.s(["default",()=>k],280342)},113817,a=>{"use strict";var b=a.i(111089);let c=(0,a.i(639378).createContext)({controlUpdateInstalledApps:0,setControlUpdateInstalledApps:b.noop,hasEditPermission:!1,installedApps:[],setInstalledApps:b.noop,isFetchingInstalledApps:!1,setIsFetchingInstalledApps:b.noop,isShowTryAppPanel:!1,setShowTryAppPanel:b.noop,currentApp:void 0});a.s(["default",0,c])},588792,a=>{a.v({actionIcon:"style-module__eu-5gG__actionIcon",actionItem:"style-module__eu-5gG__actionItem",actionName:"style-module__eu-5gG__actionName",btn:"style-module__eu-5gG__btn",commonIcon:"style-module__eu-5gG__commonIcon",deleteActionItem:"style-module__eu-5gG__deleteActionItem",deleteActionItemChild:"style-module__eu-5gG__deleteActionItemChild",open:"style-module__eu-5gG__open"})},677520,a=>{a.v({dark:"style-module__1Ea5Da__dark",light:"style-module__1Ea5Da__light"})},135521,a=>{"use strict";var b=a.i(608061),c=a.i(57843);a.i(752298);var d=a.i(693025),e=a.i(533306),f=a.i(429150),g=a.i(497746),h=a.i(413192),i=a.i(639378),j=a.i(42550),k=a.i(757801),l=a.i(113817),m=a.i(585124),n=a.i(828644),o=a.i(527344),p=a.i(114715),q=a.i(292458),r=a.i(355968),s=a.i(825319);a.i(622666);var t=a.i(871640),t=t,u=a.i(588792);let v=c.memo(({className:a,isItemHovering:e,isPinned:h,togglePin:i,isShowRenameConversation:j,onRenameConversation:k,isShowDelete:l,onDelete:m})=>{let{t:n}=(0,d.useTranslation)(),[p,q]=(0,c.useState)(!1),r=(0,c.useRef)(null),[v,{setTrue:w,setFalse:x}]=(0,g.useBoolean)(!1);return(0,c.useEffect)(()=>{e||v||q(!1)},[e,v]),(0,b.jsxs)(s.PortalToFollowElem,{open:p,onOpenChange:q,placement:"bottom-end",offset:4,children:[(0,b.jsx)(s.PortalToFollowElemTrigger,{onClick:()=>q(a=>!a),children:(0,b.jsx)("div",{className:(0,o.cn)(a,u.default.btn,"h-6 w-6 rounded-md border-none py-1",(e||p)&&`${u.default.open} !bg-components-actionbar-bg !shadow-none`),"data-testid":"item-operation-trigger"})}),(0,b.jsx)(s.PortalToFollowElemContent,{className:"z-50",children:(0,b.jsxs)("div",{ref:r,className:"min-w-[120px] rounded-lg border border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg backdrop-blur-[5px]",onMouseEnter:w,onMouseLeave:x,onClick:a=>{a.stopPropagation()},children:[(0,b.jsxs)("div",{className:(0,o.cn)(u.default.actionItem,"group hover:bg-state-base-hover"),onClick:i,children:[(0,b.jsx)(t.default,{className:"h-4 w-4 shrink-0 text-text-secondary"}),(0,b.jsx)("span",{className:u.default.actionName,children:n(h?"sidebar.action.unpin":"sidebar.action.pin",{ns:"explore"})})]}),j&&(0,b.jsxs)("div",{className:(0,o.cn)(u.default.actionItem,"group hover:bg-state-base-hover"),onClick:k,children:[(0,b.jsx)(f.RiEditLine,{className:"h-4 w-4 shrink-0 text-text-secondary"}),(0,b.jsx)("span",{className:u.default.actionName,children:n("sidebar.action.rename",{ns:"explore"})})]}),l&&(0,b.jsxs)("div",{className:(0,o.cn)(u.default.actionItem,u.default.deleteActionItem,"group hover:bg-state-base-hover"),onClick:m,children:[(0,b.jsx)(f.RiDeleteBinLine,{className:(0,o.cn)(u.default.deleteActionItemChild,"h-4 w-4 shrink-0 stroke-current stroke-2 text-text-secondary")}),(0,b.jsx)("span",{className:(0,o.cn)(u.default.actionName,u.default.deleteActionItemChild),children:n("sidebar.action.delete",{ns:"explore"})})]})]})})]})});function w({isMobile:a,name:d,id:f,icon_type:g,icon:h,icon_background:i,icon_url:j,isSelected:k,isPinned:l,togglePin:m,uninstallable:n,onDelete:p}){let s=(0,e.useRouter)(),t=`/explore/installed/${f}`,u=(0,c.useRef)(null),w=(0,q.useHover)(u);return(0,b.jsxs)("div",{ref:u,className:(0,o.cn)("system-sm-medium flex h-8 items-center justify-between rounded-lg px-2 text-sm font-normal text-components-menu-item-text mobile:justify-center mobile:px-1",k?"bg-state-base-active text-components-menu-item-text-active":"hover:bg-state-base-hover hover:text-components-menu-item-text-hover"),onClick:()=>{s.push(t)},children:[a&&(0,b.jsx)(r.default,{size:"tiny",iconType:g,icon:h,background:i,imageUrl:j}),!a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex w-0 grow items-center space-x-2",children:[(0,b.jsx)(r.default,{size:"tiny",iconType:g,icon:h,background:i,imageUrl:j}),(0,b.jsx)("div",{className:"system-sm-regular truncate text-components-menu-item-text",title:d,children:d})]}),(0,b.jsx)("div",{className:"h-6 shrink-0",onClick:a=>a.stopPropagation(),children:(0,b.jsx)(v,{isPinned:l,isItemHovering:w,togglePin:m,isShowDelete:!n&&!k,onDelete:()=>p(f)})})]})]},f)}var x=a.i(252813),y=a.i(730357),z=a.i(954200),A=a.i(677520);let B="sidebar.noApps",C=c.memo(()=>{let{t:a}=(0,d.useTranslation)(),{theme:c}=(0,y.default)(),e=(0,x.useDocLink)();return(0,b.jsxs)("div",{className:"rounded-xl bg-background-default-subtle p-4",children:[(0,b.jsx)("div",{className:(0,o.cn)("h-[35px] w-[86px] bg-contain bg-center bg-no-repeat",c===z.Theme.dark?A.default.dark:A.default.light)}),(0,b.jsx)("div",{className:"system-sm-semibold mt-2 text-text-secondary",children:a(`${B}.title`,{ns:"explore"})}),(0,b.jsx)("div",{className:"system-xs-regular my-1 text-text-tertiary",children:a(`${B}.description`,{ns:"explore"})}),(0,b.jsx)("a",{className:"system-xs-regular text-text-accent",target:"_blank",rel:"noopener noreferrer",href:e("/use-dify/publish/README"),children:a(`${B}.learnMore`,{ns:"explore"})})]})}),D=c.memo(({controlUpdateInstalledApps:a})=>{let{t:q}=(0,d.useTranslation)(),r=(0,e.useSelectedLayoutSegments)().slice(-1)[0],s="apps"===r,{installedApps:t,setInstalledApps:u,setIsFetchingInstalledApps:v}=(0,i.useContext)(l.default),{isFetching:x,data:y,refetch:z}=(0,n.useGetInstalledApps)(),{mutateAsync:A}=(0,n.useUninstallApp)(),{mutateAsync:B}=(0,n.useUpdateAppPinStatus)(),D=(0,m.default)()===m.MediaType.mobile,[E,{toggle:F}]=(0,g.useBoolean)(!1),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(""),K=async()=>{await A(I),H(!1),p.default.notify({type:"success",message:q("api.remove",{ns:"common"})})},L=async(a,b)=>{await B({appId:a,isPinned:b}),p.default.notify({type:"success",message:q("api.success",{ns:"common"})})};(0,c.useEffect)(()=>{let a=y?.installed_apps;a&&a.length>0?u(a):u([])},[y,u]),(0,c.useEffect)(()=>{v(x)},[x,v]),(0,c.useEffect)(()=>{z()},[a,z]);let M=t.filter(({is_pinned:a})=>a).length;return(0,b.jsxs)("div",{className:(0,o.cn)("relative w-fit shrink-0 cursor-pointer px-3 pt-6 sm:w-[240px]",E&&"sm:w-[56px]"),children:[(0,b.jsx)("div",{className:(0,o.cn)(s?"text-text-accent":"text-text-tertiary"),children:(0,b.jsxs)(h.default,{href:"/explore/apps",className:(0,o.cn)(s?"bg-state-base-active":"hover:bg-state-base-hover","flex h-8 items-center gap-2 rounded-lg px-1 mobile:w-fit mobile:justify-center pc:w-full pc:justify-start"),children:[(0,b.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center rounded-md bg-components-icon-bg-blue-solid",children:(0,b.jsx)(f.RiAppsFill,{className:"size-3.5 text-components-avatar-shape-fill-stop-100"})}),!D&&!E&&(0,b.jsx)("div",{className:(0,o.cn)("truncate",s?"system-sm-semibold text-components-menu-item-text-active":"system-sm-regular text-components-menu-item-text"),children:q("sidebar.title",{ns:"explore"})})]})}),0===t.length&&!D&&!E&&(0,b.jsx)("div",{className:"mt-5",children:(0,b.jsx)(C,{})}),t.length>0&&(0,b.jsxs)("div",{className:"mt-5",children:[!D&&!E&&(0,b.jsx)("p",{className:"system-xs-medium-uppercase mb-1.5 break-all pl-2 uppercase text-text-tertiary mobile:px-0",children:q("sidebar.webApps",{ns:"explore"})}),(0,b.jsx)("div",{className:"space-y-0.5 overflow-y-auto overflow-x-hidden",style:{height:"calc(100vh - 250px)"},children:t.map(({id:a,is_pinned:d,uninstallable:e,app:{name:f,icon_type:g,icon:h,icon_url:i,icon_background:j}},l)=>(0,b.jsxs)(c.Fragment,{children:[(0,b.jsx)(w,{isMobile:D||E,name:f,icon_type:g,icon:h,icon_background:j,icon_url:i,id:a,isSelected:r?.toLowerCase()===a,isPinned:d,togglePin:()=>L(a,!d),uninstallable:e,onDelete:a=>{J(a),H(!0)}}),l===M-1&&l!==t.length-1&&(0,b.jsx)(k.default,{})]},a))})]}),!D&&(0,b.jsx)("div",{className:"absolute bottom-3 left-3 flex size-8 cursor-pointer items-center justify-center text-text-tertiary",onClick:F,children:E?(0,b.jsx)(f.RiExpandRightLine,{className:"size-4.5"}):(0,b.jsx)(f.RiLayoutLeft2Line,{className:"size-4.5"})}),G&&(0,b.jsx)(j.default,{title:q("sidebar.delete.title",{ns:"explore"}),content:q("sidebar.delete.content",{ns:"explore"}),isShow:G,onConfirm:K,onCancel:()=>H(!1)})]})});var E=a.i(705134),F=a.i(280342),G=a.i(763539);let H=c.memo(({children:a})=>{let f=(0,e.useRouter)(),[g,h]=(0,c.useState)(0),{userProfile:i,isCurrentWorkspaceDatasetOperator:j}=(0,E.useAppContext)(),[k,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),{t:r}=(0,d.useTranslation)(),{data:s}=(0,G.useMembers)();(0,F.default)(r("menus.explore",{ns:"common"})),(0,c.useEffect)(()=>{if(!s?.accounts)return;let a=s.accounts.find(a=>a.id===i.id);m(a?.role!=="normal")},[s,i.id]),(0,c.useEffect)(()=>{if(j)return f.replace("/datasets")},[j]);let[t,u]=(0,c.useState)(void 0),[v,w]=(0,c.useState)(!1);return(0,b.jsx)("div",{className:"flex h-full overflow-hidden border-t border-divider-regular bg-background-body",children:(0,b.jsxs)(l.default.Provider,{value:{controlUpdateInstalledApps:g,setControlUpdateInstalledApps:h,hasEditPermission:k,installedApps:n,setInstalledApps:o,isFetchingInstalledApps:p,setIsFetchingInstalledApps:q,currentApp:t,isShowTryAppPanel:v,setShowTryAppPanel:(a,b)=>{a?u(b):u(void 0),w(a)}},children:[(0,b.jsx)(D,{controlUpdateInstalledApps:g}),(0,b.jsx)("div",{className:"w-0 grow",children:a})]})})}),I=c.memo(({children:a})=>{let{t:c}=(0,d.useTranslation)();return(0,F.default)(c("menus.explore",{ns:"common"})),(0,b.jsx)(H,{children:a})});a.s(["default",0,I],135521)}];

//# sourceMappingURL=_2a0f06bc._.js.map