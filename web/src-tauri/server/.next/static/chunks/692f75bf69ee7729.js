(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,291428,e=>{e.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"g",attributes:{id:"alert-triangle"},children:[{type:"element",name:"path",attributes:{id:"Solid","fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.40616 0.834185C6.14751 0.719172 5.85222 0.719172 5.59356 0.834185C5.3938 0.923011 5.26403 1.07947 5.17373 1.20696C5.08495 1.3323 4.9899 1.49651 4.88536 1.67711L0.751783 8.81693C0.646828 8.99818 0.551451 9.16289 0.486781 9.30268C0.421056 9.44475 0.349754 9.63572 0.372478 9.85369C0.401884 10.1357 0.549654 10.392 0.779012 10.5588C0.956259 10.6877 1.15726 10.7217 1.31314 10.736C1.46651 10.75 1.65684 10.75 1.86628 10.75H10.1334C10.3429 10.75 10.5332 10.75 10.6866 10.736C10.8425 10.7217 11.0435 10.6877 11.2207 10.5588C11.4501 10.392 11.5978 10.1357 11.6272 9.85369C11.65 9.63572 11.5787 9.44475 11.5129 9.30268C11.4483 9.1629 11.3529 8.9982 11.248 8.81697L7.11436 1.67709C7.00983 1.49651 6.91477 1.3323 6.82599 1.20696C6.73569 1.07947 6.60593 0.923011 6.40616 0.834185ZM6.49988 4.5C6.49988 4.22386 6.27602 4 5.99988 4C5.72374 4 5.49988 4.22386 5.49988 4.5V6.5C5.49988 6.77614 5.72374 7 5.99988 7C6.27602 7 6.49988 6.77614 6.49988 6.5V4.5ZM5.99988 8C5.72374 8 5.49988 8.22386 5.49988 8.5C5.49988 8.77614 5.72374 9 5.99988 9H6.00488C6.28102 9 6.50488 8.77614 6.50488 8.5C6.50488 8.22386 6.28102 8 6.00488 8H5.99988Z",fill:"currentColor"},children:[]}]}]},name:"AlertTriangle"})},793622,417494,259509,e=>{"use strict";var t=e.i(563199),n=e.i(807324),r=e.i(291428);let a=e=>{let{ref:a,...l}=e;return(0,t.jsx)(n.default,{...l,ref:a,data:r.default})};a.displayName="AlertTriangle",e.s(["default",0,a],417494),e.s([],793622),e.s(["AlertTriangle",0,a],259509)},551193,e=>{"use strict";let t,n,r;var a=e.i(268255),l=e.i(198136),o=e.i(126765),i=e.i(243815),s=e.i(71216),d=e.i(741064),c=e.i(782165),u=e.i(775885),m=e.i(122783),f=e.i(944296),p=e.i(818805),g=e.i(135477),h=e.i(92054),v=e.i(329512),x=e.i(808534),b=e.i(268850),y=e.i(316688),w=e.i(652038),C=e.i(858023),_=e.i(869873),j=e.i(969350),N=e.i(425324),E=e.i(979845),F=e.i(692941),T=e.i(394149),k=e.i(794085),P=e.i(996978),D=e.i(455028),M=e.i(692558);function R(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}var S=((t=S||{})[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t);let I=Object.assign((0,C.forwardRefWithAs)(function(e,t){let n=(0,a.useRef)(null),r=(0,v.useSyncRefs)(n,t),{initialFocus:l,initialFocusFallback:d,containers:c,features:u=15,...m}=e;(0,h.useServerHandoffComplete)()||(u=0);let p=(0,f.useOwnerDocument)(n);!function(e,t){let{ownerDocument:n}=t,r=!!(8&e),l=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,a.useRef)(P.history.slice());return(0,T.useWatch)((e,n)=>{let[r]=e,[a]=n;!0===a&&!1===r&&(0,M.microTask)(()=>{t.current.splice(0)}),!1===a&&!0===r&&(t.current=P.history.slice())},[e,P.history,t]),(0,s.useEvent)(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(r);(0,T.useWatch)(()=>{r||(null==n?void 0:n.activeElement)===(null==n?void 0:n.body)&&(0,D.focusElement)(l())},[r]),(0,E.useOnUnmount)(()=>{r&&(0,D.focusElement)(l())})}(u,{ownerDocument:p});let g=function(e,t){let{ownerDocument:n,container:r,initialFocus:l,initialFocusFallback:o}=t,s=(0,a.useRef)(null),d=(0,i.useIsTopLayer)(!!(1&e),"focus-trap#initial-focus"),c=(0,N.useIsMounted)();return(0,T.useWatch)(()=>{if(0===e)return;if(!d){null!=o&&o.current&&(0,D.focusElement)(o.current);return}let t=r.current;t&&(0,M.microTask)(()=>{if(!c.current)return;let r=null==n?void 0:n.activeElement;if(null!=l&&l.current){if((null==l?void 0:l.current)===r){s.current=r;return}}else if(t.contains(r)){s.current=r;return}if(null!=l&&l.current)(0,D.focusElement)(l.current);else{if(16&e){if((0,D.focusIn)(t,D.Focus.First|D.Focus.AutoFocus)!==D.FocusResult.Error)return}else if((0,D.focusIn)(t,D.Focus.First)!==D.FocusResult.Error)return;if(null!=o&&o.current&&((0,D.focusElement)(o.current),(null==n?void 0:n.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=null==n?void 0:n.activeElement})},[o,d,e]),s}(u,{ownerDocument:p,container:n,initialFocus:l,initialFocusFallback:d});!function(e,t){let{ownerDocument:n,container:r,containers:a,previousActiveElement:l}=t,i=(0,N.useIsMounted)(),s=!!(4&e);(0,o.useEventListener)(null==n?void 0:n.defaultView,"focus",e=>{if(!s||!i.current)return;let t=R(a);r.current instanceof HTMLElement&&t.add(r.current);let n=l.current;if(!n)return;let o=e.target;o&&o instanceof HTMLElement?L(t,o)?(l.current=o,(0,D.focusElement)(o)):(e.preventDefault(),e.stopPropagation(),(0,D.focusElement)(n)):(0,D.focusElement)(l.current)},!0)}(u,{ownerDocument:p,container:n,containers:c,previousActiveElement:g});let x=(0,F.useTabDirection)(),b=(0,s.useEvent)(e=>{let t=n.current;t&&(0,w.match)(x.current,{[F.Direction.Forwards]:()=>{(0,D.focusIn)(t,D.Focus.First,{skipElements:[e.relatedTarget,d]})},[F.Direction.Backwards]:()=>{(0,D.focusIn)(t,D.Focus.Last,{skipElements:[e.relatedTarget,d]})}})}),y=(0,i.useIsTopLayer)(!!(2&u),"focus-trap#tab-lock"),_=(0,j.useDisposables)(),S=(0,a.useRef)(!1),I=(0,C.useRender)();return a.default.createElement(a.default.Fragment,null,y&&a.default.createElement(k.Hidden,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:k.HiddenFeatures.Focusable}),I({ourProps:{ref:r,onKeyDown(e){"Tab"==e.key&&(S.current=!0,_.requestAnimationFrame(()=>{S.current=!1}))},onBlur(e){if(!(4&u))return;let t=R(c);n.current instanceof HTMLElement&&t.add(n.current);let r=e.relatedTarget;r instanceof HTMLElement&&"true"!==r.dataset.headlessuiFocusGuard&&(L(t,r)||(S.current?(0,D.focusIn)(n.current,(0,w.match)(x.current,{[F.Direction.Forwards]:()=>D.Focus.Next,[F.Direction.Backwards]:()=>D.Focus.Previous})|D.Focus.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&(0,D.focusElement)(e.target)))}},theirProps:m,defaultTag:"div",name:"FocusTrap"}),y&&a.default.createElement(k.Hidden,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:k.HiddenFeatures.Focusable}))}),{features:S});function L(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var B=e.i(642330),A=e.i(157169),O=((n=O||{})[n.Open=0]="Open",n[n.Closed=1]="Closed",n),H=((r=H||{})[r.SetTitleId=0]="SetTitleId",r);let z={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},W=(0,a.createContext)(null);function G(e){let t=(0,a.useContext)(W);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,G),t}return t}function K(e,t){return(0,w.match)(t.type,z,e,t)}W.displayName="DialogContext";let U=(0,C.forwardRefWithAs)(function(e,t){let n=(0,a.useId)(),{id:r=`headlessui-dialog-${n}`,open:w,onClose:j,initialFocus:N,role:E="dialog",autoFocus:F=!0,__demoMode:T=!1,unmount:k=!1,...P}=e,D=(0,a.useRef)(!1);E="dialog"===E||"alertdialog"===E?E:(D.current||(D.current=!0,console.warn(`Invalid role [${E}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let M=(0,b.useOpenClosed)();void 0===w&&null!==M&&(w=(M&b.State.Open)===b.State.Open);let R=(0,a.useRef)(null),L=(0,v.useSyncRefs)(R,t),A=(0,f.useOwnerDocument)(R),O=+!w,[H,z]=(0,a.useReducer)(K,{titleId:null,descriptionId:null,panelRef:(0,a.createRef)()}),G=(0,s.useEvent)(()=>j(!1)),U=(0,s.useEvent)(e=>z({type:0,id:e})),Y=!!(0,h.useServerHandoffComplete)()&&0===O,[Z,q]=(0,B.useNestedPortals)(),Q=(0,p.useMainTreeNode)(),{resolveContainers:J}=(0,p.useRootContainers)({mainTreeNode:Q,portals:Z,defaultContainers:[{get current(){var X;return null!=(X=H.panelRef.current)?X:R.current}}]}),ee=null!==M&&(M&b.State.Closing)===b.State.Closing;(0,d.useInertOthers)(!T&&!ee&&Y,{allowed:(0,s.useEvent)(()=>{var e,t;return[null!=(t=null==(e=R.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:(0,s.useEvent)(()=>{var e;return[null!=(e=null==Q?void 0:Q.closest("body > *:not(#headlessui-portal-root)"))?e:null]})}),(0,m.useOutsideClick)(Y,J,e=>{e.preventDefault(),G()}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"u">typeof document?document.defaultView:null,n=arguments.length>2?arguments[2]:void 0,r=(0,i.useIsTopLayer)(e,"escape");(0,o.useEventListener)(t,"keydown",e=>{r&&(e.defaultPrevented||e.key===l.Keys.Escape&&n(e))})}(Y,null==A?void 0:A.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),G()}),(0,g.useScrollLock)(!T&&!ee&&Y,A,J),(0,u.useOnDisappear)(Y,R,G);let[et,en]=(0,_.useDescriptions)(),er=(0,a.useMemo)(()=>[{dialogState:O,close:G,setTitleId:U,unmount:k},H],[O,H,G,U,k]),ea=(0,a.useMemo)(()=>({open:0===O}),[O]),el={ref:L,id:r,role:E,tabIndex:-1,"aria-modal":T?void 0:0===O||void 0,"aria-labelledby":H.titleId,"aria-describedby":et,unmount:k},eo=!function(){var e;let[t]=(0,a.useState)(()=>"u">typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[n,r]=(0,a.useState)(null!=(e=null==t?void 0:t.matches)&&e);return(0,c.useIsoMorphicEffect)(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){r(e.matches)}},[t]),n}(),ei=S.None;Y&&!T&&(ei|=S.RestoreFocus,ei|=S.TabLock,F&&(ei|=S.AutoFocus),eo&&(ei|=S.InitialFocus));let es=(0,C.useRender)();return a.default.createElement(b.ResetOpenClosedProvider,null,a.default.createElement(y.ForcePortalRoot,{force:!0},a.default.createElement(B.Portal,null,a.default.createElement(W.Provider,{value:er},a.default.createElement(B.PortalGroup,{target:R},a.default.createElement(y.ForcePortalRoot,{force:!1},a.default.createElement(en,{slot:ea},a.default.createElement(q,null,a.default.createElement(I,{initialFocus:N,initialFocusFallback:R,containers:J,features:ei},a.default.createElement(x.CloseProvider,{value:G},es({ourProps:el,theirProps:P,slot:ea,defaultTag:V,features:$,visible:0===O,name:"Dialog"})))))))))))}),V="div",$=C.RenderFeatures.RenderStrategy|C.RenderFeatures.Static,Y=(0,C.forwardRefWithAs)(function(e,t){let{transition:n=!1,open:r,...l}=e,o=(0,b.useOpenClosed)(),i=e.hasOwnProperty("open")||null!==o,s=e.hasOwnProperty("onClose");if(!i&&!s)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!i)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!s)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&"boolean"!=typeof e.open)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(void 0!==r||n)&&!l.static?a.default.createElement(p.MainTreeProvider,null,a.default.createElement(A.Transition,{show:r,transition:n,unmount:l.unmount},a.default.createElement(U,{ref:t,...l}))):a.default.createElement(p.MainTreeProvider,null,a.default.createElement(U,{ref:t,open:r,...l}))}),Z=(0,C.forwardRefWithAs)(function(e,t){let n=(0,a.useId)(),{id:r=`headlessui-dialog-panel-${n}`,transition:l=!1,...o}=e,[{dialogState:i,unmount:d},c]=G("Dialog.Panel"),u=(0,v.useSyncRefs)(t,c.panelRef),m=(0,a.useMemo)(()=>({open:0===i}),[i]),f=(0,s.useEvent)(e=>{e.stopPropagation()}),p=l?A.TransitionChild:a.Fragment,g=(0,C.useRender)();return a.default.createElement(p,{...l?{unmount:d}:{}},g({ourProps:{ref:u,id:r,onClick:f},theirProps:o,slot:m,defaultTag:"div",name:"Dialog.Panel"}))}),q=(0,C.forwardRefWithAs)(function(e,t){let{transition:n=!1,...r}=e,[{dialogState:l,unmount:o}]=G("Dialog.Backdrop"),i=(0,a.useMemo)(()=>({open:0===l}),[l]),s=n?A.TransitionChild:a.Fragment,d=(0,C.useRender)();return a.default.createElement(s,{...n?{unmount:o}:{}},d({ourProps:{ref:t,"aria-hidden":!0},theirProps:r,slot:i,defaultTag:"div",name:"Dialog.Backdrop"}))}),Q=(0,C.forwardRefWithAs)(function(e,t){let n=(0,a.useId)(),{id:r=`headlessui-dialog-title-${n}`,...l}=e,[{dialogState:o,setTitleId:i}]=G("Dialog.Title"),s=(0,v.useSyncRefs)(t);(0,a.useEffect)(()=>(i(r),()=>i(null)),[r,i]);let d=(0,a.useMemo)(()=>({open:0===o}),[o]);return(0,C.useRender)()({ourProps:{ref:s,id:r},theirProps:l,slot:d,defaultTag:"h2",name:"Dialog.Title"})}),J=(_.Description,Object.assign(Y,{Panel:Z,Title:Q,Description:_.Description}));e.s(["Dialog",()=>J,"DialogBackdrop",()=>q,"DialogPanel",()=>Z,"DialogTitle",()=>Q],551193)},21151,e=>{"use strict";var t=e.i(563199),n=e.i(551193),r=e.i(157169),a=e.i(837699),l=e.i(124836),o=e.i(268255),i=e.i(935139);function s(e){let{className:s,wrapperClassName:d,containerClassName:c,isShow:u,onClose:m=l.noop,title:f,description:p,children:g,closable:h=!1,overflowVisible:v=!1,highPriority:x=!1,overlayOpacity:b=!1,clickOutsideNotClose:y=!1}=e;return(0,t.jsx)(r.Transition,{appear:!0,show:u,as:o.Fragment,children:(0,t.jsxs)(n.Dialog,{as:"div",className:(0,i.cn)("relative",x?"z-[1100]":"z-[60]",d),onClose:y?l.noop:m,children:[(0,t.jsx)(r.TransitionChild,{children:(0,t.jsx)("div",{className:(0,i.cn)("fixed inset-0",b?"bg-workflow-canvas-canvas-overlay":"bg-background-overlay","duration-300 ease-in data-[closed]:opacity-0","data-[enter]:opacity-100","data-[leave]:opacity-0")})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,t.jsx)("div",{className:(0,i.cn)("flex min-h-full items-center justify-center p-4 text-center",c),children:(0,t.jsx)(r.TransitionChild,{children:(0,t.jsxs)(n.DialogPanel,{className:(0,i.cn)("relative w-full max-w-[480px] rounded-2xl bg-components-panel-bg p-6 text-left align-middle shadow-xl transition-all",v?"overflow-visible":"overflow-hidden","duration-100 ease-in data-[closed]:scale-95 data-[closed]:opacity-0","data-[enter]:scale-100 data-[enter]:opacity-100","data-[enter]:scale-95 data-[leave]:opacity-0",s),children:[!!f&&(0,t.jsx)(n.DialogTitle,{as:"h3",className:"title-2xl-semi-bold text-text-primary",children:f}),!!p&&(0,t.jsx)("div",{className:"body-md-regular mt-2 text-text-secondary",children:p}),h&&(0,t.jsx)("div",{className:"absolute right-6 top-6 z-10 flex h-5 w-5 items-center justify-center rounded-2xl hover:cursor-pointer hover:bg-state-base-hover",children:(0,t.jsx)(a.RiCloseLine,{className:"h-4 w-4 text-text-tertiary",onClick:e=>{e.stopPropagation(),m()}})}),g]})})})})]})})}e.s(["default",()=>s])},876359,e=>{"use strict";var t=e.i(563199),n=e.i(294237);e.i(432024);var r=e.i(794909),r=r,a=e.i(935139);let l=(0,n.cva)("premium-badge",{variants:{size:{s:"premium-badge-s",m:"premium-badge-m",custom:""},color:{blue:"premium-badge-blue",indigo:"premium-badge-indigo",gray:"premium-badge-gray",orange:"premium-badge-orange"},allowHover:{true:"allowHover",false:""}},defaultVariants:{size:"m",color:"blue",allowHover:!1}}),o=e=>{let{className:n,size:o,color:i,allowHover:s,styleCss:d,children:c,...u}=e;return(0,t.jsxs)("div",{className:(0,a.cn)(l({size:o,color:i,allowHover:s,className:n}),"relative text-nowrap"),style:d,...u,children:[c,(0,t.jsx)(r.default,{className:(0,a.cn)("absolute right-1/2 top-0 translate-x-[20%] opacity-50 transition-all duration-100 ease-out hover:translate-x-[30%] hover:opacity-80","s"===o?"h-[18px] w-12":"h-6 w-12")})]})};o.displayName="PremiumBadge",e.s(["default",0,o],876359)},845255,e=>{"use strict";var t=e.i(502662);e.s(["SparklesSoft",()=>t.default])},84366,e=>{"use strict";var t=e.i(563199),n=e.i(268255);e.i(152567);var r=e.i(408767),a=e.i(151094);e.i(432024);var l=e.i(845255),o=e.i(296124),i=e.i(876359);let s=n.memo(e=>{let{className:n,size:s="m",style:d,isPlain:c=!1,isShort:u=!1,onClick:m,loc:f,labelKey:p}=e,{t:g}=(0,r.useTranslation)(),{setShowPricingModal:h}=(0,o.useModalContext)(),v=()=>{m?m():h(),f&&window.gtag&&window.gtag("event","click_upgrade_btn",{loc:f})},x=g(u?"upgradeBtn.encourageShort":"upgradeBtn.encourage",{ns:"billing"}),b=p?g(p,{ns:"billing"}):x;return c?(0,t.jsx)(a.default,{className:n,style:d,onClick:v,children:p?b:g("upgradeBtn.plain",{ns:"billing"})}):(0,t.jsxs)(i.default,{size:s,color:"blue",allowHover:!0,onClick:v,className:n,style:d,children:[(0,t.jsx)(l.SparklesSoft,{className:"flex h-3.5 w-3.5 items-center py-[1px] pl-[3px] text-components-premium-badge-indigo-text-stop-0"}),(0,t.jsx)("div",{className:"system-xs-medium",children:(0,t.jsx)("span",{className:"p-1",children:b})})]})});e.s(["default",0,s])},34628,e=>{e.v({gridBg:"style-module__T68GKq__gridBg"})},325222,e=>{"use strict";var t=e.i(563199),n=e.i(935139),r=e.i(34628);e.s(["default",0,e=>{let{children:a,wrapperClassName:l,canvasClassName:o,gradientClassName:i}=e;return(0,t.jsxs)("div",{className:(0,n.cn)("relative bg-saas-background",l),children:[(0,t.jsx)("div",{className:(0,n.cn)("absolute inset-0 z-0 h-full w-full opacity-70",o,r.default.gridBg)}),(0,t.jsx)("div",{className:(0,n.cn)("absolute z-[1] h-full w-full rounded-lg bg-grid-mask-background",i)}),(0,t.jsx)("div",{className:"relative z-[2]",children:a})]})}])},177335,e=>{e.v({simplePieChart:"index-module__rIA7nG__simplePieChart"})},153435,e=>{"use strict";var t=e.i(563199),n=e.i(676197),r=e.i(268255),a=e.i(935139),l=e.i(177335);let o=(0,r.memo)(e=>{let{percentage:o=80,fill:i="#fdb022",stroke:s="#f79009",size:d=12,animationDuration:c,className:u}=e,m=(0,r.useMemo)(()=>({series:[{type:"pie",radius:["83%","100%"],animation:!1,data:[{value:100,itemStyle:{color:s}}],emphasis:{disabled:!0},labelLine:{show:!1},cursor:"default"},{type:"pie",radius:"83%",animationDuration:c??600,data:[{value:o,itemStyle:{color:i}},{value:100-o,itemStyle:{color:"#fff"}}],emphasis:{disabled:!0},labelLine:{show:!1},cursor:"default"}]}),[s,i,o,c]);return(0,t.jsx)(n.default,{option:m,className:(0,a.cn)(l.default.simplePieChart,u),style:{"--simple-pie-chart-color":i,width:d,height:d}})});e.s(["default",0,o])},530020,e=>{e.v({textGradient:"style-module__wQozFa__textGradient"})},591324,e=>{"use strict";var t=e.i(563199),n=e.i(268255);e.i(152567);var r=e.i(408767),a=e.i(151094),l=e.i(547105),o=e.i(449980),i=e.i(21151),s=e.i(137667);e.i(466836);var d=e.i(726547),d=d,c=e.i(683503),u=e.i(935139),m=e.i(739255),f=e.i(225162),p=e.i(215128),g=e.i(722591),h=e.i(540284),v=e.i(837699),x=e.i(500536),b=e.i(325222);e.i(77445);var y=e.i(964493);e.i(793622);var w=e.i(259509),C=e.i(260484),_=e.i(421001),j=e.i(84366),N=e.i(530020),E=e.i(105058),E=E,F=e.i(925521),T=e.i(56971),k=e.i(836340),P=e.i(393689),P=P,D=e.i(153435);let M=(0,n.memo)(e=>{let{secondsRemaining:a,onFinish:l}=e,{t:o}=(0,r.useTranslation)(),i=(0,n.useRef)(Date.now()),[s,d]=(0,n.useState)(i.current),c=(0,n.useMemo)(()=>Math.ceil((i.current-s)/1e3),[s]),u=(0,n.useRef)(void 0),m=(0,n.useCallback)(()=>{u.current&&(window.clearTimeout(u.current),u.current=void 0)},[]),f=(0,P.default)(l),p=(0,n.useCallback)(()=>{m(),u.current=window.setTimeout(()=>{Date.now()<=i.current?(d(Date.now()),p()):(f.current?.(),m())},1e3)},[m,f]);return(0,n.useEffect)(()=>{let e=Date.now();return i.current=e+(a??0)*1e3,d(e),p(),m},[m,p,a]),c?(0,t.jsx)(_.default,{popupContent:o("modelProvider.apiKeyRateLimit",{ns:"common",seconds:c}),children:(0,t.jsx)(D.default,{percentage:Math.round(c/60*100),className:"h-3 w-3"})}):null}),R=e=>{let{draftConfig:a,setDraftConfig:l,provider:o,model:i,configurationMethod:s,currentCustomConfigurationModelFixedFields:d,withSwitch:c=!1,className:f,modelCredential:p,onUpdate:g,onRemove:h}=e,{t:P}=(0,r.useTranslation)(),D=s===m.ConfigurationMethodEnum.predefinedModel,R=(0,T.useProviderContextSelector)(e=>e.modelLoadBalancingEnabled),S=(0,n.useCallback)((e,t)=>{l(n=>{if(!n)return n;let r=[...n.configs],a=t(r[e]);return a?r[e]=a:r.splice(e,1),{...n,configs:r}})},[l]),I=(0,n.useCallback)(e=>{l(t=>t?{...t,configs:[...t.configs,{credential_id:e.credential_id,enabled:!0,name:e.credential_name}]}:t)},[l]),L=(0,n.useCallback)(e=>{(R||!e)&&a&&l({...a,enabled:e})},[a,R,l]),B=(0,n.useCallback)((e,t)=>{S(e,e=>({...e,enabled:"boolean"==typeof t?t:!e.enabled}))},[S]),A=(0,n.useCallback)(e=>{S(e,e=>{let{ttl:t,...n}=e;return{...n,in_cooldown:!1}})},[S]),O=(0,n.useMemo)(()=>a?a.configs:[],[a]),H=(0,n.useCallback)((e,t)=>{g?.(e,t)},[g]),z=(0,n.useCallback)(e=>{let t=a?.configs.findIndex(t=>t.credential_id===e&&"__inherit__"!==t.name);t&&t>-1&&S(t,()=>void 0),h?.(e)},[a?.configs,S,h]);return a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,u.cn)("min-h-16 rounded-xl border bg-components-panel-bg transition-colors",c||!a.enabled?"border-components-panel-border":"border-util-colors-blue-blue-600",c||a.enabled?"cursor-default":"cursor-pointer",f),onClick:c||a.enabled?void 0:()=>L(!0),children:[(0,t.jsxs)("div",{className:"flex select-none items-center gap-2 px-[15px] py-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 grow-0 items-center justify-center rounded-lg border border-util-colors-indigo-indigo-100 bg-util-colors-indigo-indigo-50 text-util-colors-blue-blue-600",children:(0,t.jsx)(y.Balance,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"grow",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-text-primary",children:[P("modelProvider.loadBalancing",{ns:"common"}),(0,t.jsx)(_.default,{popupContent:P("modelProvider.loadBalancingInfo",{ns:"common"}),popupClassName:"max-w-[300px]",triggerClassName:"w-3 h-3"})]}),(0,t.jsx)("div",{className:"text-xs text-text-tertiary",children:P("modelProvider.loadBalancingDescription",{ns:"common"})})]}),c&&(0,t.jsx)(C.default,{defaultValue:!!a.enabled,size:"l",className:"ml-3 justify-self-end",disabled:!R&&!a.enabled,onChange:e=>L(e)})]}),a.enabled&&(0,t.jsxs)("div",{className:"flex flex-col gap-1 px-3 pb-3",children:[O.map((e,n)=>{let r="__inherit__"===e.name,a=p.available_credentials.find(t=>t.credential_id===e.credential_id);return(0,t.jsxs)("div",{className:"group flex h-10 items-center rounded-lg border border-components-panel-border bg-components-panel-on-panel-item-bg px-3 shadow-xs",children:[(0,t.jsxs)("div",{className:"flex grow items-center",children:[(0,t.jsx)("div",{className:"mr-2 flex h-3 w-3 items-center justify-center",children:e.in_cooldown&&e.ttl?(0,t.jsx)(M,{secondsRemaining:e.ttl,onFinish:()=>A(n)}):(0,t.jsx)(_.default,{popupContent:P("modelProvider.apiKeyStatusNormal",{ns:"common"}),children:(0,t.jsx)(k.default,{color:a?.not_allowed_to_use?"gray":"green"})})}),(0,t.jsx)("div",{className:"mr-1 text-[13px] text-text-secondary",children:r?P("modelProvider.defaultConfig",{ns:"common"}):e.name}),r&&D&&(0,t.jsx)(x.default,{className:"ml-2",children:P("modelProvider.providerManaged",{ns:"common"})}),a?.from_enterprise&&(0,t.jsx)(x.default,{className:"ml-2",children:"Enterprise"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[!r&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:(0,t.jsx)(_.default,{popupContent:P("operation.remove",{ns:"common"}),children:(0,t.jsx)("span",{className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg bg-components-button-secondary-bg text-text-tertiary transition-colors hover:bg-components-button-secondary-bg-hover",onClick:()=>S(n,()=>void 0),children:(0,t.jsx)(v.RiIndeterminateCircleLine,{className:"h-4 w-4"})})})})}),(e.credential_id||"__inherit__"===e.name)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 h-3 border-r border-r-divider-subtle"}),(0,t.jsx)(C.default,{defaultValue:!a?.not_allowed_to_use&&!!e.enabled,size:"md",className:"justify-self-end",onChange:e=>B(n,e),disabled:a?.not_allowed_to_use})]})]})]},e.id||n)}),(0,t.jsx)(E.default,{provider:o,model:i,configurationMethod:s,modelCredential:p,onSelectCredential:I,onUpdate:H,onRemove:z})]}),a.enabled&&O.length<2&&(0,t.jsxs)("div",{className:"flex h-[34px] items-center rounded-b-xl border-t border-t-divider-subtle bg-components-panel-bg px-6 text-xs text-text-secondary",children:[(0,t.jsx)(w.AlertTriangle,{className:"mr-1 h-3 w-3 text-[#f79009]"}),P("modelProvider.loadBalancingLeastKeyWarning",{ns:"common"})]})]}),!R&&!F.IS_CE_EDITION&&(0,t.jsx)(b.default,{canvasClassName:"!rounded-xl",children:(0,t.jsxs)("div",{className:"mt-2 flex h-14 items-center justify-between rounded-xl border-[0.5px] border-components-panel-border px-4 shadow-md",children:[(0,t.jsx)("div",{className:(0,u.cn)("text-gradient text-sm font-semibold leading-tight",N.default.textGradient),children:P("modelProvider.upgradeForLoadBalancing",{ns:"common"})}),(0,t.jsx)(j.default,{})]})})]}):null},S=(0,n.memo)(e=>{let{provider:v,configurateMethod:x,currentCustomConfigurationModelFixedFields:b,model:y,credential:w,open:C=!1,onClose:_,onSave:j}=e,{t:N}=(0,r.useTranslation)(),{notify:E}=(0,s.useToastContext)(),{doingAction:F,deleteModel:T,openConfirmDelete:k,closeConfirmDelete:P,handleConfirmDelete:D}=(0,p.useAuth)(v,x,b,{isModelCredential:!0}),[M,S]=(0,n.useState)(!1),I=x===m.ConfigurationMethodEnum.predefinedModel,L=I?"predefined-model":"custom-model",{isLoading:B,data:A,refetch:O}=(0,c.useGetModelCredential)(!0,v.provider,w?.credential_id,y.model,y.model_type,L),{load_balancing:H,current_credential_id:z,available_credentials:W,current_credential_name:G}=A??{},[K,U]=(0,n.useState)(),V=(0,n.useMemo)(()=>H?H?.configs.reduce((e,t)=>(t.id&&(e[t.id]=t),e),{}):{},[H]);(0,n.useEffect)(()=>{H&&U(H)},[H]);let $=(0,n.useCallback)(e=>{K&&U({...K,enabled:e})},[K]),Y=(0,n.useMemo)(()=>I?v?.provider_credential_schema?.credential_form_schemas?.filter(e=>{let{type:t}=e;return t===m.FormTypeEnum.secretInput})??[]:v?.model_credential_schema?.credential_form_schemas?.filter(e=>{let{type:t}=e;return t===m.FormTypeEnum.secretInput})??[],[v?.model_credential_schema?.credential_form_schemas,v?.provider_credential_schema?.credential_form_schemas,I]),Z=(0,n.useCallback)(e=>{let t={...e};return Y.forEach(n=>{let{variable:r}=n;e.id&&t.credentials[r]===V[e.id]?.credentials?.[r]&&(t.credentials[r]="[__HIDDEN__]")}),t},[Y,V]),{mutateAsync:q}=(0,c.useUpdateModelLoadBalancingConfig)(v.provider),Q=(0,n.useMemo)(()=>{if(z)return{credential_id:z,credential_name:G}},[z,G]),[J,X]=(0,n.useState)(Q),{handleRefreshModel:ee}=(0,f.useRefreshModel)(),et=async()=>{try{S(!0);let e=await q({credential_id:J?.credential_id||z,config_from:L,model:y.model,model_type:y.model_type,load_balancing:{...K,configs:K.configs.map(Z),enabled:!!K?.enabled}});"success"===e.result&&(E({type:"success",message:N("actionMsg.modifiedSuccessfully",{ns:"common"})}),ee(v,b,!1),j?.(v.provider),_?.())}finally{S(!1)}},en=(0,n.useCallback)(async()=>{await D(),_?.()},[D,_]),er=(0,n.useCallback)(async(e,t)=>{let n=await O(),r=n.data?.available_credentials||[],a=t?.__authorization_name__,l=e?.credential;if(!r.length)return void _?.();if(l)U(e=>{if(!e)return e;let t=[...e.configs],n=t.findIndex(e=>e.credential_id===l.credential_id&&"__inherit__"!==e.name),a=r.findIndex(e=>e.credential_id===l.credential_id);return a>-1&&n>-1&&(t[n].name=r[a].credential_name||""),{...e,configs:t}});else{let e=r.find(e=>e.credential_name===a);e&&U(t=>t?{...t,configs:[...t.configs,{credential_id:e.credential_id,enabled:!0,name:e.credential_name}]}:t)}},[O,w]),ea=(0,n.useCallback)(async()=>{let e=await O();(e.data?.available_credentials||[]).length||_?.()},[O,_]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.default,{isShow:!!y&&C,onClose:_,className:"w-[640px] max-w-none px-8 pt-8",title:(0,t.jsxs)("div",{className:"pb-3 font-semibold",children:[(0,t.jsx)("div",{className:"h-[30px]",children:K?.enabled?N("modelProvider.auth.configLoadBalancing",{ns:"common"}):N("modelProvider.auth.configModel",{ns:"common"})}),!!y&&(0,t.jsxs)("div",{className:"flex h-5 items-center",children:[(0,t.jsx)(g.default,{className:"mr-2 shrink-0",provider:v,modelName:y.model}),(0,t.jsx)(h.default,{className:"system-md-regular grow text-text-secondary",modelItem:y,showModelType:!0,showMode:!0,showContextSize:!0})]})]}),children:K?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:(0,u.cn)("min-h-16 rounded-xl border bg-components-panel-bg transition-colors",K.enabled?"cursor-pointer border-components-panel-border":"cursor-default border-util-colors-blue-blue-600"),onClick:K.enabled?()=>$(!1):void 0,children:(0,t.jsxs)("div",{className:"flex select-none items-center gap-2 px-[15px] py-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 grow-0 items-center justify-center rounded-lg border border-components-card-border bg-components-card-bg",children:!!y&&(0,t.jsx)(g.default,{className:"shrink-0",provider:v,modelName:y.model})}),(0,t.jsxs)("div",{className:"grow",children:[(0,t.jsx)("div",{className:"text-sm text-text-secondary",children:I?N("modelProvider.auth.providerManaged",{ns:"common"}):N("modelProvider.auth.specifyModelCredential",{ns:"common"})}),(0,t.jsx)("div",{className:"text-xs text-text-tertiary",children:I?N("modelProvider.auth.providerManagedTip",{ns:"common"}):N("modelProvider.auth.specifyModelCredentialTip",{ns:"common"})})]}),!I&&(0,t.jsx)(d.default,{provider:v,customModelCredential:J??Q,setCustomModelCredential:X,model:y,credentials:W,onUpdate:ea,onRemove:ea})]})}),A&&(0,t.jsx)(R,{draftConfig:K,setDraftConfig:U,provider:v,currentCustomConfigurationModelFixedFields:{__model_name:y.model,__model_type:y.model_type},configurationMethod:y.fetch_from,className:"mt-2",modelCredential:A,onUpdate:er,onRemove:ea,model:{model:y.model,model_type:y.model_type}})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-between gap-2",children:[(0,t.jsx)("div",{children:!I&&(0,t.jsx)(a.default,{onClick:()=>k(void 0,{model:y.model,model_type:y.model_type}),className:"text-components-button-destructive-secondary-text",children:N("modelProvider.auth.removeModel",{ns:"common"})})}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(a.default,{onClick:_,children:N("operation.cancel",{ns:"common"})}),(0,t.jsx)(a.default,{variant:"primary",onClick:et,disabled:M||K?.enabled&&(K?.configs.filter(e=>e.enabled).length??0)<2||B,children:N("operation.save",{ns:"common"})})]})]})]}):(0,t.jsx)(o.default,{type:"area"})}),T&&(0,t.jsx)(l.default,{isShow:!0,title:N("modelProvider.confirmDelete",{ns:"common"}),onCancel:P,onConfirm:en,isDisabled:F})]})});e.s(["default",0,S],591324)},100550,e=>{e.n(e.i(591324))}]);