(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,653356,e=>{"use strict";var t=e.i(268255);let n=t.forwardRef(function(e,n){let{title:s,titleId:a,...l}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},l),s?t.createElement("title",{id:a},s):null,t.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))});e.s(["XMarkIcon",0,n],653356)},789604,882568,702941,516457,e=>{"use strict";let t,n,s,a;var l=e.i(182370),i=e.i(725968),r=e.i(268255),o=e.i(688393),d=e.i(876581);function c(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return(0,r.useCallback)((t,n)=>"string"==typeof e?(null==t?void 0:t[e])===(null==n?void 0:n[e]):e(t,n),[e])}e.s(["useByComparator",()=>u],882568);var m=e.i(614653),p=e.i(125234),x=e.i(97986),f=e.i(969350),v=e.i(589393),b=e.i(71216),h=e.i(741064),g=e.i(782165),y=e.i(518836),j=e.i(775885),S=e.i(122783),E=e.i(944296),N=e.i(777009),O=e.i(135477),R=e.i(329512),w=e.i(720048),C=e.i(326898),k=e.i(988851),I=e.i(602652),L=e.i(939895),P=e.i(274406);function F(e){let{children:t,freeze:n}=e,s=M(n,t);return r.default.createElement(r.default.Fragment,null,s)}function M(e,t){let[n,s]=(0,r.useState)(t);return e||n===t||s(t),e?n:t}e.s(["Frozen",()=>F,"useFrozenData",()=>M],702941);var T=e.i(344554),D=e.i(268850),A=e.i(294662),_=e.i(162023),B=e.i(708684),K=e.i(455028),$=e.i(330620),z=e.i(652038),U=e.i(875880),V=e.i(858023),Q=e.i(869873),W=e.i(198136),G=e.i(90158),Z=e.i(642330),H=((t=H||{})[t.Open=0]="Open",t[t.Closed=1]="Closed",t),q=((n=q||{})[n.Single=0]="Single",n[n.Multi=1]="Multi",n),X=((s=X||{})[s.Pointer=0]="Pointer",s[s.Other=1]="Other",s),J=((a=J||{})[a.OpenListbox=0]="OpenListbox",a[a.CloseListbox=1]="CloseListbox",a[a.GoToOption=2]="GoToOption",a[a.Search=3]="Search",a[a.ClearSearch=4]="ClearSearch",a[a.RegisterOption=5]="RegisterOption",a[a.UnregisterOption=6]="UnregisterOption",a[a.SetButtonElement=7]="SetButtonElement",a[a.SetOptionsElement=8]="SetOptionsElement",a);function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,s=(0,K.sortByDomNode)(t(e.options.slice()),e=>e.dataRef.current.domRef.current),a=n?s.indexOf(n):null;return -1===a&&(a=null),{options:s,activeOptionIndex:a}}let ee={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,s=e.options.findIndex(e=>n(e.dataRef.current.value));return -1!==s&&(t=s),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,s,a,l,i;if(e.dataRef.current.disabled||1===e.listboxState)return e;let r={...e,searchQuery:"",activationTrigger:null!=(n=t.trigger)?n:1,__demoMode:!1};if(t.focus===_.Focus.Nothing)return{...r,activeOptionIndex:null};if(t.focus===_.Focus.Specific)return{...r,activeOptionIndex:e.options.findIndex(e=>e.id===t.id)};if(t.focus===_.Focus.Previous){let n=e.activeOptionIndex;if(null!==n){let l=e.options[n].dataRef.current.domRef,i=(0,_.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.options[i].dataRef.current.domRef;if((null==(s=l.current)?void 0:s.previousElementSibling)===t.current||(null==(a=t.current)?void 0:a.previousElementSibling)===null)return{...r,activeOptionIndex:i}}}}else if(t.focus===_.Focus.Next){let n=e.activeOptionIndex;if(null!==n){let s=e.options[n].dataRef.current.domRef,a=(0,_.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==a){let t=e.options[a].dataRef.current.domRef;if((null==(l=s.current)?void 0:l.nextElementSibling)===t.current||(null==(i=t.current)?void 0:i.nextElementSibling)===null)return{...r,activeOptionIndex:a}}}}let o=Y(e),d=(0,_.calculateActiveIndex)(t,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...r,...o,activeOptionIndex:d}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=+(""===e.searchQuery),s=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(s))}),l=a?e.options.indexOf(a):-1;return -1===l||l===e.activeOptionIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeOptionIndex:l,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},s=Y(e,e=>[...e,n]);return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(n)),{...e,...s}},6:(e,t)=>{let n=Y(e,e=>{let n=e.findIndex(e=>e.id===t.id);return -1!==n&&e.splice(n,1),e});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},et=(0,r.createContext)(null);function en(e){let t=(0,r.useContext)(et);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,en),t}return t}et.displayName="ListboxActionsContext";let es=(0,r.createContext)(null);function ea(e){let t=(0,r.useContext)(es);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ea),t}return t}function el(e,t){return(0,z.match)(t.type,ee,e,t)}es.displayName="ListboxDataContext";let ei=r.Fragment,er=(0,r.createContext)(!1),eo=V.RenderFeatures.RenderStrategy|V.RenderFeatures.Static,ed=r.Fragment,ec=(0,V.forwardRefWithAs)(function(e,t){var n;let s=(0,I.useDisabled)(),{value:a,defaultValue:l,form:i,name:o,onChange:d,by:c,invalid:x=!1,disabled:v=s||!1,horizontal:h=!1,multiple:y=!1,__demoMode:j=!1,...E}=e,N=h?"horizontal":"vertical",O=(0,R.useSyncRefs)(t),w=(0,p.useDefaultValue)(l),[C=y?[]:void 0,k]=(0,m.useControllable)(a,d,w),[F,M]=(0,r.useReducer)(el,{dataRef:(0,r.createRef)(),listboxState:+!j,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:j}),T=(0,r.useRef)({static:!1,hold:!1}),A=(0,r.useRef)(new Map),B=u(c),$=(0,r.useCallback)(e=>(0,z.match)(U.mode,{1:()=>C.some(t=>B(t,e)),0:()=>B(C,e)}),[C]),U=(0,r.useMemo)(()=>({...F,value:C,disabled:v,invalid:x,mode:+!!y,orientation:N,compare:B,isSelected:$,optionsPropsRef:T,listRef:A}),[C,v,x,y,F,A]);(0,g.useIsoMorphicEffect)(()=>{F.dataRef.current=U},[U]);let Q=0===U.listboxState;(0,S.useOutsideClick)(Q,[U.buttonElement,U.optionsElement],(e,t)=>{var n;M({type:1}),(0,K.isFocusableElement)(t,K.FocusableMode.Loose)||(e.preventDefault(),null==(n=U.buttonElement)||n.focus())});let W=(0,r.useMemo)(()=>({open:0===U.listboxState,disabled:v,invalid:x,value:C}),[U,v,C,x]),Z=(0,b.useEvent)(e=>{let t=U.options.find(t=>t.id===e);t&&en(t.dataRef.current.value)}),H=(0,b.useEvent)(()=>{if(null!==U.activeOptionIndex){let{dataRef:e,id:t}=U.options[U.activeOptionIndex];en(e.current.value),M({type:2,focus:_.Focus.Specific,id:t})}}),q=(0,b.useEvent)(()=>M({type:0})),X=(0,b.useEvent)(()=>M({type:1})),J=(0,f.useDisposables)(),Y=(0,b.useEvent)((e,t,n)=>{J.dispose(),J.microTask(()=>e===_.Focus.Specific?M({type:2,focus:_.Focus.Specific,id:t,trigger:n}):M({type:2,focus:e,trigger:n}))}),ee=(0,b.useEvent)((e,t)=>(M({type:5,id:e,dataRef:t}),()=>M({type:6,id:e}))),en=(0,b.useEvent)(e=>(0,z.match)(U.mode,{0:()=>null==k?void 0:k(e),1(){let t=U.value.slice(),n=t.findIndex(t=>B(t,e));return -1===n?t.push(e):t.splice(n,1),null==k?void 0:k(t)}})),ea=(0,b.useEvent)(e=>M({type:3,value:e})),er=(0,b.useEvent)(()=>M({type:4})),eo=(0,b.useEvent)(e=>{M({type:7,element:e})}),ed=(0,b.useEvent)(e=>{M({type:8,element:e})}),ec=(0,r.useMemo)(()=>({onChange:en,registerOption:ee,goToOption:Y,closeListbox:X,openListbox:q,selectActiveOption:H,selectOption:Z,search:ea,clearSearch:er,setButtonElement:eo,setOptionsElement:ed}),[]),[eu,em]=(0,G.useLabels)({inherit:!0}),ep=(0,r.useCallback)(()=>{if(void 0!==w)return null==k?void 0:k(w)},[k,w]),ex=(0,V.useRender)();return r.default.createElement(em,{value:eu,props:{htmlFor:null==(n=U.buttonElement)?void 0:n.id},slot:{open:0===U.listboxState,disabled:v}},r.default.createElement(L.FloatingProvider,null,r.default.createElement(et.Provider,{value:ec},r.default.createElement(es.Provider,{value:U},r.default.createElement(D.OpenClosedProvider,{value:(0,z.match)(U.listboxState,{0:D.State.Open,1:D.State.Closed})},null!=o&&null!=C&&r.default.createElement(P.FormFields,{disabled:v,data:{[o]:C},form:i,onReset:ep}),ex({ourProps:{ref:O},theirProps:E,slot:W,defaultTag:ei,name:"Listbox"}))))))}),eu=(0,V.forwardRefWithAs)(function(e,t){var n;let s=ea("Listbox.Button"),a=en("Listbox.Button"),c=(0,r.useId)(),u=(0,T.useProvidedId)(),{id:m=u||`headlessui-listbox-button-${c}`,disabled:p=s.disabled||!1,autoFocus:x=!1,...f}=e,v=(0,R.useSyncRefs)(t,(0,L.useFloatingReference)(),a.setButtonElement),h=(0,L.useFloatingReferenceProps)(),g=(0,b.useEvent)(e=>{switch(e.key){case W.Keys.Enter:(0,$.attemptSubmit)(e.currentTarget);break;case W.Keys.Space:case W.Keys.ArrowDown:e.preventDefault(),(0,o.flushSync)(()=>a.openListbox()),s.value||a.goToOption(_.Focus.First);break;case W.Keys.ArrowUp:e.preventDefault(),(0,o.flushSync)(()=>a.openListbox()),s.value||a.goToOption(_.Focus.Last)}}),y=(0,b.useEvent)(e=>{e.key===W.Keys.Space&&e.preventDefault()}),j=(0,b.useEvent)(e=>{var t;if((0,A.isDisabledReactIssue7711)(e.currentTarget))return e.preventDefault();0===s.listboxState?((0,o.flushSync)(()=>a.closeListbox()),null==(t=s.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),a.openListbox())}),S=(0,b.useEvent)(e=>e.preventDefault()),E=(0,G.useLabelledBy)([m]),O=(0,Q.useDescribedBy)(),{isFocusVisible:w,focusProps:C}=(0,l.useFocusRing)({autoFocus:x}),{isHovered:k,hoverProps:I}=(0,i.useHover)({isDisabled:p}),{pressed:P,pressProps:F}=(0,d.useActivePress)({disabled:p}),M=(0,r.useMemo)(()=>({open:0===s.listboxState,active:P||0===s.listboxState,disabled:p,invalid:s.invalid,value:s.value,hover:k,focus:w,autofocus:x}),[s.listboxState,s.value,p,k,w,P,s.invalid,x]),D=(0,V.mergeProps)(h(),{ref:v,id:m,type:(0,N.useResolveButtonType)(e,s.buttonElement),"aria-haspopup":"listbox","aria-controls":null==(n=s.optionsElement)?void 0:n.id,"aria-expanded":0===s.listboxState,"aria-labelledby":E,"aria-describedby":O,disabled:p||void 0,autoFocus:x,onKeyDown:g,onKeyUp:y,onKeyPress:S,onClick:j},C,I,F);return(0,V.useRender)()({ourProps:D,theirProps:f,slot:M,defaultTag:"button",name:"Listbox.Button"})}),em=G.Label,ep=(0,V.forwardRefWithAs)(function(e,t){var n,s;let a=(0,r.useId)(),{id:l=`headlessui-listbox-options-${a}`,anchor:i,portal:d=!1,modal:c=!0,transition:u=!1,...m}=e,p=(0,L.useResolvedAnchor)(i),[g,y]=(0,r.useState)(null);p&&(d=!0);let S=ea("Listbox.Options"),N=en("Listbox.Options"),w=(0,E.useOwnerDocument)(S.buttonElement),C=(0,E.useOwnerDocument)(S.optionsElement),I=(0,D.useOpenClosed)(),[P,F]=(0,k.useTransition)(u,g,null!==I?(I&D.State.Open)===D.State.Open:0===S.listboxState);(0,j.useOnDisappear)(P,S.buttonElement,N.closeListbox);let T=!S.__demoMode&&c&&0===S.listboxState;(0,O.useScrollLock)(T,C);let A=!S.__demoMode&&c&&0===S.listboxState;(0,h.useInertOthers)(A,{allowed:(0,r.useCallback)(()=>[S.buttonElement,S.optionsElement],[S.buttonElement,S.optionsElement])});let B=0!==S.listboxState,$=!(0,x.useDidElementMove)(B,S.buttonElement)&&P,Q=M(P&&1===S.listboxState,S.value),G=(0,b.useEvent)(e=>S.compare(Q,e)),H=(0,r.useMemo)(()=>{var e;if(null==p||!(null!=(e=null==p?void 0:p.to)&&e.includes("selection")))return null;let t=S.options.findIndex(e=>G(e.dataRef.current.value));return -1===t&&(t=0),t},[p,S.options]),q=(()=>{if(null==p)return;if(null===H)return{...p,inner:void 0};let e=Array.from(S.listRef.current.values());return{...p,inner:{listRef:{current:e},index:H}}})(),[X,J]=(0,L.useFloatingPanel)(q),Y=(0,L.useFloatingPanelProps)(),ee=(0,R.useSyncRefs)(t,p?X:null,N.setOptionsElement,y),et=(0,f.useDisposables)();(0,r.useEffect)(()=>{var e;let t=S.optionsElement;t&&0===S.listboxState&&t!==(null==(e=(0,U.getOwnerDocument)(t))?void 0:e.activeElement)&&(null==t||t.focus({preventScroll:!0}))},[S.listboxState,S.optionsElement]);let el=(0,b.useEvent)(e=>{var t,n;switch(et.dispose(),e.key){case W.Keys.Space:if(""!==S.searchQuery)return e.preventDefault(),e.stopPropagation(),N.search(e.key);case W.Keys.Enter:if(e.preventDefault(),e.stopPropagation(),null!==S.activeOptionIndex){let{dataRef:e}=S.options[S.activeOptionIndex];N.onChange(e.current.value)}0===S.mode&&((0,o.flushSync)(()=>N.closeListbox()),null==(t=S.buttonElement)||t.focus({preventScroll:!0}));break;case(0,z.match)(S.orientation,{vertical:W.Keys.ArrowDown,horizontal:W.Keys.ArrowRight}):return e.preventDefault(),e.stopPropagation(),N.goToOption(_.Focus.Next);case(0,z.match)(S.orientation,{vertical:W.Keys.ArrowUp,horizontal:W.Keys.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),N.goToOption(_.Focus.Previous);case W.Keys.Home:case W.Keys.PageUp:return e.preventDefault(),e.stopPropagation(),N.goToOption(_.Focus.First);case W.Keys.End:case W.Keys.PageDown:return e.preventDefault(),e.stopPropagation(),N.goToOption(_.Focus.Last);case W.Keys.Escape:e.preventDefault(),e.stopPropagation(),(0,o.flushSync)(()=>N.closeListbox()),null==(n=S.buttonElement)||n.focus({preventScroll:!0});return;case W.Keys.Tab:e.preventDefault(),e.stopPropagation(),(0,o.flushSync)(()=>N.closeListbox()),(0,K.focusFrom)(S.buttonElement,e.shiftKey?K.Focus.Previous:K.Focus.Next);break;default:1===e.key.length&&(N.search(e.key),et.setTimeout(()=>N.clearSearch(),350))}}),ei=null==(n=S.buttonElement)?void 0:n.id,er=(0,r.useMemo)(()=>({open:0===S.listboxState}),[S.listboxState]),ed=(0,V.mergeProps)(p?Y():{},{id:l,ref:ee,"aria-activedescendant":null===S.activeOptionIndex||null==(s=S.options[S.activeOptionIndex])?void 0:s.id,"aria-multiselectable":1===S.mode||void 0,"aria-labelledby":ei,"aria-orientation":S.orientation,onKeyDown:el,role:"listbox",tabIndex:0===S.listboxState?0:void 0,style:{...m.style,...J,"--button-width":(0,v.useElementSize)(S.buttonElement,!0).width},...(0,k.transitionDataAttributes)(F)}),ec=(0,V.useRender)();return r.default.createElement(Z.Portal,{enabled:!!d&&(e.static||P),ownerDocument:w},r.default.createElement(es.Provider,{value:1===S.mode?S:{...S,isSelected:G}},ec({ourProps:ed,theirProps:m,slot:er,defaultTag:"div",features:eo,visible:$,name:"Listbox.Options"})))}),ex=(0,V.forwardRefWithAs)(function(e,t){let n=(0,r.useId)(),{id:s=`headlessui-listbox-option-${n}`,disabled:a=!1,value:l,...i}=e,d=!0===(0,r.useContext)(er),c=ea("Listbox.Option"),u=en("Listbox.Option"),m=null!==c.activeOptionIndex&&c.options[c.activeOptionIndex].id===s,p=c.isSelected(l),x=(0,r.useRef)(null),f=(0,w.useTextValue)(x),v=(0,y.useLatestValue)({disabled:a,value:l,domRef:x,get textValue(){return f()}}),h=(0,R.useSyncRefs)(t,x,e=>{e?c.listRef.current.set(s,e):c.listRef.current.delete(s)});(0,g.useIsoMorphicEffect)(()=>{if(!c.__demoMode&&0===c.listboxState&&m&&0!==c.activationTrigger)return(0,B.disposables)().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=x.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[x,m,c.__demoMode,c.listboxState,c.activationTrigger,c.activeOptionIndex]),(0,g.useIsoMorphicEffect)(()=>{if(!d)return u.registerOption(s,v)},[v,s,d]);let j=(0,b.useEvent)(e=>{var t;if(a)return e.preventDefault();u.onChange(l),0===c.mode&&((0,o.flushSync)(()=>u.closeListbox()),null==(t=c.buttonElement)||t.focus({preventScroll:!0}))}),S=(0,b.useEvent)(()=>{if(a)return u.goToOption(_.Focus.Nothing);u.goToOption(_.Focus.Specific,s)}),E=(0,C.useTrackedPointer)(),N=(0,b.useEvent)(e=>{E.update(e),!a&&(m||u.goToOption(_.Focus.Specific,s,0))}),O=(0,b.useEvent)(e=>{E.wasMoved(e)&&(a||m||u.goToOption(_.Focus.Specific,s,0))}),k=(0,b.useEvent)(e=>{E.wasMoved(e)&&(a||m&&u.goToOption(_.Focus.Nothing))}),I=(0,r.useMemo)(()=>({active:m,focus:m,selected:p,disabled:a,selectedOption:p&&d}),[m,p,a,d]),L=d?{}:{id:s,ref:h,role:"option",tabIndex:!0===a?void 0:-1,"aria-disabled":!0===a||void 0,"aria-selected":p,disabled:void 0,onClick:j,onFocus:S,onPointerEnter:N,onMouseEnter:N,onPointerMove:O,onMouseMove:O,onPointerLeave:k,onMouseLeave:k},P=(0,V.useRender)();return!p&&d?null:P({ourProps:L,theirProps:i,slot:I,defaultTag:"div",name:"Listbox.Option"})}),ef=Object.assign(ec,{Button:eu,Label:em,Options:ep,Option:ex,SelectedOption:(0,V.forwardRefWithAs)(function(e,t){let{options:n,placeholder:s,...a}=e,l={ref:(0,R.useSyncRefs)(t)},i=ea("ListboxSelectedOption"),o=(0,r.useMemo)(()=>({}),[]),d=void 0===i.value||null===i.value||1===i.mode&&Array.isArray(i.value)&&0===i.value.length,c=(0,V.useRender)();return r.default.createElement(er.Provider,{value:!0},c({ourProps:l,theirProps:{...a,children:r.default.createElement(r.default.Fragment,null,s&&d?s:n)},slot:o,defaultTag:ed,name:"ListboxSelectedOption"}))})});e.s(["Listbox",()=>ef,"ListboxButton",()=>eu,"ListboxOption",()=>ex,"ListboxOptions",()=>ep],789604);let ev=r.forwardRef(function(e,t){let{title:n,titleId:s,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),n?r.createElement("title",{id:s},n):null,r.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});e.s(["ChevronDownIcon",0,ev],516457)},261484,e=>{"use strict";var t=e.i(268255),n={SVG:"image/svg+xml",ICO:"image/x-icon",GIF:"image/gif",PNG:"image/png"};let s=function(e){(0,t.useEffect)(function(){if(e){var t=e.split("."),s=t[t.length-1].toLocaleUpperCase(),a=document.querySelector("link[rel*='icon']")||document.createElement("link");a.type=n[s],a.href=e,a.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(a)}},[e])};var a=e.i(685888),l=e.i(354440),i={restoreOnUnmount:!1};let r=function(e,n){void 0===n&&(n=i);var s=(0,t.useRef)(l.default?document.title:"");(0,t.useEffect)(function(){document.title=e},[e]),(0,a.default)(function(){n.restoreOnUnmount&&(document.title=s.current)})};var o=e.i(494268),d=e.i(168014);function c(e){let n=(0,o.useIsSystemFeaturesPending)(),a=(0,o.useGlobalPublicStore)(e=>e.systemFeatures),l=e?`${e} - `:"",i="",c="";!1===n&&(a.branding.enabled?(i=`${l}${a.branding.application_title}`,c=a.branding.favicon):(i=`${l}Dify`,c=`${d.basePath}/favicon.ico`)),r(i),(0,t.useEffect)(()=>{let e=null;return a.branding.favicon&&(document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon'], link[rel='mask-icon']").forEach(e=>e.parentNode?.removeChild(e)),(e=document.createElement("link")).rel="apple-touch-icon",e.href=a.branding.favicon,document.head.appendChild(e)),()=>{e?.remove()}},[a.branding.favicon]),s(c)}e.s(["default",()=>c],261484)},361483,e=>{"use strict";var t=e.i(563199),n=e.i(268255);e.i(152567);var s=e.i(408767);let a=n.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?n.createElement("title",{id:a},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),l=n.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?n.createElement("title",{id:a},s):null,n.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});var i=e.i(837699),r=e.i(151094),o=e.i(21151),d=e.i(291631),c=e.i(299951),u=e.i(261484);let m=n.memo(()=>{let{t:e}=(0,s.useTranslation)();(0,u.default)(e("menus.dataMasking",{ns:"common"}));let[m]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[f,v]=(0,n.useState)({name:"",type:"phone",pattern:"",maskChar:"*"}),b={phone:{name:"手机号",pattern:"1[3-9]\\d{9}",example:"13812345678",description:"匹配中国大陆手机号"},email:{name:"邮箱",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",example:"user@example.com",description:"匹配标准邮箱地址"},id_card:{name:"身份证",pattern:"[1-9]\\d{5}(18|19|20)\\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\\d|3[01])\\d{3}[0-9Xx]",example:"110101199001011234",description:"匹配18位身份证号"},bank_card:{name:"银行卡号",pattern:"\\d{16,19}",example:"6222021234567890123",description:"匹配16-19位银行卡号"},ip_address:{name:"IP地址",pattern:"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}",example:"192.168.1.1",description:"匹配IPv4地址"},address:{name:"地址",pattern:".*省.*市.*区.*",example:"北京市朝阳区xxx街道",description:"匹配包含省市区的地址"},name:{name:"姓名",pattern:"[\\u4e00-\\u9fa5]{2,4}",example:"张三",description:"匹配2-4个中文字符的姓名"},custom:{name:"自定义",pattern:"",example:"",description:"自定义正则表达式"}},[h,g]=(0,n.useState)("partial"),[y,j]=(0,n.useState)(3),[S,E]=(0,n.useState)(4),[N,O]=(0,n.useState)([]),[R,w]=(0,n.useState)(""),C=e=>{let t=b[e];v({...f,type:e,pattern:t.pattern,name:f.name||t.name})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-12 pt-8 pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:e("dataMasking.title",{ns:"common"})}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e("dataMasking.description",{ns:"common"})})]}),(0,t.jsxs)(r.default,{variant:"primary",className:"flex items-center gap-2",onClick:()=>x(!0),children:[(0,t.jsx)(a,{className:"w-4 h-4"}),e("dataMasking.createRule",{ns:"common"})]})]}),(0,t.jsxs)("div",{className:"flex-1 px-12 pb-8 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"总规则数"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:m.length})]}),(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.RiShieldCheckLine,{className:"w-5 h-5 text-blue-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"已启用"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-green-600 mt-1",children:m.filter(e=>e.enabled).length})]}),(0,t.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.RiCheckLine,{className:"w-5 h-5 text-green-600"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"已禁用"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-400 mt-1",children:m.filter(e=>!e.enabled).length})]}),(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(l,{className:"w-5 h-5 text-gray-400"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"本月脱敏"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-purple-600 mt-1",children:"1.2K"})]}),(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.RiEyeOffLine,{className:"w-5 h-5 text-purple-600"})})]})})]}),0===m.length&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"col-span-2 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"快速创建常用规则"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{type:"phone",name:"手机号脱敏",icon:i.RiPhoneLine,desc:"保护用户手机号隐私",bgColor:"bg-blue-100",hoverBgColor:"group-hover:bg-blue-200",iconColor:"text-blue-600"},{type:"email",name:"邮箱脱敏",icon:i.RiMailLine,desc:"隐藏邮箱地址信息",bgColor:"bg-green-100",hoverBgColor:"group-hover:bg-green-200",iconColor:"text-green-600"},{type:"id_card",name:"身份证脱敏",icon:i.RiIdCardLine,desc:"保护身份证号安全",bgColor:"bg-purple-100",hoverBgColor:"group-hover:bg-purple-200",iconColor:"text-purple-600"},{type:"name",name:"姓名脱敏",icon:i.RiUserLine,desc:"隐藏真实姓名",bgColor:"bg-orange-100",hoverBgColor:"group-hover:bg-orange-200",iconColor:"text-orange-600"}].map(e=>{let n=e.icon;return(0,t.jsxs)("button",{onClick:()=>{C(e.type),x(!0)},className:"flex items-start p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-md transition-all text-left group",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 mr-3 ${e.bgColor} ${e.hoverBgColor} transition-colors`,children:(0,t.jsx)(n,{className:`w-5 h-5 ${e.iconColor}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.desc})]})]},e.type)})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"使用指南"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-blue-600",children:"1"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"创建规则"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"选择数据类型并配置脱敏策略"})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-blue-600",children:"2"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"测试预览"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"验证脱敏效果是否符合预期"})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-blue-600",children:"3"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"启用规则"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"规则将自动应用到相关场景"})]})]})]})]})]}),0===m.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[(0,t.jsx)(i.RiShieldCheckLine,{className:"w-12 h-12 text-gray-300 mb-4"}),(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e("dataMasking.noRules",{ns:"common"})}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e("dataMasking.noRulesDescription",{ns:"common"})})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"脱敏规则列表"}),(0,t.jsx)("div",{className:"space-y-3",children:m.map(n=>(0,t.jsx)("div",{className:"p-4 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:n.name}),(0,t.jsx)("span",{className:`px-2 py-0.5 text-xs rounded ${n.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n.enabled?e("dataMasking.enabled",{ns:"common"}):e("dataMasking.disabled",{ns:"common"})})]}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[n.type," • ",n.pattern]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.default,{variant:"ghost",size:"small",children:"编辑"}),(0,t.jsx)(r.default,{variant:"ghost",size:"small",children:"删除"})]})]})},n.id))})]})]})]}),(0,t.jsx)(o.default,{isShow:p,onClose:()=>x(!1),title:e("dataMasking.createRule",{ns:"common"}),className:"max-w-[520px]",closable:!0,children:(0,t.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("dataMasking.ruleName",{ns:"common"})}),(0,t.jsx)(d.default,{value:f.name,onChange:e=>v({...f,name:e.target.value}),placeholder:"请输入规则名称"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("dataMasking.ruleType",{ns:"common"})}),(0,t.jsx)(c.default,{items:[{value:"phone",name:"手机号"},{value:"email",name:"邮箱"},{value:"id_card",name:"身份证"},{value:"bank_card",name:"银行卡号"},{value:"ip_address",name:"IP地址"},{value:"address",name:"地址"},{value:"name",name:"姓名"},{value:"custom",name:"自定义"}],defaultValue:f.type,onSelect:e=>C(e.value)}),"custom"!==f.type&&b[f.type]&&(0,t.jsx)("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-blue-600",children:[(0,t.jsx)("span",{className:"font-medium",children:"示例："}),b[f.type].example]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("dataMasking.pattern",{ns:"common"})}),(0,t.jsx)(d.default,{value:f.pattern,onChange:e=>v({...f,pattern:e.target.value}),placeholder:"custom"===f.type?"请输入正则表达式":"已自动填充"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"脱敏策略"}),(0,t.jsx)(c.default,{items:[{value:"partial",name:"部分脱敏",description:"保留部分字符，其余用*替换"},{value:"full",name:"完全脱敏",description:"全部替换为*"},{value:"hash",name:"哈希脱敏",description:"使用哈希算法加密"},{value:"replace",name:"替换脱敏",description:"替换为固定文本"}].map(e=>({value:e.value,name:e.name})),defaultValue:h,onSelect:e=>g(e.value)})]}),"partial"===h&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"保留前几位"}),(0,t.jsx)(d.default,{type:"number",value:y,onChange:e=>j(Number(e.target.value)),min:0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"保留后几位"}),(0,t.jsx)(d.default,{type:"number",value:S,onChange:e=>E(Number(e.target.value)),min:0})]})]}),R&&(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"预览效果"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-mono text-gray-900",children:R}),(0,t.jsx)("span",{className:"text-gray-400",children:"→"}),(0,t.jsx)("span",{className:"text-sm font-mono text-blue-600",children:((e,t)=>{if(!e)return"";switch(t){case"partial":if(e.length<=y+S)return e;let n=e.substring(0,y),s=e.substring(e.length-S),a="*".repeat(e.length-y-S);return`${n}${a}${s}`;case"full":return"*".repeat(e.length);case"hash":return`[HASH:${e.length}位]`;case"replace":return"[已脱敏]";default:return e}})(R,h)})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[(0,t.jsxs)(r.default,{variant:"secondary",onClick:()=>x(!1),children:[(0,t.jsx)(l,{className:"w-4 h-4 mr-1"}),e("operation.cancel",{ns:"common"})]}),(0,t.jsxs)(r.default,{variant:"primary",onClick:()=>{x(!1),v({name:"",type:"phone",pattern:"",maskChar:"*"})},disabled:!f.name||!f.pattern,children:[(0,t.jsx)(a,{className:"w-4 h-4 mr-1"}),e("operation.create",{ns:"common"})]})]})]})})]})});e.s(["default",0,m],361483)}]);