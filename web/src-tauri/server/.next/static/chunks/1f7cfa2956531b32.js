(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,500536,e=>{"use strict";var t,a=e.i(563199),l=e.i(294237),r=e.i(935139),i=((t=i||{}).Warning="warning",t.Accent="accent",t.Default="",t);let n=(0,l.cva)("badge",{variants:{size:{s:"badge-s",m:"badge-m",l:"badge-l"}},defaultVariants:{size:"m"}}),s=e=>{let{className:t,size:l,state:i="",iconOnly:s=!1,uppercase:d=!1,styleCss:o,children:c,...m}=e;return(0,a.jsx)("div",{className:(0,r.cn)(n({size:l,className:t}),function(e){switch(e){case"warning":return"badge-warning";case"accent":return"badge-accent";default:return""}}(i),"s"===l?s?"p-[3px]":"px-[5px] py-[3px]":"l"===l?s?"p-1.5":"px-2 py-1":s?"p-1":"px-[5px] py-[2px]",d?"system-2xs-medium-uppercase":"system-2xs-medium"),style:o,...m,children:c})};s.displayName="Badge",e.s(["Badge",()=>s,"BadgeState",()=>i,"default",0,s])},65932,(e,t,a)=>{"use strict";t.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;if(Array.isArray(t)){if((l=t.length)!=a.length)return!1;for(r=l;0!=r--;)if(!e(t[r],a[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((l=(i=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(r=l;0!=r--;)if(!Object.prototype.hasOwnProperty.call(a,i[r]))return!1;for(r=l;0!=r--;){var l,r,i,n=i[r];if(!e(t[n],a[n]))return!1}return!0}return t!=t&&a!=a}},291428,e=>{e.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"g",attributes:{id:"alert-triangle"},children:[{type:"element",name:"path",attributes:{id:"Solid","fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.40616 0.834185C6.14751 0.719172 5.85222 0.719172 5.59356 0.834185C5.3938 0.923011 5.26403 1.07947 5.17373 1.20696C5.08495 1.3323 4.9899 1.49651 4.88536 1.67711L0.751783 8.81693C0.646828 8.99818 0.551451 9.16289 0.486781 9.30268C0.421056 9.44475 0.349754 9.63572 0.372478 9.85369C0.401884 10.1357 0.549654 10.392 0.779012 10.5588C0.956259 10.6877 1.15726 10.7217 1.31314 10.736C1.46651 10.75 1.65684 10.75 1.86628 10.75H10.1334C10.3429 10.75 10.5332 10.75 10.6866 10.736C10.8425 10.7217 11.0435 10.6877 11.2207 10.5588C11.4501 10.392 11.5978 10.1357 11.6272 9.85369C11.65 9.63572 11.5787 9.44475 11.5129 9.30268C11.4483 9.1629 11.3529 8.9982 11.248 8.81697L7.11436 1.67709C7.00983 1.49651 6.91477 1.3323 6.82599 1.20696C6.73569 1.07947 6.60593 0.923011 6.40616 0.834185ZM6.49988 4.5C6.49988 4.22386 6.27602 4 5.99988 4C5.72374 4 5.49988 4.22386 5.49988 4.5V6.5C5.49988 6.77614 5.72374 7 5.99988 7C6.27602 7 6.49988 6.77614 6.49988 6.5V4.5ZM5.99988 8C5.72374 8 5.49988 8.22386 5.49988 8.5C5.49988 8.77614 5.72374 9 5.99988 9H6.00488C6.28102 9 6.50488 8.77614 6.50488 8.5C6.50488 8.22386 6.28102 8 6.00488 8H5.99988Z",fill:"currentColor"},children:[]}]}]},name:"AlertTriangle"})},793622,417494,259509,e=>{"use strict";var t=e.i(563199),a=e.i(807324),l=e.i(291428);let r=e=>{let{ref:r,...i}=e;return(0,t.jsx)(a.default,{...i,ref:r,data:l.default})};r.displayName="AlertTriangle",e.s(["default",0,r],417494),e.s([],793622),e.s(["AlertTriangle",0,r],259509)},432024,579417,735586,794909,809910,707844,296776,757071,502662,322e3,e=>{"use strict";var t=e.i(563199),a=e.i(807324);e.i(716342),e.i(382174),e.i(155382);var l=e.i(58376);let r=e=>{let{ref:r,...i}=e;return(0,t.jsx)(a.default,{...i,ref:r,data:l.default})};r.displayName="Gdpr",e.s(["default",0,r],579417);var i=e.i(586212);let n=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:i.default})};n.displayName="Github",e.s(["default",0,n],735586);var s=e.i(794403);let d=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:s.default})};d.displayName="Highlight",e.s(["default",0,d],794909);var o=e.i(109755);let c=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:o.default})};c.displayName="Iso",e.s(["default",0,c],809910);var m=e.i(831084);let u=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:m.default})};u.displayName="Line3",e.s(["default",0,u],707844),e.i(680599),e.i(481114),e.i(549540);var f=e.i(944996);let p=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:f.default})};p.displayName="Notion",e.s(["default",0,p],296776),e.i(877196);var x=e.i(117263);let g=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:x.default})};g.displayName="Soc2",e.s(["default",0,g],757071);var h=e.i(672877);let v=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:h.default})};v.displayName="SparklesSoft",e.s(["default",0,v],502662);var b=e.i(515393);let _=e=>{let{ref:l,...r}=e;return(0,t.jsx)(a.default,{...r,ref:l,data:b.default})};_.displayName="SparklesSoftAccent",e.s(["default",0,_],322e3),e.s([],432024)},876359,e=>{"use strict";var t=e.i(563199),a=e.i(294237);e.i(432024);var l=e.i(794909),l=l,r=e.i(935139);let i=(0,a.cva)("premium-badge",{variants:{size:{s:"premium-badge-s",m:"premium-badge-m",custom:""},color:{blue:"premium-badge-blue",indigo:"premium-badge-indigo",gray:"premium-badge-gray",orange:"premium-badge-orange"},allowHover:{true:"allowHover",false:""}},defaultVariants:{size:"m",color:"blue",allowHover:!1}}),n=e=>{let{className:a,size:n,color:s,allowHover:d,styleCss:o,children:c,...m}=e;return(0,t.jsxs)("div",{className:(0,r.cn)(i({size:n,color:s,allowHover:d,className:a}),"relative text-nowrap"),style:o,...m,children:[c,(0,t.jsx)(l.default,{className:(0,r.cn)("absolute right-1/2 top-0 translate-x-[20%] opacity-50 transition-all duration-100 ease-out hover:translate-x-[30%] hover:opacity-80","s"===n?"h-[18px] w-12":"h-6 w-12")})]})};n.displayName="PremiumBadge",e.s(["default",0,n],876359)},845255,e=>{"use strict";var t=e.i(502662);e.s(["SparklesSoft",()=>t.default])},84366,e=>{"use strict";var t=e.i(563199),a=e.i(268255);e.i(152567);var l=e.i(408767),r=e.i(151094);e.i(432024);var i=e.i(845255),n=e.i(296124),s=e.i(876359);let d=a.memo(e=>{let{className:a,size:d="m",style:o,isPlain:c=!1,isShort:m=!1,onClick:u,loc:f,labelKey:p}=e,{t:x}=(0,l.useTranslation)(),{setShowPricingModal:g}=(0,n.useModalContext)(),h=()=>{u?u():g(),f&&window.gtag&&window.gtag("event","click_upgrade_btn",{loc:f})},v=x(m?"upgradeBtn.encourageShort":"upgradeBtn.encourage",{ns:"billing"}),b=p?x(p,{ns:"billing"}):v;return c?(0,t.jsx)(r.default,{className:a,style:o,onClick:h,children:p?b:x("upgradeBtn.plain",{ns:"billing"})}):(0,t.jsxs)(s.default,{size:d,color:"blue",allowHover:!0,onClick:h,className:a,style:o,children:[(0,t.jsx)(i.SparklesSoft,{className:"flex h-3.5 w-3.5 items-center py-[1px] pl-[3px] text-components-premium-badge-indigo-text-stop-0"}),(0,t.jsx)("div",{className:"system-xs-medium",children:(0,t.jsx)("span",{className:"p-1",children:b})})]})});e.s(["default",0,d])},34628,e=>{e.v({gridBg:"style-module__T68GKq__gridBg"})},325222,e=>{"use strict";var t=e.i(563199),a=e.i(935139),l=e.i(34628);e.s(["default",0,e=>{let{children:r,wrapperClassName:i,canvasClassName:n,gradientClassName:s}=e;return(0,t.jsxs)("div",{className:(0,a.cn)("relative bg-saas-background",i),children:[(0,t.jsx)("div",{className:(0,a.cn)("absolute inset-0 z-0 h-full w-full opacity-70",n,l.default.gridBg)}),(0,t.jsx)("div",{className:(0,a.cn)("absolute z-[1] h-full w-full rounded-lg bg-grid-mask-background",s)}),(0,t.jsx)("div",{className:"relative z-[2]",children:r})]})}])},177335,e=>{e.v({simplePieChart:"index-module__rIA7nG__simplePieChart"})},153435,e=>{"use strict";var t=e.i(563199),a=e.i(676197),l=e.i(268255),r=e.i(935139),i=e.i(177335);let n=(0,l.memo)(e=>{let{percentage:n=80,fill:s="#fdb022",stroke:d="#f79009",size:o=12,animationDuration:c,className:m}=e,u=(0,l.useMemo)(()=>({series:[{type:"pie",radius:["83%","100%"],animation:!1,data:[{value:100,itemStyle:{color:d}}],emphasis:{disabled:!0},labelLine:{show:!1},cursor:"default"},{type:"pie",radius:"83%",animationDuration:c??600,data:[{value:n,itemStyle:{color:s}},{value:100-n,itemStyle:{color:"#fff"}}],emphasis:{disabled:!0},labelLine:{show:!1},cursor:"default"}]}),[d,s,n,c]);return(0,t.jsx)(a.default,{option:u,className:(0,r.cn)(i.default.simplePieChart,m),style:{"--simple-pie-chart-color":s,width:o,height:o}})});e.s(["default",0,n])},530020,e=>{e.v({textGradient:"style-module__wQozFa__textGradient"})},591324,e=>{"use strict";var t=e.i(563199),a=e.i(268255);e.i(152567);var l=e.i(408767),r=e.i(151094),i=e.i(547105),n=e.i(449980),s=e.i(21151),d=e.i(137667);e.i(466836);var o=e.i(726547),o=o,c=e.i(683503),m=e.i(935139),u=e.i(739255),f=e.i(225162),p=e.i(215128),x=e.i(722591),g=e.i(540284),h=e.i(837699),v=e.i(500536),b=e.i(325222);e.i(77445);var _=e.i(964493);e.i(793622);var y=e.i(259509),j=e.i(260484),C=e.i(421001),N=e.i(84366),w=e.i(530020),k=e.i(105058),k=k,M=e.i(925521),S=e.i(56971),P=e.i(836340),B=e.i(393689),B=B,T=e.i(153435);let F=(0,a.memo)(e=>{let{secondsRemaining:r,onFinish:i}=e,{t:n}=(0,l.useTranslation)(),s=(0,a.useRef)(Date.now()),[d,o]=(0,a.useState)(s.current),c=(0,a.useMemo)(()=>Math.ceil((s.current-d)/1e3),[d]),m=(0,a.useRef)(void 0),u=(0,a.useCallback)(()=>{m.current&&(window.clearTimeout(m.current),m.current=void 0)},[]),f=(0,B.default)(i),p=(0,a.useCallback)(()=>{u(),m.current=window.setTimeout(()=>{Date.now()<=s.current?(o(Date.now()),p()):(f.current?.(),u())},1e3)},[u,f]);return(0,a.useEffect)(()=>{let e=Date.now();return s.current=e+(r??0)*1e3,o(e),p(),u},[u,p,r]),c?(0,t.jsx)(C.default,{popupContent:n("modelProvider.apiKeyRateLimit",{ns:"common",seconds:c}),children:(0,t.jsx)(T.default,{percentage:Math.round(c/60*100),className:"h-3 w-3"})}):null}),I=e=>{let{draftConfig:r,setDraftConfig:i,provider:n,model:s,configurationMethod:d,currentCustomConfigurationModelFixedFields:o,withSwitch:c=!1,className:f,modelCredential:p,onUpdate:x,onRemove:g}=e,{t:B}=(0,l.useTranslation)(),T=d===u.ConfigurationMethodEnum.predefinedModel,I=(0,S.useProviderContextSelector)(e=>e.modelLoadBalancingEnabled),z=(0,a.useCallback)((e,t)=>{i(a=>{if(!a)return a;let l=[...a.configs],r=t(l[e]);return r?l[e]=r:l.splice(e,1),{...a,configs:l}})},[i]),A=(0,a.useCallback)(e=>{i(t=>t?{...t,configs:[...t.configs,{credential_id:e.credential_id,enabled:!0,name:e.credential_name}]}:t)},[i]),E=(0,a.useCallback)(e=>{(I||!e)&&r&&i({...r,enabled:e})},[r,I,i]),O=(0,a.useCallback)((e,t)=>{z(e,e=>({...e,enabled:"boolean"==typeof t?t:!e.enabled}))},[z]),R=(0,a.useCallback)(e=>{z(e,e=>{let{ttl:t,...a}=e;return{...a,in_cooldown:!1}})},[z]),D=(0,a.useMemo)(()=>r?r.configs:[],[r]),L=(0,a.useCallback)((e,t)=>{x?.(e,t)},[x]),H=(0,a.useCallback)(e=>{let t=r?.configs.findIndex(t=>t.credential_id===e&&"__inherit__"!==t.name);t&&t>-1&&z(t,()=>void 0),g?.(e)},[r?.configs,z,g]);return r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,m.cn)("min-h-16 rounded-xl border bg-components-panel-bg transition-colors",c||!r.enabled?"border-components-panel-border":"border-util-colors-blue-blue-600",c||r.enabled?"cursor-default":"cursor-pointer",f),onClick:c||r.enabled?void 0:()=>E(!0),children:[(0,t.jsxs)("div",{className:"flex select-none items-center gap-2 px-[15px] py-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 grow-0 items-center justify-center rounded-lg border border-util-colors-indigo-indigo-100 bg-util-colors-indigo-indigo-50 text-util-colors-blue-blue-600",children:(0,t.jsx)(_.Balance,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"grow",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-text-primary",children:[B("modelProvider.loadBalancing",{ns:"common"}),(0,t.jsx)(C.default,{popupContent:B("modelProvider.loadBalancingInfo",{ns:"common"}),popupClassName:"max-w-[300px]",triggerClassName:"w-3 h-3"})]}),(0,t.jsx)("div",{className:"text-xs text-text-tertiary",children:B("modelProvider.loadBalancingDescription",{ns:"common"})})]}),c&&(0,t.jsx)(j.default,{defaultValue:!!r.enabled,size:"l",className:"ml-3 justify-self-end",disabled:!I&&!r.enabled,onChange:e=>E(e)})]}),r.enabled&&(0,t.jsxs)("div",{className:"flex flex-col gap-1 px-3 pb-3",children:[D.map((e,a)=>{let l="__inherit__"===e.name,r=p.available_credentials.find(t=>t.credential_id===e.credential_id);return(0,t.jsxs)("div",{className:"group flex h-10 items-center rounded-lg border border-components-panel-border bg-components-panel-on-panel-item-bg px-3 shadow-xs",children:[(0,t.jsxs)("div",{className:"flex grow items-center",children:[(0,t.jsx)("div",{className:"mr-2 flex h-3 w-3 items-center justify-center",children:e.in_cooldown&&e.ttl?(0,t.jsx)(F,{secondsRemaining:e.ttl,onFinish:()=>R(a)}):(0,t.jsx)(C.default,{popupContent:B("modelProvider.apiKeyStatusNormal",{ns:"common"}),children:(0,t.jsx)(P.default,{color:r?.not_allowed_to_use?"gray":"green"})})}),(0,t.jsx)("div",{className:"mr-1 text-[13px] text-text-secondary",children:l?B("modelProvider.defaultConfig",{ns:"common"}):e.name}),l&&T&&(0,t.jsx)(v.default,{className:"ml-2",children:B("modelProvider.providerManaged",{ns:"common"})}),r?.from_enterprise&&(0,t.jsx)(v.default,{className:"ml-2",children:"Enterprise"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[!l&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:(0,t.jsx)(C.default,{popupContent:B("operation.remove",{ns:"common"}),children:(0,t.jsx)("span",{className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg bg-components-button-secondary-bg text-text-tertiary transition-colors hover:bg-components-button-secondary-bg-hover",onClick:()=>z(a,()=>void 0),children:(0,t.jsx)(h.RiIndeterminateCircleLine,{className:"h-4 w-4"})})})})}),(e.credential_id||"__inherit__"===e.name)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 h-3 border-r border-r-divider-subtle"}),(0,t.jsx)(j.default,{defaultValue:!r?.not_allowed_to_use&&!!e.enabled,size:"md",className:"justify-self-end",onChange:e=>O(a,e),disabled:r?.not_allowed_to_use})]})]})]},e.id||a)}),(0,t.jsx)(k.default,{provider:n,model:s,configurationMethod:d,modelCredential:p,onSelectCredential:A,onUpdate:L,onRemove:H})]}),r.enabled&&D.length<2&&(0,t.jsxs)("div",{className:"flex h-[34px] items-center rounded-b-xl border-t border-t-divider-subtle bg-components-panel-bg px-6 text-xs text-text-secondary",children:[(0,t.jsx)(y.AlertTriangle,{className:"mr-1 h-3 w-3 text-[#f79009]"}),B("modelProvider.loadBalancingLeastKeyWarning",{ns:"common"})]})]}),!I&&!M.IS_CE_EDITION&&(0,t.jsx)(b.default,{canvasClassName:"!rounded-xl",children:(0,t.jsxs)("div",{className:"mt-2 flex h-14 items-center justify-between rounded-xl border-[0.5px] border-components-panel-border px-4 shadow-md",children:[(0,t.jsx)("div",{className:(0,m.cn)("text-gradient text-sm font-semibold leading-tight",w.default.textGradient),children:B("modelProvider.upgradeForLoadBalancing",{ns:"common"})}),(0,t.jsx)(N.default,{})]})})]}):null},z=(0,a.memo)(e=>{let{provider:h,configurateMethod:v,currentCustomConfigurationModelFixedFields:b,model:_,credential:y,open:j=!1,onClose:C,onSave:N}=e,{t:w}=(0,l.useTranslation)(),{notify:k}=(0,d.useToastContext)(),{doingAction:M,deleteModel:S,openConfirmDelete:P,closeConfirmDelete:B,handleConfirmDelete:T}=(0,p.useAuth)(h,v,b,{isModelCredential:!0}),[F,z]=(0,a.useState)(!1),A=v===u.ConfigurationMethodEnum.predefinedModel,E=A?"predefined-model":"custom-model",{isLoading:O,data:R,refetch:D}=(0,c.useGetModelCredential)(!0,h.provider,y?.credential_id,_.model,_.model_type,E),{load_balancing:L,current_credential_id:H,available_credentials:G,current_credential_name:K}=R??{},[U,V]=(0,a.useState)(),Z=(0,a.useMemo)(()=>L?L?.configs.reduce((e,t)=>(t.id&&(e[t.id]=t),e),{}):{},[L]);(0,a.useEffect)(()=>{L&&V(L)},[L]);let W=(0,a.useCallback)(e=>{U&&V({...U,enabled:e})},[U]),q=(0,a.useMemo)(()=>A?h?.provider_credential_schema?.credential_form_schemas?.filter(e=>{let{type:t}=e;return t===u.FormTypeEnum.secretInput})??[]:h?.model_credential_schema?.credential_form_schemas?.filter(e=>{let{type:t}=e;return t===u.FormTypeEnum.secretInput})??[],[h?.model_credential_schema?.credential_form_schemas,h?.provider_credential_schema?.credential_form_schemas,A]),Q=(0,a.useCallback)(e=>{let t={...e};return q.forEach(a=>{let{variable:l}=a;e.id&&t.credentials[l]===Z[e.id]?.credentials?.[l]&&(t.credentials[l]="[__HIDDEN__]")}),t},[q,Z]),{mutateAsync:J}=(0,c.useUpdateModelLoadBalancingConfig)(h.provider),X=(0,a.useMemo)(()=>{if(H)return{credential_id:H,credential_name:K}},[H,K]),[Y,$]=(0,a.useState)(X),{handleRefreshModel:ee}=(0,f.useRefreshModel)(),et=async()=>{try{z(!0);let e=await J({credential_id:Y?.credential_id||H,config_from:E,model:_.model,model_type:_.model_type,load_balancing:{...U,configs:U.configs.map(Q),enabled:!!U?.enabled}});"success"===e.result&&(k({type:"success",message:w("actionMsg.modifiedSuccessfully",{ns:"common"})}),ee(h,b,!1),N?.(h.provider),C?.())}finally{z(!1)}},ea=(0,a.useCallback)(async()=>{await T(),C?.()},[T,C]),el=(0,a.useCallback)(async(e,t)=>{let a=await D(),l=a.data?.available_credentials||[],r=t?.__authorization_name__,i=e?.credential;if(!l.length)return void C?.();if(i)V(e=>{if(!e)return e;let t=[...e.configs],a=t.findIndex(e=>e.credential_id===i.credential_id&&"__inherit__"!==e.name),r=l.findIndex(e=>e.credential_id===i.credential_id);return r>-1&&a>-1&&(t[a].name=l[r].credential_name||""),{...e,configs:t}});else{let e=l.find(e=>e.credential_name===r);e&&V(t=>t?{...t,configs:[...t.configs,{credential_id:e.credential_id,enabled:!0,name:e.credential_name}]}:t)}},[D,y]),er=(0,a.useCallback)(async()=>{let e=await D();(e.data?.available_credentials||[]).length||C?.()},[D,C]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.default,{isShow:!!_&&j,onClose:C,className:"w-[640px] max-w-none px-8 pt-8",title:(0,t.jsxs)("div",{className:"pb-3 font-semibold",children:[(0,t.jsx)("div",{className:"h-[30px]",children:U?.enabled?w("modelProvider.auth.configLoadBalancing",{ns:"common"}):w("modelProvider.auth.configModel",{ns:"common"})}),!!_&&(0,t.jsxs)("div",{className:"flex h-5 items-center",children:[(0,t.jsx)(x.default,{className:"mr-2 shrink-0",provider:h,modelName:_.model}),(0,t.jsx)(g.default,{className:"system-md-regular grow text-text-secondary",modelItem:_,showModelType:!0,showMode:!0,showContextSize:!0})]})]}),children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:(0,m.cn)("min-h-16 rounded-xl border bg-components-panel-bg transition-colors",U.enabled?"cursor-pointer border-components-panel-border":"cursor-default border-util-colors-blue-blue-600"),onClick:U.enabled?()=>W(!1):void 0,children:(0,t.jsxs)("div",{className:"flex select-none items-center gap-2 px-[15px] py-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 grow-0 items-center justify-center rounded-lg border border-components-card-border bg-components-card-bg",children:!!_&&(0,t.jsx)(x.default,{className:"shrink-0",provider:h,modelName:_.model})}),(0,t.jsxs)("div",{className:"grow",children:[(0,t.jsx)("div",{className:"text-sm text-text-secondary",children:A?w("modelProvider.auth.providerManaged",{ns:"common"}):w("modelProvider.auth.specifyModelCredential",{ns:"common"})}),(0,t.jsx)("div",{className:"text-xs text-text-tertiary",children:A?w("modelProvider.auth.providerManagedTip",{ns:"common"}):w("modelProvider.auth.specifyModelCredentialTip",{ns:"common"})})]}),!A&&(0,t.jsx)(o.default,{provider:h,customModelCredential:Y??X,setCustomModelCredential:$,model:_,credentials:G,onUpdate:er,onRemove:er})]})}),R&&(0,t.jsx)(I,{draftConfig:U,setDraftConfig:V,provider:h,currentCustomConfigurationModelFixedFields:{__model_name:_.model,__model_type:_.model_type},configurationMethod:_.fetch_from,className:"mt-2",modelCredential:R,onUpdate:el,onRemove:er,model:{model:_.model,model_type:_.model_type}})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-between gap-2",children:[(0,t.jsx)("div",{children:!A&&(0,t.jsx)(r.default,{onClick:()=>P(void 0,{model:_.model,model_type:_.model_type}),className:"text-components-button-destructive-secondary-text",children:w("modelProvider.auth.removeModel",{ns:"common"})})}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(r.default,{onClick:C,children:w("operation.cancel",{ns:"common"})}),(0,t.jsx)(r.default,{variant:"primary",onClick:et,disabled:F||U?.enabled&&(U?.configs.filter(e=>e.enabled).length??0)<2||O,children:w("operation.save",{ns:"common"})})]})]})]}):(0,t.jsx)(n.default,{type:"area"})}),S&&(0,t.jsx)(i.default,{isShow:!0,title:w("modelProvider.confirmDelete",{ns:"common"}),onCancel:B,onConfirm:ea,isDisabled:M})]})});e.s(["default",0,z],591324)},100550,e=>{e.n(e.i(591324))}]);