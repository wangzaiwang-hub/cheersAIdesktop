(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,211230,e=>{"use strict";var t=e.i(563199),r=e.i(268255);let a=r.forwardRef(function(e,t){let{title:a,titleId:i,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),a?r.createElement("title",{id:i},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}),i=r.forwardRef(function(e,t){let{title:a,titleId:i,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),a?r.createElement("title",{id:i},a):null,r.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}),n=r.forwardRef(function(e,t){let{title:a,titleId:i,...n}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":i},n),a?r.createElement("title",{id:i},a):null,r.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))});var o=e.i(804019),l=e.i(155453),s=e.i(739516),d=e.i(856192);e.i(849566),e.i(498274),e.i(64856),e.i(804893),e.i(737652);var c=e.i(362988),m=e.i(948827),g=e.i(206655),f=e.i(418274),u=e.i(392380);e.i(991577);var h=e.i(692423),p="comm",y="rule",_="decl",w=Math.abs,b=String.fromCharCode;function v(e,t,r){return e.replace(t,r)}function x(e,t){return 0|e.charCodeAt(t)}function k(e,t,r){return e.slice(t,r)}function C(e){return e.length}function T(e,t){return t.push(e),e}var D=1,S=1,A=0,L=0,E=0,M="";function $(e,t,r,a,i,n,o,l){return{value:e,root:t,parent:r,type:a,props:i,children:n,line:D,column:S,length:o,return:"",siblings:l}}function j(){return E=L<A?x(M,L++):0,S++,10===E&&(S=1,D++),E}function F(){return x(M,L)}function P(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){var t,r;return(t=L-1,r=function e(t){for(;j();)switch(E){case t:return L;case 34:case 39:34!==t&&39!==t&&e(E);break;case 40:41===t&&e(t);break;case 92:j()}return L}(91===e?e+2:40===e?e+1:e),k(M,t,r)).trim()}function z(e,t,r,a,i,n,o,l,s,d,c,m){for(var g=i-1,f=0===i?n:[""],u=f.length,h=0,p=0,_=0;h<a;++h)for(var b=0,x=k(e,g+1,g=w(p=o[h])),C=e;b<u;++b)(C=(p>0?f[b]+" "+x:v(x,/&\f/g,f[b])).trim())&&(s[_++]=C);return $(e,t,r,0===i?y:l,s,d,c,m)}function I(e,t,r,a,i){return $(e,t,r,_,k(e,0,a),k(e,a+1,-1),a,i)}function N(e,t){for(var r="",a=0;a<e.length;a++)r+=t(e[a],a,e,t)||"";return r}function O(e,t,r,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case _:return e.return=e.return||e.value;case p:return"";case"@keyframes":return e.return=e.value+"{"+N(e.children,a)+"}";case y:if(!C(e.value=e.props.join(",")))return""}return C(r=N(e.children,a))?e.return=e.value+"{"+r+"}":""}var W=e.i(112867),B=e.i(775949),V={id:"c4",detector:(0,f.__name)(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),loader:(0,f.__name)(async()=>{let{diagram:t}=await e.A(335573);return{id:"c4",diagram:t}},"loader")},H="flowchart",q=(0,f.__name)((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-wrapper"&&t?.flowchart?.defaultRenderer!=="elk"&&/^\s*graph/.test(e),"detector"),Z=(0,f.__name)(async()=>{let{diagram:t}=await e.A(867034);return{id:H,diagram:t}},"loader"),U={id:H,detector:q,loader:Z},G="flowchart-v2",Y=(0,f.__name)((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-d3"&&(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),!!/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"||/^\s*flowchart/.test(e)),"detector"),K=(0,f.__name)(async()=>{let{diagram:t}=await e.A(867034);return{id:G,diagram:t}},"loader"),J={id:G,detector:Y,loader:K},Q={id:"er",detector:(0,f.__name)(e=>/^\s*erDiagram/.test(e),"detector"),loader:(0,f.__name)(async()=>{let{diagram:t}=await e.A(320059);return{id:"er",diagram:t}},"loader")},X="gitGraph",ee=(0,f.__name)(e=>/^\s*gitGraph/.test(e),"detector"),et=(0,f.__name)(async()=>{let{diagram:t}=await e.A(546160);return{id:X,diagram:t}},"loader"),er={id:X,detector:ee,loader:et},ea="gantt",ei=(0,f.__name)(e=>/^\s*gantt/.test(e),"detector"),en=(0,f.__name)(async()=>{let{diagram:t}=await e.A(926137);return{id:ea,diagram:t}},"loader"),eo={id:ea,detector:ei,loader:en},el="info",es=(0,f.__name)(e=>/^\s*info/.test(e),"detector"),ed=(0,f.__name)(async()=>{let{diagram:t}=await e.A(920607);return{id:el,diagram:t}},"loader"),ec={id:el,detector:es,loader:ed},em={id:"pie",detector:(0,f.__name)(e=>/^\s*pie/.test(e),"detector"),loader:(0,f.__name)(async()=>{let{diagram:t}=await e.A(847558);return{id:"pie",diagram:t}},"loader")},eg="quadrantChart",ef=(0,f.__name)(e=>/^\s*quadrantChart/.test(e),"detector"),eu=(0,f.__name)(async()=>{let{diagram:t}=await e.A(755436);return{id:eg,diagram:t}},"loader"),eh={id:eg,detector:ef,loader:eu},ep="xychart",ey=(0,f.__name)(e=>/^\s*xychart(-beta)?/.test(e),"detector"),e_=(0,f.__name)(async()=>{let{diagram:t}=await e.A(15302);return{id:ep,diagram:t}},"loader"),ew={id:ep,detector:ey,loader:e_},eb="requirement",ev=(0,f.__name)(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),ex=(0,f.__name)(async()=>{let{diagram:t}=await e.A(2775);return{id:eb,diagram:t}},"loader"),ek={id:eb,detector:ev,loader:ex},eC="sequence",eT=(0,f.__name)(e=>/^\s*sequenceDiagram/.test(e),"detector"),eD=(0,f.__name)(async()=>{let{diagram:t}=await e.A(118759);return{id:eC,diagram:t}},"loader"),eS={id:eC,detector:eT,loader:eD},eA="class",eL=(0,f.__name)((e,t)=>t?.class?.defaultRenderer!=="dagre-wrapper"&&/^\s*classDiagram/.test(e),"detector"),eE=(0,f.__name)(async()=>{let{diagram:t}=await e.A(305571);return{id:eA,diagram:t}},"loader"),eM={id:eA,detector:eL,loader:eE},e$="classDiagram",ej=(0,f.__name)((e,t)=>!!/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"||/^\s*classDiagram-v2/.test(e),"detector"),eF=(0,f.__name)(async()=>{let{diagram:t}=await e.A(227859);return{id:e$,diagram:t}},"loader"),eP={id:e$,detector:ej,loader:eF},eR="state",ez=(0,f.__name)((e,t)=>t?.state?.defaultRenderer!=="dagre-wrapper"&&/^\s*stateDiagram/.test(e),"detector"),eI=(0,f.__name)(async()=>{let{diagram:t}=await e.A(220323);return{id:eR,diagram:t}},"loader"),eN={id:eR,detector:ez,loader:eI},eO="stateDiagram",eW=(0,f.__name)((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),eB=(0,f.__name)(async()=>{let{diagram:t}=await e.A(96106);return{id:eO,diagram:t}},"loader"),eV={id:eO,detector:eW,loader:eB},eH="journey",eq=(0,f.__name)(e=>/^\s*journey/.test(e),"detector"),eZ=(0,f.__name)(async()=>{let{diagram:t}=await e.A(779171);return{id:eH,diagram:t}},"loader"),eU={id:eH,detector:eq,loader:eZ},eG={draw:(0,f.__name)((e,t,r)=>{f.log.debug("rendering svg for syntax error\n");let a=(0,l.selectSvgElement)(t),i=a.append("g");a.attr("viewBox","0 0 2412 512"),(0,g.configureSvgSize)(a,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw")},eY={db:{},renderer:eG,parser:{parse:(0,f.__name)(()=>{},"parse")}},eK="flowchart-elk",eJ=(0,f.__name)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!(/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk")&&(t.layout="elk",!0)},"detector"),eQ=(0,f.__name)(async()=>{let{diagram:t}=await e.A(867034);return{id:eK,diagram:t}},"loader"),eX={id:eK,detector:eJ,loader:eQ},e0="timeline",e1=(0,f.__name)(e=>/^\s*timeline/.test(e),"detector"),e5=(0,f.__name)(async()=>{let{diagram:t}=await e.A(383263);return{id:e0,diagram:t}},"loader"),e2={id:e0,detector:e1,loader:e5},e6="mindmap",e3=(0,f.__name)(e=>/^\s*mindmap/.test(e),"detector"),e7=(0,f.__name)(async()=>{let{diagram:t}=await e.A(7846);return{id:e6,diagram:t}},"loader"),e4={id:e6,detector:e3,loader:e7},e9="kanban",e8=(0,f.__name)(e=>/^\s*kanban/.test(e),"detector"),te=(0,f.__name)(async()=>{let{diagram:t}=await e.A(280465);return{id:e9,diagram:t}},"loader"),tt={id:e9,detector:e8,loader:te},tr="sankey",ta=(0,f.__name)(e=>/^\s*sankey(-beta)?/.test(e),"detector"),ti=(0,f.__name)(async()=>{let{diagram:t}=await e.A(625334);return{id:tr,diagram:t}},"loader"),tn={id:tr,detector:ta,loader:ti},to="packet",tl=(0,f.__name)(e=>/^\s*packet(-beta)?/.test(e),"detector"),ts=(0,f.__name)(async()=>{let{diagram:t}=await e.A(238854);return{id:to,diagram:t}},"loader"),td={id:to,detector:tl,loader:ts},tc="radar",tm=(0,f.__name)(e=>/^\s*radar-beta/.test(e),"detector"),tg=(0,f.__name)(async()=>{let{diagram:t}=await e.A(943920);return{id:tc,diagram:t}},"loader"),tf={id:tc,detector:tm,loader:tg},tu="block",th=(0,f.__name)(e=>/^\s*block(-beta)?/.test(e),"detector"),tp=(0,f.__name)(async()=>{let{diagram:t}=await e.A(104531);return{id:tu,diagram:t}},"loader"),ty={id:tu,detector:th,loader:tp},t_="architecture",tw=(0,f.__name)(e=>/^\s*architecture/.test(e),"detector"),tb=(0,f.__name)(async()=>{let{diagram:t}=await e.A(272685);return{id:t_,diagram:t}},"loader"),tv={id:t_,detector:tw,loader:tb},tx="treemap",tk=(0,f.__name)(e=>/^\s*treemap/.test(e),"detector"),tC=(0,f.__name)(async()=>{let{diagram:t}=await e.A(73896);return{id:tx,diagram:t}},"loader"),tT={id:tx,detector:tk,loader:tC},tD=!1,tS=(0,f.__name)(()=>{tD||(tD=!0,(0,g.registerDiagram)("error",eY,e=>"error"===e.toLowerCase().trim()),(0,g.registerDiagram)("---",{db:{clear:(0,f.__name)(()=>{},"clear")},styles:{},renderer:{draw:(0,f.__name)(()=>{},"draw")},parser:{parse:(0,f.__name)(()=>{throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:(0,f.__name)(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),(0,g.registerLazyLoadedDiagrams)(eX,e4,tv),(0,g.registerLazyLoadedDiagrams)(V,tt,eP,eM,Q,eo,ec,em,ek,eS,J,U,e2,er,eV,eN,eU,eh,tn,td,ew,ty,tf,tT))},"addDiagrams"),tA=(0,f.__name)(async()=>{f.log.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(g.detectors).map(async e=>{let[t,{detector:r,loader:a}]=e;if(a)try{(0,g.getDiagram)(t)}catch{try{let{diagram:e,id:t}=await a();(0,g.registerDiagram)(t,e,r)}catch(e){throw f.log.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete g.detectors[t],e}}}))).filter(e=>"rejected"===e.status);if(e.length>0){for(let t of(f.log.error(`Failed to load ${e.length} external diagrams`),e))f.log.error(t);throw Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");function tL(e,t){e.attr("role","graphics-document document"),""!==t&&e.attr("aria-roledescription",t)}function tE(e,t,r,a){if(void 0!==e.insert){if(r){let t=`chart-desc-${a}`;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(r)}if(t){let r=`chart-title-${a}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}(0,f.__name)(tL,"setA11yDiagramInfo"),(0,f.__name)(tE,"addSVGa11yTitleDescription");var tM=class e{constructor(e,t,r,a,i){this.type=e,this.text=t,this.db=r,this.parser=a,this.renderer=i}static #e=(0,f.__name)(this,"Diagram");static async fromText(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,g.getConfig)(),i=(0,g.detectType)(t,a);t=(0,m.encodeEntities)(t)+"\n";try{(0,g.getDiagram)(i)}catch{let e=(0,g.getDiagramLoader)(i);if(!e)throw new g.UnknownDiagramError(`Diagram ${i} not found.`);let{id:t,diagram:r}=await e();(0,g.registerDiagram)(t,r)}let{db:n,parser:o,renderer:l,init:s}=(0,g.getDiagram)(i);return o.parser&&(o.parser.yy=n),n.clear?.(),s?.(a),r.title&&n.setDiagramTitle?.(r.title),await o.parse(t),new e(i,t,n,o,l)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},t$=[],tj=(0,f.__name)(()=>{t$.forEach(e=>{e()}),t$=[]},"attachFunctions"),tF=(0,f.__name)(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function tP(e){let t=e.match(g.frontMatterRegex);if(!t)return{text:e,metadata:{}};let r=(0,s.load)(t[1],{schema:s.JSON_SCHEMA})??{};r="object"!=typeof r||Array.isArray(r)?{}:r;let a={};return r.displayMode&&(a.displayMode=r.displayMode.toString()),r.title&&(a.title=r.title.toString()),r.config&&(a.config=r.config),{text:e.slice(t[0].length),metadata:a}}(0,f.__name)(tP,"extractFrontMatter");var tR=(0,f.__name)(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,t,r)=>"<"+t+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),tz=(0,f.__name)(e=>{let{text:t,metadata:r}=tP(e),{displayMode:a,title:i,config:n={}}=r;return a&&(n.gantt||(n.gantt={}),n.gantt.displayMode=a),{title:i,config:n,text:t}},"processFrontmatter"),tI=(0,f.__name)(e=>{let t=m.utils_default.detectInit(e)??{},r=m.utils_default.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(e=>{let{type:t}=e;return"wrap"===t}):r?.type==="wrap"&&(t.wrap=!0),{text:(0,m.removeDirectives)(e),directive:t}},"processDirectives");function tN(e){let t=tz(tR(e)),r=tI(t.text),a=(0,m.cleanAndMerge)(t.config,r.directive);return{code:e=tF(r.text),title:t.title,config:a}}function tO(e){return btoa(Array.from(new TextEncoder().encode(e),e=>String.fromCodePoint(e)).join(""))}(0,f.__name)(tN,"preprocessDiagram"),(0,f.__name)(tO,"toBase64");var tW=["foreignobject"],tB=["dominant-baseline"];function tV(e){let t=tN(e);return(0,g.reset)(),(0,g.addDirective)(t.config??{}),t}async function tH(e,t){tS();try{let{code:t,config:r}=tV(e);return{diagramType:(await t1(t)).type,config:r}}catch(e){if(t?.suppressErrors)return!1;throw e}}(0,f.__name)(tV,"processAndSetConfigs"),(0,f.__name)(tH,"parse");var tq=(0,f.__name)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return`
.${e} ${t} { ${r.join(" !important; ")} !important; }`},"cssImportantStyles"),tZ=(0,f.__name)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r="";if(void 0!==e.themeCSS&&(r+=`
${e.themeCSS}`),void 0!==e.fontFamily&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),void 0!==e.altFontFamily&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let a=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(e=>{(0,B.default)(e.styles)||a.forEach(t=>{r+=tq(e.id,t,e.styles)}),(0,B.default)(e.textStyles)||(r+=tq(e.id,"tspan",(e?.textStyles||[]).map(e=>e.replace("color","fill"))))})}return r},"createCssStyles"),tU=(0,f.__name)((e,t,r,a)=>{var i,n,o;let l=tZ(e,r),s=(0,g.styles_default)(t,l,e.themeVariables);return N((o=function e(t,r,a,i,n,o,l,s,d){for(var c,m,g,f,u,h,y=0,_=0,A=l,N=0,O=0,W=0,B=1,V=1,H=1,q=0,Z="",U=n,G=o,Y=i,K=Z;V;)switch(W=q,q=j()){case 40:if(108!=W&&58==x(K,A-1)){-1!=(u=K+=v(R(q),"&","&\f"),h=w(y?s[y-1]:0),u.indexOf("&\f",h))&&(H=-1);break}case 34:case 39:case 91:K+=R(q);break;case 9:case 10:case 13:case 32:K+=function(e){for(;E=F();)if(E<33)j();else break;return P(e)>2||P(E)>3?"":" "}(W);break;case 92:K+=function(e,t){for(var r;--t&&j()&&!(E<48)&&!(E>102)&&(!(E>57)||!(E<65))&&(!(E>70)||!(E<97)););return r=L+(t<6&&32==F()&&32==j()),k(M,e,r)}(L-1,7);continue;case 47:switch(F()){case 42:case 47:T((c=function(e,t){for(;j();)if(e+E===57)break;else if(e+E===84&&47===F())break;return"/*"+k(M,t,L-1)+"*"+b(47===e?e:j())}(j(),L),m=r,g=a,f=d,$(c,m,g,p,b(E),k(c,2,-2),0,f)),d),(5==P(W||1)||5==P(F()||1))&&C(K)&&" "!==k(K,-1,void 0)&&(K+=" ");break;default:K+="/"}break;case 123*B:s[y++]=C(K)*H;case 125*B:case 59:case 0:switch(q){case 0:case 125:V=0;case 59+_:-1==H&&(K=v(K,/\f/g,"")),O>0&&(C(K)-A||0===B&&47===W)&&T(O>32?I(K+";",i,a,A-1,d):I(v(K," ","")+";",i,a,A-2,d),d);break;case 59:K+=";";default:if(T(Y=z(K,r,a,y,_,n,s,Z,U=[],G=[],A,o),o),123===q)if(0===_)e(K,r,Y,Y,U,o,A,s,G);else{switch(N){case 99:if(110===x(K,3))break;case 108:if(97===x(K,2))break;default:_=0;case 100:case 109:case 115:}_?e(t,Y,Y,i&&T(z(t,Y,Y,0,0,n,s,Z,n,U=[],A,G),G),n,G,A,s,i?U:G):e(K,Y,Y,Y,[""],G,0,s,G)}}y=_=O=0,B=H=1,Z=K="",A=l;break;case 58:A=1+C(K),O=W;default:if(B<1){if(123==q)--B;else if(125==q&&0==B++&&125==(E=L>0?x(M,--L):0,S--,10===E&&(S=1,D--),E))continue}switch(K+=b(q),q*B){case 38:H=_>0?1:(K+="\f",-1);break;case 44:s[y++]=(C(K)-1)*H,H=1;break;case 64:45===F()&&(K+=R(j())),N=F(),_=A=C(Z=K+=function(e){for(;!P(F());)j();return k(M,e,L)}(L)),q++;break;case 45:45===W&&2==C(K)&&(B=0)}}return o}("",null,null,null,[""],(n=i=`${a}{${s}}`,D=S=1,A=C(M=n),L=0,i=[]),0,[0],i),M="",o),O)},"createUserStyles"),tG=(0,f.__name)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=e;return r||t||(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),a=(a=(0,m.decodeEntities)(a)).replace(/<br>/g,"<br/>")},"cleanUpSvgCode"),tY=(0,f.__name)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":"100%",a=tO(`<body style="margin:0">${e}</body>`);return`<iframe style="width:100%;height:${r};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${a}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`},"putIntoIFrame"),tK=(0,f.__name)((e,t,r,a,i)=>{let n=e.append("div");n.attr("id",r),a&&n.attr("style",a);let o=n.append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&o.attr("xmlns:xlink",i),o.append("g"),e},"appendDivSvgG");function tJ(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,f.__name)(tJ,"sandboxedIframe");var tQ=(0,f.__name)((e,t,r,a)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(a)?.remove()},"removeExistingElements"),tX=(0,f.__name)(async function(e,t,r){let a,i;tS();let n=tV(t);t=n.code;let l=(0,g.getConfig)();f.log.debug(l),t.length>(l?.maxTextSize??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let s="#"+e,d="i"+e,c="#"+d,m="d"+e,u="#"+m,p=(0,f.__name)(()=>{let e=_?c:u,t=(0,h.select)(e).node();t&&"remove"in t&&t.remove()},"removeTempElements"),y=(0,h.select)("body"),_="sandbox"===l.securityLevel,w="loose"===l.securityLevel,b=l.fontFamily;if(void 0!==r){if(r&&(r.innerHTML=""),_){let e=tJ((0,h.select)(r),d);(y=(0,h.select)(e.nodes()[0].contentDocument.body)).node().style.margin=0}else y=(0,h.select)(r);tK(y,e,m,`font-family: ${b}`,"http://www.w3.org/1999/xlink")}else{if(tQ(document,e,m,d),_){let e=tJ((0,h.select)("body"),d);(y=(0,h.select)(e.nodes()[0].contentDocument.body)).node().style.margin=0}else y=(0,h.select)("body");tK(y,e,m)}try{a=await tM.fromText(t,{title:n.title})}catch(e){if(l.suppressErrorRendering)throw p(),e;a=await tM.fromText("error"),i=e}let v=y.select(u).node(),x=a.type,k=v.firstChild,C=k.firstChild,T=tU(l,x,a.renderer.getClasses?.(t,a),s),D=document.createElement("style");D.innerHTML=T,k.insertBefore(D,C);try{await a.renderer.draw(t,e,o.package_default.version,a)}catch(r){throw l.suppressErrorRendering?p():eG.draw(t,e,o.package_default.version),r}t5(x,y.select(`${u} svg`),a.db.getAccTitle?.(),a.db.getAccDescription?.()),y.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let S=y.select(u).node().innerHTML;if(f.log.debug("config.arrowMarkerAbsolute",l.arrowMarkerAbsolute),S=tG(S,_,(0,g.evaluate)(l.arrowMarkerAbsolute)),_?S=tY(S,y.select(u+" svg").node()):w||(S=W.default.sanitize(S,{ADD_TAGS:tW,ADD_ATTR:tB,HTML_INTEGRATION_POINTS:{foreignobject:!0}})),tj(),i)throw i;return p(),{diagramType:x,svg:S,bindFunctions:a.db.bindFunctions}},"render");function t0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,g.assignWithDepth_default)({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),(0,g.saveConfigFromInitialize)(t),t?.theme&&t.theme in g.themes_default?t.themeVariables=g.themes_default[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=g.themes_default.default.getThemeVariables(t.themeVariables));let r="object"==typeof t?(0,g.setSiteConfig)(t):(0,g.getSiteConfig)();(0,f.setLogLevel)(r.logLevel),tS()}(0,f.__name)(t0,"initialize");var t1=(0,f.__name)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{code:r}=tN(e);return tM.fromText(r,t)},"getDiagramFromText");function t5(e,t,r,a){tL(t,e),tE(t,r,a,t.attr("id"))}(0,f.__name)(t5,"addA11yInfo");var t2=Object.freeze({render:tX,parse:tH,getDiagramFromText:t1,initialize:t0,getConfig:g.getConfig,setConfig:g.setConfig,getSiteConfig:g.getSiteConfig,updateSiteConfig:g.updateSiteConfig,reset:(0,f.__name)(()=>{(0,g.reset)()},"reset"),globalReset:(0,f.__name)(()=>{(0,g.reset)(g.defaultConfig)},"globalReset"),defaultConfig:g.defaultConfig});(0,f.setLogLevel)((0,g.getConfig)().logLevel),(0,g.reset)((0,g.getConfig)());var t6=(0,f.__name)((e,t,r)=>{f.log.warn(e),(0,m.isDetailedError)(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),t3=(0,f.__name)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{querySelector:".mermaid"};try{await t7(e)}catch(t){if((0,m.isDetailedError)(t)&&f.log.error(t.str),rs.parseError&&rs.parseError(t),!e.suppressErrors)throw f.log.error("Use the suppressErrors option to suppress these errors"),t}},"run"),t7=(0,f.__name)(async function(){let e,t,{postRenderCallback:r,querySelector:a,nodes:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{querySelector:".mermaid"},n=t2.getConfig();if(f.log.debug(`${!r?"No ":""}Callback function found`),i)e=i;else if(a)e=document.querySelectorAll(a);else throw Error("Nodes and querySelector are both undefined");f.log.debug(`Found ${e.length} diagrams`),n?.startOnLoad!==void 0&&(f.log.debug("Start On Load: "+n?.startOnLoad),t2.updateSiteConfig({startOnLoad:n?.startOnLoad}));let o=new m.utils_default.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed),l=[];for(let a of Array.from(e)){if(f.log.info("Rendering diagram: "+a.id),a.getAttribute("data-processed"))continue;a.setAttribute("data-processed","true");let e=`mermaid-${o.next()}`;t=a.innerHTML,t=(0,u.dedent)(m.utils_default.entityDecode(t)).trim().replace(/<br\s*\/?>/gi,"<br/>");let i=m.utils_default.detectInit(t);i&&f.log.debug("Detected early reinit: ",i);try{let{svg:i,bindFunctions:n}=await ro(e,t,a);a.innerHTML=i,r&&await r(e),n&&n(a)}catch(e){t6(e,l,rs.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),t4=(0,f.__name)(function(e){t2.initialize(e)},"initialize"),t9=(0,f.__name)(async function(e,t,r){f.log.warn("mermaid.init is deprecated. Please use run instead."),e&&t4(e);let a={postRenderCallback:r,querySelector:".mermaid"};"string"==typeof t?a.querySelector=t:t&&(t instanceof HTMLElement?a.nodes=[t]:a.nodes=t),await t3(a)},"init"),t8=(0,f.__name)(async function(e){let{lazyLoad:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tS(),(0,g.registerLazyLoadedDiagrams)(...e),!1===t&&await tA()},"registerExternalDiagrams"),re=(0,f.__name)(function(){if(rs.startOnLoad){let{startOnLoad:e}=t2.getConfig();e&&rs.run().catch(e=>f.log.error("Mermaid failed to initialize",e))}},"contentLoaded");"u">typeof document&&window.addEventListener("load",re,!1);var rt=(0,f.__name)(function(e){rs.parseError=e},"setParseErrorHandler"),rr=[],ra=!1,ri=(0,f.__name)(async()=>{if(!ra){for(ra=!0;rr.length>0;){let e=rr.shift();if(e)try{await e()}catch(e){f.log.error("Error executing queue",e)}}ra=!1}},"executeQueue"),rn=(0,f.__name)(async(e,t)=>new Promise((r,a)=>{let i=(0,f.__name)(()=>new Promise((i,n)=>{t2.parse(e,t).then(e=>{i(e),r(e)},e=>{f.log.error("Error parsing",e),rs.parseError?.(e),n(e),a(e)})}),"performCall");rr.push(i),ri().catch(a)}),"parse"),ro=(0,f.__name)((e,t,r)=>new Promise((a,i)=>{let n=(0,f.__name)(()=>new Promise((n,o)=>{t2.render(e,t,r).then(e=>{n(e),a(e)},e=>{f.log.error("Error parsing",e),rs.parseError?.(e),o(e),i(e)})}),"performCall");rr.push(n),ri().catch(i)}),"render"),rl=(0,f.__name)(()=>Object.keys(g.detectors).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),rs={startOnLoad:!0,mermaidAPI:t2,parse:rn,render:ro,init:t9,run:t3,registerExternalDiagrams:t8,registerLayoutLoaders:d.registerLayoutLoaders,initialize:t4,parseError:void 0,contentLoaded:re,setParseErrorHandler:rt,detectType:g.detectType,registerIconPacks:c.registerIconPacks,getRegisteredDiagramsMetadata:rl};e.i(152567);var rd=e.i(408767),rc=e.i(925818),rm=e.i(998020),rg=e.i(648404),rf=e.i(935139);let ru=e=>e&&"string"==typeof e?e.split("\n").filter(e=>{let t=e.trimStart();return!(t.startsWith("%%{")||t.startsWith("click "))}).join("\n"):"",rh=!1,rp=new Map,ry=null;ry=rs.mermaidAPI;let r_={light:{name:"Light Theme",background:"#ffffff",primaryColor:"#ffffff",primaryBorderColor:"#000000",primaryTextColor:"#000000",secondaryColor:"#ffffff",tertiaryColor:"#ffffff",nodeColors:[{bg:"#f0f9ff",color:"#0369a1"},{bg:"#f0fdf4",color:"#166534"},{bg:"#fef2f2",color:"#b91c1c"},{bg:"#faf5ff",color:"#7e22ce"},{bg:"#fffbeb",color:"#b45309"}],connectionColor:"#74a0e0"},dark:{name:"Dark Theme",background:"#1e293b",primaryColor:"#334155",primaryBorderColor:"#94a3b8",primaryTextColor:"#e2e8f0",secondaryColor:"#475569",tertiaryColor:"#334155",nodeColors:[{bg:"#164e63",color:"#e0f2fe"},{bg:"#14532d",color:"#dcfce7"},{bg:"#7f1d1d",color:"#fee2e2"},{bg:"#581c87",color:"#f3e8ff"},{bg:"#78350f",color:"#fef3c7"}],connectionColor:"#60a5fa"}},rw=()=>{if(!rh)try{rs.initialize({startOnLoad:!1,fontFamily:"sans-serif",securityLevel:"strict",flowchart:{htmlLabels:!0,useMaxWidth:!0,curve:"basis",nodeSpacing:50,rankSpacing:70},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},mindmap:{useMaxWidth:!0,padding:10},maxTextSize:5e4}),rh=!0}catch(e){return console.error("Mermaid initialization error:",e),null}return rh},rb=e=>{let{t:o}=(0,rd.useTranslation)(),[l,s]=(0,r.useState)(null),[d,c]=(0,r.useState)("classic"),[m,g]=(0,r.useState)(!1),[f,u]=(0,r.useState)(e.theme||"light"),h=(0,r.useRef)(null),p=(0,r.useRef)(`mermaid-chart-${Math.random().toString(36).slice(2,11)}`).current,[y,_]=(0,r.useState)(!0),w=(0,r.useRef)(void 0),[b,v]=(0,r.useState)(""),[x,k]=(0,r.useState)(""),C=async(e,t)=>{if("handDrawn"===t){if(h.current&&(h.current.innerHTML=`<div id="${p}"></div>`),await new Promise(e=>setTimeout(e,30)),ry)return await ry.render(p,e);{let{svg:t}=await rs.render(p,e);return{svg:t}}}{let t=async()=>{h.current&&(h.current.innerHTML=`<div id="${p}"></div>`),await new Promise(e=>setTimeout(e,30));let{svg:t}=await rs.render(p,e);return{svg:t}};return await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise((a,i)=>{let n=0,o=async()=>{try{a(await e())}catch(e){++n<t?setTimeout(o,r):i(e)}};o()})}(t)}};(0,r.useEffect)(()=>{rw()&&g(!0)},[]);let T=(0,r.useRef)(void 0);(0,r.useEffect)(()=>{e.theme&&e.theme!==T.current&&(rp.clear(),s(null),u(e.theme),c("classic")),T.current=e.theme},[e.theme]);let D=(0,r.useCallback)(async e=>{if(!m||!h.current){_(!1),v(m?"Container element not found":"Mermaid initialization failed");return}let t=`${e}-${d}-${f}`;if(rp.has(t)){v(""),s(rp.get(t)||null),_(!1);return}_(!0),v("");try{let r,a=e.trim(),i=a.startsWith("gantt"),n=a.startsWith("mindmap"),o=a.startsWith("sequenceDiagram");r=i||n||o?i?a.split("\n").map(e=>{let t=e.match(/^\s*([^:]+?)\s*:\s*(.*)/);if(!t)return e;let r=t[1].trim(),a=t[2].trim();(a.match(/after /g)||[]).length>1&&(a=a.replace(/,\s*after\s+/g," "));let i=a.replace(/\s*,\s*/g,", ").trim();return`${r} :${i}`}).join("\n"):a:((e,t)=>{if(!e||"string"!=typeof e)return"";let r=ru(e.trim()),a=r=r.replace(/<br\s*\/?>/g,"\n");return"handDrawn"===t&&((a=a.replace(/style\s+[^\n]+/g,"").replace(/linkStyle\s+[^\n]+/g,"").replace(/^flowchart/,"graph").replace(/class="[^"]*"/g,"").replace(/fill="[^"]*"/g,"").replace(/stroke="[^"]*"/g,"")).startsWith("graph")||a.startsWith("flowchart")||(a=`graph TD
${a}`)),a})(e,d),r=ru(r);let l=await C(r,d),c=(function(e,t,r,a){let i=e;if(t)if(i=i.replace(/style="fill: ?#000000"/g,'style="fill: #e2e8f0"').replace(/style="stroke: ?#000000"/g,'style="stroke: #94a3b8"').replace(/<rect [^>]*fill="#ffffff"/g,'<rect $& fill="#1e293b"'),r)i=i.replace(/fill="#[a-fA-F0-9]{6}"/g,`fill="${a.dark.nodeColors[0].bg}"`).replace(/stroke="#[a-fA-F0-9]{6}"/g,`stroke="${a.dark.connectionColor}"`).replace(/stroke-width="1"/g,'stroke-width="1.5"');else{let e=0;i=(i=i.replace(/fill="#[a-fA-F0-9]{6}"[^>]*class="node-[^"]*"/g,t=>{let r=e%a.dark.nodeColors.length;return e++,t.replace(/fill="#[a-fA-F0-9]{6}"/,`fill="${a.dark.nodeColors[r].bg}"`)})).replace(/<path [^>]*stroke="#[a-fA-F0-9]{6}"/g,`<path stroke="${a.dark.connectionColor}" stroke-width="1.5"`).replace(/<(line|polyline) [^>]*stroke="#[a-fA-F0-9]{6}"/g,`<$1 stroke="${a.dark.connectionColor}" stroke-width="1.5"`)}else if(r)i=i.replace(/fill="#[a-fA-F0-9]{6}"/g,`fill="${a.light.nodeColors[0].bg}"`).replace(/stroke="#[a-fA-F0-9]{6}"/g,`stroke="${a.light.connectionColor}"`).replace(/stroke-width="1"/g,'stroke-width="1.5"');else{let e=0;i=(i=i.replace(/fill="#[a-fA-F0-9]{6}"[^>]*class="node-[^"]*"/g,t=>{let r=e%a.light.nodeColors.length;return e++,t.replace(/fill="#[a-fA-F0-9]{6}"/,`fill="${a.light.nodeColors[r].bg}"`)})).replace(/<path [^>]*stroke="#[a-fA-F0-9]{6}"/g,`<path stroke="${a.light.connectionColor}"`).replace(/<(line|polyline) [^>]*stroke="#[a-fA-F0-9]{6}"/g,`<$1 stroke="${a.light.connectionColor}"`)}return i})(l.svg,f===rg.Theme.dark,"handDrawn"===d,r_).replaceAll("<br>","<br/>");c&&"string"==typeof c&&(rp.set(t,c),s(c)),_(!1)}catch(e){console.error("Mermaid rendering error:",e);try{rp.clear(),rh=!1,rw()}catch(e){console.error("Failed to re-initialize Mermaid after error:",e)}v(`Rendering failed: ${e.message||"Unknown error. Please check the console."}`),_(!1)}},[p,m,d,f,o]),S=(0,r.useCallback)(e=>{if(m){let t=r_[f],r={startOnLoad:!1,securityLevel:"strict",fontFamily:"sans-serif",maxTextSize:5e4,gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},mindmap:{useMaxWidth:!0,padding:10}},a=e.trim().startsWith("graph")||e.trim().startsWith("flowchart");"classic"===d?(r.theme="dark"===f?"dark":"neutral",a&&(r.flowchart={htmlLabels:!0,useMaxWidth:!0,nodeSpacing:60,rankSpacing:80,curve:"linear",ranker:"tight-tree"}),"dark"===f&&(r.themeVariables={background:t.background,primaryColor:t.primaryColor,primaryBorderColor:t.primaryBorderColor,primaryTextColor:t.primaryTextColor,secondaryColor:t.secondaryColor,tertiaryColor:t.tertiaryColor})):(r.theme="default",r.themeCSS=`
          .node rect { fill-opacity: 0.85; }
          .edgePath .path { stroke-width: 1.5px; }
          .label { font-family: 'sans-serif'; }
          .edgeLabel { font-family: 'sans-serif'; }
          .cluster rect { rx: 5px; ry: 5px; }
        `,r.themeVariables={fontSize:"14px",fontFamily:"sans-serif",primaryBorderColor:"dark"===f?r_.dark.connectionColor:r_.light.connectionColor},a&&(r.flowchart={htmlLabels:!0,useMaxWidth:!0,nodeSpacing:40,rankSpacing:60,curve:"basis"}));try{return rs.initialize(r),!0}catch(e){console.error("Config error:",e)}}return!1},[f,m,d]);(0,r.useEffect)(()=>{if(m){if(!e.PrimitiveCode||e.PrimitiveCode.length<10){_(!1),s(null);return}return w.current&&clearTimeout(w.current),_(!0),w.current=setTimeout(()=>{if(!function(e){if(!e||0===e.trim().length)return!1;try{let t=e.trim();if(t.startsWith("gantt"))return t.split("\n").filter(e=>e.trim().length>0).length>=3;if(t.startsWith("mindmap"))return t.split("\n").filter(e=>e.trim().length>0).length>=2;let r=/^(graph|flowchart|sequenceDiagram|classDiagram|classDef|class|stateDiagram|gantt|pie|er|journey|requirementDiagram|mindmap)/.test(t),a=!t.includes("undefined")&&!t.includes("[object Object]")&&t.split("\n").every(e=>!(e.includes("-->")&&!e.match(/\S+\s*-->\s*\S+/)));return r&&a}catch(e){return console.error("Mermaid code validation error:",e),!1}}(e.PrimitiveCode)){_(!1),v("Diagram code is not complete or invalid.");return}let t=`${e.PrimitiveCode}-${d}-${f}`;if(rp.has(t)){v(""),s(rp.get(t)||null),_(!1);return}S(e.PrimitiveCode)&&D(e.PrimitiveCode)},300),()=>{w.current&&clearTimeout(w.current)}}},[e.PrimitiveCode,d,f,m,S,D]),(0,r.useEffect)(()=>()=>{h.current&&(h.current.innerHTML=""),w.current&&clearTimeout(w.current)},[]);let A=async()=>{l&&k(await function(e){if(!e)return Promise.resolve("");try{e.includes("<?xml")||(e=`<?xml version="1.0" encoding="UTF-8"?>${e}`);let t=new Blob([new TextEncoder().encode(e)],{type:"image/svg+xml;charset=utf-8"});return new Promise((e,r)=>{let a=new FileReader;a.onloadend=()=>e(a.result),a.onerror=r,a.readAsDataURL(t)})}catch{return Promise.resolve("")}}(l))},L={container:(0,rf.cn)("relative",{"bg-white":f===rg.Theme.light,"bg-slate-900":f===rg.Theme.dark}),mermaidDiv:(0,rf.cn)("mermaid relative h-auto w-full cursor-pointer",{"bg-white":f===rg.Theme.light,"bg-slate-900":f===rg.Theme.dark}),errorMessage:(0,rf.cn)("px-[26px] py-4",{"text-red-500":f===rg.Theme.light,"text-red-400":f===rg.Theme.dark}),errorIcon:(0,rf.cn)("h-6 w-6",{"text-red-500":f===rg.Theme.light,"text-red-400":f===rg.Theme.dark}),segmented:(0,rf.cn)("msh-segmented msh-segmented-sm css-23bs09 css-var-r1",{"text-gray-700":f===rg.Theme.light,"text-gray-300":f===rg.Theme.dark}),themeToggle:(0,rf.cn)("flex h-10 w-10 items-center justify-center rounded-full shadow-md backdrop-blur-sm transition-all duration-300",{"bg-white/80 hover:bg-white hover:shadow-lg text-gray-700 border border-gray-200":f===rg.Theme.light,"bg-slate-800/80 hover:bg-slate-700 hover:shadow-lg text-yellow-300 border border-slate-600":f===rg.Theme.dark})},E=e=>(0,rf.cn)("system-sm-medium mb-4 flex h-8 w-[calc((100%-8px)/2)] cursor-pointer items-center justify-center rounded-lg border border-components-option-card-option-border bg-components-option-card-option-bg text-text-secondary",d===e&&"border-[1.5px] border-components-option-card-option-selected-border bg-components-option-card-option-selected-bg text-text-primary",f===rg.Theme.dark&&"border-slate-600 bg-slate-800 text-slate-300",d===e&&f===rg.Theme.dark&&"border-blue-500 bg-slate-700 text-white");return(0,t.jsxs)("div",{ref:e.ref,className:L.container,children:[(0,t.jsx)("div",{className:L.segmented,children:(0,t.jsx)("div",{className:"msh-segmented-group",children:(0,t.jsxs)("label",{className:"msh-segmented-item m-2 flex w-[200px] items-center space-x-1",children:[(0,t.jsx)("div",{className:E("classic"),onClick:()=>{"classic"!==d&&(rp.clear(),s(null),c("classic"))},children:(0,t.jsx)("div",{className:"msh-segmented-item-label",children:o("mermaid.classic",{ns:"app"})})},"classic"),(0,t.jsx)("div",{className:E("handDrawn"),onClick:()=>{"handDrawn"!==d&&(rp.clear(),s(null),c("handDrawn"))},children:(0,t.jsx)("div",{className:"msh-segmented-item-label",children:o("mermaid.handDrawn",{ns:"app"})})},"handDrawn")]})})}),(0,t.jsx)("div",{ref:h,style:{position:"absolute",visibility:"hidden",height:0,overflow:"hidden"}}),y&&!l&&(0,t.jsxs)("div",{className:"px-[26px] py-4",children:[(0,t.jsx)(rc.default,{type:"text"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:o("wait_for_completion",{ns:"common",defaultValue:"Waiting for diagram code to complete..."})})]}),l&&(0,t.jsxs)("div",{className:L.mermaidDiv,style:{objectFit:"cover"},onClick:A,children:[(0,t.jsx)("div",{className:"absolute bottom-2 left-2 z-[100]",children:(0,t.jsx)("button",{type:"button",onClick:e=>{let t;e.stopPropagation(),t="light"===f?"dark":"light",rp.clear(),s(null),u(t)},className:L.themeToggle,title:o(f===rg.Theme.light?"theme.switchDark":"theme.switchLight",{ns:"app"})||"",style:{transform:"translate3d(0, 0, 0)"},children:f===rg.Theme.light?(0,t.jsx)(i,{className:"h-5 w-5"}):(0,t.jsx)(n,{className:"h-5 w-5"})})}),(0,t.jsx)("div",{style:{maxWidth:"100%"},dangerouslySetInnerHTML:{__html:l}})]}),b&&(0,t.jsx)("div",{className:L.errorMessage,children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(a,{className:L.errorIcon}),(0,t.jsx)("span",{className:"ml-2",children:b})]})}),x&&(0,t.jsx)(rm.default,{title:"mermaid_chart",url:x,onCancel:()=>k("")})]})};rb.displayName="Flowchart",e.s(["default",0,rb],211230)},96838,e=>{e.n(e.i(211230))}]);