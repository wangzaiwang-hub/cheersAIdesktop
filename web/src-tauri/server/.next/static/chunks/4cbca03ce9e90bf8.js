(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65932,(e,t,l)=>{"use strict";t.exports=function e(t,l){if(t===l)return!0;if(t&&l&&"object"==typeof t&&"object"==typeof l){if(t.constructor!==l.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=l.length)return!1;for(a=r;0!=a--;)if(!e(t[a],l[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===l.source&&t.flags===l.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===l.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===l.toString();if((r=(u=Object.keys(t)).length)!==Object.keys(l).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(l,u[a]))return!1;for(a=r;0!=a--;){var r,a,u,o=u[a];if(!e(t[o],l[o]))return!1}return!0}return t!=t&&l!=l}},935914,480600,e=>{"use strict";var t,l=((t={}).appFlow="appFlow",t.ragPipeline="ragPipeline",t);e.s(["FlowType",()=>l],480600);let r={[l.appFlow]:"apps",[l.ragPipeline]:"rag/pipelines"};e.s(["getFlowPrefix",0,e=>r[e]||r[l.appFlow]],935914)},387852,e=>{"use strict";var t=e.i(236063),l=e.i(875037),r=e.i(562572),a=e.i(214309),u=e.i(367916),o=e.i(722384),s=e.i(935914);let i="workflow",n=[i,"versionHistory"],d=[i,"last-run"];e.s(["useAppWorkflow",0,e=>(0,r.useQuery)({enabled:!!e,queryKey:[i,"publish",e],queryFn:()=>(0,u.get)(`/apps/${e}/workflows/publish`)}),"useConversationVarValues",0,(e,t)=>(0,r.useQuery)({enabled:!!t,queryKey:[i,e,"conversation var values",t],queryFn:async()=>{let{items:l}=await (0,u.get)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/conversation-variables`);return l}}),"useDeleteAllInspectorVars",0,(e,t)=>(0,l.useMutation)({mutationKey:[i,e,"delete all inspector vars",t],mutationFn:async()=>(0,u.del)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/variables`)}),"useDeleteInspectVar",0,(e,t)=>(0,l.useMutation)({mutationKey:[i,e,"delete inspector var",t],mutationFn:async l=>(0,u.del)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/variables/${l}`)}),"useDeleteNodeInspectorVars",0,(e,t)=>(0,l.useMutation)({mutationKey:[i,e,"delete node inspector vars",t],mutationFn:async l=>(0,u.del)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/nodes/${l}/variables`)}),"useDeleteWorkflow",0,()=>(0,l.useMutation)({mutationKey:[i,"delete"],mutationFn:e=>(0,u.del)(e)}),"useEditInspectorVar",0,(e,t)=>(0,l.useMutation)({mutationKey:[i,e,"edit inspector var",t],mutationFn:async l=>{let{varId:r,...a}=l;return(0,u.patch)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/variables/${r}`,{body:a})}}),"useInvalidAllLastRun",0,(e,t)=>(0,o.useInvalid)([...d,e,t]),"useInvalidLastRun",0,(e,t,l)=>(0,o.useInvalid)([...d,e,t,l]),"useInvalidateAppWorkflow",0,()=>{let e=(0,a.useQueryClient)();return t=>{e.invalidateQueries({queryKey:[i,"publish",t]})}},"useInvalidateConversationVarValues",0,(e,t)=>(0,o.useInvalid)([i,e,"conversation var values",t]),"useInvalidateSysVarValues",0,(e,t)=>(0,o.useInvalid)([i,e,"sys var values",t]),"useLastRun",0,(e,t,l,a)=>(0,r.useQuery)({enabled:a,queryKey:[...d,e,t,l],queryFn:async()=>(0,u.get)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/nodes/${l}/last-run`,{},{silent:!0}),retry:0}),"usePublishWorkflow",0,()=>(0,l.useMutation)({mutationKey:[i,"publish"],mutationFn:e=>(0,u.post)(e.url,{body:{marked_name:e.title,marked_comment:e.releaseNotes}})}),"useResetConversationVar",0,(e,t)=>(0,l.useMutation)({mutationKey:[i,e,"reset conversation var",t],mutationFn:async l=>(0,u.put)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/variables/${l}/reset`)}),"useResetToLastRunValue",0,(e,t)=>(0,l.useMutation)({mutationKey:[i,e,"reset to last run value",t],mutationFn:async l=>(0,u.put)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/variables/${l}/reset`)}),"useResetWorkflowVersionHistory",0,()=>(0,o.useReset)([...n]),"useSysVarValues",0,(e,t)=>(0,r.useQuery)({enabled:!!t,queryKey:[i,e,"sys var values",t],queryFn:async()=>{let{items:l}=await (0,u.get)(`${(0,s.getFlowPrefix)(e)}/${t}/workflows/draft/system-variables`);return l}}),"useUpdateWorkflow",0,()=>(0,l.useMutation)({mutationKey:[i,"update"],mutationFn:e=>(0,u.patch)(e.url,{body:{marked_name:e.title,marked_comment:e.releaseNotes}})}),"useWorkflowConfig",0,(e,t)=>(0,r.useQuery)({enabled:!!e,queryKey:[i,"config",e],staleTime:0,queryFn:async()=>{let l=await (0,u.get)(e);return t(l),l}}),"useWorkflowRunHistory",0,function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,r.useQuery)({queryKey:[i,"runHistory",e],queryFn:()=>(0,u.get)(e),enabled:!!e&&t})},"useWorkflowVersionHistory",0,e=>{let{url:l,initialPage:r,limit:a,userId:o,namedOnly:s}=e;return(0,t.useInfiniteQuery)({enabled:!!l,queryKey:[...n,l,r,a,o,s],queryFn:e=>{let{pageParam:t=1}=e;return(0,u.get)(l,{params:{page:t,limit:a,user_id:o||"",named_only:!!s}})},getNextPageParam:e=>e.has_more?e.page+1:null,initialPageParam:r})}])},845296,e=>{"use strict";let t,l=(0,e.i(639751).create)()((t=(e,t)=>({triggerStatuses:{},setTriggerStatus:(t,l)=>{e(e=>({triggerStatuses:{...e.triggerStatuses,[t]:l}}))},setTriggerStatuses:t=>{e({triggerStatuses:t})},getTriggerStatus:e=>t().triggerStatuses[e]||"disabled",clearTriggerStatuses:()=>{e({triggerStatuses:{}})}}),(e,l,r)=>{let a=r.subscribe;return r.subscribe=(e,t,l)=>{let u=e;if(t){let a=(null==l?void 0:l.equalityFn)||Object.is,o=e(r.getState());u=l=>{let r=e(l);if(!a(o,r)){let e=o;t(o=r,e)}},(null==l?void 0:l.fireImmediately)&&t(o,o)}return a(u)},t(e,l,r)}));e.s(["useTriggerStatusStore",0,l],845296)},916131,315436,776010,172995,745358,158420,647226,34891,355019,254825,257253,218572,407165,328364,378718,101588,960724,831231,96084,992231,997671,252740,385331,416292,884052,825182,300322,188970,863224,372013,e=>{"use strict";var t=e.i(563199),l=e.i(807324),r=e.i(833828);let a=e=>{let{ref:a,...u}=e;return(0,t.jsx)(l.default,{...u,ref:a,data:r.default})};a.displayName="Agent",e.s(["default",0,a],315436);var u=e.i(656976);let o=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:u.default})};o.displayName="Answer",e.s(["default",0,o],776010);var s=e.i(864187);let i=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:s.default})};i.displayName="ApiAggregate",e.s(["default",0,i],172995);var n=e.i(448427);let d=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:n.default})};d.displayName="Assigner",e.s(["default",0,d],745358);var c=e.i(45353);let f=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:c.default})};f.displayName="Asterisk",e.s(["default",0,f],158420);var g=e.i(43896);let m=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:g.default})};m.displayName="CalendarCheckLine",e.s(["default",0,m],647226);var b=e.i(441302);let y=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:b.default})};y.displayName="Code",e.s(["default",0,y],34891);var v=e.i(87814);let p=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:v.default})};p.displayName="Datasource",e.s(["default",0,p],355019);var k=e.i(672211);let w=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:k.default})};w.displayName="DocsExtractor",e.s(["default",0,w],254825);var E=e.i(949717);let B=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:E.default})};B.displayName="End",e.s(["default",0,B],257253);var x=e.i(511300);let h=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:x.default})};h.displayName="Home",e.s(["default",0,h],218572);var j=e.i(246065);let N=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:j.default})};N.displayName="Http",e.s(["default",0,N],407165);var F=e.i(353681);let S=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:F.default})};S.displayName="IfElse",e.s(["default",0,S],328364);var T=e.i(732348);let A=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:T.default})};A.displayName="Iteration",e.s(["default",0,A],378718),e.i(320464);var K=e.i(688482);let I=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:K.default})};I.displayName="Jinja",e.s(["default",0,I],101588);var L=e.i(846371);let P=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:L.default})};P.displayName="KnowledgeBase",e.s(["default",0,P],960724);var $=e.i(581087);let V=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:$.default})};V.displayName="KnowledgeRetrieval",e.s(["default",0,V],831231);var q=e.i(391320);let C=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:q.default})};C.displayName="ListFilter",e.s(["default",0,C],96084);var R=e.i(104869);let D=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:R.default})};D.displayName="Llm",e.s(["default",0,D],992231);var O=e.i(964892);let W=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:O.default})};W.displayName="Loop",e.s(["default",0,W],997671);var H=e.i(236463);let M=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:H.default})};M.displayName="LoopEnd",e.s(["default",0,M],252740);var Q=e.i(232883);let _=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:Q.default})};_.displayName="ParameterExtractor",e.s(["default",0,_],385331);var U=e.i(866335);let z=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:U.default})};z.displayName="QuestionClassifier",e.s(["default",0,z],416292);var J=e.i(216437);let X=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:J.default})};X.displayName="Schedule",e.s(["default",0,X],884052);var G=e.i(545764);let Y=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:G.default})};Y.displayName="TemplatingTransform",e.s(["default",0,Y],825182);var Z=e.i(490433);let ee=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:Z.default})};ee.displayName="TriggerAll",e.s(["default",0,ee],300322);var et=e.i(20488);let el=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:et.default})};el.displayName="VariableX",e.s(["default",0,el],188970);var er=e.i(534706);let ea=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:er.default})};ea.displayName="WebhookLine",e.s(["default",0,ea],863224);var eu=e.i(188239);let eo=e=>{let{ref:r,...a}=e;return(0,t.jsx)(l.default,{...a,ref:r,data:eu.default})};eo.displayName="WindowCursor",e.s(["default",0,eo],372013),e.s([],916131)},507357,524371,937194,415260,101420,740837,848137,e=>{"use strict";var t=e.i(315436);e.s(["Agent",()=>t.default],507357);var l=e.i(776010);e.s(["Answer",()=>l.default],524371);var r=e.i(745358);e.s(["Assigner",()=>r.default],937194);var a=e.i(34891);e.s(["Code",()=>a.default],415260);var u=e.i(355019);e.s(["Datasource",()=>u.default],101420);var o=e.i(254825);e.s(["DocsExtractor",()=>o.default],740837);var s=e.i(257253);e.s(["End",()=>s.default],848137)},193879,e=>{"use strict";var t=e.i(218572);e.s(["Home",()=>t.default])},453524,571962,520931,470194,952944,271146,403814,e=>{"use strict";var t=e.i(407165);e.s(["Http",()=>t.default],453524);var l=e.i(328364);e.s(["IfElse",()=>l.default],571962);var r=e.i(378718);e.s(["Iteration",()=>r.default],520931);var a=e.i(960724);e.s(["KnowledgeBase",()=>a.default],470194);var u=e.i(831231);e.s(["KnowledgeRetrieval",()=>u.default],952944);var o=e.i(96084);e.s(["ListFilter",()=>o.default],271146);var s=e.i(992231);e.s(["Llm",()=>s.default],403814)},806436,e=>{"use strict";var t=e.i(997671);e.s(["Loop",()=>t.default])},120219,963779,36411,e=>{"use strict";var t=e.i(563199),l=e.i(268255),r=e.i(257899);e.i(916131);var a=e.i(507357),u=e.i(524371),o=e.i(937194),s=e.i(415260),i=e.i(101420),n=e.i(740837),d=e.i(848137),c=e.i(193879),f=e.i(453524),g=e.i(571962),m=e.i(520931),b=e.i(470194),y=e.i(952944),v=e.i(271146),p=e.i(403814),k=e.i(806436),w=e.i(252740),w=w,E=e.i(385331),E=E,B=e.i(416292),B=B,x=e.i(884052);e.s(["Schedule",()=>x.default],963779);var x=x,h=e.i(825182),h=h,j=e.i(188970),j=j,N=e.i(863224);e.s(["WebhookLine",()=>N.default],36411);var N=N,F=e.i(935139),S=e.i(390622);let T={xs:"w-4 h-4 rounded-[5px] shadow-xs",sm:"w-5 h-5 rounded-md shadow-xs",md:"w-6 h-6 rounded-lg shadow-md"},A={[S.BlockEnum.Start]:c.Home,[S.BlockEnum.LLM]:p.Llm,[S.BlockEnum.Code]:s.Code,[S.BlockEnum.End]:d.End,[S.BlockEnum.IfElse]:g.IfElse,[S.BlockEnum.HttpRequest]:f.Http,[S.BlockEnum.Answer]:u.Answer,[S.BlockEnum.KnowledgeRetrieval]:y.KnowledgeRetrieval,[S.BlockEnum.QuestionClassifier]:B.default,[S.BlockEnum.TemplateTransform]:h.default,[S.BlockEnum.VariableAssigner]:j.default,[S.BlockEnum.VariableAggregator]:j.default,[S.BlockEnum.Assigner]:o.Assigner,[S.BlockEnum.Tool]:j.default,[S.BlockEnum.IterationStart]:j.default,[S.BlockEnum.Iteration]:m.Iteration,[S.BlockEnum.LoopStart]:j.default,[S.BlockEnum.Loop]:k.Loop,[S.BlockEnum.LoopEnd]:w.default,[S.BlockEnum.ParameterExtractor]:E.default,[S.BlockEnum.DocExtractor]:n.DocsExtractor,[S.BlockEnum.ListFilter]:v.ListFilter,[S.BlockEnum.Agent]:a.Agent,[S.BlockEnum.KnowledgeBase]:b.KnowledgeBase,[S.BlockEnum.DataSource]:i.Datasource,[S.BlockEnum.DataSourceEmpty]:()=>null,[S.BlockEnum.TriggerSchedule]:x.default,[S.BlockEnum.TriggerWebhook]:N.default,[S.BlockEnum.TriggerPlugin]:j.default},K=(e,l)=>{let r=A[e];return r?(0,t.jsx)(r,{className:l}):null},I={[S.BlockEnum.Start]:"bg-util-colors-blue-brand-blue-brand-500",[S.BlockEnum.LLM]:"bg-util-colors-indigo-indigo-500",[S.BlockEnum.Code]:"bg-util-colors-blue-blue-500",[S.BlockEnum.End]:"bg-util-colors-warning-warning-500",[S.BlockEnum.IfElse]:"bg-util-colors-cyan-cyan-500",[S.BlockEnum.Iteration]:"bg-util-colors-cyan-cyan-500",[S.BlockEnum.Loop]:"bg-util-colors-cyan-cyan-500",[S.BlockEnum.LoopEnd]:"bg-util-colors-warning-warning-500",[S.BlockEnum.HttpRequest]:"bg-util-colors-violet-violet-500",[S.BlockEnum.Answer]:"bg-util-colors-warning-warning-500",[S.BlockEnum.KnowledgeRetrieval]:"bg-util-colors-green-green-500",[S.BlockEnum.QuestionClassifier]:"bg-util-colors-green-green-500",[S.BlockEnum.TemplateTransform]:"bg-util-colors-blue-blue-500",[S.BlockEnum.VariableAssigner]:"bg-util-colors-blue-blue-500",[S.BlockEnum.VariableAggregator]:"bg-util-colors-blue-blue-500",[S.BlockEnum.Tool]:"bg-util-colors-blue-blue-500",[S.BlockEnum.Assigner]:"bg-util-colors-blue-blue-500",[S.BlockEnum.ParameterExtractor]:"bg-util-colors-blue-blue-500",[S.BlockEnum.DocExtractor]:"bg-util-colors-green-green-500",[S.BlockEnum.ListFilter]:"bg-util-colors-cyan-cyan-500",[S.BlockEnum.Agent]:"bg-util-colors-indigo-indigo-500",[S.BlockEnum.KnowledgeBase]:"bg-util-colors-warning-warning-500",[S.BlockEnum.DataSource]:"bg-components-icon-bg-midnight-solid",[S.BlockEnum.TriggerSchedule]:"bg-util-colors-violet-violet-500",[S.BlockEnum.TriggerWebhook]:"bg-util-colors-blue-blue-500",[S.BlockEnum.TriggerPlugin]:"bg-util-colors-blue-blue-500"},L=(0,l.memo)(e=>{let{type:l,size:a="sm",className:u,toolIcon:o}=e,s=l!==S.BlockEnum.Tool&&l!==S.BlockEnum.DataSource&&l!==S.BlockEnum.TriggerPlugin||!o;return(0,t.jsxs)("div",{className:(0,F.cn)("flex items-center justify-center border-[0.5px] border-white/2 text-white",T[a],s&&I[l],o&&"!shadow-none",u),children:[s&&K(l,l===S.BlockEnum.TriggerSchedule||l===S.BlockEnum.TriggerWebhook?"xs"===a?"w-4 h-4":"w-4.5 h-4.5":"xs"===a?"w-3 h-3":"w-3.5 h-3.5"),!s&&(0,t.jsx)(t.Fragment,{children:"string"==typeof o?(0,t.jsx)("div",{className:"h-full w-full shrink-0 rounded-md bg-cover bg-center",style:{backgroundImage:`url(${o})`}}):(0,t.jsx)(r.default,{className:"!h-full !w-full shrink-0",size:"tiny",icon:o?.content,background:o?.background})})]})});e.s(["VarBlockIcon",0,e=>{let{type:l,className:r}=e;return(0,t.jsx)(t.Fragment,{children:K(l,`w-3 h-3 ${r}`)})},"default",0,L],120219)},449448,e=>{"use strict";function t(e){return[...new Set(e)]}e.s(["uniq",()=>t])},534042,141167,e=>{"use strict";var t,l=((t={}).blue="blue",t.cyan="cyan",t.green="green",t.yellow="yellow",t.pink="pink",t.violet="violet",t);e.s(["NoteTheme",()=>l],141167);let r={[l.blue]:{outer:"border-util-colors-blue-blue-500",title:"bg-util-colors-blue-blue-100",bg:"bg-util-colors-blue-blue-50",border:"border-util-colors-blue-blue-300"},[l.cyan]:{outer:"border-util-colors-cyan-cyan-500",title:"bg-util-colors-cyan-cyan-100",bg:"bg-util-colors-cyan-cyan-50",border:"border-util-colors-cyan-cyan-300"},[l.green]:{outer:"border-util-colors-green-green-500",title:"bg-util-colors-green-green-100",bg:"bg-util-colors-green-green-50",border:"border-util-colors-green-green-300"},[l.yellow]:{outer:"border-util-colors-yellow-yellow-500",title:"bg-util-colors-yellow-yellow-100",bg:"bg-util-colors-yellow-yellow-50",border:"border-util-colors-yellow-yellow-300"},[l.pink]:{outer:"border-util-colors-pink-pink-500",title:"bg-util-colors-pink-pink-100",bg:"bg-util-colors-pink-pink-50",border:"border-util-colors-pink-pink-300"},[l.violet]:{outer:"border-util-colors-violet-violet-500",title:"bg-util-colors-violet-violet-100",bg:"bg-util-colors-violet-violet-100",border:"border-util-colors-violet-violet-300"}};e.s(["CUSTOM_NOTE_NODE",0,"custom-note","THEME_MAP",0,r],534042)}]);