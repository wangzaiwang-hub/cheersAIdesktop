(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,648404,e=>{"use strict";var t,a,n,r,i,o,l,s,_,u=((t={}).light="light",t.dark="dark",t.system="system",t),c=((a={}).chat="chat",a.completion="completion",a.unset="",a),E=((n={}).oneWay="single",n.multiWay="multiple",n),p=((r={}).semantic="semantic_search",r.fullText="full_text_search",r.hybrid="hybrid_search",r.invertedIndex="invertedIndex",r.keywordSearch="keyword_search",r),d=((i={}).COMPLETION="completion",i.WORKFLOW="workflow",i.CHAT="chat",i.ADVANCED_CHAT="advanced-chat",i.AGENT_CHAT="agent-chat",i),A=((o={}).functionCall="function_call",o.react="react",o),T=((l={}).low="low",l.high="high",l),I=((s={}).all="all",s.local_file="local_file",s.remote_url="remote_url",s),f=((_={}).enabled="enabled",_.disabled="disabled",_);e.s(["ALLOW_FILE_EXTENSIONS",0,["png","jpg","jpeg","webp","gif"],"AgentStrategy",()=>A,"AppModeEnum",()=>d,"ModelModeType",()=>c,"RETRIEVE_METHOD",()=>p,"RETRIEVE_TYPE",()=>E,"Resolution",()=>T,"Theme",()=>u,"TransferMethod",()=>I,"TtsAutoPlay",()=>f])},654313,e=>{"use strict";var t,a=e.i(563199),n=e.i(294237),r=e.i(935139),i=((t=i||{}).Destructive="destructive",t.Active="active",t.Disabled="disabled",t.Default="",t.Hover="hover",t);let o=(0,n.cva)("action-btn",{variants:{size:{xs:"action-btn-xs",m:"action-btn-m",l:"action-btn-l",xl:"action-btn-xl"}},defaultVariants:{size:"m"}}),l=e=>{let{className:t,size:n,state:i="",styleCss:l,children:s,ref:_,disabled:u,...c}=e;return(0,a.jsx)("button",{type:"button",className:(0,r.cn)(o({className:t,size:n}),function(e){switch(e){case"destructive":return"action-btn-destructive";case"active":return"action-btn-active";case"disabled":return"action-btn-disabled";case"hover":return"action-btn-hover";default:return""}}(i),u&&"cursor-not-allowed text-text-disabled hover:bg-transparent hover:text-text-disabled"),disabled:u,ref:_,style:l,...c,children:s})};l.displayName="ActionButton",e.s(["ActionButton",()=>l,"ActionButtonState",()=>i,"default",0,l])},7284,e=>{"use strict";function t(){for(var e,t,a=0,n="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(n=e(t[a]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}(e))&&(n&&(n+=" "),n+=t);return n}e.s(["clsx",()=>t,"default",0,t])},294237,e=>{"use strict";var t=e.i(7284);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=t.clsx;e.s(["cva",0,(e,t)=>r=>{var i;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:l}=t,s=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],n=null==l?void 0:l[e];if(null===t)return null;let i=a(t)||a(n);return o[e][i]}),_=r&&Object.entries(r).reduce((e,t)=>{let[a,n]=t;return void 0===n||(e[a]=n),e},{});return n(e,s,null==t||null==(i=t.compoundVariants)?void 0:i.reduce((e,t)=>{let{class:a,className:n,...r}=t;return Object.entries(r).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...l,..._}[t]):({...l,..._})[t]===a})?[...e,a,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}])},124836,e=>{"use strict";function t(){}e.s(["noop",()=>t])},794138,(e,t,a)=>{"use strict";function n(e,t){var a=e.length;for(e.push(t);0<a;){var n=a-1>>>1,r=e[n];if(0<o(r,t))e[n]=t,e[a]=r,a=n;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;for(var n=0,r=e.length,i=r>>>1;n<i;){var l=2*(n+1)-1,s=e[l],_=l+1,u=e[_];if(0>o(s,a))_<r&&0>o(u,s)?(e[n]=u,e[_]=a,n=_):(e[n]=s,e[l]=a,n=l);else if(_<r&&0>o(u,a))e[n]=u,e[_]=a,n=_;else break}}return t}function o(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if(a.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l,s=performance;a.unstable_now=function(){return s.now()}}else{var _=Date,u=_.now();a.unstable_now=function(){return _.now()-u}}var c=[],E=[],p=1,d=null,A=3,T=!1,I=!1,f=!1,L=!1,N="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,b="u">typeof setImmediate?setImmediate:null;function P(e){for(var t=r(E);null!==t;){if(null===t.callback)i(E);else if(t.startTime<=e)i(E),t.sortIndex=t.expirationTime,n(c,t);else break;t=r(E)}}function g(e){if(f=!1,P(e),!I)if(null!==r(c))I=!0,h||(h=!0,l());else{var t=r(E);null!==t&&x(g,t.startTime-e)}}var h=!1,O=-1,y=5,R=-1;function D(){return!!L||!(a.unstable_now()-R<y)}function C(){if(L=!1,h){var e=a.unstable_now();R=e;var t=!0;try{e:{I=!1,f&&(f=!1,m(O),O=-1),T=!0;var n=A;try{t:{for(P(e),d=r(c);null!==d&&!(d.expirationTime>e&&D());){var o=d.callback;if("function"==typeof o){d.callback=null,A=d.priorityLevel;var s=o(d.expirationTime<=e);if(e=a.unstable_now(),"function"==typeof s){d.callback=s,P(e),t=!0;break t}d===r(c)&&i(c),P(e)}else i(c);d=r(c)}if(null!==d)t=!0;else{var _=r(E);null!==_&&x(g,_.startTime-e),t=!1}}break e}finally{d=null,A=n,T=!1}}}finally{t?l():h=!1}}}if("function"==typeof b)l=function(){b(C)};else if("u">typeof MessageChannel){var S=new MessageChannel,v=S.port2;S.port1.onmessage=C,l=function(){v.postMessage(null)}}else l=function(){N(C,0)};function x(e,t){O=N(function(){e(a.unstable_now())},t)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(e){e.callback=null},a.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var a=A;A=t;try{return e()}finally{A=a}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=A;A=e;try{return t()}finally{A=a}},a.unstable_scheduleCallback=function(e,t,i){var o=a.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?o+i:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=0x3fffffff;break;case 4:s=1e4;break;default:s=5e3}return s=i+s,e={id:p++,callback:t,priorityLevel:e,startTime:i,expirationTime:s,sortIndex:-1},i>o?(e.sortIndex=i,n(E,e),null===r(c)&&e===r(E)&&(f?(m(O),O=-1):f=!0,x(g,i-o))):(e.sortIndex=s,n(c,e),I||T||(I=!0,h||(h=!0,l()))),e},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(e){var t=A;return function(){var a=A;A=t;try{return e.apply(this,arguments)}finally{A=a}}}},488440,(e,t,a)=>{"use strict";t.exports=e.r(794138)},339548,e=>{"use strict";var t=e.i(268255),a=e.i(488440);let n=Symbol(),r=Symbol(),i="u"<typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?t.useEffect:t.useLayoutEffect,o=a.unstable_runWithPriority?e=>{try{(0,a.unstable_runWithPriority)(a.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),l=e=>e;function s(e){var a;let l=(0,t.createContext)({[n]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return l[r]=l.Provider,a=l.Provider,l.Provider=e=>{let{value:r,children:l}=e,s=(0,t.useRef)(r),_=(0,t.useRef)(0),[u,c]=(0,t.useState)(null);u&&(u(r),c(null));let E=(0,t.useRef)();if(!E.current){let e=new Set;E.current={[n]:{v:s,n:_,l:e,u:(t,a)=>{_.current+=1;let n={n:_.current};(null==a?void 0:a.suspense)&&(n.n*=-1,n.p=new Promise(e=>{c(()=>t=>{n.v=t,delete n.p,e(t)})})),e.forEach(e=>e(n)),t()}}}}return i(()=>{s.current=r,_.current+=1,o(()=>{E.current[n].l.forEach(e=>{e({n:_.current,v:r})})})},[r]),(0,t.createElement)(a,{value:E.current},l)},delete l.Consumer,l}function _(e,a){let{v:{current:r},n:{current:o},l:l}=(0,t.useContext)(e)[n],s=a(r),[_,u]=(0,t.useReducer)((e,t)=>{if(!t)return[r,s];if("p"in t)throw t.p;if(t.n===o)return Object.is(e[1],s)?e:[r,s];try{if("v"in t){if(Object.is(e[0],t.v))return e;let n=a(t.v);if(Object.is(e[1],n))return e;return[t.v,n]}}catch(e){}return[...e]},[r,s]);return Object.is(_[1],s)||u(),i(()=>(l.add(u),()=>{l.delete(u)}),[l]),_[1]}function u(e){return _(e,l)}e.s(["createContext",()=>s,"useContext",()=>u,"useContextSelector",()=>_])},137667,e=>{"use strict";var t=e.i(563199),a=e.i(837699),n=e.i(124836),r=e.i(268255),i=e.i(459088),o=e.i(339548),l=e.i(654313),s=e.i(935139);let _=(0,o.createContext)({}),u=()=>(0,o.useContext)(_),c=e=>{let{type:n="info",size:r="md",message:i,children:o,className:_,customComponent:c}=e,{close:E}=u();return"string"!=typeof i?null:(0,t.jsxs)("div",{className:(0,s.cn)(_,"fixed z-[9999] mx-8 my-4 w-[360px] grow overflow-hidden rounded-xl","border border-components-panel-border-subtle bg-components-panel-bg-blur shadow-sm","top-0","right-0","md"===r?"p-3":"p-2",_),children:[(0,t.jsx)("div",{className:(0,s.cn)("absolute inset-0 -z-10 opacity-40","success"===n&&"bg-toast-success-bg","warning"===n&&"bg-toast-warning-bg","error"===n&&"bg-toast-error-bg","info"===n&&"bg-toast-info-bg")}),(0,t.jsxs)("div",{className:(0,s.cn)("flex","md"===r?"gap-1":"gap-0.5"),children:[(0,t.jsxs)("div",{className:(0,s.cn)("flex items-center justify-center","md"===r?"p-0.5":"p-1"),children:["success"===n&&(0,t.jsx)(a.RiCheckboxCircleFill,{className:(0,s.cn)("text-text-success","md"===r?"h-5 w-5":"h-4 w-4"),"aria-hidden":"true"}),"error"===n&&(0,t.jsx)(a.RiErrorWarningFill,{className:(0,s.cn)("text-text-destructive","md"===r?"h-5 w-5":"h-4 w-4"),"aria-hidden":"true"}),"warning"===n&&(0,t.jsx)(a.RiAlertFill,{className:(0,s.cn)("text-text-warning-secondary","md"===r?"h-5 w-5":"h-4 w-4"),"aria-hidden":"true"}),"info"===n&&(0,t.jsx)(a.RiInformation2Fill,{className:(0,s.cn)("text-text-accent","md"===r?"h-5 w-5":"h-4 w-4"),"aria-hidden":"true"})]}),(0,t.jsxs)("div",{className:(0,s.cn)("flex grow flex-col items-start gap-1 py-1","md"===r?"px-1":"px-0.5"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"system-sm-semibold text-text-primary [word-break:break-word]",children:i}),c]}),!!o&&(0,t.jsx)("div",{className:"system-xs-regular text-text-secondary",children:o})]}),E&&(0,t.jsx)(l.default,{className:"z-[1000]",onClick:E,children:(0,t.jsx)(a.RiCloseLine,{className:"h-4 w-4 shrink-0 text-text-tertiary"})})]})]})};c.notify=e=>{let{type:a,size:r="md",message:o,duration:l,className:s,customComponent:u,onClose:E}=e,p="success"===a||"info"===a?3e3:6e3,d={};{let e=document.createElement("div"),A=(0,i.createRoot)(e);d.clear=()=>{e&&(A.unmount(),e.remove()),E?.()},A.render((0,t.jsx)(_.Provider,{value:{notify:n.noop,close:()=>{e&&(A.unmount(),e.remove()),E?.()}},children:(0,t.jsx)(c,{type:a,size:r,message:o,duration:l,className:s,customComponent:u})})),document.body.appendChild(e);let T=l??p;T>0&&setTimeout(d.clear,T)}return d},e.s(["ToastContext",0,_,"ToastProvider",0,e=>{let{children:a}=e,[n,i]=r.useState({type:"info",message:"Toast message",duration:6e3}),o="success"===n.type||"info"===n.type?3e3:6e3,[l,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{l&&setTimeout(()=>{s(!1)},n.duration||o)},[o,l,n.duration]),(0,t.jsxs)(_.Provider,{value:{notify:e=>{s(!0),i(e)},close:()=>s(!1)},children:[l&&(0,t.jsx)(c,{...n}),a]})},"default",0,c,"useToastContext",0,u])},390622,e=>{"use strict";var t,a,n,r,i,o,l,s,_,u,c,E,p,d,A,T,I=((t={}).Start="start",t.End="end",t.Answer="answer",t.LLM="llm",t.KnowledgeRetrieval="knowledge-retrieval",t.QuestionClassifier="question-classifier",t.IfElse="if-else",t.Code="code",t.TemplateTransform="template-transform",t.HttpRequest="http-request",t.VariableAssigner="variable-assigner",t.VariableAggregator="variable-aggregator",t.Tool="tool",t.ParameterExtractor="parameter-extractor",t.Iteration="iteration",t.DocExtractor="document-extractor",t.ListFilter="list-operator",t.IterationStart="iteration-start",t.Assigner="assigner",t.Agent="agent",t.Loop="loop",t.LoopStart="loop-start",t.LoopEnd="loop-end",t.DataSource="datasource",t.DataSourceEmpty="datasource-empty",t.KnowledgeBase="knowledge-index",t.TriggerSchedule="trigger-schedule",t.TriggerWebhook="trigger-webhook",t.TriggerPlugin="trigger-plugin",t),f=((a={}).Pointer="pointer",a.Hand="hand",a),L=((n={}).Terminated="terminated",n.ContinueOnError="continue-on-error",n.RemoveAbnormalOutput="remove-abnormal-output",n),N=((r={}).textInput="text-input",r.paragraph="paragraph",r.select="select",r.number="number",r.checkbox="checkbox",r.url="url",r.files="files",r.json="json",r.jsonObject="json_object",r.contexts="contexts",r.iterator="iterator",r.singleFile="file",r.multiFiles="file-list",r.loop="loop",r),m=((i={}).system="system",i.user="user",i.assistant="assistant",i),b=((o={}).basic="basic",o.jinja2="jinja2",o),P=((l={}).user="user",l.assistant="assistant",l),g=((s={}).string="string",s.number="number",s.integer="integer",s.secret="secret",s.boolean="boolean",s.object="object",s.file="file",s.array="array",s.arrayString="array[string]",s.arrayNumber="array[number]",s.arrayObject="array[object]",s.arrayBoolean="array[boolean]",s.arrayFile="array[file]",s.any="any",s.arrayAny="array[any]",s),h=((_={}).variable="variable",_.constant="constant",_),O=((u={}).Waiting="waiting",u.Running="running",u.Succeeded="succeeded",u.Failed="failed",u.Stopped="stopped",u),y=((c={}).Draft="draft",c.Latest="latest",c),R=((E={}).NotStart="not-start",E.Waiting="waiting",E.Listening="listening",E.Running="running",E.Succeeded="succeeded",E.Failed="failed",E.Exception="exception",E.Retry="retry",E.Stopped="stopped",E),D=((p={}).changeVarName="changeVarName",p.remove="remove",p),C=((d={}).image="image",d.document="document",d.audio="audio",d.video="video",d.custom="custom",d),S=((A={}).all="all",A.onlyYours="onlyYours",A),v=((T={}).restore="restore",T.edit="edit",T.delete="delete",T.exportDSL="exportDSL",T.copyId="copyId",T);let x=["trigger-schedule","trigger-webhook","trigger-plugin"];function M(e){return x.includes(e)}e.s(["BlockEnum",()=>I,"ChangeType",()=>D,"ControlMode",()=>f,"EditionType",()=>b,"ErrorHandleMode",()=>L,"InputVarType",()=>N,"MemoryRole",()=>P,"NodeRunningStatus",()=>R,"PromptRole",()=>m,"SupportUploadFileTypes",()=>C,"ValueType",()=>h,"VarType",()=>g,"VersionHistoryContextMenuOptions",()=>v,"WorkflowRunningStatus",()=>O,"WorkflowVersion",()=>y,"WorkflowVersionFilterOptions",()=>S,"isTriggerNode",()=>M])},923978,e=>{"use strict";var t,a,n=((t={}).simple="simple",t.advanced="advanced",t),r=((a={}).system="system",a.user="user",a.assistant="assistant",a);e.s(["PromptMode",()=>n,"PromptRole",()=>r])},654537,239631,e=>{"use strict";var t,a,n,r,i=((t={}).textInput="text-input",t.paragraph="paragraph",t.numberInput="number-input",t.checkbox="checkbox",t.select="select",t.file="file",t.fileList="file-list",t);e.s(["BaseFieldType",()=>i],239631);var o=((a={}).localFile="local_file",a.onlineDocument="online_document",a.websiteCrawl="website_crawl",a.onlineDrive="online_drive",a),l=((n={}).textInput="text-input",n.paragraph="paragraph",n.select="select",n.number="number",n.singleFile="file",n.multiFiles="file-list",n.checkbox="checkbox",n);let s={"text-input":i.textInput,paragraph:i.paragraph,select:i.select,file:i.file,"file-list":i.fileList,number:i.numberInput,checkbox:i.checkbox};var _=((r={}).file="file",r.folder="folder",r.bucket="bucket",r);e.s(["DatasourceType",()=>o,"OnlineDriveFileType",()=>_,"PipelineInputVarType",()=>l,"VAR_TYPE_MAP",0,s],654537)},925521,547682,e=>{"use strict";var t,a,n,r,i=e.i(604193),o=e.i(390622),l=e.i(923978),s=e.i(654537),_=e.i(648404),u=((t={}).SAML="saml",t.OIDC="oidc",t.OAuth2="oauth2",t),c=((a={}).NONE="none",a.INACTIVE="inactive",a.ACTIVE="active",a.EXPIRING="expiring",a.EXPIRED="expired",a.LOST="lost",a),E=((n={}).ALL="all",n.NONE="none",n.OFFICIAL_ONLY="official_only",n.OFFICIAL_AND_PARTNER="official_and_specific_partners",n),p=((r={}).DATA_API_PREFIX="data-api-prefix",r.DATA_PUBLIC_API_PREFIX="data-public-api-prefix",r.DATA_MARKETPLACE_API_PREFIX="data-marketplace-api-prefix",r.DATA_MARKETPLACE_URL_PREFIX="data-marketplace-url-prefix",r.DATA_PUBLIC_EDITION="data-public-edition",r.DATA_PUBLIC_AMPLITUDE_API_KEY="data-public-amplitude-api-key",r.DATA_PUBLIC_COOKIE_DOMAIN="data-public-cookie-domain",r.DATA_PUBLIC_SUPPORT_MAIL_LOGIN="data-public-support-mail-login",r.DATA_PUBLIC_SENTRY_DSN="data-public-sentry-dsn",r.DATA_PUBLIC_MAINTENANCE_NOTICE="data-public-maintenance-notice",r.DATA_PUBLIC_SITE_ABOUT="data-public-site-about",r.DATA_PUBLIC_TEXT_GENERATION_TIMEOUT_MS="data-public-text-generation-timeout-ms",r.DATA_PUBLIC_MAX_TOOLS_NUM="data-public-max-tools-num",r.DATA_PUBLIC_MAX_PARALLEL_LIMIT="data-public-max-parallel-limit",r.DATA_PUBLIC_TOP_K_MAX_VALUE="data-public-top-k-max-value",r.DATA_PUBLIC_INDEXING_MAX_SEGMENTATION_TOKENS_LENGTH="data-public-indexing-max-segmentation-tokens-length",r.DATA_PUBLIC_LOOP_NODE_MAX_COUNT="data-public-loop-node-max-count",r.DATA_PUBLIC_MAX_ITERATIONS_NUM="data-public-max-iterations-num",r.DATA_PUBLIC_MAX_TREE_DEPTH="data-public-max-tree-depth",r.DATA_PUBLIC_ALLOW_UNSAFE_DATA_SCHEME="data-public-allow-unsafe-data-scheme",r.DATA_PUBLIC_ENABLE_WEBSITE_JINAREADER="data-public-enable-website-jinareader",r.DATA_PUBLIC_ENABLE_WEBSITE_FIRECRAWL="data-public-enable-website-firecrawl",r.DATA_PUBLIC_ENABLE_WEBSITE_WATERCRAWL="data-public-enable-website-watercrawl",r.DATA_PUBLIC_ENABLE_SINGLE_DOLLAR_LATEX="data-public-enable-single-dollar-latex",r.NEXT_PUBLIC_ZENDESK_WIDGET_KEY="next-public-zendesk-widget-key",r.NEXT_PUBLIC_ZENDESK_FIELD_ID_ENVIRONMENT="next-public-zendesk-field-id-environment",r.NEXT_PUBLIC_ZENDESK_FIELD_ID_VERSION="next-public-zendesk-field-id-version",r.NEXT_PUBLIC_ZENDESK_FIELD_ID_EMAIL="next-public-zendesk-field-id-email",r.NEXT_PUBLIC_ZENDESK_FIELD_ID_WORKSPACE_ID="next-public-zendesk-field-id-workspace-id",r.NEXT_PUBLIC_ZENDESK_FIELD_ID_PLAN="next-public-zendesk-field-id-plan",r.DATA_PUBLIC_BATCH_CONCURRENCY="data-public-batch-concurrency",r);e.s(["DatasetAttr",()=>p,"InstallationScope",()=>E,"LicenseStatus",()=>c,"SSOProtocol",()=>u,"defaultSystemFeatures",0,{trial_models:[],plugin_installation_permission:{plugin_installation_scope:"all",restrict_to_marketplace_only:!1},sso_enforced_for_signin:!1,sso_enforced_for_signin_protocol:"",sso_enforced_for_web:!1,sso_enforced_for_web_protocol:"",enable_marketplace:!1,enable_change_email:!1,enable_email_code_login:!1,enable_email_password_login:!1,enable_social_oauth_login:!1,is_allow_create_workspace:!1,is_allow_register:!1,is_email_setup:!1,license:{status:"none",expired_at:""},branding:{enabled:!1,login_page_logo:"",workspace_logo:"",favicon:"",application_title:"test title"},webapp_auth:{enabled:!1,allow_sso:!1,sso_config:{protocol:""},allow_email_code_login:!1,allow_email_password_login:!1},enable_trial_app:!1,enable_explore_banner:!1}],547682);var d=e.i(804730);let A=function(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(void 0!==e&&""!==e)return"true"===e;let n=globalThis.document?.body?.getAttribute(t);return void 0!==n&&""!==n?"true"===n:a},T=(e,t,a)=>{if(e){let t=Number.parseInt(e);if(!Number.isNaN(t)&&t>0)return t}let n=globalThis.document?.body?.getAttribute(t);if(n){let e=Number.parseInt(n);if(!Number.isNaN(e)&&e>0)return e}return a},I=(e,t,a)=>{if(e)return e;let n=globalThis.document?.body?.getAttribute(t);return n||a},f=I("http://localhost:5001/console/api",p.DATA_API_PREFIX,"http://localhost:5001/console/api"),L=I("http://localhost:5001/api",p.DATA_PUBLIC_API_PREFIX,"http://localhost:5001/api"),N=I("https://marketplace.dify.ai/api/v1",p.DATA_MARKETPLACE_API_PREFIX,"http://localhost:5002/api"),m=I("https://marketplace.dify.ai",p.DATA_MARKETPLACE_URL_PREFIX,""),b=I("SELF_HOSTED",p.DATA_PUBLIC_EDITION,"SELF_HOSTED"),P=I("",p.DATA_PUBLIC_AMPLITUDE_API_KEY,"");i.default.env.NEXT_PUBLIC_SUPPORT_MAIL_LOGIN||globalThis.document?.body?.getAttribute("data-public-support-mail-login");let g={prompt:[{role:l.PromptRole.system,text:""}]},h=I("",p.DATA_PUBLIC_COOKIE_DOMAIN,"").trim(),O=T("5",p.DATA_PUBLIC_BATCH_CONCURRENCY,5),y=/^[\u4E00-\u9FA5]$/m,R={variable:"",label:"",type:o.InputVarType.textInput,required:!0,options:[]},D={variable:"",label:"",type:s.PipelineInputVarType.textInput,required:!0,options:[]},C={enabled:!1,max_iteration:10,strategy:_.AgentStrategy.functionCall,tools:[]},S={chat:`Respond to the human as helpfully and accurately as possible.

{{instruction}}

You have access to the following tools:

{{tools}}

Use a json blob to specify a tool by providing an {{TOOL_NAME_KEY}} key (tool name) and an {{ACTION_INPUT_KEY}} key (tool input).
Valid "{{TOOL_NAME_KEY}}" values: "Final Answer" or {{tool_names}}

Provide only ONE action per $JSON_BLOB, as shown:

\`\`\`
{
  "{{TOOL_NAME_KEY}}": $TOOL_NAME,
  "{{ACTION_INPUT_KEY}}": $ACTION_INPUT
}
\`\`\`

Follow this format:

Question: input question to answer
Thought: consider previous and subsequent steps
Action:
\`\`\`
$JSON_BLOB
\`\`\`
Observation: action result
... (repeat Thought/Action/Observation N times)
Thought: I know what to respond
Action:
\`\`\`
{
  "{{TOOL_NAME_KEY}}": "Final Answer",
  "{{ACTION_INPUT_KEY}}": "Final response to human"
}
\`\`\`

Begin! Reminder to ALWAYS respond with a valid json blob of a single action. Use tools if necessary. Respond directly if appropriate. Format is Action:\`\`\`$JSON_BLOB\`\`\`then Observation:.`,completion:`
Respond to the human as helpfully and accurately as possible.

{{instruction}}

You have access to the following tools:

{{tools}}

Use a json blob to specify a tool by providing an {{TOOL_NAME_KEY}} key (tool name) and an {{ACTION_INPUT_KEY}} key (tool input).
Valid "{{TOOL_NAME_KEY}}" values: "Final Answer" or {{tool_names}}

Provide only ONE action per $JSON_BLOB, as shown:

\`\`\`
{{{{
  "{{TOOL_NAME_KEY}}": $TOOL_NAME,
  "{{ACTION_INPUT_KEY}}": $ACTION_INPUT
}}}}
\`\`\`

Follow this format:

Question: input question to answer
Thought: consider previous and subsequent steps
Action:
\`\`\`
$JSON_BLOB
\`\`\`
Observation: action result
... (repeat Thought/Action/Observation N times)
Thought: I know what to respond
Action:
\`\`\`
{{{{
  "{{TOOL_NAME_KEY}}": "Final Answer",
  "{{ACTION_INPUT_KEY}}": "Final response to human"
}}}}
\`\`\`

Begin! Reminder to ALWAYS respond with a valid json blob of a single action. Use tools if necessary. Respond directly if appropriate. Format is Action:\`\`\`$JSON_BLOB\`\`\`then Observation:.
Question: {{query}}
Thought: {{agent_scratchpad}}
  `},v=/\{\{(#[\w-]{1,50}(\.\d+)?(\.[a-z_]\w{0,29}){1,10}#)\}\}/gi,x="true"===i.default.env.NEXT_PUBLIC_DISABLE_UPLOAD_IMAGE_AS_ICON,M=T("10",p.DATA_PUBLIC_MAX_TOOLS_NUM,10),U=T("10",p.DATA_PUBLIC_MAX_PARALLEL_LIMIT,10),w=T("60000",p.DATA_PUBLIC_TEXT_GENERATION_TIMEOUT_MS,6e4),B=T("100",p.DATA_PUBLIC_LOOP_NODE_MAX_COUNT,100),k=T("99",p.DATA_PUBLIC_MAX_ITERATIONS_NUM,99),F=T("50",p.DATA_PUBLIC_MAX_TREE_DEPTH,50),X=A("false",p.DATA_PUBLIC_ALLOW_UNSAFE_DATA_SCHEME,!1),K=A("true",p.DATA_PUBLIC_ENABLE_WEBSITE_JINAREADER,!0),V=A("true",p.DATA_PUBLIC_ENABLE_WEBSITE_FIRECRAWL,!0),W=A("true",p.DATA_PUBLIC_ENABLE_WEBSITE_WATERCRAWL,!1),H=A("false",p.DATA_PUBLIC_ENABLE_SINGLE_DOLLAR_LATEX,!1),j=I(i.default.env.NEXT_PUBLIC_ZENDESK_WIDGET_KEY,p.NEXT_PUBLIC_ZENDESK_WIDGET_KEY,""),G={ENVIRONMENT:I(i.default.env.NEXT_PUBLIC_ZENDESK_FIELD_ID_ENVIRONMENT,p.NEXT_PUBLIC_ZENDESK_FIELD_ID_ENVIRONMENT,""),VERSION:I(i.default.env.NEXT_PUBLIC_ZENDESK_FIELD_ID_VERSION,p.NEXT_PUBLIC_ZENDESK_FIELD_ID_VERSION,""),EMAIL:I(i.default.env.NEXT_PUBLIC_ZENDESK_FIELD_ID_EMAIL,p.NEXT_PUBLIC_ZENDESK_FIELD_ID_EMAIL,""),WORKSPACE_ID:I(i.default.env.NEXT_PUBLIC_ZENDESK_FIELD_ID_WORKSPACE_ID,p.NEXT_PUBLIC_ZENDESK_FIELD_ID_WORKSPACE_ID,""),PLAN:I(i.default.env.NEXT_PUBLIC_ZENDESK_FIELD_ID_PLAN,p.NEXT_PUBLIC_ZENDESK_FIELD_ID_PLAN,"")},Y=d.default.version,q=globalThis.document?.body?.getAttribute("data-is-marketplace")==="true";e.s(["ACCESS_TOKEN_LOCAL_STORAGE_NAME",0,"access_token","ALLOW_UNSAFE_DATA_SCHEME",0,X,"AMPLITUDE_API_KEY",0,P,"ANNOTATION_DEFAULT",0,{score_threshold:.9},"API_PREFIX",0,f,"APP_PAGE_LIMIT",0,10,"APP_VERSION",0,Y,"BATCH_CONCURRENCY",0,O,"CSRF_COOKIE_NAME",0,()=>h?"csrf_token":f.startsWith("https://")?"__Host-csrf_token":"csrf_token","CSRF_HEADER_NAME",0,"X-CSRF-Token","DATASET_DEFAULT",0,{top_k:4,score_threshold:.8},"DEFAULT_AGENT_PROMPT",0,S,"DEFAULT_AGENT_SETTING",0,C,"DEFAULT_CHAT_PROMPT_CONFIG",0,g,"DEFAULT_COMPLETION_PROMPT_CONFIG",0,{prompt:{text:""},conversation_histories_role:{user_prefix:"",assistant_prefix:""}},"DISABLE_UPLOAD_IMAGE_AS_ICON",0,x,"ENABLE_SINGLE_DOLLAR_LATEX",0,H,"ENABLE_WEBSITE_FIRECRAWL",0,V,"ENABLE_WEBSITE_JINAREADER",0,K,"ENABLE_WEBSITE_WATERCRAWL",0,W,"FULL_DOC_PREVIEW_LENGTH",0,50,"GITHUB_ACCESS_TOKEN",0,"","IS_CE_EDITION",0,"SELF_HOSTED"===b,"IS_CLOUD_EDITION",0,"CLOUD"===b,"IS_DEV",0,!1,"IS_MARKETPLACE",0,q,"IS_PROD",0,!0,"JSON_SCHEMA_MAX_DEPTH",0,10,"LOCALE_COOKIE_NAME",0,"locale","LOOP_NODE_MAX_COUNT",0,B,"MARKETPLACE_API_PREFIX",0,N,"MARKETPLACE_URL_PREFIX",0,m,"MAX_ITERATIONS_NUM",0,k,"MAX_PARALLEL_LIMIT",0,U,"MAX_PROMPT_MESSAGE_LENGTH",0,10,"MAX_TOOLS_NUM",0,M,"MAX_TREE_DEPTH",0,F,"MAX_VAR_KEY_LENGTH",0,30,"NEED_REFRESH_APP_LIST_KEY",0,"needRefreshAppList","PARTNER_STACK_CONFIG",0,{cookieName:"partner_stack_info",saveCookieDays:90},"PASSPORT_HEADER_NAME",0,"X-App-Passport","PASSPORT_LOCAL_STORAGE_NAME",0,e=>`passport-${e}`,"PROVIDER_WITH_PRESET_TONE",0,["langgenius/openai/openai","langgenius/azure_openai/azure_openai"],"PUBLIC_API_PREFIX",0,L,"RAG_PIPELINE_PREVIEW_CHUNK_NUM",0,20,"STOP_PARAMETER_RULE",0,{default:[],help:{en_US:"Up to four sequences where the API will stop generating further tokens. The returned text will not contain the stop sequence.",zh_Hans:"最多四个序列，API 将停止生成更多的 token。返回的文本将不包含停止序列。"},label:{en_US:"Stop sequences",zh_Hans:"停止序列"},name:"stop",required:!1,type:"tag",tagPlaceholder:{en_US:"Enter sequence and press Tab",zh_Hans:"输入序列并按 Tab 键"}},"SUPPORT_INSTALL_LOCAL_FILE_EXTENSIONS",0,".difypkg,.difybndl","TEXT_GENERATION_TIMEOUT_MS",0,w,"TONE_LIST",0,[{id:1,name:"Creative",config:{temperature:.8,top_p:.9,presence_penalty:.1,frequency_penalty:.1}},{id:2,name:"Balanced",config:{temperature:.5,top_p:.85,presence_penalty:.2,frequency_penalty:.3}},{id:3,name:"Precise",config:{temperature:.2,top_p:.75,presence_penalty:.5,frequency_penalty:.5}},{id:4,name:"Custom",config:void 0}],"VALUE_SELECTOR_DELIMITER",0,"@@@","VAR_ITEM_TEMPLATE",0,{key:"",name:"",type:"string",required:!0},"VAR_ITEM_TEMPLATE_IN_PIPELINE",0,D,"VAR_ITEM_TEMPLATE_IN_WORKFLOW",0,R,"VAR_REGEX",0,v,"WEB_APP_SHARE_CODE_HEADER_NAME",0,"X-App-Code","ZENDESK_FIELD_IDS",0,G,"ZENDESK_WIDGET_KEY",0,j,"appDefaultIconBackground",0,"#D5F5F6","emailRegex",0,/^[\w.!#$%&'*+\-/=?^{|}~]+@([\w-]+\.)+[\w-]{2,}$/m,"getMaxVarNameLength",0,e=>y.test(e)?8:30,"resetReg",0,()=>v.lastIndex=0,"validPassword",0,/^(?=.*[a-z])(?=.*\d)\S{8,}$/i],925521)},168014,471981,e=>{"use strict";e.i(604193);var t=e.i(390622);let a="{{#context#}}",n="{{#histories#}}",r="{{#query#}}",i="{{#pre_prompt#}}",o={[t.SupportUploadFileTypes.image]:["JPG","JPEG","PNG","GIF","WEBP","SVG"],[t.SupportUploadFileTypes.document]:["TXT","MD","MDX","MARKDOWN","PDF","HTML","XLSX","XLS","DOC","DOCX","CSV","EML","MSG","PPTX","PPT","XML","EPUB"],[t.SupportUploadFileTypes.audio]:["MP3","M4A","WAV","AMR","MPGA"],[t.SupportUploadFileTypes.video]:["MP4","MOV","MPEG","WEBM"]};e.s(["CONTEXT_PLACEHOLDER_TEXT",0,a,"CURRENT_PLACEHOLDER_TEXT",0,"{{#current#}}","ERROR_MESSAGE_PLACEHOLDER_TEXT",0,"{{#error_message#}}","FILE_EXTS",0,o,"HISTORY_PLACEHOLDER_TEXT",0,n,"LAST_RUN_PLACEHOLDER_TEXT",0,"{{#last_run#}}","PRE_PROMPT_PLACEHOLDER_TEXT",0,i,"QUERY_PLACEHOLDER_TEXT",0,r,"UPDATE_DATASETS_EVENT_EMITTER",0,"prompt-editor-context-block-update-datasets","UPDATE_HISTORY_EVENT_EMITTER",0,"prompt-editor-history-block-update-role","checkHasContextBlock",0,e=>!!e&&e.includes(a),"checkHasHistoryBlock",0,e=>!!e&&e.includes(n),"checkHasQueryBlock",0,e=>!!e&&e.includes(r),"getInputVars",0,e=>{if(!e||"string"!=typeof e)return[];let t=e.match(/\{\{#([^#]*)#\}\}/g);return t&&t?.length>0?t.filter(e=>e.includes(".")).map(e=>{let t=e.replace("{{#","").replace("#}}","").split(".");return"sys"===t[1]&&/^\d+$/.test(t[0])?t.slice(1):t}):[]}],471981);var l=e.i(925521);let s=/^\w+$/,_=/\{\{([a-z_]\w*)\}\}/gi;function u(e,t){let a=new URLSearchParams({source:encodeURIComponent(window.location.origin)});return t&&Object.keys(t).forEach(e=>{let n=t[e];null!=n&&a.append(e,n)}),`${l.MARKETPLACE_URL_PREFIX}${e}?${a.toString()}`}e.s(["basePath",0,"","checkKeys",0,(e,t)=>{let a=!0,n="",r="";return e.forEach(e=>{var i,o;if(!a)return;let _=(i=e,o=t,0!==i.length||o?!!o&&""===i||(i.length>l.MAX_VAR_KEY_LENGTH?"tooLong":s.test(i)?!/\d/.test(i[0])||"notStartWithNumber":"notValid"):"canNoBeEmpty");!0!==_&&(a=!1,n=e,r=_)}),{isValid:a,errorKey:n,errorMessageKey:r}},"getMarketplaceUrl",()=>u,"getNewVar",0,(e,t)=>{let{...a}=l.VAR_ITEM_TEMPLATE;return"string"!==t?{...a,type:t||"string",key:e,name:e.slice(0,(0,l.getMaxVarNameLength)(e))}:{...l.VAR_ITEM_TEMPLATE,type:t||"string",key:e,name:e.slice(0,(0,l.getMaxVarNameLength)(e))}},"getNewVarInWorkflow",0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.InputVarType.textInput,{...n}=l.VAR_ITEM_TEMPLATE_IN_WORKFLOW;return a!==t.InputVarType.textInput?{...n,type:a,variable:e,label:e.slice(0,(0,l.getMaxVarNameLength)(e))}:{...l.VAR_ITEM_TEMPLATE_IN_WORKFLOW,type:a,variable:e,label:e.slice(0,(0,l.getMaxVarNameLength)(e)),placeholder:"",default:"",hint:""}},"getVars",0,e=>{if(!e)return[];let t=e.match(_)?.filter(e=>![a,n,r,i].includes(e)).map(e=>e.replace("{{","").replace("}}","")).filter(e=>e.length<=l.MAX_VAR_KEY_LENGTH)||[],o={},s=[];return t.forEach(e=>{o[e]||(o[e]=!0,s.push(e))}),s},"hasDuplicateStr",0,e=>{let t={};return e.forEach(e=>{t[e]?t[e]+=1:t[e]=1}),!!Object.keys(t).find(e=>t[e]>1)},"replaceSpaceWithUnderscoreInVarNameInput",0,e=>{let t=e.selectionStart,a=e.selectionEnd;e.value=e.value.replaceAll(" ","_"),null!==t&&null!==a&&e.setSelectionRange(t,a)}],168014)}]);