(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,203836,e=>{"use strict";var s=e.i(772870);e.s(["sendGAEvent",0,(e,a)=>{s.isServer||"function"!=typeof window.gtag||window.gtag("event",e,a)}])},524324,e=>{"use strict";var s=e.i(563199),a=e.i(464143),t=e.i(326531),r=e.i(268255);e.i(152567);var l=e.i(408767);e.i(201987);var i=e.i(207331),n=e.i(151094),c=e.i(291631),o=e.i(137667),d=e.i(925521),m=e.i(652669),u=e.i(935139),h=e.i(203836);e.s(["default",0,()=>{let{t:e}=(0,l.useTranslation)(),p=(0,t.useRouter)(),x=decodeURIComponent((0,t.useSearchParams)().get("token")||""),[f,v]=(0,r.useState)(""),[w,g]=(0,r.useState)(""),{mutateAsync:j,isPending:y}=(0,m.useMailRegister)(),b=(0,r.useCallback)(e=>{o.default.notify({type:"error",message:e})},[]),P=(0,r.useCallback)(()=>f.trim()?d.validPassword.test(f)?f===w||(b(e("account.notEqual",{ns:"common"})),!1):(b(e("error.passwordInvalid",{ns:"login"})),!1):(b(e("error.passwordEmpty",{ns:"login"})),!1),[f,w,b,e]),_=(0,r.useCallback)(async()=>{if(P())try{let{result:s}=await j({token:x,new_password:f,password_confirm:w});if("success"===s){let s=(()=>{let e=a.default.get("utm_info");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse utm_info cookie:",e),null}})();(0,i.trackEvent)(s?"user_registration_success_with_utm":"user_registration_success",{method:"email",...s}),(0,h.sendGAEvent)(s?"user_registration_success_with_utm":"user_registration_success",{method:"email",...s}),a.default.remove("utm_info"),o.default.notify({type:"success",message:e("api.actionSuccess",{ns:"common"})}),p.replace("/apps")}}catch(e){console.error(e)}},[f,x,P,w,j]);return(0,s.jsx)("div",{className:(0,u.cn)("flex w-full grow flex-col items-center justify-center","px-6","md:px-[108px]"),children:(0,s.jsxs)("div",{className:"flex flex-col md:w-[400px]",children:[(0,s.jsxs)("div",{className:"mx-auto w-full",children:[(0,s.jsx)("h2",{className:"title-4xl-semi-bold text-text-primary",children:e("changePassword",{ns:"login"})}),(0,s.jsx)("p",{className:"body-md-regular mt-2 text-text-secondary",children:e("changePasswordTip",{ns:"login"})})]}),(0,s.jsx)("div",{className:"mx-auto mt-6 w-full",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("label",{htmlFor:"password",className:"system-md-semibold my-2 text-text-secondary",children:e("account.newPassword",{ns:"common"})}),(0,s.jsx)("div",{className:"relative mt-1",children:(0,s.jsx)(c.default,{id:"password",type:"password",value:f,onChange:e=>v(e.target.value),placeholder:e("passwordPlaceholder",{ns:"login"})||""})}),(0,s.jsx)("div",{className:"body-xs-regular mt-1 text-text-secondary",children:e("error.passwordInvalid",{ns:"login"})})]}),(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"system-md-semibold my-2 text-text-secondary",children:e("account.confirmPassword",{ns:"common"})}),(0,s.jsx)("div",{className:"relative mt-1",children:(0,s.jsx)(c.default,{id:"confirmPassword",type:"password",value:w,onChange:e=>g(e.target.value),placeholder:e("confirmPasswordPlaceholder",{ns:"login"})||""})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(n.default,{variant:"primary",className:"w-full",onClick:_,disabled:y||!f||!w,children:e("changePasswordBtn",{ns:"login"})})})]})})]})})}])},18737,e=>{e.v(s=>Promise.all(["static/chunks/5e394c64346b3681.js"].map(s=>e.l(s))).then(()=>s(962027)))},60138,e=>{e.v(s=>Promise.all(["static/chunks/447451dd504d2e43.js"].map(s=>e.l(s))).then(()=>s(806252)))},351403,e=>{e.v(s=>Promise.all(["static/chunks/fe48464e6b2803bf.js","static/chunks/05a6965c4aafb290.js"].map(s=>e.l(s))).then(()=>s(232892)))},197107,e=>{e.v(s=>Promise.all(["static/chunks/fe48464e6b2803bf.js","static/chunks/65e8185734a2eba6.js"].map(s=>e.l(s))).then(()=>s(795773)))},755159,e=>{e.v(s=>Promise.all(["static/chunks/3cce6a2da71b600f.js"].map(s=>e.l(s))).then(()=>s(471297)))}]);