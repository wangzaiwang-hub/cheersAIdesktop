(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,267001,e=>{"use strict";var a,r=((a={}).Number="number",a.String="string",a.Boolean="boolean",a.Object="object",a.ArrayString="array[string]",a.ArrayNumber="array[number]",a.ArrayBoolean="array[boolean]",a.ArrayObject="array[object]",a);e.s(["ChatVarType",()=>r])},134736,e=>{"use strict";var a=e.i(563199),r=e.i(837699),t=e.i(268255);e.i(152567);var s=e.i(408767),l=e.i(192447),o=e.i(654313);e.i(42241);var n=e.i(226577),i=e.i(484655),i=i,c=e.i(3371),c=c,d=e.i(120219),m=e.i(604208),p=e.i(370869),u=e.i(963855),h=e.i(403861),x=e.i(935139);let b=(0,t.memo)(e=>{let{item:s,onEdit:l,onDelete:o}=e,[i,c]=(0,t.useState)(!1);return(0,a.jsxs)("div",{className:(0,x.cn)("radius-md mb-1 border border-components-panel-border-subtle bg-components-panel-on-panel-item-bg px-2.5 py-2 shadow-xs hover:bg-components-panel-on-panel-item-bg-hover",i&&"border-state-destructive-border hover:bg-state-destructive-hover"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex grow items-center gap-1",children:[(0,a.jsx)(n.BubbleX,{className:"h-4 w-4 text-util-colors-teal-teal-700"}),(0,a.jsx)("div",{className:"system-sm-medium text-text-primary",children:s.name}),(0,a.jsx)("div",{className:"system-xs-medium text-text-tertiary",children:(0,h.capitalize)(s.value_type)})]}),(0,a.jsxs)("div",{className:"flex shrink-0 items-center gap-1 text-text-tertiary",children:[(0,a.jsx)("div",{className:"radius-md cursor-pointer p-1 hover:bg-state-base-hover hover:text-text-secondary",children:(0,a.jsx)(r.RiEditLine,{className:"h-4 w-4",onClick:()=>l(s)})}),(0,a.jsx)("div",{className:"radius-md cursor-pointer p-1 hover:bg-state-destructive-hover hover:text-text-destructive",onMouseOver:()=>c(!0),onMouseOut:()=>c(!1),children:(0,a.jsx)(r.RiDeleteBinLine,{className:"h-4 w-4",onClick:()=>o(s)})})]})]}),(0,a.jsx)("div",{className:"system-xs-regular truncate text-text-tertiary",children:s.description})]})});var y=e.i(151094),v=e.i(391185),g=e.i(339548),j=e.i(503144),f=e.i(291631),N=e.i(137667),w=e.i(481162),C=e.i(955371),k=e.i(105845),V=e.i(249385);let T=t.memo(e=>{let{isString:l=!0,list:o,onChange:n}=e,{t:i}=(0,s.useTranslation)(),c=(0,t.useCallback)(e=>a=>{n((0,k.produce)(o,r=>{r[e]=l?a.target.value:Number(a.target.value)}))},[l,o,n]),d=(0,t.useCallback)(e=>()=>{n((0,k.produce)(o,a=>{a.splice(e,1)}))},[o,n]),m=(0,t.useCallback)(()=>{n((0,k.produce)(o,e=>{e.push(void 0)}))},[o,n]);return(0,a.jsxs)("div",{className:"w-full space-y-2",children:[o.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(f.default,{placeholder:i("chatVariable.modal.arrayValue",{ns:"workflow"})||"",value:o[r],onChange:c(r),type:l?"text":"number"}),(0,a.jsx)(V.default,{className:"!bg-gray-100 !p-2 hover:!bg-gray-200",onClick:d(r)})]},r)),(0,a.jsxs)(y.default,{variant:"tertiary",className:"w-full",onClick:m,children:[(0,a.jsx)(r.RiAddLine,{className:"mr-1 h-4 w-4"}),(0,a.jsx)("span",{children:i("chatVariable.modal.addArrayValue",{ns:"workflow"})})]})]})}),S=e=>{let{inCell:s=!1,value:l,list:o,onSelect:n,popupClassName:i}=e,[c,d]=(0,t.useState)(!1);return(0,a.jsxs)(v.PortalToFollowElem,{open:c,onOpenChange:()=>d(e=>!e),placement:"bottom",children:[(0,a.jsx)(v.PortalToFollowElemTrigger,{className:"w-full",onClick:()=>d(e=>!e),children:(0,a.jsxs)("div",{className:(0,x.cn)("flex w-full cursor-pointer items-center px-2",!s&&"radius-md bg-components-input-bg-normal py-1 hover:bg-state-base-hover-alt",s&&"py-0.5 hover:bg-state-base-hover",c&&!s&&"bg-state-base-hover-alt hover:bg-state-base-hover-alt",c&&s&&"bg-state-base-hover hover:bg-state-base-hover"),children:[(0,a.jsx)("div",{className:(0,x.cn)("system-sm-regular grow truncate p-1 text-components-input-text-filled",s&&"system-xs-regular text-text-secondary"),children:l}),(0,a.jsx)(r.RiArrowDownSLine,{className:"ml-0.5 h-4 w-4 text-text-quaternary"})]})}),(0,a.jsx)(v.PortalToFollowElemContent,{className:(0,x.cn)("z-[11] w-full",i),children:(0,a.jsx)("div",{className:"radius-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg",children:o.map(e=>(0,a.jsxs)("div",{className:"radius-md flex cursor-pointer items-center gap-2 py-[6px] pl-3 pr-2 hover:bg-state-base-hover",onClick:()=>{n(e),d(!1)},children:[(0,a.jsx)("div",{className:"system-md-regular grow truncate text-text-secondary",children:e}),l===e&&(0,a.jsx)(r.RiCheckLine,{className:"h-4 w-4 text-text-accent"})]},e))})})]})};var A=e.i(267001);let O=[A.ChatVarType.String,A.ChatVarType.Number],B={key:"",type:A.ChatVarType.String,value:void 0},P=t.memo(e=>{let{index:r,list:l,onChange:o}=e,{t:n}=(0,s.useTranslation)(),{notify:i}=(0,g.useContext)(N.ToastContext),[c,d]=(0,t.useState)(!1),m=(0,t.useCallback)(e=>a=>{o((0,k.produce)(l,r=>{if(!/^\w+$/.test(a.target.value))return i({type:"error",message:"key is can only contain letters, numbers and underscores"});r[e].key=a.target.value}))},[l,i,o]),p=(0,t.useCallback)(e=>a=>{o((0,k.produce)(l,r=>{r[e].type=a,a===A.ChatVarType.Number?r[e].value=isNaN(Number(r[e].value))?void 0:Number(r[e].value):r[e].value=r[e].value?String(r[e].value):void 0}))},[l,o]),u=(0,t.useCallback)(e=>a=>{o((0,k.produce)(l,r=>{r[e].value=r[e].type===A.ChatVarType.String?a.target.value:isNaN(Number(a.target.value))?void 0:Number(a.target.value)}))},[l,o]),h=(0,t.useCallback)(e=>()=>{o((0,k.produce)(l,a=>{a.splice(e,1)}))},[l,o]),x=(0,t.useCallback)(()=>{o((0,k.produce)(l,e=>{e.push(B)}))},[l,o]),b=(0,t.useCallback)(()=>{d(!0),r===l.length-1&&x()},[x,r,l.length]);return(0,a.jsxs)("div",{className:"group flex border-t border-gray-200",children:[(0,a.jsx)("div",{className:"w-[120px] border-r border-gray-200",children:(0,a.jsx)("input",{className:"system-xs-regular placeholder:system-xs-regular block h-7 w-full appearance-none px-2 text-text-secondary caret-primary-600 outline-none placeholder:text-components-input-text-placeholder  hover:bg-state-base-hover focus:bg-components-input-bg-active",placeholder:n("chatVariable.modal.objectKey",{ns:"workflow"})||"",value:l[r].key,onChange:m(r)})}),(0,a.jsx)("div",{className:"w-[96px] border-r border-gray-200",children:(0,a.jsx)(S,{inCell:!0,value:l[r].type,list:O,onSelect:p(r),popupClassName:"w-[120px]"})}),(0,a.jsxs)("div",{className:"relative w-[230px]",children:[(0,a.jsx)("input",{className:"system-xs-regular placeholder:system-xs-regular block h-7 w-full appearance-none px-2 text-text-secondary caret-primary-600 outline-none placeholder:text-components-input-text-placeholder  hover:bg-state-base-hover focus:bg-components-input-bg-active",placeholder:n("chatVariable.modal.objectValue",{ns:"workflow"})||"",value:l[r].value,onChange:u(r),onFocus:()=>b(),onBlur:()=>d(!1),type:l[r].type===A.ChatVarType.Number?"number":"text"}),l.length>1&&!c&&(0,a.jsx)(V.default,{className:"absolute right-1 top-0.5 z-10 hidden group-hover:block",onClick:h(r)})]})]})}),R=t.memo(e=>{let{list:r,onChange:t}=e,{t:l}=(0,s.useTranslation)();return(0,a.jsxs)("div",{className:"w-full overflow-hidden rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"system-xs-medium flex h-7 items-center uppercase text-text-tertiary",children:[(0,a.jsx)("div",{className:"flex h-full w-[120px] items-center border-r border-gray-200 pl-2",children:l("chatVariable.modal.objectKey",{ns:"workflow"})}),(0,a.jsx)("div",{className:"flex h-full w-[96px] items-center border-r border-gray-200 pl-2",children:l("chatVariable.modal.objectType",{ns:"workflow"})}),(0,a.jsx)("div",{className:"flex h-full w-[230px] items-center pl-2 pr-1",children:l("chatVariable.modal.objectValue",{ns:"workflow"})})]}),r.map((e,s)=>(0,a.jsx)(P,{index:s,list:r,onChange:t},s))]})});var E=e.i(269345);e.i(275225);var L=e.i(705405),F=e.i(168014),z=e.i(992046),D=e.i(220017);let I=[A.ChatVarType.String,A.ChatVarType.Number,A.ChatVarType.Boolean,A.ChatVarType.Object,A.ChatVarType.ArrayString,A.ChatVarType.ArrayNumber,A.ChatVarType.ArrayBoolean,A.ChatVarType.ArrayObject],J=e=>{let{chatVar:l,onClose:o,onSave:n}=e,{t:i}=(0,s.useTranslation)(),{notify:c}=(0,g.useContext)(N.ToastContext),d=(0,L.useWorkflowStore)(),[m,p]=t.useState(""),[u,h]=t.useState(A.ChatVarType.String),[b,v]=t.useState(),[k,V]=t.useState([B]),[O,P]=t.useState(),[J,K]=t.useState(!1),[M,_]=t.useState(""),U=(0,t.useMemo)(()=>u===A.ChatVarType.ArrayObject?"240px":"120px",[u]),W=(0,t.useMemo)(()=>u===A.ChatVarType.ArrayString?E.arrayStringPlaceholder:u===A.ChatVarType.ArrayNumber?E.arrayNumberPlaceholder:u===A.ChatVarType.ArrayObject?E.arrayObjectPlaceholder:u===A.ChatVarType.ArrayBoolean?E.arrayBoolPlaceholder:E.objectPlaceholder,[u]),q=(0,t.useCallback)(()=>l&&0!==Object.keys(l.value).length?Object.keys(l.value).map(e=>({key:e,type:"string"==typeof l.value[e]?A.ChatVarType.String:A.ChatVarType.Number,value:l.value[e]})):[B],[l]),X=(0,t.useCallback)(e=>e.reduce((e,a)=>(a.key&&(e[a.key]=a.value||null),e),{}),[]),$=e=>{let{isValid:a,errorMessageKey:r}=(0,F.checkKeys)([e],!1);return!!a||(c({type:"error",message:i(`varKeyError.${r}`,{ns:"appDebug",key:i("env.modal.name",{ns:"workflow"})})}),!1)},G=e=>{if(u===A.ChatVarType.Object)if(e){let e=k[0].key?X(k):void 0;v(e),P(JSON.stringify(e))}else if(O)try{let e=JSON.parse(O);v(e);let a=Object.keys(e).map(a=>({key:a,type:"string"==typeof e[a]?A.ChatVarType.String:A.ChatVarType.Number,value:e[a]}));V(a)}catch{}else v(void 0),V([B]);if(u===A.ChatVarType.ArrayString||u===A.ChatVarType.ArrayNumber)if(e){let e=b?.length&&b.filter(Boolean).length?b.filter(Boolean):void 0;v(e),O||P(JSON.stringify(e))}else v(b?.length?b:[void 0]);u===A.ChatVarType.ArrayBoolean&&e&&P(JSON.stringify(b.map(e=>e?"True":"False"))),K(e)};return(0,t.useEffect)(()=>{l&&(p(l.name),h(l.value_type),v(l.value),_(l.description),V(q()),l.value_type===A.ChatVarType.ArrayObject?(P(JSON.stringify(l.value)),K(!0)):K(!1))},[l,q]),(0,a.jsxs)("div",{className:(0,x.cn)("flex h-full w-[360px] flex-col rounded-2xl border-[0.5px] border-components-panel-border bg-components-panel-bg shadow-2xl",u===A.ChatVarType.Object&&"w-[480px]"),children:[(0,a.jsxs)("div",{className:"system-xl-semibold mb-3 flex shrink-0 items-center justify-between p-4 pb-0 text-text-primary",children:[l?i("chatVariable.modal.editTitle",{ns:"workflow"}):i("chatVariable.modal.title",{ns:"workflow"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"flex h-6 w-6 cursor-pointer items-center justify-center",onClick:o,children:(0,a.jsx)(r.RiCloseLine,{className:"h-4 w-4 text-text-tertiary"})})})]}),(0,a.jsxs)("div",{className:"max-h-[480px] overflow-y-auto px-4 py-2",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"system-sm-semibold mb-1 flex h-6 items-center text-text-secondary",children:i("chatVariable.modal.name",{ns:"workflow"})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(f.default,{placeholder:i("chatVariable.modal.namePlaceholder",{ns:"workflow"})||"",value:m,onChange:e=>{(0,F.replaceSpaceWithUnderscoreInVarNameInput)(e.target),(!e.target.value||$(e.target.value))&&p(e.target.value||"")},onBlur:e=>$(e.target.value),type:"text"})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"system-sm-semibold mb-1 flex h-6 items-center text-text-secondary",children:i("chatVariable.modal.type",{ns:"workflow"})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(S,{value:u,list:I,onSelect:e=>{v(void 0),P(void 0),e===A.ChatVarType.ArrayObject&&K(!0),(e===A.ChatVarType.String||e===A.ChatVarType.Number||e===A.ChatVarType.Object)&&K(!1),e===A.ChatVarType.Boolean&&v(!1),e===A.ChatVarType.ArrayBoolean&&v([!1]),h(e)},popupClassName:"w-[327px]"})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"system-sm-semibold mb-1 flex h-6 items-center justify-between text-text-secondary",children:[(0,a.jsx)("div",{children:i("chatVariable.modal.value",{ns:"workflow"})}),(u===A.ChatVarType.ArrayString||u===A.ChatVarType.ArrayNumber||u===A.ChatVarType.ArrayBoolean)&&(0,a.jsxs)(y.default,{variant:"ghost",size:"small",className:"text-text-tertiary",onClick:()=>G(!J),children:[J?(0,a.jsx)(r.RiInputField,{className:"mr-1 h-3.5 w-3.5"}):(0,a.jsx)(r.RiDraftLine,{className:"mr-1 h-3.5 w-3.5"}),J?i("chatVariable.modal.oneByOne",{ns:"workflow"}):i("chatVariable.modal.editInJSON",{ns:"workflow"})]}),u===A.ChatVarType.Object&&(0,a.jsxs)(y.default,{variant:"ghost",size:"small",className:"text-text-tertiary",onClick:()=>G(!J),children:[J?(0,a.jsx)(r.RiInputField,{className:"mr-1 h-3.5 w-3.5"}):(0,a.jsx)(r.RiDraftLine,{className:"mr-1 h-3.5 w-3.5"}),J?i("chatVariable.modal.editInForm",{ns:"workflow"}):i("chatVariable.modal.editInJSON",{ns:"workflow"})]})]}),(0,a.jsxs)("div",{className:"flex",children:[u===A.ChatVarType.String&&(0,a.jsx)("textarea",{className:"system-sm-regular placeholder:system-sm-regular block h-20 w-full resize-none appearance-none rounded-lg border border-transparent bg-components-input-bg-normal p-2 text-components-input-text-filled caret-primary-600 outline-none placeholder:text-components-input-text-placeholder hover:border-components-input-border-hover hover:bg-components-input-bg-hover focus:border-components-input-border-active focus:bg-components-input-bg-active focus:shadow-xs",value:b,placeholder:i("chatVariable.modal.valuePlaceholder",{ns:"workflow"})||"",onChange:e=>v(e.target.value)}),u===A.ChatVarType.Number&&(0,a.jsx)(f.default,{placeholder:i("chatVariable.modal.valuePlaceholder",{ns:"workflow"})||"",value:b,onChange:e=>v(Number(e.target.value)),type:"number"}),u===A.ChatVarType.Boolean&&(0,a.jsx)(D.default,{value:b,onChange:v}),u===A.ChatVarType.Object&&!J&&(0,a.jsx)(R,{list:k,onChange:V}),u===A.ChatVarType.ArrayString&&!J&&(0,a.jsx)(T,{isString:!0,list:b||[void 0],onChange:v}),u===A.ChatVarType.ArrayNumber&&!J&&(0,a.jsx)(T,{isString:!1,list:b||[void 0],onChange:v}),u===A.ChatVarType.ArrayBoolean&&!J&&(0,a.jsx)(z.default,{list:b||[!0],onChange:v}),J&&(0,a.jsx)("div",{className:"w-full rounded-[10px] bg-components-input-bg-normal py-2 pl-3 pr-1",style:{height:U},children:(0,a.jsx)(w.default,{isExpand:!0,noWrapper:!0,language:C.CodeLanguage.json,value:O,placeholder:(0,a.jsx)("div",{className:"whitespace-pre",children:W}),onChange:e=>{if(!e)return P(e),v(void 0);P(e);try{let a=JSON.parse(e);u===A.ChatVarType.ArrayBoolean&&(a=a.map(e=>"True"===e||"true"===e||!0===e||"False"!==e&&"false"!==e&&!1!==e&&void 0).filter(e=>void 0!==e)),v(a)}catch{}}})})]})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"system-sm-semibold mb-1 flex h-6 items-center text-text-secondary",children:i("chatVariable.modal.description",{ns:"workflow"})}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("textarea",{className:"system-sm-regular placeholder:system-sm-regular block h-20 w-full resize-none appearance-none rounded-lg border border-transparent bg-components-input-bg-normal p-2 text-components-input-text-filled caret-primary-600 outline-none placeholder:text-components-input-text-placeholder hover:border-components-input-border-hover hover:bg-components-input-bg-hover focus:border-components-input-border-active focus:bg-components-input-bg-active focus:shadow-xs",value:M,placeholder:i("chatVariable.modal.descriptionPlaceholder",{ns:"workflow"})||"",onChange:e=>_(e.target.value)})})]})]}),(0,a.jsx)("div",{className:"flex flex-row-reverse rounded-b-2xl p-4 pt-2",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y.default,{onClick:o,children:i("operation.cancel",{ns:"common"})}),(0,a.jsx)(y.default,{variant:"primary",onClick:()=>{if(!$(m))return;let e=d.getState().conversationVariables;return!l&&e.some(e=>e.name===m)?c({type:"error",message:"name is existed"}):u===A.ChatVarType.Object&&k.some(e=>!e.key&&!!e.value)?c({type:"error",message:"object key can not be empty"}):void(n({id:l?l.id:(0,j.v4)(),name:m,value_type:u,value:(e=>{switch(u){case A.ChatVarType.String:return e||"";case A.ChatVarType.Number:return e||0;case A.ChatVarType.Boolean:return void 0===e||e;case A.ChatVarType.Object:return J?e:X(k);case A.ChatVarType.ArrayString:case A.ChatVarType.ArrayNumber:case A.ChatVarType.ArrayObject:return e?.filter(Boolean)||[];case A.ChatVarType.ArrayBoolean:return e||[]}})(b),description:M}),o())},children:i("operation.save",{ns:"common"})})]})})]})},K=e=>{let{open:t,setOpen:l,showTip:o,chatVar:n,onClose:i,onSave:c}=e,{t:d}=(0,s.useTranslation)();return(0,a.jsxs)(v.PortalToFollowElem,{open:t,onOpenChange:()=>{l(e=>!e),t&&i()},placement:"left-start",offset:{mainAxis:8,alignmentAxis:o?-278:-48},children:[(0,a.jsx)(v.PortalToFollowElemTrigger,{onClick:()=>{l(e=>!e),t&&i()},children:(0,a.jsxs)(y.default,{variant:"primary",children:[(0,a.jsx)(r.RiAddLine,{className:"mr-1 h-4 w-4"}),(0,a.jsx)("span",{className:"system-sm-medium",children:d("chatVariable.button",{ns:"workflow"})})]})}),(0,a.jsx)(v.PortalToFollowElemContent,{className:"z-[11]",children:(0,a.jsx)(J,{chatVar:n,onSave:c,onClose:()=>{i(),l(!1)}})})]})};var M=e.i(390622),_=e.i(959095);let U=(0,t.memo)(()=>{let{t:e}=(0,s.useTranslation)(),h=(0,l.useStoreApi)(),y=(0,L.useStore)(e=>e.setShowChatVariablePanel),v=(0,L.useStore)(e=>e.conversationVariables),g=(0,L.useStore)(e=>e.setConversationVariables),{doSyncWorkflowDraft:j}=(0,m.useNodesSyncDraft)(),{invalidateConversationVarValues:f}=(0,_.default)(),N=(0,t.useCallback)(()=>{j(!1,{onSuccess(){f()}})},[j,f]),[w,C]=(0,t.useState)(!0),[k,V]=(0,t.useState)(!1),[T,S]=(0,t.useState)(),[A,O]=(0,t.useState)(!1),[B,P]=(0,t.useState)(),R=(0,t.useCallback)(e=>{let{getNodes:a}=h.getState(),r=a();return(0,u.findUsedVarNodes)(["conversation",e.name],r)},[h]),E=(0,t.useCallback)(e=>{let{getNodes:a,setNodes:r}=h.getState(),t=R(e);r(a().map(a=>t.find(e=>e.id===a.id)?(0,u.updateNodeVars)(a,["conversation",e.name],[]):a))},[R,h]),F=e=>{S(e),V(!0)},z=(0,t.useCallback)(e=>{E(e),g(v.filter(a=>a.id!==e.id)),P(void 0),O(!1),N()},[N,E,g,v]),D=(0,t.useCallback)(e=>{R(e).length>0?(P(e),O(!0)):z(e)},[R,z]),I=(0,t.useCallback)(async e=>{if(!T){g([e,...v]),N();return}if(g(v.map(a=>a.id===T.id?e:a)),T.name!==e.name){let{getNodes:a,setNodes:r}=h.getState(),t=R(T);r(a().map(a=>t.find(e=>e.id===a.id)?(0,u.updateNodeVars)(a,["conversation",T.name],["conversation",e.name]):a))}N()},[T,R,N,h,g,v]);return(0,a.jsxs)("div",{className:(0,x.cn)("relative flex h-full w-[420px] flex-col rounded-l-2xl border border-components-panel-border bg-components-panel-bg-alt"),children:[(0,a.jsxs)("div",{className:"system-xl-semibold flex shrink-0 items-center justify-between p-4 pb-0 text-text-primary",children:[e("chatVariable.panelTitle",{ns:"workflow"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.default,{state:w?o.ActionButtonState.Active:void 0,onClick:()=>C(!w),children:(0,a.jsx)(r.RiBookOpenLine,{className:"h-4 w-4"})}),(0,a.jsx)("div",{className:"flex h-6 w-6 cursor-pointer items-center justify-center",onClick:()=>y(!1),children:(0,a.jsx)(r.RiCloseLine,{className:"h-4 w-4 text-text-tertiary"})})]})]}),w&&(0,a.jsx)("div",{className:"shrink-0 px-3 pb-2 pt-2.5",children:(0,a.jsxs)("div",{className:"radius-2xl relative bg-background-section-burn p-3",children:[(0,a.jsx)("div",{className:"system-2xs-medium-uppercase inline-block rounded-[5px] border border-divider-deep px-[5px] py-[3px] text-text-tertiary",children:"TIPS"}),(0,a.jsx)("div",{className:"system-sm-regular mb-4 mt-1 text-text-secondary",children:e("chatVariable.panelDescription",{ns:"workflow"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"radius-lg flex flex-col border border-workflow-block-border bg-workflow-block-bg p-3 pb-4 shadow-md",children:[(0,a.jsx)(n.BubbleX,{className:"mb-1 h-4 w-4 shrink-0 text-util-colors-teal-teal-700"}),(0,a.jsx)("div",{className:"system-xs-semibold text-text-secondary",children:"conversation_var"}),(0,a.jsx)("div",{className:"system-2xs-regular text-text-tertiary",children:"String"})]}),(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center gap-2 py-1",children:[(0,a.jsxs)("div",{className:"flex h-3 w-16 shrink-0 items-center gap-1 px-1",children:[(0,a.jsx)(i.default,{className:"h-2 grow text-text-quaternary"}),(0,a.jsx)("div",{className:"system-2xs-medium shrink-0 text-text-tertiary",children:"WRITE"})]}),(0,a.jsx)(d.default,{className:"shrink-0",type:M.BlockEnum.Assigner}),(0,a.jsx)("div",{className:"system-xs-semibold grow truncate text-text-secondary",children:e("blocks.assigner",{ns:"workflow"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,a.jsxs)("div",{className:"flex h-3 w-16 shrink-0 items-center gap-1 px-1",children:[(0,a.jsx)("div",{className:"system-2xs-medium shrink-0 text-text-tertiary",children:"READ"}),(0,a.jsx)(c.default,{className:"h-2 grow text-text-quaternary"})]}),(0,a.jsx)(d.default,{className:"shrink-0",type:M.BlockEnum.LLM}),(0,a.jsx)("div",{className:"system-xs-semibold grow truncate text-text-secondary",children:e("blocks.llm",{ns:"workflow"})})]})]})]}),(0,a.jsx)("div",{className:"absolute right-[38px] top-[-4px] z-10 h-3 w-3 rotate-45 bg-background-section-burn"})]})}),(0,a.jsx)("div",{className:"shrink-0 px-4 pb-3 pt-2",children:(0,a.jsx)(K,{open:k,setOpen:V,showTip:w,chatVar:T,onSave:I,onClose:()=>S(void 0)})}),(0,a.jsx)("div",{className:"grow overflow-y-auto rounded-b-2xl px-4",children:v.map(e=>(0,a.jsx)(b,{item:e,onEdit:F,onDelete:D},e.id))}),(0,a.jsx)(p.default,{isShow:A,onCancel:()=>O(!1),onConfirm:()=>B&&z(B)})]})});e.s(["default",0,U],134736)},567995,e=>{e.n(e.i(134736))}]);