(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,888468,e=>{"use strict";var t=e.i(596482);function i(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return(0,t.useSyncExternalStoreWithSelector)(e.subscribe,()=>e.state,()=>e.state,i,s)}function s(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[i,s]of e)if(!t.has(i)||!Object.is(s,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0}if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();let i=r(e);if(i.length!==r(t).length)return!1;for(let s=0;s<i.length;s++)if(!Object.prototype.hasOwnProperty.call(t,i[s])||!Object.is(e[i[s]],t[i[s]]))return!1;return!0}function r(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}e.s(["useStore",()=>i])},61054,14722,1186,620845,406590,37462,714203,e=>{"use strict";let t;e.s(["__derivedToStore",()=>a,"__flush",()=>h,"__storeToDerived",()=>r,"batch",()=>c],1186),e.s(["Derived",()=>s],14722);class i{constructor(e,t){this.listeners=new Set,this.subscribe=e=>{var t,i;this.listeners.add(e);let s=null==(i=null==(t=this.options)?void 0:t.onSubscribe)?void 0:i.call(t,e,this);return()=>{this.listeners.delete(e),null==s||s()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,i,s;(this.prevState=this.state,null==(t=this.options)?void 0:t.updateFn)?this.state=this.options.updateFn(this.prevState)(e):"function"==typeof e?this.state=e(this.prevState):this.state=e,null==(s=null==(i=this.options)?void 0:i.onUpdate)||s.call(i),h(this)}}class s{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{let e=this.options.deps.length,t=Array(e),i=Array(e);for(let s=0;s<e;s++){let e=this.options.deps[s];t[s]=e.prevState,i[s]=e.state}return this.lastSeenDepValues=i,{prevDepVals:t,currDepVals:i,prevVal:this.prevState??void 0}},this.recompute=()=>{var e,t;this.prevState=this.state;let i=this.getDepVals();this.state=this.options.fn(i),null==(t=(e=this.options).onUpdate)||t.call(e)},this.checkIfRecalculationNeededDeeply=()=>{for(let e of this.options.deps)e instanceof s&&e.checkIfRecalculationNeededDeeply();let e=!1,t=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==t[s]){e=!0;break}e&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{for(let e of(this.unregisterFromGraph(),this._subscriptions))e()}),this.subscribe=e=>{var t,i;this.listeners.add(e);let s=null==(i=(t=this.options).onSubscribe)?void 0:i.call(t,e,this);return()=>{this.listeners.delete(e),null==s||s()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.deps;for(let t of e)if(t instanceof s)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof i){let e=r.get(t);e||(e=new Set,r.set(t,e)),e.add(this);let i=a.get(this);i||(i=new Set,a.set(this,i)),i.add(t)}}unregisterFromGraph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.deps;for(let t of e)if(t instanceof s)this.unregisterFromGraph(t.options.deps);else if(t instanceof i){let e=r.get(t);e&&e.delete(this);let i=a.get(this);i&&i.delete(t)}}}let r=new WeakMap,a=new WeakMap,n={current:[]},o=!1,l=0,u=new Set,d=new Map;function h(e){if((l>0&&!d.has(e)&&d.set(e,e.prevState),u.add(e),!(l>0))&&!o)try{for(o=!0;u.size>0;){let e=Array.from(u);for(let t of(u.clear(),e)){let e=d.get(t)??t.prevState;t.prevState=e,function(e){let t={prevVal:e.prevState,currentVal:e.state};for(let i of e.listeners)i(t)}(t)}for(let t of e){let e=r.get(t);e&&(n.current.push(t),function e(t){for(let i of Array.from(t).sort((e,t)=>e instanceof s&&e.options.deps.includes(t)?1:t instanceof s&&t.options.deps.includes(e)?-1:0)){if(n.current.includes(i))continue;n.current.push(i),i.recompute();let t=a.get(i);if(t)for(let i of t){let t=r.get(i);t&&e(t)}}}(e))}for(let t of e){let e=r.get(t);if(e)for(let t of e)!function(e){let t={prevVal:e.prevState,currentVal:e.state};for(let i of e.listeners)i(t)}(t)}}}finally{o=!1,n.current=[],d.clear()}}function c(e){l++;try{e()}finally{if(0==--l){let e=u.values().next().value;e&&h(e)}}}function f(e,t){return"function"==typeof e?e(t):e}function m(e,t){return F(t).reduce((e,t)=>null===e?null:void 0!==e?e[t]:void 0,e)}function v(e,t,i){let s=F(t);return function e(t){if(!s.length)return f(i,t);let r=s.shift();if("string"==typeof r||"number"==typeof r&&!Array.isArray(t))return"object"==typeof t?(null===t&&(t={}),{...t,[r]:e(t[r])}):{[r]:e()};if(Array.isArray(t)&&"number"==typeof r){let i=t.slice(0,r);return[...i.length?i:Array(r),e(t[r]),...t.slice(r+1)]}return[...Array(r),e()]}(e)}function p(e,t){let i=F(t);return function e(t){if(!t)return;if(1===i.length){let e=i[0];if(Array.isArray(t)&&"number"==typeof e)return t.filter((t,i)=>i!==e);let{[e]:s,...r}=t;return r}let s=i.shift();if("string"==typeof s&&"object"==typeof t)return{...t,[s]:e(t[s])};if("number"==typeof s&&Array.isArray(t)){if(s>=t.length)return t;let i=t.slice(0,s);return[...i.length?i:Array(s),e(t[s]),...t.slice(s+1)]}throw Error("It seems we have created an infinite loop in deleteBy. ")}(e)}let g=/^(\d+)$/gm,b=/\.(\d+)(?=\.)/gm,y=/^(\d+)\./gm,S=/\.(\d+$)/gm,M=/\.{2,}/gm,V="__int__",A=`${V}$1`;function F(e){if(Array.isArray(e))return[...e];if("string"!=typeof e)throw Error("Path must be a string.");return e.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(g,A).replace(b,`.${A}.`).replace(y,`${A}.`).replace(S,`.${A}`).replace(M,".").split(".").map(e=>{if(e.startsWith(V)){let t=e.substring(V.length),i=parseInt(t,10);return String(i)===t?i:t}return e})}function E(e,t){return 0===e.length?t:0===t.length?e:t.startsWith("[")||t.startsWith(".")?e+t:`${e}.${t}`}function w(e){return!(Array.isArray(e)&&0===e.length)}function L(e,t){return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!1},runValidation:e=>e.validators.filter(Boolean).map(e=>({cause:e.cause,validate:e.fn}))})}function I(e,t){let{asyncDebounceMs:i}=t,{onBlurAsyncDebounceMs:s,onChangeAsyncDebounceMs:r,onDynamicAsyncDebounceMs:a}=t.validators||{},n=i??0;return t.validationLogic({form:t.form,validators:t.validators,event:{type:e,async:!0},runValidation:t=>t.validators.filter(Boolean).map(t=>{let i=t?.cause||e,o=n;switch(i){case"change":o=r??n;break;case"blur":o=s??n;break;case"dynamic":o=a??n;break;case"submit":o=0}return"submit"===e&&(o=0),{cause:i,validate:t.fn,debounceMs:o}})})}let T=e=>!!e&&"object"==typeof e&&"fields"in e;function O(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[i,s]of e)if(!t.has(i)||!Object.is(s,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0}let i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(let r of i)if(!s.includes(r)||!O(e[r],t[r]))return!1;return!0}let C=e=>{let{newFormValidatorError:t,isPreviousErrorFromFormValidator:i,previousErrorValue:s}=e;return t?{newErrorValue:t,newSource:"form"}:i?{newErrorValue:void 0,newSource:void 0}:s?{newErrorValue:s,newSource:"field"}:{newErrorValue:void 0,newSource:void 0}},j=e=>{let{formLevelError:t,fieldLevelError:i}=e;return i?{newErrorValue:i,newSource:"field"}:t?{newErrorValue:t,newSource:"form"}:{newErrorValue:void 0,newSource:void 0}};function k(e,t){return null==e?t:{...e,...t}}let x=256,B=[];for(;x--;)B[x]=(x+256).toString(16).substring(1);function _(){let e,i=0,s="";if(!t||x+16>256){for(t=Array(256),i=256;i--;)t[i]=256*Math.random()|0;i=0,x=0}for(;i<16;i++)e=t[x+i],6===i?s+=B[15&e|64]:8===i?s+=B[63&e|128]:s+=B[e],1&i&&i>1&&i<11&&(s+="-");return x++,s}e.s(["concatenatePaths",()=>E,"deleteBy",()=>p,"determineFieldLevelErrorSourceAndValue",()=>j,"determineFormLevelErrorSourceAndValue",()=>C,"evaluate",()=>O,"functionalUpdate",()=>f,"getAsyncValidatorArray",()=>I,"getBy",()=>m,"getSyncValidatorArray",()=>L,"isGlobalFormValidationError",()=>T,"isNonEmptyArray",()=>w,"makePathArray",()=>F,"mergeOpts",()=>k,"setBy",()=>v,"uuid",()=>_],620845);let D=e=>{if(!e.validators)return e.runValidation({validators:[],form:e.form});let t=e.event.async,i=t?void 0:{fn:e.validators.onMount,cause:"mount"},s={fn:t?e.validators.onChangeAsync:e.validators.onChange,cause:"change"},r={fn:t?e.validators.onBlurAsync:e.validators.onBlur,cause:"blur"},a={fn:t?e.validators.onSubmitAsync:e.validators.onSubmit,cause:"submit"},n=t?void 0:{fn:()=>void 0,cause:"server"};switch(e.event.type){case"mount":return e.runValidation({validators:[i],form:e.form});case"submit":return e.runValidation({validators:[s,r,a,n],form:e.form});case"server":return e.runValidation({validators:[],form:e.form});case"blur":return e.runValidation({validators:[r,n],form:e.form});case"change":return e.runValidation({validators:[s,n],form:e.form});default:throw Error(`Unknown validation event type: ${e.event.type}`)}};e.s(["defaultValidationLogic",()=>D],406590);let $=(e,t)=>{let i=function(e,t){let i=new Map;for(let s of e){let e=s.path??[],r=t,a="";for(let t=0;t<e.length;t++){let i=e[t];if(void 0===i)continue;let s="object"==typeof i?i.key:i,n=Number(s);Array.isArray(r)&&!Number.isNaN(n)?a+=`[${n}]`:a+=(t>0?".":"")+String(s),r="object"==typeof r&&null!==r?r[s]:void 0}i.set(a,(i.get(a)??[]).concat(s))}return Object.fromEntries(i)}(e,t);return{form:i,fields:i}},P={validate(e,t){let{value:i,validationSource:s}=e,r=t["~standard"].validate(i);if(r instanceof Promise)throw Error("async function passed to sync validator");if(r.issues)return"field"===s?r.issues:$(r.issues,i)},async validateAsync(e,t){let{value:i,validationSource:s}=e,r=await t["~standard"].validate(i);if(r.issues)return"field"===s?r.issues:$(r.issues,i)}},R=e=>!!e&&"~standard"in e;e.s(["isStandardSchemaValidator",()=>R,"standardSchemaValidators",()=>P],37462);let N={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function W(e){function t(e,t){return`${e}[${t}]`}function i(t,i){("up"===i?t:[...t].reverse()).forEach(t=>{var r;let a=(r=t.toString(),r.replace(/\[(\d+)\]/,(e,t)=>{let s=parseInt(t,10),r="up"===i?s+1:Math.max(0,s-1);return`[${r}]`})),n=e.getFieldMeta(a);n?e.setFieldMeta(t,n):e.setFieldMeta(t,s())})}let s=()=>N;return{handleArrayFieldMetaShift:function(r,a,n,o){let l=function(i,s,r,a){let n=[t(i,s)];if("swap"===r)n.push(t(i,a));else if("move"===r){let[e,r]=[Math.min(s,a),Math.max(s,a)];for(let s=e;s<=r;s++)n.push(t(i,s))}else{let r=e.getFieldValue(i),a=Array.isArray(r)?r.length:0;for(let e=s+1;e<a;e++)n.push(t(i,e))}return Object.keys(e.fieldInfo).filter(e=>n.some(t=>e.startsWith(t)))}(r,a,n,o);({insert:()=>{var n,o,u;return n=l,o=r,u=a,void(i(n,"down"),n.forEach(i=>{i.toString().startsWith(t(o,u))&&e.setFieldMeta(i,s())}))},remove:()=>{i(l,"up")},swap:()=>{var i,s,n,u;return void 0!==o&&(i=l,s=r,n=a,u=o,void i.forEach(i=>{if(!i.toString().startsWith(t(s,n)))return;let r=i.toString().replace(t(s,n),t(s,u)),[a,o]=[e.getFieldMeta(i),e.getFieldMeta(r)];a&&e.setFieldMeta(r,a),o&&e.setFieldMeta(i,o)}))},move:()=>{var s,n,u,d;let h;return void 0!==o&&(s=l,n=r,u=a,d=o,h=new Map(Object.keys(e.fieldInfo).filter(e=>e.startsWith(t(n,u))).map(t=>[t,e.getFieldMeta(t)])),void(i(s,u<d?"up":"down"),Object.keys(e.fieldInfo).filter(e=>e.startsWith(t(n,d))).forEach(i=>{let s=i.replace(t(n,d),t(n,u)),r=h.get(s);r&&e.setFieldMeta(i,r)})))}})[n]()}}}e.s(["defaultFieldMeta",()=>N,"metaHelper",()=>W],714203);class U{#e=!0;#t;#i;#s;#r;#a;#n;#o;#l=0;#u=5;#d=!1;#h=()=>{this.debugLog("Connected to event bus"),this.#a=!0,this.#d=!1,this.debugLog("Emitting queued events",this.#r),this.#r.forEach(e=>this.emitEventToBus(e)),this.#r=[],this.stopConnectLoop(),this.#i().removeEventListener("tanstack-connect-success",this.#h)};#c=()=>{if(this.#l<this.#u){this.#l++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#i().removeEventListener("tanstack-connect",this.#c),this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#f=()=>{this.#d||(this.#d=!0,this.#i().addEventListener("tanstack-connect-success",this.#h),this.#c())};constructor({pluginId:e,debug:t=!1,enabled:i=!0,reconnectEveryMs:s=300}){this.#t=e,this.#e=i,this.#i=this.getGlobalTarget,this.#s=t,this.debugLog(" Initializing event subscription for plugin",this.#t),this.#r=[],this.#a=!1,this.#n=null,this.#o=s}startConnectLoop(){null!==this.#n||this.#a||(this.debugLog(`Starting connect loop (every ${this.#o}ms)`),this.#n=setInterval(this.#c,this.#o))}stopConnectLoop(){this.#d=!1,null!==this.#n&&(clearInterval(this.#n),this.#n=null,this.debugLog("Stopped connect loop"))}debugLog(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];this.#s&&console.log(`ðŸŒ´ [tanstack-devtools:${this.#t}-plugin]`,...t)}getGlobalTarget(){if("u">typeof globalThis&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if("u">typeof window&&void 0!==window.addEventListener)return this.debugLog("Using window as event target"),window;let e="u">typeof EventTarget?new EventTarget:void 0;return void 0===e||void 0===e.addEventListener?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),e)}getPluginId(){return this.#t}dispatchCustomEventShim(e,t){try{let i=new Event(e,{detail:t});this.#i().dispatchEvent(i)}catch(e){this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(e,t){try{this.#i().dispatchEvent(new CustomEvent(e,{detail:t}))}catch(i){this.dispatchCustomEventShim(e,t)}}emitEventToBus(e){this.debugLog("Emitting event to client bus",e),this.dispatchCustomEvent("tanstack-dispatch-event",e)}emit(e,t){if(!this.#e)return void this.debugLog("Event bus client is disabled, not emitting event",e,t);if(!this.#a){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#r.push({type:`${this.#t}:${e}`,payload:t,pluginId:this.#t}),"u">typeof CustomEvent&&!this.#d&&(this.#f(),this.startConnectLoop());return}return this.emitEventToBus({type:`${this.#t}:${e}`,payload:t,pluginId:this.#t})}on(e,t){let i=`${this.#t}:${e}`;if(!this.#e)return this.debugLog("Event bus client is disabled, not registering event",i),()=>{};let s=e=>{this.debugLog("Received event from bus",e.detail),t(e.detail)};return this.#i().addEventListener(i,s),this.debugLog("Registered event to bus",i),()=>{this.#i().removeEventListener(i,s)}}onAll(e){if(!this.#e)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};let t=t=>{e(t.detail)};return this.#i().addEventListener("tanstack-devtools-global",t),()=>this.#i().removeEventListener("tanstack-devtools-global",t)}onAllPluginEvents(e){if(!this.#e)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};let t=t=>{let i=t.detail;this.#t&&i.pluginId!==this.#t||e(i)};return this.#i().addEventListener("tanstack-devtools-global",t),()=>this.#i().removeEventListener("tanstack-devtools-global",t)}}let G=new class extends U{constructor(){super({pluginId:"form-devtools"})}};function q(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class z{constructor(e){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{let e=this.fieldMetaDerived.mount(),t=this.store.mount(),i=()=>{e(),t(),G.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});let{onMount:s}=this.options.validators||{};return G.emit("form-state-change",{id:this._formId,state:this.store.state,options:this.options}),s&&this.validateSync("mount"),i},this.update=e=>{if(!e)return;let t=this.options;this.options=e;let i=!!e.transform?.deps?.some((e,t)=>e!==this.prevTransformArray[t]),s=e.defaultValues&&!O(e.defaultValues,t.defaultValues)&&!this.state.isTouched,r=!O(e.defaultState,t.defaultState)&&!this.state.isTouched;(s||r||i)&&c(()=>{this.baseStore.setState(()=>q(Object.assign({},this.state,r?e.defaultState:{},s?{values:e.defaultValues}:{},i?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(e,t)=>{let{fieldMeta:i}=this.state,s=this.resetFieldMeta(i);e&&!t?.keepDefaultValues&&(this.options={...this.options,defaultValues:e}),this.baseStore.setState(()=>q({...this.options.defaultState,values:e??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:s}))},this.validateAllFields=async e=>{let t=[];return c(()=>{Object.values(this.fieldInfo).forEach(i=>{if(!i.instance)return;let s=i.instance;t.push(Promise.resolve().then(()=>s.validate(e,{skipFormValidation:!0}))),i.instance.state.meta.isTouched||i.instance.setMeta(e=>({...e,isTouched:!0}))})}),(await Promise.all(t)).flat()},this.validateArrayFieldsStartingFrom=async(e,t,i)=>{let s=this.getFieldValue(e),r=Array.isArray(s)?Math.max(s.length-1,0):null,a=[`${e}[${t}]`];for(let i=t+1;i<=(r??0);i++)a.push(`${e}[${i}]`);let n=Object.keys(this.fieldInfo).filter(e=>a.some(t=>e.startsWith(t))),o=[];return c(()=>{n.forEach(e=>{o.push(Promise.resolve().then(()=>this.validateField(e,i)))})}),(await Promise.all(o)).flat()},this.validateField=(e,t)=>{let i=this.fieldInfo[e]?.instance;return i?(i.state.meta.isTouched||i.setMeta(e=>({...e,isTouched:!0})),i.validate(t)):[]},this.validateSync=e=>{let t=L(e,{...this.options,form:this,validationLogic:this.options.validationLogic||D}),i=!1,s={};return c(()=>{for(let e of t){if(!e.validate)continue;let{formError:t,fieldErrors:r}=K(this.runValidator({validate:e.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"})),a=H(e.cause);for(let e of Object.keys(this.state.fieldMeta)){if(void 0===this.baseStore.state.fieldMetaBase[e])continue;let t=this.getFieldMeta(e);if(!t)continue;let{errorMap:i,errorSourceMap:n}=t,o=r?.[e],{newErrorValue:l,newSource:u}=C({newFormValidatorError:o,isPreviousErrorFromFormValidator:n?.[a]==="form",previousErrorValue:i?.[a]});"form"===u&&(s[e]={...s[e],[a]:o}),i?.[a]!==l&&this.setFieldMeta(e,e=>({...e,errorMap:{...e.errorMap,[a]:l},errorSourceMap:{...e.errorSourceMap,[a]:u}}))}this.state.errorMap?.[a]!==t&&this.baseStore.setState(e=>({...e,errorMap:{...e.errorMap,[a]:t}})),(t||r)&&(i=!0)}let r=H("submit");this.state.errorMap?.[r]&&"submit"!==e&&!i&&this.baseStore.setState(e=>({...e,errorMap:{...e.errorMap,[r]:void 0}}));let a=H("server");this.state.errorMap?.[a]&&"server"!==e&&!i&&this.baseStore.setState(e=>({...e,errorMap:{...e.errorMap,[a]:void 0}}))}),{hasErrored:i,fieldsErrorMap:s}},this.validateAsync=async e=>{let t,i=I(e,{...this.options,form:this,validationLogic:this.options.validationLogic||D});this.state.isFormValidating||this.baseStore.setState(e=>({...e,isFormValidating:!0}));let s=[];for(let e of i){if(!e.validate)continue;let i=H(e.cause),r=this.state.validationMetaMap[i];r?.lastAbortController.abort();let a=new AbortController;this.state.validationMetaMap[i]={lastAbortController:a},s.push(new Promise(async i=>{let s;try{s=await new Promise((t,i)=>{setTimeout(async()=>{if(a.signal.aborted)return t(void 0);try{t(await this.runValidator({validate:e.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:a.signal},type:"validateAsync"}))}catch(e){i(e)}},e.debounceMs)})}catch(e){s=e}let{formError:r,fieldErrors:n}=K(s);n&&(t=t?{...t,...n}:n);let o=H(e.cause);for(let e of Object.keys(this.state.fieldMeta)){if(void 0===this.baseStore.state.fieldMetaBase[e])continue;let i=this.getFieldMeta(e);if(!i)continue;let{errorMap:s,errorSourceMap:r}=i,{newErrorValue:a,newSource:n}=C({newFormValidatorError:t?.[e],isPreviousErrorFromFormValidator:r?.[o]==="form",previousErrorValue:s?.[o]});s?.[o]!==a&&this.setFieldMeta(e,e=>({...e,errorMap:{...e.errorMap,[o]:a},errorSourceMap:{...e.errorSourceMap,[o]:n}}))}this.baseStore.setState(e=>({...e,errorMap:{...e.errorMap,[o]:r}})),i(t?{fieldErrors:t,errorMapKey:o}:void 0)}))}let r={};if(s.length){for(let e of(await Promise.all(s)))if(e?.fieldErrors){let{errorMapKey:t}=e;for(let[i,s]of Object.entries(e.fieldErrors)){let e={...r[i]||{},[t]:s};r[i]=e}}}return this.baseStore.setState(e=>({...e,isFormValidating:!1})),r},this.validate=e=>{let{hasErrored:t,fieldsErrorMap:i}=this.validateSync(e);return t&&!this.options.asyncAlways?i:this.validateAsync(e)},this.getFieldValue=e=>m(this.state.values,e),this.getFieldMeta=e=>this.state.fieldMeta[e],this.getFieldInfo=e=>this.fieldInfo[e]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(e,t)=>{this.baseStore.setState(i=>({...i,fieldMetaBase:{...i.fieldMetaBase,[e]:f(t,i.fieldMetaBase[e])}}))},this.resetFieldMeta=e=>Object.keys(e).reduce((e,t)=>(e[t]=N,e),{}),this.setFieldValue=(e,t,i)=>{let s=i?.dontUpdateMeta??!1,r=i?.dontRunListeners??!1,a=i?.dontValidate??!1;c(()=>{s||this.setFieldMeta(e,e=>({...e,isTouched:!0,isDirty:!0,errorMap:{...e?.errorMap,onMount:void 0}})),this.baseStore.setState(i=>({...i,values:v(i.values,e,t)}))}),r||this.getFieldInfo(e).instance?.triggerOnChangeListener(),a||this.validateField(e,"change")},this.deleteField=e=>{let t=[...Object.keys(this.fieldInfo).filter(t=>{let i=e.toString();return t!==i&&t.startsWith(i)}),e];this.baseStore.setState(e=>{let i={...e};return t.forEach(e=>{i.values=p(i.values,e),delete this.fieldInfo[e],delete i.fieldMetaBase[e]}),i})},this.pushFieldValue=(e,t,i)=>{this.setFieldValue(e,e=>[...Array.isArray(e)?e:[],t],i)},this.insertFieldValue=async(e,t,i,s)=>{this.setFieldValue(e,e=>[...e.slice(0,t),i,...e.slice(t)],k(s,{dontValidate:!0}));let r=s?.dontValidate??!1;r||await this.validateField(e,"change"),W(this).handleArrayFieldMetaShift(e,t,"insert"),r||await this.validateArrayFieldsStartingFrom(e,t,"change")},this.replaceFieldValue=async(e,t,i,s)=>{this.setFieldValue(e,e=>e.map((e,s)=>s===t?i:e),k(s,{dontValidate:!0})),s?.dontValidate||(await this.validateField(e,"change"),await this.validateArrayFieldsStartingFrom(e,t,"change"))},this.removeFieldValue=async(e,t,i)=>{let s=this.getFieldValue(e),r=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(e,e=>e.filter((e,i)=>i!==t),k(i,{dontValidate:!0})),W(this).handleArrayFieldMetaShift(e,t,"remove"),null!==r){let t=`${e}[${r}]`;this.deleteField(t)}i?.dontValidate||(await this.validateField(e,"change"),await this.validateArrayFieldsStartingFrom(e,t,"change"))},this.swapFieldValues=(e,t,i,s)=>{this.setFieldValue(e,e=>{let s=e[t],r=e[i];return v(v(e,`${t}`,r),`${i}`,s)},k(s,{dontValidate:!0})),W(this).handleArrayFieldMetaShift(e,t,"swap",i),s?.dontValidate||(this.validateField(e,"change"),this.validateField(`${e}[${t}]`,"change"),this.validateField(`${e}[${i}]`,"change"))},this.moveFieldValues=(e,t,i,s)=>{this.setFieldValue(e,e=>{let s=[...e];return s.splice(i,0,s.splice(t,1)[0]),s},k(s,{dontValidate:!0})),W(this).handleArrayFieldMetaShift(e,t,"move",i),s?.dontValidate||(this.validateField(e,"change"),this.validateField(`${e}[${t}]`,"change"),this.validateField(`${e}[${i}]`,"change"))},this.clearFieldValues=(e,t)=>{let i=this.getFieldValue(e),s=Array.isArray(i)?Math.max(i.length-1,0):null;if(this.setFieldValue(e,[],k(t,{dontValidate:!0})),null!==s)for(let t=0;t<=s;t++){let i=`${e}[${t}]`;this.deleteField(i)}t?.dontValidate||this.validateField(e,"change")},this.resetField=e=>{this.baseStore.setState(t=>({...t,fieldMetaBase:{...t.fieldMetaBase,[e]:N},values:this.options.defaultValues?v(t.values,e,m(this.options.defaultValues,e)):t.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((e,t)=>{let[i,s]=t;return Object.keys(s).length&&s.errors.length&&(e[i]={errors:s.errors,errorMap:s.errorMap}),e},{})}),this.parseValuesWithSchema=e=>P.validate({value:this.state.values,validationSource:"form"},e),this.parseValuesWithSchemaAsync=e=>P.validateAsync({value:this.state.values,validationSource:"form"},e),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=e?.formId??_(),this._devtoolsSubmissionOverride=!1,this.baseStore=new i(q({...e?.defaultState,values:e?.defaultValues??e?.defaultState?.values})),this.fieldMetaDerived=new s({deps:[this.baseStore],fn:e=>{let{prevDepVals:t,currDepVals:i,prevVal:s}=e,r=t?.[0],a=i[0],n=0,o={};for(let e of Object.keys(a.fieldMetaBase)){let t=a.fieldMetaBase[e],i=r?.fieldMetaBase[e],l=s?.[e],u=m(a.values,e),d=l?.errors;if(!i||t.errorMap!==i.errorMap){d=Object.values(t.errorMap??{}).filter(e=>void 0!==e);let i=this.getFieldInfo(e)?.instance;i&&!i.options.disableErrorFlat&&(d=d?.flat(1))}let h=!w(d??[]),c=!t.isDirty,f=O(u,m(this.options.defaultValues,e))||O(u,this.getFieldInfo(e)?.instance?.options.defaultValue);if(l&&l.isPristine===c&&l.isValid===h&&l.isDefaultValue===f&&l.errors===d&&t===i){o[e]=l,n++;continue}o[e]={...t,errors:d,isPristine:c,isValid:h,isDefaultValue:f}}return Object.keys(a.fieldMetaBase).length&&s&&n===Object.keys(a.fieldMetaBase).length?s:o}}),this.store=new s({deps:[this.baseStore,this.fieldMetaDerived],fn:e=>{let{prevDepVals:t,currDepVals:i,prevVal:s}=e,r=t?.[0],a=i[0],n=Object.values(i[1]).filter(Boolean),o=n.some(e=>e.isValidating),l=n.every(e=>e.isValid),u=n.some(e=>e.isTouched),d=n.some(e=>e.isBlurred),h=n.every(e=>e.isDefaultValue),c=u&&a.errorMap?.onMount,f=n.some(e=>e.isDirty),m=!f,v=!!(a.errorMap?.onMount||n.some(e=>e?.errorMap?.onMount)),p=s?.errors??[];r&&a.errorMap===r.errorMap||(p=Object.values(a.errorMap).reduce((e,t)=>(void 0===t||(t&&T(t)?e.push(t.form):e.push(t)),e),[]));let g=0===p.length,b=l&&g,y=this.options.canSubmitWhenInvalid??!1,S=0===a.submissionAttempts&&!u&&!v||!o&&!a.isSubmitting&&b||y,M=a.errorMap;if(c&&(p=p.filter(e=>e!==a.errorMap.onMount),M=Object.assign(M,{onMount:void 0})),s&&r&&s.errorMap===M&&s.fieldMeta===this.fieldMetaDerived.state&&s.errors===p&&s.isFieldsValidating===o&&s.isFieldsValid===l&&s.isFormValid===g&&s.isValid===b&&s.canSubmit===S&&s.isTouched===u&&s.isBlurred===d&&s.isPristine===m&&s.isDefaultValue===h&&s.isDirty===f&&O(r,a))return s;let V={...a,errorMap:M,fieldMeta:this.fieldMetaDerived.state,errors:p,isFieldsValidating:o,isFieldsValid:l,isFormValid:g,isValid:b,canSubmit:S,isTouched:u,isBlurred:d,isPristine:m,isDefaultValue:h,isDirty:f},A=this.options.transform?.deps??[];if(A.length!==this.prevTransformArray.length||A.some((e,t)=>e!==this.prevTransformArray[t])){let e=Object.assign({},this,{state:V});this.options.transform?.fn(e),V=e.state,this.prevTransformArray=A}return V}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(e||{}),this.store.subscribe(()=>{G.emit("form-state-change",{id:this._formId,state:this.store.state,options:this.options})}),G.on("request-form-state",e=>{e.payload.id===this._formId&&G.emit("form-state-change",{id:this._formId,state:this.store.state,options:this.options})}),G.on("request-form-reset",e=>{e.payload.id===this._formId&&this.reset()}),G.on("request-form-force-submit",e=>{e.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)})}get state(){return this.store.state}get formId(){return this._formId}runValidator(e){return R(e.validate)?P[e.type](e.value,e.validate):e.validate(e.value)}async handleSubmit(e){this.baseStore.setState(e=>({...e,isSubmitted:!1,submissionAttempts:e.submissionAttempts+1,isSubmitSuccessful:!1})),c(()=>{Object.values(this.fieldInfo).forEach(e=>{e.instance&&(e.instance.state.meta.isTouched||e.instance.setMeta(e=>({...e,isTouched:!0})))})});let t=e??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride)return void this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:t});this.baseStore.setState(e=>({...e,isSubmitting:!0}));let i=()=>{this.baseStore.setState(e=>({...e,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){i(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:t}),G.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(e=>e.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){i(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:t}),G.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}c(()=>{Object.values(this.fieldInfo).forEach(e=>{e.instance?.options.listeners?.onSubmit?.({value:e.instance.state.value,fieldApi:e.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:t});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:t}),c(()=>{this.baseStore.setState(e=>({...e,isSubmitted:!0,isSubmitSuccessful:!0})),G.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),i()})}catch(e){throw this.baseStore.setState(e=>({...e,isSubmitSuccessful:!1})),G.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:e}),i(),e}}setErrorMap(e){c(()=>{Object.entries(e).forEach(e=>{let[t,i]=e;if(T(i)){let{formError:e,fieldErrors:s}=K(i);for(let e of Object.keys(this.fieldInfo))this.getFieldMeta(e)&&this.setFieldMeta(e,i=>({...i,errorMap:{...i.errorMap,[t]:s?.[e]},errorSourceMap:{...i.errorSourceMap,[t]:"form"}}));this.baseStore.setState(i=>({...i,errorMap:{...i.errorMap,[t]:e}}))}else this.baseStore.setState(e=>({...e,errorMap:{...e.errorMap,[t]:i}}))})})}}function K(e){if(e)return T(e)?{formError:K(e.form).formError,fieldErrors:e.fields}:{formError:e};return{formError:void 0}}function H(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}e.s(["FormApi",()=>z],61054)},102188,789907,e=>{"use strict";var t=e.i(563199),i=e.i(61054),s=e.i(620845),r=e.i(888468),a=e.i(268255),n=e.i(1186),o=e.i(14722),l=e.i(37462),u=e.i(714203),d=e.i(406590);class h{constructor(e){this.options={},this.mount=()=>{let e=this.store.mount();void 0!==this.options.defaultValue&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0}),this.getInfo().instance=this,this.update(this.options);let{onMount:t}=this.options.validators||{};if(t){let e=this.runValidator({validate:t,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});e&&this.setMeta(t=>({...t,errorMap:{...t?.errorMap,onMount:e},errorSourceMap:{...t?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),e},this.update=e=>{this.options=e;let t=this.name!==e.name;if(this.name=e.name,void 0===this.state.value){let i=(0,s.getBy)(e.form.options.defaultValues,e.name),r=e.defaultValue??i;t?this.setValue(e=>e||r,{dontUpdateMeta:!0}):void 0!==r&&this.setValue(r,{dontUpdateMeta:!0})}void 0===this.form.getFieldMeta(this.name)&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(e,t)=>{this.form.setFieldValue(this.name,e,(0,s.mergeOpts)(t,{dontRunListeners:!0,dontValidate:!0})),t?.dontRunListeners||this.triggerOnChangeListener(),t?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=e=>this.form.setFieldMeta(this.name,e),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(e,t)=>{this.form.pushFieldValue(this.name,e,(0,s.mergeOpts)(t,{dontRunListeners:!0})),t?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(e,t,i)=>{this.form.insertFieldValue(this.name,e,t,(0,s.mergeOpts)(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(e,t,i)=>{this.form.replaceFieldValue(this.name,e,t,(0,s.mergeOpts)(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(e,t)=>{this.form.removeFieldValue(this.name,e,(0,s.mergeOpts)(t,{dontRunListeners:!0})),t?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(e,t,i)=>{this.form.swapFieldValues(this.name,e,t,(0,s.mergeOpts)(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(e,t,i)=>{this.form.moveFieldValues(this.name,e,t,(0,s.mergeOpts)(i,{dontRunListeners:!0})),i?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=e=>{this.form.clearFieldValues(this.name,(0,s.mergeOpts)(e,{dontRunListeners:!0})),e?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=e=>{let t=Object.values(this.form.fieldInfo),i=[];for(let s of t){if(!s.instance)continue;let{onChangeListenTo:t,onBlurListenTo:r}=s.instance.options.validators||{};"change"===e&&t?.includes(this.name)&&i.push(s.instance),"blur"===e&&r?.includes(this.name)&&i.push(s.instance)}return i},this.validateSync=(e,t)=>{let i=(0,s.getSyncValidatorArray)(e,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||d.defaultValidationLogic}),r=this.getLinkedFields(e).reduce((t,i)=>{let r=(0,s.getSyncValidatorArray)(e,{...i.options,form:i.form,validationLogic:i.form.options.validationLogic||d.defaultValidationLogic});return r.forEach(e=>{e.field=i}),t.concat(r)},[]),a=!1;(0,n.batch)(()=>{let e=(e,i)=>{let r=f(i.cause),n=i.validate?c(e.runValidator({validate:i.validate,value:{value:e.store.state.value,validationSource:"field",fieldApi:e},type:"validate"})):void 0,o=t[r],{newErrorValue:l,newSource:u}=(0,s.determineFieldLevelErrorSourceAndValue)({formLevelError:o,fieldLevelError:n});e.state.meta.errorMap?.[r]!==l&&e.setMeta(e=>({...e,errorMap:{...e.errorMap,[r]:l},errorSourceMap:{...e.errorSourceMap,[r]:u}})),l&&(a=!0)};for(let t of i)e(this,t);for(let t of r)t.validate&&e(t.field,t)});let o=f("submit");return this.state.meta.errorMap?.[o]&&"submit"!==e&&!a&&this.setMeta(e=>({...e,errorMap:{...e.errorMap,[o]:void 0},errorSourceMap:{...e.errorSourceMap,[o]:void 0}})),{hasErrored:a}},this.validateAsync=async(e,t)=>{let i=(0,s.getAsyncValidatorArray)(e,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||d.defaultValidationLogic}),r=await t,a=this.getLinkedFields(e),n=a.reduce((t,i)=>{let r=(0,s.getAsyncValidatorArray)(e,{...i.options,form:i.form,validationLogic:i.form.options.validationLogic||d.defaultValidationLogic});return r.forEach(e=>{e.field=i}),t.concat(r)},[]);for(let e of(this.state.meta.isValidating||this.setMeta(e=>({...e,isValidating:!0})),a))e.setMeta(e=>({...e,isValidating:!0}));let o=[],l=[],u=(e,t,i)=>{let a=f(t.cause),n=e.getInfo().validationMetaMap[a];n?.lastAbortController.abort();let o=new AbortController;this.getInfo().validationMetaMap[a]={lastAbortController:o},i.push(new Promise(async i=>{let n;try{n=await new Promise((i,s)=>{this.timeoutIds.validations[t.cause]&&clearTimeout(this.timeoutIds.validations[t.cause]),this.timeoutIds.validations[t.cause]=setTimeout(async()=>{if(o.signal.aborted)return i(void 0);try{i(await this.runValidator({validate:t.validate,value:{value:e.store.state.value,fieldApi:e,signal:o.signal,validationSource:"field"},type:"validateAsync"}))}catch(e){s(e)}},t.debounceMs)})}catch(e){n=e}if(o.signal.aborted)return i(void 0);let l=c(n),u=r[this.name]?.[a],{newErrorValue:d,newSource:h}=(0,s.determineFieldLevelErrorSourceAndValue)({formLevelError:u,fieldLevelError:l});e.setMeta(e=>({...e,errorMap:{...e?.errorMap,[a]:d},errorSourceMap:{...e.errorSourceMap,[a]:h}})),i(d)}))};for(let e of i)e.validate&&u(this,e,o);for(let e of n)e.validate&&u(e.field,e,l);let h=[];for(let e of((o.length||l.length)&&(h=await Promise.all(o),await Promise.all(l)),this.setMeta(e=>({...e,isValidating:!1})),a))e.setMeta(e=>({...e,isValidating:!1}));return h.filter(Boolean)},this.validate=(e,t)=>{if(!this.state.meta.isTouched)return[];let{fieldsErrorMap:i}=t?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(e),{hasErrored:s}=this.validateSync(e,i[this.name]??{});if(s&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[f(e)]?.lastAbortController.abort(),this.state.meta.errors;let r=t?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(e);return this.validateAsync(e,r)},this.handleChange=e=>{this.setValue(e)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(e=>({...e,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(e=>({...e,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=e=>l.standardSchemaValidators.validate({value:this.state.value,validationSource:"field"},e),this.parseValueWithSchemaAsync=e=>l.standardSchemaValidators.validateAsync({value:this.state.value,validationSource:"field"},e),this.form=e.form,this.name=e.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new o.Derived({deps:[this.form.store],fn:()=>({value:this.form.getFieldValue(this.name),meta:this.form.getFieldMeta(this.name)??{...u.defaultFieldMeta,...e.defaultMeta}})}),this.options=e}get state(){return this.store.state}runValidator(e){return(0,l.isStandardSchemaValidator)(e.validate)?l.standardSchemaValidators[e.type](e.value,e.validate):e.validate(e.value)}setErrorMap(e){this.setMeta(t=>({...t,errorMap:{...t.errorMap,...e}}))}triggerOnBlurListener(){let e=this.form.options.listeners?.onBlurDebounceMs;e&&e>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},e)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});let t=this.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},t)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}triggerOnChangeListener(){let e=this.form.options.listeners?.onChangeDebounceMs;e&&e>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},e)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});let t=this.options.listeners?.onChangeDebounceMs;t&&t>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},t)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})}}function c(e){if(e)return e}function f(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}let m="u">typeof window?a.useLayoutEffect:a.useEffect;e.s(["useIsomorphicLayoutEffect",()=>m],789907);let v=e=>{let{children:i,...n}=e,o=function(e){let[t]=(0,a.useState)(()=>{let t=new h({...e,form:e.form,name:e.name});return t.Field=v,t});return m(t.mount,[t]),m(()=>{t.update(e)}),(0,r.useStore)(t.store,"array"===e.mode?e=>[e.meta,Object.keys(e.value??[]).length]:void 0),t}(n),l=(0,a.useMemo)(()=>(0,s.functionalUpdate)(i,o),[i,o,o.state.value,o.state.meta]);return(0,t.jsx)(t.Fragment,{children:l})};function p(e){let{form:t,selector:i,children:a}=e,n=(0,r.useStore)(t.store,i);return(0,s.functionalUpdate)(a,n)}function g(e){let[s]=(0,a.useState)(()=>{let s=new i.FormApi(e);return s.Field=function(e){return(0,t.jsx)(v,{...e,form:s})},s.Subscribe=function(e){return(0,t.jsx)(p,{form:s,selector:e.selector,children:e.children})},s});return m(s.mount,[]),m(()=>{s.update(e)}),s}e.s(["useForm",()=>g],102188)},306101,e=>{"use strict";var t=e.i(563199),i=e.i(837699),s=e.i(268255);e.i(152567);var r=e.i(408767),a=e.i(391185),n=e.i(935139);e.s(["default",0,e=>{let{options:o,containerProps:l,triggerProps:u,popupProps:d,placeholder:h,disabled:c,triggerPopupSameWidth:f,multiple:m,value:v,onChange:p}=e,{t:g}=(0,r.useTranslation)(),{open:b,onOpenChange:y,placement:S,offset:M}=l||{},{className:V}=u||{},{wrapperClassName:A,className:F,itemClassName:E,title:w,titleClassName:L}=d||{},[I,T]=(0,s.useState)(!1),O=b??I,C=(0,s.useCallback)(e=>{y?.(e),T(e)},[y]),j=(0,s.useMemo)(()=>{let e=h||g("placeholder.select",{ns:"common"});return m?v?.length?g("dynamicSelect.selected",{ns:"common",count:v.length}):e:o.find(e=>e.value===v)?.label||e},[m,v,o,h]);return(0,t.jsxs)(a.PortalToFollowElem,{placement:S||"bottom-start",offset:M||4,open:O,onOpenChange:C,triggerPopupSameWidth:f,children:[(0,t.jsx)(a.PortalToFollowElemTrigger,{onClick:()=>!c&&C(!O),asChild:!0,children:(0,t.jsxs)("div",{className:(0,n.cn)("system-sm-regular group flex h-8 items-center rounded-lg bg-components-input-bg-normal px-2 text-components-input-text-filled",!c&&"cursor-pointer hover:bg-state-base-hover-alt",c&&"cursor-not-allowed opacity-50",O&&!c&&"bg-state-base-hover-alt",V),children:[(0,t.jsx)("div",{className:"grow",title:j,children:j}),(0,t.jsx)(i.RiArrowDownSLine,{className:(0,n.cn)("h-4 w-4 shrink-0 text-text-quaternary group-hover:text-text-secondary",O&&"text-text-secondary")})]})}),(0,t.jsx)(a.PortalToFollowElemContent,{className:(0,n.cn)("z-[9999]",A),children:(0,t.jsxs)("div",{className:(0,n.cn)("max-h-80 overflow-auto rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg",F),children:[w&&(0,t.jsx)("div",{className:(0,n.cn)("system-xs-medium-uppercase flex h-[22px] items-center px-3 text-text-tertiary",L),children:w}),o.map(e=>(0,t.jsxs)("div",{className:(0,n.cn)("system-sm-medium flex h-8 cursor-pointer items-center rounded-lg px-2 text-text-secondary hover:bg-state-base-hover",E),title:e.label,onClick:()=>{if(!c){if(m){let t=v??[],i=t.includes(e.value)?t.filter(t=>t!==e.value):[...t,e.value];p?.(i);return}p?.(e.value),C(!1)}},children:[(0,t.jsx)("div",{className:"mr-1 grow truncate px-1",children:e.label}),(m?(v??[]).includes(e.value):v===e.value)&&(0,t.jsx)(i.RiCheckLine,{className:"h-4 w-4 shrink-0 text-text-accent"})]},e.value))]})})]})}])}]);