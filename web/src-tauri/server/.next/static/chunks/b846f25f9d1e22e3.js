(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,151094,e=>{"use strict";var t=e.i(563199),n=e.i(294237),i=e.i(935139);let a=e=>{let{loading:n=!1,children:i,className:a}=e;return(0,t.jsxs)("div",{className:`inline-block h-4 w-4 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-gray-200 ${n?"motion-reduce:animate-[spin_1.5s_linear_infinite]":"hidden"} ${a??""}`,role:"status",children:[(0,t.jsx)("span",{className:"!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]",children:"Loading..."}),i]})},r=(0,n.cva)("btn disabled:btn-disabled",{variants:{variant:{primary:"btn-primary",warning:"btn-warning",secondary:"btn-secondary","secondary-accent":"btn-secondary-accent",ghost:"btn-ghost","ghost-accent":"btn-ghost-accent",tertiary:"btn-tertiary"},size:{small:"btn-small",medium:"btn-medium",large:"btn-large"}},defaultVariants:{variant:"secondary",size:"medium"}}),s=e=>{let{className:n,variant:s,size:l,destructive:o,loading:c,styleCss:d,children:u,spinnerClassName:f,ref:m,...p}=e;return(0,t.jsxs)("button",{type:"button",className:(0,i.cn)(r({variant:s,size:l,className:n}),o&&"btn-destructive"),ref:m,style:d,...p,children:[u,c&&(0,t.jsx)(a,{loading:c,className:(0,i.cn)("!ml-1 !h-3 !w-3 !border-2 !text-white",f)})]})};s.displayName="Button",e.s(["Button",()=>s,"default",0,s],151094)},393689,773923,e=>{"use strict";var t=e.i(268255);e.s(["default",0,function(e){var n=(0,t.useRef)(e);return n.current=e,n}],393689);var n=function(e){return"function"==typeof e},i=function(e){return"string"==typeof e},a=function(e){return"number"==typeof e},r=function(e){return void 0===e};e.s(["isFunction",()=>n,"isNumber",()=>a,"isString",()=>i,"isUndef",()=>r],773923)},685888,703440,e=>{"use strict";var t=e.i(268255),n=e.i(393689);e.i(773923),e.i(604193),e.s(["default",0,!1],703440),e.s(["default",0,function(e){var i=(0,n.default)(e);(0,t.useEffect)(function(){return function(){i.current()}},[])}],685888)},354440,e=>{"use strict";var t=!!("u">typeof window&&window.document&&window.document.createElement);e.s(["default",0,t])},261484,e=>{"use strict";var t=e.i(268255),n={SVG:"image/svg+xml",ICO:"image/x-icon",GIF:"image/gif",PNG:"image/png"};let i=function(e){(0,t.useEffect)(function(){if(e){var t=e.split("."),i=t[t.length-1].toLocaleUpperCase(),a=document.querySelector("link[rel*='icon']")||document.createElement("link");a.type=n[i],a.href=e,a.rel="shortcut icon",document.getElementsByTagName("head")[0].appendChild(a)}},[e])};var a=e.i(685888),r=e.i(354440),s={restoreOnUnmount:!1};let l=function(e,n){void 0===n&&(n=s);var i=(0,t.useRef)(r.default?document.title:"");(0,t.useEffect)(function(){document.title=e},[e]),(0,a.default)(function(){n.restoreOnUnmount&&(document.title=i.current)})};var o=e.i(494268),c=e.i(168014);function d(e){let n=(0,o.useIsSystemFeaturesPending)(),a=(0,o.useGlobalPublicStore)(e=>e.systemFeatures),r=e?`${e} - `:"",s="",d="";!1===n&&(a.branding.enabled?(s=`${r}${a.branding.application_title}`,d=a.branding.favicon):(s=`${r}Dify`,d=`${c.basePath}/favicon.ico`)),l(s),(0,t.useEffect)(()=>{let e=null;return a.branding.favicon&&(document.querySelectorAll("link[rel='icon'], link[rel='shortcut icon'], link[rel='apple-touch-icon'], link[rel='mask-icon']").forEach(e=>e.parentNode?.removeChild(e)),(e=document.createElement("link")).rel="apple-touch-icon",e.href=a.branding.favicon,document.head.appendChild(e)),()=>{e?.remove()}},[a.branding.favicon]),i(d)}e.s(["default",()=>d],261484)},591034,e=>{"use strict";var t=e.i(563199),n=e.i(326531),i=e.i(268255);e.i(152567);var a=e.i(408767),r=e.i(151094),s=e.i(261484),l=e.i(81828),o=e.i(168014),c=e.i(449980),d=e.i(137667);e.s(["default",0,()=>{(0,s.default)("");let[e,u]=(0,i.useState)(""),[f,m]=(0,i.useState)(!0),[p,h]=(0,i.useState)(!1),b=(0,n.useRouter)(),{t:g}=(0,a.useTranslation)(),v=async()=>{m(!0);try{let t=await (0,l.initValidate)({body:{password:e}});if("success"===t.result)h(!0),b.push("/install");else throw Error("Validation failed")}catch(e){d.default.notify({type:"error",message:e.message,duration:5e3}),m(!1)}};return(0,i.useEffect)(()=>{(0,l.fetchInitValidateStatus)().then(e=>{"finished"===e.status?window.location.href=`${o.basePath}/install`:m(!1)})},[]),f?(0,t.jsx)(c.default,{}):(0,t.jsx)("div",{children:!p&&(0,t.jsxs)("div",{className:"mx-12 block min-w-28",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary",children:g("adminInitPassword",{ns:"login"})}),(0,t.jsx)("div",{className:"relative mt-1 rounded-md shadow-sm",children:(0,t.jsx)("input",{id:"password",type:"password",value:e,onChange:e=>u(e.target.value),className:"block w-full appearance-none rounded-md border border-divider-regular px-3 py-2 shadow-sm placeholder:text-text-quaternary focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"})})]}),(0,t.jsx)("div",{className:"flex flex-row flex-wrap justify-stretch p-0",children:(0,t.jsx)(r.default,{variant:"primary",onClick:v,className:"min-w-28 basis-full",children:g("validate",{ns:"login"})})})]})})}])}]);