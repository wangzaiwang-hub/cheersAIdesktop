(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,345063,e=>{"use strict";let t,i;var n,s,r,a,l,o,h,d,u,c,p,g,f,m,v,b,w,y,_,P,x,S,M,k,L,E,C,I,T,A,N,D,j,F,O,R,W,$,V,B,H,z,U,Z,G,Q,J,X,K,q,Y,ee,et,ei,en,es,er,ea,el,eo,eh,ed,eu,ec,ep,eg,ef,em,ev,eb,ew,ey,e_,eP,ex,eS,eM,ek,eL,eE,eC,eI,eT,eA,eN,eD,ej,eF,eO,eR,eW,e$,eV,eB,eH,ez,eU,eZ,eG,eQ,eJ,eX,eK,eq,eY,e0,e1,e2,e3,e4,e5,e9,e6,e8,e7,te,tt,ti,tn,ts,tr,ta,tl,to,th,td,tu,tc,tp,tg,tf,tm,tv,tb,tw,ty,t_,tP,tx,tS,tM,tk,tL,tE,tC,tI,tT,tA,tN,tD,tj,tF,tO,tR,tW,t$,tV,tB,tH,tz,tU,tZ,tG,tQ,tJ,tX,tK,tq,tY,t0,t1,t2,t3,t4=Object.defineProperty,t5=e=>{throw TypeError(e)},t9=(e,t,i)=>t.has(e)||t5("Cannot "+i),t6=(e,t,i)=>(t9(e,t,"read from private field"),i?i.call(e):t.get(e)),t8=(e,t,i)=>t.has(e)?t5("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),t7=(e,t,i,n)=>(t9(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i),ie=(e,t,i)=>(t9(e,t,"access private method"),i),it={};it.d=(e,t)=>{for(var i in t)it.o(t,i)&&!it.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},it.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ii=globalThis.pdfjsViewer={};it.d(ii,{AnnotationLayerBuilder:()=>ny,DownloadManager:()=>nP,EventBus:()=>nS,FindState:()=>iy,GenericL10n:()=>sS,LinkTarget:()=>iD,PDFFindController:()=>iN,PDFHistory:()=>sk,PDFLinkService:()=>iF,PDFPageView:()=>sH,PDFScriptingManager:()=>sG,PDFSinglePageViewer:()=>sq,PDFViewer:()=>sK,ProgressBar:()=>ib,RenderingStates:()=>is,ScrollMode:()=>ir,SimpleLinkService:()=>iO,SpreadMode:()=>ia,StructTreeLayerBuilder:()=>sj,TextLayerBuilder:()=>sW,XfaLayerBuilder:()=>s$,parseQueryString:()=>ih});let is={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},ir={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},ia={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};class il{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}}function io(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.offsetParent;if(!n)return void console.error("offsetParent is not set -- cannot scroll");let s=e.offsetTop+e.clientTop,r=e.offsetLeft+e.clientLeft;for(;n.clientHeight===n.scrollHeight&&n.clientWidth===n.scrollWidth||i&&(n.classList.contains("markedContent")||"hidden"===getComputedStyle(n).overflow);)if(s+=n.offsetTop,r+=n.offsetLeft,!(n=n.offsetParent))return;t&&(void 0!==t.top&&(s+=t.top),void 0!==t.left&&(r+=t.left,n.scrollLeft=r)),n.scrollTop=s}function ih(e){let t=new Map;for(let[i,n]of new URLSearchParams(e))t.set(i.toLowerCase(),n);return t}let id=/[\x00-\x1F]/g;function iu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return id.test(e)?t?e.replaceAll(id,e=>"\0"===e?"":" "):e.replaceAll("\0",""):e}function ic(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=i,s=e.length-1;if(s<0||!t(e[s]))return e.length;if(t(e[n]))return n;for(;n<s;){let i=n+s>>1;t(e[i])?s=i:n=i+1}return n}function ip(e){if(Math.floor(e)===e)return[e,1];let t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];let i=e>1?t:e,n=0,s=1,r=1,a=1;for(;;){let e=n+r,t=s+a;if(t>8)break;i<=e/t?(r=e,a=t):(n=e,s=t)}return i-n/s<r/a-i?i===e?[n,s]:[s,n]:i===e?[r,a]:[a,r]}function ig(e){return Number.isInteger(e)&&e%90==0}function im(e){return e.width<=e.height}new Promise(function(e){window.requestAnimationFrame(e)});let iv=document.documentElement.style;class ib{constructor(e){t8(this,n,null),t8(this,s,null),t8(this,r,0),t8(this,a,null),t8(this,l,!0),t7(this,n,e.classList),t7(this,a,e.style)}get percent(){return t6(this,r)}set percent(e){(t7(this,r,Math.min(Math.max(e,0),100)),isNaN(e))?t6(this,n).add("indeterminate"):(t6(this,n).remove("indeterminate"),t6(this,a).setProperty("--progressBar-percent",`${t6(this,r)}%`))}setWidth(e){if(!e)return;let t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&t6(this,a).setProperty("--progressBar-end-offset",`${t}px`)}setDisableAutoFetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;isNaN(t6(this,r))||(t6(this,s)&&clearTimeout(t6(this,s)),this.show(),t7(this,s,setTimeout(()=>{t7(this,s,null),this.hide()},e)))}hide(){t6(this,l)&&(t7(this,l,!1),t6(this,n).add("hidden"))}show(){t6(this,l)||(t7(this,l,!0),t6(this,n).remove("hidden"))}}n=new WeakMap,s=new WeakMap,r=new WeakMap,a=new WeakMap,l=new WeakMap;function iw(e){if(e<11904){if((65408&e)==0)return 32===e||9===e||13===e||10===e?0:e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57||95===e?1:2;return(65408&e)==3584?7:1*(160!==e)}if(e>=13312&&e<=40959||e>=63744&&e<=64255)return 3;if(e>=12448&&e<=12543)return 4;if(e>=12352&&e<=12447)return 5;if(e>=65376&&e<=65439)return 6;return 1}let iy={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},i_={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},iP=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),ix=RegExp("\\p{M}+","gu"),iS=RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),iM=RegExp("([^\\p{M}])\\p{M}*$","u"),ik=RegExp("^\\p{M}*([^\\p{M}])","u"),iL=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,iE=new Map,iC=new Map,iI=null,iT=null;function iA(e){let i,n,s=[];for(;null!==(i=iL.exec(e));){let{index:e}=i;for(let t of i[0]){let i=iE.get(t);i||(i=t.normalize("NFD").length,iE.set(t,i)),s.push([i,e++])}}if(0===s.length&&iI)n=iI;else if(s.length>0&&iT)n=iT;else{let e=Object.keys(i_).join(""),i=(t||(t=`\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbeĲ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`),t),r=`([${e}])|([${i}])|((?:゙|゚)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[぀-ヿ])\\n)|(\\n)`;n=0===s.length?iI=RegExp(r+"|(\\u0000)","gum"):iT=RegExp(r+`|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])`,"gum")}let r=[];for(;null!==(i=ix.exec(e));)r.push([i[0].length,i.index]);let a=e.normalize("NFD"),l=[[0,0]],o=0,h=0,d=0,u=0,c=0,p=!1;return a=a.replace(n,(e,t,i,n,a,g,f,m,v,b)=>{var w,y,_;if(b-=u,t){let e=i_[t],i=e.length;for(let e=1;e<i;e++)l.push([b-d+e,d-e]);return d-=i-1,e}if(i){let e=iC.get(i);e||(e=i.normalize("NFKC"),iC.set(i,e));let t=e.length;for(let e=1;e<t;e++)l.push([b-d+e,d-e]);return d-=t-1,e}if(n)return p=!0,b+c===(null==(w=r[o])?void 0:w[1])?++o:(l.push([b-1-d+1,d-1]),d-=1,u+=1),l.push([b-d+1,d]),u+=1,c+=1,n.charAt(0);if(a){let e=a.endsWith("\n"),t=e?a.length-2:a.length;p=!0;let i=t;b+c===(null==(y=r[o])?void 0:y[1])&&(i-=r[o][0],++o);for(let e=1;e<=i;e++)l.push([b-1-d+e,d-e]);return(d-=i,u+=i,e)?(b+=t-1,l.push([b-d+1,1+d]),d+=1,u+=1,c+=1,a.slice(0,t)):a}if(g){let e=g.length-2;return l.push([b-d+e,1+d]),d+=1,u+=1,c+=1,g.slice(0,-2)}if(f){let e=f.length-1;return l.push([b-d+e,d]),u+=1,c+=1,f.slice(0,-1)}if(m)return l.push([b-d+1,d-1]),d-=1,u+=1,c+=1," ";if(b+c===(null==(_=s[h])?void 0:_[1])){let e=s[h][0]-1;++h;for(let t=1;t<=e;t++)l.push([b-(d-t),d-t]);d-=e,u+=e}return v}),l.push([a.length,d]),[a,l,p]}class iN{constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){t8(this,u),t8(this,o,null),t8(this,h,!0),t8(this,d,0),this._linkService=e,this._eventBus=t,t7(this,h,i),this.onIsPageVisible=null,ie(this,u,p).call(this),t._on("find",ie(this,u,c).bind(this)),t._on("findbarclose",ie(this,u,E).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return t6(this,o)}setDocument(e){this._pdfDocument&&ie(this,u,p).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView(e){let{element:t=null,selectedLeft:i=0,pageIndex:n=-1,matchIndex:s=-1}=e;this._scrollMatches&&t&&-1!==s&&s===this._selected.matchIdx&&-1!==n&&n===this._selected.pageIdx&&(this._scrollMatches=!1,io(t,{top:-50,left:i+-400},!0))}}o=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakSet,c=function(e){if(!e)return;let t=this._pdfDocument,{type:i}=e;(null===t6(this,o)||ie(this,u,f).call(this,e))&&(this._dirtyMatch=!0),t7(this,o,e),"highlightallchange"!==i&&ie(this,u,T).call(this,iy.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;ie(this,u,y).call(this);let e=!this._highlightMatches,n=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?ie(this,u,x).call(this):"again"===i?(ie(this,u,x).call(this),e&&t6(this,o).highlightAll&&ie(this,u,P).call(this)):"highlightallchange"===i?(n?ie(this,u,x).call(this):this._highlightMatches=!0,ie(this,u,P).call(this)):ie(this,u,x).call(this):this._findTimeout=setTimeout(()=>{ie(this,u,x).call(this),this._findTimeout=null},250)})},p=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],t7(this,d,0),t7(this,o,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()},g=function(){let{query:e}=t6(this,o);return"string"==typeof e?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=iA(e)),this._normalizedQuery):(e||[]).filter(e=>!!e).map(e=>iA(e)[0])},f=function(e){var t;let i=e.query,n=t6(this,o).query,s=typeof i;if(s!==typeof n)return!0;if("string"===s){if(i!==n)return!0}else if(JSON.stringify(i)!==JSON.stringify(n))return!0;switch(e.type){case"again":let r=this._selected.pageIdx+1,a=this._linkService;return r>=1&&r<=a.pagesCount&&r!==a.page&&!((null==(t=this.onIsPageVisible)?void 0:t.call(this,r))??!0);case"highlightallchange":return!1}return!0},m=function(e,t,i){let n=e.slice(0,t).match(iM);if(n){let i=e.charCodeAt(t),s=n[1].charCodeAt(0);if(iw(i)===iw(s))return!1}if(n=e.slice(t+i).match(ik)){let s=e.charCodeAt(t+i-1),r=n[1].charCodeAt(0);if(iw(s)===iw(r))return!1}return!0},v=function(e,t,i,n){let s,r=this._pageMatches[i]=[],a=this._pageMatchesLength[i]=[];if(!e)return;let l=this._pageDiffs[i];for(;null!==(s=e.exec(n));){if(t&&!ie(this,u,m).call(this,n,s.index,s[0].length))continue;let[e,i]=function(e,t,i){if(!e)return[t,i];let n=t+i-1,s=ic(e,e=>e[0]>=t);e[s][0]>t&&--s;let r=ic(e,e=>e[0]>=n,s);e[r][0]>n&&--r;let a=t+e[s][1];return[a,n+e[r][1]+1-a]}(l,s.index,s[0].length);i&&(r.push(e),a.push(i))}},b=function(e,t){let{matchDiacritics:n}=t6(this,o),s=!1;e=e.replaceAll(iS,(e,i,r,a,l,o)=>i?`[ ]*\\${i}[ ]*`:r?`[ ]*${r}[ ]*`:a?"[ ]+":n?l||o:l?iP.has(l.charCodeAt(0))?l:"":t?(s=!0,`${o}\\p{M}*`):o);let r="[ ]*";return e.endsWith(r)&&(e=e.slice(0,e.length-r.length)),n&&t&&(i||(i=String.fromCharCode(...iP)),s=!0,e=`${e}(?=[${i}]|[^\\p{M}]|$)`),[s,e]},w=function(e){let t=t6(this,u,g);if(0===t.length)return;let{caseSensitive:i,entireWord:n}=t6(this,o),s=this._pageContents[e],r=this._hasDiacritics[e],a=!1;"string"==typeof t?[a,t]=ie(this,u,b).call(this,t,r):t=t.sort().reverse().map(e=>{let[t,i]=ie(this,u,b).call(this,e,r);return a||(a=t),`(${i})`}).join("|");let l=`g${a?"u":""}${i?"":"i"}`;t=t?new RegExp(t,l):null,ie(this,u,v).call(this,t,n,e,s),t6(this,o).highlightAll&&ie(this,u,_).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,ie(this,u,M).call(this));let c=this._pageMatches[e].length;if(this._matchesCountTotal+=c,t6(this,h))c>0&&ie(this,u,I).call(this);else{let e,t,i,n;++(e=this,t=d,{set _(value){t7(e,t,value,i)},get _(){return t6(e,t,n)}})._===this._linkService.pagesCount&&ie(this,u,I).call(this)}},y=function(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let i=0,n=this._linkService.pagesCount;i<n;i++){let{promise:n,resolve:s}=Promise.withResolvers();this._extractTextPromises[i]=n,e=e.then(()=>this._pdfDocument.getPage(i+1).then(e=>e.getTextContent(t)).then(e=>{let t=[];for(let i of e.items)t.push(i.str),i.hasEOL&&t.push("\n");[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=iA(t.join("")),s()},e=>{console.error(`Unable to get text content for page ${i+1}`,e),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,s()}))}},_=function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})},P=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},x=function(){let e=t6(this,o).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,t7(this,d,0),this._matchesCountTotal=0,ie(this,u,P).call(this);for(let e=0;e<i;e++)this._pendingFindMatches.has(e)||(this._pendingFindMatches.add(e),this._extractTextPromises[e].then(()=>{this._pendingFindMatches.delete(e),ie(this,u,w).call(this,e)}))}if(0===t6(this,u,g).length)return void ie(this,u,T).call(this,iy.FOUND);if(this._resumePageIdx)return;let n=this._offset;if(this._pagesToSearch=i,null!==n.matchIdx){let t=this._pageMatches[n.pageIdx].length;if(!e&&n.matchIdx+1<t||e&&n.matchIdx>0){n.matchIdx=e?n.matchIdx-1:n.matchIdx+1,ie(this,u,L).call(this,!0);return}ie(this,u,k).call(this,e)}ie(this,u,M).call(this)},S=function(e){let t=this._offset,i=e.length,n=t6(this,o).findPrevious;return i?(t.matchIdx=n?i-1:0,ie(this,u,L).call(this,!0),!0):(ie(this,u,k).call(this,n),!!t.wrapped&&(t.matchIdx=null,!!(this._pagesToSearch<0))&&(ie(this,u,L).call(this,!1),!0))},M=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!ie(this,u,S).call(this,e))},k=function(e){let t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)},L=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=iy.NOT_FOUND,i=this._offset.wrapped;if(this._offset.wrapped=!1,e){let e=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?iy.WRAPPED:iy.FOUND,-1!==e&&e!==this._selected.pageIdx&&ie(this,u,_).call(this,e)}ie(this,u,T).call(this,t,t6(this,o).findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ie(this,u,_).call(this,this._selected.pageIdx))},E=function(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{this._pdfDocument&&(!t||this._pdfDocument===t)&&(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ie(this,u,T).call(this,iy.FOUND),this._highlightMatches=!1,ie(this,u,P).call(this))})},C=function(){var e;let{pageIdx:t,matchIdx:i}=this._selected,n=0,s=this._matchesCountTotal;if(-1!==i){for(let i=0;i<t;i++)n+=(null==(e=this._pageMatches[i])?void 0:e.length)||0;n+=i+1}return(n<1||n>s)&&(n=s=0),{current:n,total:s}},I=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ie(this,u,C).call(this)})},T=function(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(t6(this,h)||t6(this,d)===this._linkService.pagesCount&&e!==iy.PENDING)&&this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:n,entireWord:(null==(t=t6(this,o))?void 0:t.entireWord)??null,matchesCount:ie(this,u,C).call(this),rawQuery:(null==(i=t6(this,o))?void 0:i.query)??null})};let iD={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},ij=class e{constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:n=!1}={}){((e,t,i)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?t4(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i})(this,"externalLinkEnabled",!0),this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=n,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}async goToDestination(e){let t,i,n;if(!this.pdfDocument)return;if("string"==typeof e?(t=e,i=await this.pdfDocument.getDestination(e)):(t=null,i=await e),!Array.isArray(i))return void console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);let[s]=i;if(s&&"object"==typeof s){if(!(n=this.pdfDocument.cachedPageNumber(s)))try{n=await this.pdfDocument.getPageIndex(s)+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(n=s+1);!n||n<1||n>this.pagesCount?console.error(`goToDestination: "${n}" is not a valid page number, for dest="${e}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:n})),this.pdfViewer.scrollPageIntoView({pageNumber:n,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToPage(e){if(!this.pdfDocument)return;let t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`)}addLinkAttributes(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||"string"!=typeof t)throw Error('A valid "url" parameter must provided.');let n=i?iD.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let r="";switch(n){case iD.NONE:break;case iD.SELF:r="_self";break;case iD.BLANK:r="_blank";break;case iD.PARENT:r="_parent";break;case iD.TOP:r="_top"}e.target=r,e.rel="string"==typeof s?s:"noopener noreferrer nofollow"}getDestinationHash(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(t){let i,n;if(this.pdfDocument){if(t.includes("=")){let e=ih(t);if(e.has("search")){let t=e.get("search").replaceAll('"',""),i="true"===e.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:i?t:t.match(/\S+/g)})}if(e.has("page")&&(i=0|e.get("page")||1),e.has("zoom")){let t=e.get("zoom").split(","),i=t[0],s=parseFloat(i);i.includes("Fit")?"Fit"===i||"FitB"===i?n=[null,{name:i}]:"FitH"===i||"FitBH"===i||"FitV"===i||"FitBV"===i?n=[null,{name:i},t.length>1?0|t[1]:null]:"FitR"===i?5!==t.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:i},0|t[1],0|t[2],0|t[3],0|t[4]]:console.error(`PDFLinkService.setHash: "${i}" is not a valid zoom value.`):n=[null,{name:"XYZ"},t.length>1?0|t[1]:null,t.length>2?0|t[2]:null,s?s/100:i]}n?this.pdfViewer.scrollPageIntoView({pageNumber:i||this.page,destArray:n,allowNegativeOffset:!0}):i&&(this.page=i),e.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:e.get("pagemode")}),e.has("nameddest")&&this.goToDestination(e.get("nameddest"));return}n=unescape(t);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch{}if("string"==typeof n||ie(e,A,N).call(e,n))return void this.goToDestination(n);console.error(`PDFLinkService.setHash: "${unescape(t)}" is not a valid destination.`)}}executeNamedAction(e){var t,i;if(this.pdfDocument){switch(e){case"GoBack":null==(t=this.pdfHistory)||t.back();break;case"GoForward":null==(i=this.pdfHistory)||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}}async executeSetOCGState(e){if(!this.pdfDocument)return;let t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))}};A=new WeakSet,N=function(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,i,...n]=e;if(!("object"==typeof t&&Number.isInteger(null==t?void 0:t.num)&&Number.isInteger(null==t?void 0:t.gen))&&!Number.isInteger(t)||"object"!=typeof i||"string"!=typeof(null==i?void 0:i.name))return!1;let s=!0;switch(i.name){case"XYZ":if(3!==n.length)return!1;break;case"Fit":case"FitB":return 0===n.length;case"FitH":case"FitBH":case"FitV":case"FitBV":if(1!==n.length)return!1;break;case"FitR":if(4!==n.length)return!1;s=!1;break;default:return!1}for(let e of n)if(!("number"==typeof e||s&&null===e))return!1;return!0},t8(ij,A);let iF=ij;class iO extends iF{setDocument(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}let{AbortException:iR,AnnotationEditorLayer:iW,AnnotationEditorParamsType:i$,AnnotationEditorType:iV,AnnotationEditorUIManager:iB,AnnotationLayer:iH,AnnotationMode:iz,build:iU,CMapCompressionType:iZ,ColorPicker:iG,createValidAbsoluteUrl:iQ,DOMSVGFactory:iJ,DrawLayer:iX,FeatureTest:iK,fetchData:iq,getDocument:iY,getFilenameFromUrl:i0,getPdfFilenameFromUrl:i1,getXfaPageViewport:i2,GlobalWorkerOptions:i3,ImageKind:i4,InvalidPDFException:i5,isDataScheme:i9,isPdfFile:i6,MissingPDFException:i8,noContextMenu:i7,normalizeUnicode:ne,OPS:nt,Outliner:ni,PasswordResponses:nn,PDFDataRangeTransport:ns,PDFDateString:nr,PDFWorker:na,PermissionFlag:nl,PixelsPerInch:no,RenderingCancelledException:nh,renderTextLayer:nd,setLayerDimensions:nu,shadow:nc,TextLayer:np,UnexpectedResponseException:ng,updateTextLayer:nf,Util:nm,VerbosityLevel:nv,version:nb,XfaLayer:nw}=globalThis.pdfjsLib;class ny{constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:n=null,imageResourcesPath:s="",renderForms:r=!0,enableScripting:a=!1,hasJSActionsPromise:l=null,fieldObjectsPromise:o=null,annotationCanvasMap:h=null,accessibilityManager:d=null,annotationEditorUIManager:u=null,onAppend:c=null}){t8(this,F),t8(this,D,null),t8(this,j,null),this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=r,this.annotationStorage=n,this.enableScripting=a,this._hasJSActionsPromise=l||Promise.resolve(!1),this._fieldObjectsPromise=o||Promise.resolve(null),this._annotationCanvasMap=h,this._accessibilityManager=d,this._annotationEditorUIManager=u,t7(this,D,c),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}async render(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[s,r,a]=await Promise.all([this.pdfPage.getAnnotations({intent:n}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let l=this.div=document.createElement("div");(l.className="annotationLayer",null==(t=t6(this,D))||t.call(this,l),0===s.length)?this.hide():(this.annotationLayer=new iH({div:l,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:s,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:r,fieldObjects:a}),this.linkService.isInPresentationMode&&ie(this,F,O).call(this,3),t6(this,j)||(t7(this,j,new AbortController),null==(i=this._eventBus)||i._on("presentationmodechanged",e=>{ie(this,F,O).call(this,e.state)},{signal:t6(this,j).signal})))}cancel(){var e;this._cancelled=!0,null==(e=t6(this,j))||e.abort(),t7(this,j,null)}hide(){this.div&&(this.div.hidden=!0)}}function n_(e,t){let i=document.createElement("a");if(!i.click)throw Error('DownloadManager: "a.click()" is not supported.');i.href=e,i.target="_parent","download"in i&&(i.download=t),(document.body||document.documentElement).append(i),i.click(),i.remove()}D=new WeakMap,j=new WeakMap,F=new WeakSet,O=function(e){if(!this.div)return;let t=!1;switch(e){case 3:t=!0;break;case 1:break;default:return}for(let e of this.div.childNodes)e.hasAttribute("data-internal-link")||(e.inert=t)};class nP{constructor(){t8(this,R,new WeakMap)}downloadData(e,t,i){n_(URL.createObjectURL(new Blob([e],{type:i})),t)}openOrDownloadData(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];let i=i6(t);return this.downloadData(e,t,i?"application/pdf":""),!1}download(e,t,i,n){let s;if(e)s=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!iQ(t,"http://example.com"))return void console.error(`download - not a valid URL: ${t}`);s=t+"#pdfjs.action=download"}n_(s,i)}}R=new WeakMap;async function nx(e){let{target:t,name:i,delay:n=0}=e;if("object"!=typeof t||!(i&&"string"==typeof i)||!(Number.isInteger(n)&&n>=0))throw Error("waitOnEventOrTimeout - invalid parameters.");let{promise:s,resolve:r}=Promise.withResolvers(),a=new AbortController;function l(e){a.abort(),clearTimeout(h),r(e)}let o=t instanceof nS?"_on":"addEventListener";t[o](i,l.bind(null,"event"),{signal:a.signal});let h=setTimeout(l.bind(null,"timeout"),n);return s}class nS{constructor(){t8(this,W,Object.create(null))}on(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(e,t,{external:!0,once:null==i?void 0:i.once,signal:null==i?void 0:i.signal})}off(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],this._off(e,t)}dispatch(e,t){let i,n=t6(this,W)[e];if(n&&0!==n.length){for(let{listener:s,external:r,once:a}of n.slice(0)){if(a&&this._off(e,s),r){(i||(i=[])).push(s);continue}s(t)}if(i){for(let e of i)e(t);i=null}}}_on(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=null;if((null==n?void 0:n.signal)instanceof AbortSignal){let{signal:i}=n;if(i.aborted)return void console.error("Cannot use an `aborted` signal.");let r=()=>this._off(e,t);s=()=>i.removeEventListener("abort",r),i.addEventListener("abort",r)}((i=t6(this,W))[e]||(i[e]=[])).push({listener:t,external:(null==n?void 0:n.external)===!0,once:(null==n?void 0:n.once)===!0,rmAbort:s})}_off(e,t){var i;arguments.length>2&&void 0!==arguments[2]&&arguments[2];let n=t6(this,W)[e];if(n)for(let e=0,s=n.length;e<s;e++){let s=n[e];if(s.listener===t){null==(i=s.rmAbort)||i.call(s),n.splice(e,1);return}}}}W=new WeakMap;class nM{constructor(e){this.value=e}valueOf(){return this.value}}class nk extends nM{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class nL extends nM{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class nE extends nM{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}function nC(e,t,i){return t[i]?nN(e,t[i].value):(e.reportError(RangeError("No default")),new nk)}function nI(e,t){let i=[],n=Object.create(null);for(let s of t)"narg"===s.type?n[s.name]=nT(e,s.value):i.push(nT(e,s));return{positional:i,named:n}}function nT(e,t){switch(t.type){case"str":return t.value;case"num":return new nL(t.value,{minimumFractionDigits:t.precision});case"var":return function(e,t){let i,{name:n}=t;if(e.params)if(!Object.prototype.hasOwnProperty.call(e.params,n))return new nk(`$${n}`);else i=e.params[n];else{if(!(e.args&&Object.prototype.hasOwnProperty.call(e.args,n)))return e.reportError(ReferenceError(`Unknown variable: $${n}`)),new nk(`$${n}`);i=e.args[n]}if(i instanceof nM)return i;switch(typeof i){case"string":return i;case"number":return new nL(i);case"object":if(i instanceof Date)return new nE(i.getTime());default:return e.reportError(TypeError(`Variable type not supported: $${n}, ${typeof i}`)),new nk(`$${n}`)}}(e,t);case"mesg":return function(e,t){let{name:i,attr:n}=t,s=e.bundle._messages.get(i);if(!s)return e.reportError(ReferenceError(`Unknown message: ${i}`)),new nk(i);if(n){let t=s.attributes[n];return t?nN(e,t):(e.reportError(ReferenceError(`Unknown attribute: ${n}`)),new nk(`${i}.${n}`))}return s.value?nN(e,s.value):(e.reportError(ReferenceError(`No value: ${i}`)),new nk(i))}(e,t);case"term":return function(e,t){let{name:i,attr:n,args:s}=t,r=`-${i}`,a=e.bundle._terms.get(r);if(!a)return e.reportError(ReferenceError(`Unknown term: ${r}`)),new nk(r);if(n){let t=a.attributes[n];if(t){e.params=nI(e,s).named;let i=nN(e,t);return e.params=null,i}return e.reportError(ReferenceError(`Unknown attribute: ${n}`)),new nk(`${r}.${n}`)}e.params=nI(e,s).named;let l=nN(e,a.value);return e.params=null,l}(e,t);case"func":return function(e,t){let{name:i,args:n}=t,s=e.bundle._functions[i];if(!s)return e.reportError(ReferenceError(`Unknown function: ${i}()`)),new nk(`${i}()`);if("function"!=typeof s)return e.reportError(TypeError(`Function ${i}() is not callable`)),new nk(`${i}()`);try{let t=nI(e,n);return s(t.positional,t.named)}catch(t){return e.reportError(t),new nk(`${i}()`)}}(e,t);case"select":return function(e,t){let{selector:i,variants:n,star:s}=t,r=nT(e,i);if(r instanceof nk)return nC(e,n,s);for(let t of n){var a,l,o;let i=nT(e,t.key);if(a=e,l=r,(o=i)===l||o instanceof nL&&l instanceof nL&&o.value===l.value||l instanceof nL&&"string"==typeof o&&o===a.memoizeIntlObject(Intl.PluralRules,l.opts).select(l.value)||0)return nN(e,t.value)}return nC(e,n,s)}(e,t);default:return new nk}}function nA(e,t){if(e.dirty.has(t))return e.reportError(RangeError("Cyclic reference")),new nk;e.dirty.add(t);let i=[],n=e.bundle._useIsolating&&t.length>1;for(let s of t){if("string"==typeof s){i.push(e.bundle._transform(s));continue}if(e.placeables++,e.placeables>100)throw e.dirty.delete(t),RangeError(`Too many placeables expanded: ${e.placeables}, max allowed is 100`);n&&i.push("⁨"),i.push(nT(e,s).toString(e)),n&&i.push("⁩")}return e.dirty.delete(t),i.join("")}function nN(e,t){return"string"==typeof t?e.bundle._transform(t):nA(e,t)}class nD{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let n=JSON.stringify(t);return i[n]||(i[n]=new e(this.bundle.locales,t)),i[n]}}function nj(e,t){let i=Object.create(null);for(let[n,s]of Object.entries(e))t.includes(n)&&(i[n]=s.valueOf());return i}let nF=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function nO(e,t){let i=e[0];if(i instanceof nk)return new nk(`NUMBER(${i.valueOf()})`);if(i instanceof nL)return new nL(i.valueOf(),{...i.opts,...nj(t,nF)});if(i instanceof nE)return new nL(i.valueOf(),{...nj(t,nF)});throw TypeError("Invalid argument to NUMBER")}let nR=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function nW(e,t){let i=e[0];if(i instanceof nk)return new nk(`DATETIME(${i.valueOf()})`);if(i instanceof nE)return new nE(i.valueOf(),{...i.opts,...nj(t,nR)});if(i instanceof nL)return new nE(i.valueOf(),{...nj(t,nR)});throw TypeError("Invalid argument to DATETIME")}let n$=new Map;class nV{constructor(e,{functions:t,useIsolating:i=!0,transform:n=e=>e}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:nO,DATETIME:nW,...t},this._useIsolating=i,this._transform=n,this._intls=function(e){let t=Array.isArray(e)?e.join(" "):e,i=n$.get(t);return void 0===i&&(i=new Map,n$.set(t,i)),i}(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e){let{allowOverrides:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];for(let n=0;n<e.body.length;n++){let s=e.body[n];if(s.id.startsWith("-")){if(!1===t&&this._terms.has(s.id)){i.push(Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(!1===t&&this._messages.has(s.id)){i.push(Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof e)return this._transform(e);let n=new nD(this,i,t);try{return nA(n,e).toString(n)}catch(e){if(n.errors&&e instanceof Error)return n.errors.push(e),new nk().toString(n);throw e}}}let nB=/^(-?[a-zA-Z][\w-]*) *= */gm,nH=/\.([a-zA-Z][\w-]*) *= */y,nz=/\*?\[/y,nU=/(-?[0-9]+(?:\.([0-9]+))?)/y,nZ=/([a-zA-Z][\w-]*)/y,nG=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,nQ=/^[A-Z][A-Z0-9_-]*$/,nJ=/([^{}\n\r]+)/y,nX=/([^\\"\n\r]*)/y,nK=/\\([\\"])/y,nq=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,nY=/^\n+/,n0=/ +$/,n1=/ *\r?\n/g,n2=/( *)$/,n3=/{\s*/y,n4=/\s*}/y,n5=/\[\s*/y,n9=/\s*] */y,n6=/\s*\(\s*/y,n8=/\s*->\s*/y,n7=/\s*:\s*/y,se=/\s*,?\s*/y,st=/\s+/y;class si{constructor(e){this.body=[],nB.lastIndex=0;let t=0;for(;;){let n=nB.exec(e);if(null===n)break;t=nB.lastIndex;try{this.body.push(function(e){let t=l(),n=function(){let e=Object.create(null);for(;i(nH);){let t=a(nH),i=l();if(null===i)throw SyntaxError("Expected attribute value");e[t]=i}return e}();if(null===t&&0===Object.keys(n).length)throw SyntaxError("Expected message value or attributes");return{id:e,value:t,attributes:n}}(n[1]))}catch(e){if(e instanceof SyntaxError)continue;throw e}}function i(i){return i.lastIndex=t,i.test(e)}function n(i,n){if(e[t]===i)return t++,!0;if(n)throw new n(`Expected ${i}`);return!1}function s(e,n){if(i(e))return t=e.lastIndex,!0;if(n)throw new n(`Expected ${e.toString()}`);return!1}function r(i){i.lastIndex=t;let n=i.exec(e);if(null===n)throw SyntaxError(`Expected ${i.toString()}`);return t=i.lastIndex,n}function a(e){return r(e)[1]}function l(){let n;if(i(nJ)&&(n=a(nJ)),"{"===e[t]||"}"===e[t])return o(n?[n]:[],1/0);let s=c();return s?n?o([n,s],s.length):(s.value=p(s.value,nY),o([s],s.length)):n?p(n,n0):null}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;for(;;){if(i(nJ)){n.push(a(nJ));continue}if("{"===e[t]){n.push(h());continue}if("}"===e[t])throw SyntaxError("Unbalanced closing brace");let r=c();if(r){n.push(r),s=Math.min(s,r.length);continue}break}let r=n.length-1,l=n[r];"string"==typeof l&&(n[r]=p(l,n0));let o=[];for(let e of n)e instanceof sn&&(e=e.value.slice(0,e.value.length-s)),e&&o.push(e);return o}function h(){s(n3,SyntaxError);let o=function n(){if("{"===e[t])return h();if(i(nG)){let[,i,a,l=null]=r(nG);if("$"===i)return{type:"var",name:a};if(s(n6)){let r=function(){let i=[];for(;;){switch(e[t]){case")":return t++,i;case void 0:throw SyntaxError("Unclosed argument list")}i.push(function(){let e=n();return"mesg"!==e.type?e:s(n7)?{type:"narg",name:e.name,value:d()}:e}()),s(se)}}();if("-"===i)return{type:"term",name:a,attr:l,args:r};if(nQ.test(a))return{type:"func",name:a,args:r};throw SyntaxError("Function names must be all upper-case")}return"-"===i?{type:"term",name:a,attr:l,args:[]}:{type:"mesg",name:a,attr:l}}return d()}();if(s(n4))return o;if(s(n8)){let e=function(){let e,t=[],r=0;for(;i(nz);){n("*")&&(e=r);let o=function(){let e;return s(n5,SyntaxError),e=i(nU)?u():{type:"str",value:a(nZ)},s(n9,SyntaxError),e}(),h=l();if(null===h)throw SyntaxError("Expected variant value");t[r++]={key:o,value:h}}if(0===r)return null;if(void 0===e)throw SyntaxError("Expected default variant");return{variants:t,star:e}}();return s(n4,SyntaxError),{type:"select",selector:o,...e}}throw SyntaxError("Unclosed placeable")}function d(){if(i(nU))return u();if('"'===e[t]){n('"',SyntaxError);let s="";for(;;){if(s+=a(nX),"\\"===e[t]){s+=function(){if(i(nK))return a(nK);if(i(nq)){let[,e,t]=r(nq),i=parseInt(e||t,16);return i<=55295||57344<=i?String.fromCodePoint(i):"�"}throw SyntaxError("Unknown escape sequence")}();continue}if(n('"'))return{type:"str",value:s};throw SyntaxError("Unclosed string literal")}return}throw SyntaxError("Invalid expression")}function u(){let[,e,t=""]=r(nU),i=t.length;return{type:"num",value:parseFloat(e),precision:i}}function c(){let i=t;switch(s(st),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return g(e.slice(i,t))}return" "===e[t-1]&&g(e.slice(i,t))}function p(e,t){return e.replace(t,"")}function g(e){return new sn(e.replace(n1,"\n"),n2.exec(e)[1].length)}}}class sn{constructor(e,t){this.value=e,this.length=t}}let ss=/<|&#?\w+;/,sr={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},sa={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function sl(e,t){let i=t.hasAttribute("data-l10n-attrs")?t.getAttribute("data-l10n-attrs").split(",").map(e=>e.trim()):null;for(let n of Array.from(t.attributes))sh(n.name,t,i)&&!function(e,t){if(!e)return!1;for(let i of e)if(i.name===t)return!0;return!1}(e.attributes,n.name)&&t.removeAttribute(n.name);if(e.attributes)for(let n of Array.from(e.attributes))sh(n.name,t,i)&&t.getAttribute(n.name)!==n.value&&t.setAttribute(n.name,n.value)}function so(e){return e.ownerDocument.createTextNode(e.textContent)}function sh(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(i&&i.includes(e))return!0;let n=sa[t.namespaceURI];if(!n)return!1;let s=e.toLowerCase(),r=t.localName;if(n.global.includes(s))return!0;if(!n[r])return!1;if(n[r].includes(s))return!0;if("http://www.w3.org/1999/xhtml"===t.namespaceURI&&"input"===r&&"value"===s){let e=t.type.toLowerCase();if("submit"===e||"button"===e||"reset"===e)return!0}return!1}function sd(e,t){return t.textContent=e.textContent,sl(e,t),t}class su extends Array{static from(e){return e instanceof this?e:new this(e)}}class sc extends su{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next:async()=>(e.length<=t&&e.push(e.iterator.next()),e[t++])}}async touchNext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;for(;t++<e;){let e=this[this.length-1];if(e&&(await e).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class sp{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}async formatWithFallback(e,t){let i=[],n=!1;for await(let s of this.bundles){n=!0;let r=function(e,t,i,n){let s=[],r=new Set;return i.forEach((i,a)=>{let{id:l,args:o}=i;if(void 0!==n[a])return;let h=t.getMessage(l);if(h){if(s.length=0,n[a]=e(t,s,h,o),s.length>0&&"u">typeof console){let e=t.locales[0],i=s.join(", ");console.warn(`[fluent][resolver] errors in ${e}/${l}: ${i}.`)}}else r.add(l)}),r}(t,s,e,i);if(0===r.size)break;if("u">typeof console){let e=s.locales[0],t=Array.from(r).join(", ");console.warn(`[fluent] Missing translations in ${e}: ${t}`)}}return!n&&"u">typeof console&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i}formatMessages(e){return this.formatWithFallback(e,sf)}formatValues(e){return this.formatWithFallback(e,sg)}async formatValue(e,t){let[i]=await this.formatValues([{id:e,args:t}]);return i}handleEvent(){this.onChange()}onChange(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.bundles=sc.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}}function sg(e,t,i,n){return i.value?e.formatPattern(i.value,n,t):null}function sf(e,t,i,n){let s={value:null,attributes:null};i.value&&(s.value=e.formatPattern(i.value,n,t));let r=Object.keys(i.attributes);if(r.length>0)for(let[a,l]of(s.attributes=Array(r.length),r.entries())){let r=e.formatPattern(i.attributes[l],n,t);s.attributes[a]={name:l,value:r}}return s}let sm="data-l10n-id",sv="data-l10n-args",sb=`[${sm}]`;class sw extends sp{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[sm,sv]}}onChange(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(sm,t),i?e.setAttribute(sv,JSON.stringify(i)):e.removeAttribute(sv),e}getAttributes(e){return{id:e.getAttribute(sm),args:JSON.parse(e.getAttribute(sv)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(e=>this.translateMutations(e));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return(this.roots.delete(e),this.pauseObserving(),0===this.roots.size)?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){return Promise.all(Array.from(this.roots).map(e=>this.translateFragment(e)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let e of t.addedNodes)if(e.nodeType===e.ELEMENT_NODE)if(e.childElementCount)for(let t of this.getTranslatables(e))this.pendingElements.add(t);else e.hasAttribute(sm)&&this.pendingElements.add(e)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}async translateElements(e){if(!e.length)return;let t=e.map(this.getKeysForElement),i=await this.formatMessages(t);return this.applyTranslations(e,i)}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)void 0!==t[i]&&function(e,t){let{value:i}=t;if("string"==typeof i)if("title"===e.localName&&"http://www.w3.org/1999/xhtml"===e.namespaceURI)e.textContent=i;else if(ss.test(i)){let t=e.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");t.innerHTML=i,function(e,t){for(let i of e.childNodes)if(i.nodeType!==i.TEXT_NODE){if(i.hasAttribute("data-l10n-name")){let n=function(e,t){let i=t.getAttribute("data-l10n-name"),n=e.querySelector(`[data-l10n-name="${i}"]`);return n?n.localName!==t.localName?(console.warn(`An element named "${i}" was found in the translation but its type ${t.localName} didn't match the element found in the source (${n.localName}).`),so(t)):(e.removeChild(n),sd(t,n.cloneNode(!1))):(console.warn(`An element named "${i}" wasn't found in the source.`),so(t))}(t,i);e.replaceChild(n,i);continue}if(function(e){let t=sr[e.namespaceURI];return t&&t.includes(e.localName)}(i)){let t=function(e){let t=e.ownerDocument.createElement(e.localName);return sd(e,t)}(i);e.replaceChild(t,i);continue}console.warn(`An element of forbidden type "${i.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),e.replaceChild(so(i),i)}t.textContent="",t.appendChild(e)}(t.content,e)}else e.textContent=i;sl(t,e)}(e[i],t[i]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(sb));return"function"==typeof e.hasAttribute&&e.hasAttribute(sm)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(sm),args:JSON.parse(e.getAttribute(sv)||null)}}}let sy=class e{constructor({lang:t,isRTL:i},n=null){t8(this,$),t8(this,V,new Set),t8(this,B),t8(this,H),t7(this,B,ie(e,z,U).call(e,t)),t7(this,H,n),t7(this,$,i??ie(e,z,Z).call(e,t6(this,B))?"rtl":"ltr")}_setL10n(e){t7(this,H,e)}getLanguage(){return t6(this,B)}getDirection(){return t6(this,$)}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;if(Array.isArray(e))return e=e.map(e=>({id:e})),(await t6(this,H).formatMessages(e)).map(e=>e.value);let n=await t6(this,H).formatMessages([{id:e,args:t}]);return(null==n?void 0:n[0].value)||i}async translate(e){t6(this,V).add(e);try{t6(this,H).connectRoot(e),await t6(this,H).translateRoots()}catch{}}async destroy(){for(let e of t6(this,V))t6(this,H).disconnectRoot(e);t6(this,V).clear(),t6(this,H).pauseObserving()}pause(){t6(this,H).pauseObserving()}resume(){t6(this,H).resumeObserving()}};$=new WeakMap,V=new WeakMap,B=new WeakMap,H=new WeakMap,z=new WeakSet,U=function(e){return({en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"})[e=(null==e?void 0:e.toLowerCase())||"en-us"]||e},Z=function(e){return["ar","he","fa","ps","ur"].includes(e.split("-",1)[0])},t8(sy,z);let s_=sy;function sP(e,t){let i=new si(t),n=new nV(e),s=n.addResource(i);return s.length&&console.error("L10n errors",s),n}let sx=class e extends s_{constructor(t){super({lang:t});const i=t?ie(e,G,Q).bind(e,"en-us",this.getLanguage()):ie(e,G,K).bind(e,this.getLanguage());this._setL10n(new sw([],i))}};G=new WeakSet,Q=async function*(e,t){let{baseURL:i,paths:n}=await ie(this,G,X).call(this),s=[t];if(e!==t){let i=t.split("-",1)[0];i!==t&&s.push(i),s.push(e)}for(let e of s){let t=await ie(this,G,J).call(this,e,i,n);t?yield t:"en-us"===e&&(yield ie(this,G,q).call(this,e))}},J=async function(e,t,i){let n=i[e];if(!n)return null;let s=new URL(n,t);return sP(e,await iq(s,"text"))},X=async function(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=await iq(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}},K=async function*(e){yield ie(this,G,q).call(this,e)},q=async function(e){return sP(e,"pdfjs-previous-button =\n    .title = Previous Page\npdfjs-previous-button-label = Previous\npdfjs-next-button =\n    .title = Next Page\npdfjs-next-button-label = Next\npdfjs-page-input =\n    .title = Page\npdfjs-of-pages = of { $pagesCount }\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\npdfjs-zoom-out-button =\n    .title = Zoom Out\npdfjs-zoom-out-button-label = Zoom Out\npdfjs-zoom-in-button =\n    .title = Zoom In\npdfjs-zoom-in-button-label = Zoom In\npdfjs-zoom-select =\n    .title = Zoom\npdfjs-presentation-mode-button =\n    .title = Switch to Presentation Mode\npdfjs-presentation-mode-button-label = Presentation Mode\npdfjs-open-file-button =\n    .title = Open File\npdfjs-open-file-button-label = Open\npdfjs-print-button =\n    .title = Print\npdfjs-print-button-label = Print\npdfjs-save-button =\n    .title = Save\npdfjs-save-button-label = Save\npdfjs-download-button =\n    .title = Download\npdfjs-download-button-label = Download\npdfjs-bookmark-button =\n    .title = Current Page (View URL from Current Page)\npdfjs-bookmark-button-label = Current Page\npdfjs-tools-button =\n    .title = Tools\npdfjs-tools-button-label = Tools\npdfjs-first-page-button =\n    .title = Go to First Page\npdfjs-first-page-button-label = Go to First Page\npdfjs-last-page-button =\n    .title = Go to Last Page\npdfjs-last-page-button-label = Go to Last Page\npdfjs-page-rotate-cw-button =\n    .title = Rotate Clockwise\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\npdfjs-page-rotate-ccw-button =\n    .title = Rotate Counterclockwise\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\npdfjs-cursor-text-select-tool-button =\n    .title = Enable Text Selection Tool\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\npdfjs-cursor-hand-tool-button =\n    .title = Enable Hand Tool\npdfjs-cursor-hand-tool-button-label = Hand Tool\npdfjs-scroll-page-button =\n    .title = Use Page Scrolling\npdfjs-scroll-page-button-label = Page Scrolling\npdfjs-scroll-vertical-button =\n    .title = Use Vertical Scrolling\npdfjs-scroll-vertical-button-label = Vertical Scrolling\npdfjs-scroll-horizontal-button =\n    .title = Use Horizontal Scrolling\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\npdfjs-scroll-wrapped-button =\n    .title = Use Wrapped Scrolling\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\npdfjs-spread-none-button =\n    .title = Do not join page spreads\npdfjs-spread-none-button-label = No Spreads\npdfjs-spread-odd-button =\n    .title = Join page spreads starting with odd-numbered pages\npdfjs-spread-odd-button-label = Odd Spreads\npdfjs-spread-even-button =\n    .title = Join page spreads starting with even-numbered pages\npdfjs-spread-even-button-label = Even Spreads\npdfjs-document-properties-button =\n    .title = Document Properties…\npdfjs-document-properties-button-label = Document Properties…\npdfjs-document-properties-file-name = File name:\npdfjs-document-properties-file-size = File size:\npdfjs-document-properties-kb = { $size_kb } KB ({ $size_b } bytes)\npdfjs-document-properties-mb = { $size_mb } MB ({ $size_b } bytes)\npdfjs-document-properties-title = Title:\npdfjs-document-properties-author = Author:\npdfjs-document-properties-subject = Subject:\npdfjs-document-properties-keywords = Keywords:\npdfjs-document-properties-creation-date = Creation Date:\npdfjs-document-properties-modification-date = Modification Date:\npdfjs-document-properties-date-string = { $date }, { $time }\npdfjs-document-properties-creator = Creator:\npdfjs-document-properties-producer = PDF Producer:\npdfjs-document-properties-version = PDF Version:\npdfjs-document-properties-page-count = Page Count:\npdfjs-document-properties-page-size = Page Size:\npdfjs-document-properties-page-size-unit-inches = in\npdfjs-document-properties-page-size-unit-millimeters = mm\npdfjs-document-properties-page-size-orientation-portrait = portrait\npdfjs-document-properties-page-size-orientation-landscape = landscape\npdfjs-document-properties-page-size-name-a-three = A3\npdfjs-document-properties-page-size-name-a-four = A4\npdfjs-document-properties-page-size-name-letter = Letter\npdfjs-document-properties-page-size-name-legal = Legal\npdfjs-document-properties-page-size-dimension-string = { $width } × { $height } { $unit } ({ $orientation })\npdfjs-document-properties-page-size-dimension-name-string = { $width } × { $height } { $unit } ({ $name }, { $orientation })\npdfjs-document-properties-linearized = Fast Web View:\npdfjs-document-properties-linearized-yes = Yes\npdfjs-document-properties-linearized-no = No\npdfjs-document-properties-close-button = Close\npdfjs-print-progress-message = Preparing document for printing…\npdfjs-print-progress-percent = { $progress }%\npdfjs-print-progress-close-button = Cancel\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\npdfjs-toggle-sidebar-button =\n    .title = Toggle Sidebar\npdfjs-toggle-sidebar-notification-button =\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\npdfjs-document-outline-button =\n    .title = Show Document Outline (double-click to expand/collapse all items)\npdfjs-document-outline-button-label = Document Outline\npdfjs-attachments-button =\n    .title = Show Attachments\npdfjs-attachments-button-label = Attachments\npdfjs-layers-button =\n    .title = Show Layers (double-click to reset all layers to the default state)\npdfjs-layers-button-label = Layers\npdfjs-thumbs-button =\n    .title = Show Thumbnails\npdfjs-thumbs-button-label = Thumbnails\npdfjs-current-outline-item-button =\n    .title = Find Current Outline Item\npdfjs-current-outline-item-button-label = Current Outline Item\npdfjs-findbar-button =\n    .title = Find in Document\npdfjs-findbar-button-label = Find\npdfjs-additional-layers = Additional Layers\npdfjs-thumb-page-title =\n    .title = Page { $page }\npdfjs-thumb-page-canvas =\n    .aria-label = Thumbnail of Page { $page }\npdfjs-find-input =\n    .title = Find\n    .placeholder = Find in document…\npdfjs-find-previous-button =\n    .title = Find the previous occurrence of the phrase\npdfjs-find-previous-button-label = Previous\npdfjs-find-next-button =\n    .title = Find the next occurrence of the phrase\npdfjs-find-next-button-label = Next\npdfjs-find-highlight-checkbox = Highlight All\npdfjs-find-match-case-checkbox-label = Match Case\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\npdfjs-find-entire-word-checkbox-label = Whole Words\npdfjs-find-reached-top = Reached top of document, continued from bottom\npdfjs-find-reached-bottom = Reached end of document, continued from top\npdfjs-find-match-count =\n    { $total ->\n        [one] { $current } of { $total } match\n       *[other] { $current } of { $total } matches\n    }\npdfjs-find-match-count-limit =\n    { $limit ->\n        [one] More than { $limit } match\n       *[other] More than { $limit } matches\n    }\npdfjs-find-not-found = Phrase not found\npdfjs-page-scale-width = Page Width\npdfjs-page-scale-fit = Page Fit\npdfjs-page-scale-auto = Automatic Zoom\npdfjs-page-scale-actual = Actual Size\npdfjs-page-scale-percent = { $scale }%\npdfjs-page-landmark =\n    .aria-label = Page { $page }\npdfjs-loading-error = An error occurred while loading the PDF.\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\npdfjs-missing-file-error = Missing PDF file.\npdfjs-unexpected-response-error = Unexpected server response.\npdfjs-rendering-error = An error occurred while rendering the page.\npdfjs-annotation-date-string = { $date }, { $time }\npdfjs-text-annotation-type =\n    .alt = [{ $type } Annotation]\npdfjs-password-label = Enter the password to open this PDF file.\npdfjs-password-invalid = Invalid password. Please try again.\npdfjs-password-ok-button = OK\npdfjs-password-cancel-button = Cancel\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\npdfjs-editor-free-text-button =\n    .title = Text\npdfjs-editor-free-text-button-label = Text\npdfjs-editor-ink-button =\n    .title = Draw\npdfjs-editor-ink-button-label = Draw\npdfjs-editor-stamp-button =\n    .title = Add or edit images\npdfjs-editor-stamp-button-label = Add or edit images\npdfjs-editor-highlight-button =\n    .title = Highlight\npdfjs-editor-highlight-button-label = Highlight\npdfjs-highlight-floating-button1 =\n    .title = Highlight\n    .aria-label = Highlight\npdfjs-highlight-floating-button-label = Highlight\npdfjs-editor-remove-ink-button =\n    .title = Remove drawing\npdfjs-editor-remove-freetext-button =\n    .title = Remove text\npdfjs-editor-remove-stamp-button =\n    .title = Remove image\npdfjs-editor-remove-highlight-button =\n    .title = Remove highlight\npdfjs-editor-free-text-color-input = Color\npdfjs-editor-free-text-size-input = Size\npdfjs-editor-ink-color-input = Color\npdfjs-editor-ink-thickness-input = Thickness\npdfjs-editor-ink-opacity-input = Opacity\npdfjs-editor-stamp-add-image-button =\n    .title = Add image\npdfjs-editor-stamp-add-image-button-label = Add image\npdfjs-editor-free-highlight-thickness-input = Thickness\npdfjs-editor-free-highlight-thickness-title =\n    .title = Change thickness when highlighting items other than text\npdfjs-free-text =\n    .aria-label = Text Editor\npdfjs-free-text-default-content = Start typing…\npdfjs-ink =\n    .aria-label = Draw Editor\npdfjs-ink-canvas =\n    .aria-label = User-created image\npdfjs-editor-alt-text-button-label = Alt text\npdfjs-editor-alt-text-edit-button-label = Edit alt text\npdfjs-editor-alt-text-dialog-label = Choose an option\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can’t see the image or when it doesn’t load.\npdfjs-editor-alt-text-add-description-label = Add a description\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\npdfjs-editor-alt-text-cancel-button = Cancel\npdfjs-editor-alt-text-save-button = Save\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\npdfjs-editor-alt-text-textarea =\n    .placeholder = For example, “A young man sits down at a table to eat a meal”\npdfjs-editor-resizer-label-top-left = Top left corner — resize\npdfjs-editor-resizer-label-top-middle = Top middle — resize\npdfjs-editor-resizer-label-top-right = Top right corner — resize\npdfjs-editor-resizer-label-middle-right = Middle right — resize\npdfjs-editor-resizer-label-bottom-right = Bottom right corner — resize\npdfjs-editor-resizer-label-bottom-middle = Bottom middle — resize\npdfjs-editor-resizer-label-bottom-left = Bottom left corner — resize\npdfjs-editor-resizer-label-middle-left = Middle left — resize\npdfjs-editor-highlight-colorpicker-label = Highlight color\npdfjs-editor-colorpicker-button =\n    .title = Change color\npdfjs-editor-colorpicker-dropdown =\n    .aria-label = Color choices\npdfjs-editor-colorpicker-yellow =\n    .title = Yellow\npdfjs-editor-colorpicker-green =\n    .title = Green\npdfjs-editor-colorpicker-blue =\n    .title = Blue\npdfjs-editor-colorpicker-pink =\n    .title = Pink\npdfjs-editor-colorpicker-red =\n    .title = Red\npdfjs-editor-highlight-show-all-button-label = Show all\npdfjs-editor-highlight-show-all-button =\n    .title = Show all")},t8(sx,G);let sS=sx;function sM(){return document.location.hash}class sk{constructor({linkService:e,eventBus:t}){t8(this,ee),t8(this,Y,null),this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",e=>{this._isPagesLoaded=!!e.pagesCount},{once:!0})})}initialize(e){let{fingerprint:t,resetHistory:i=!1,updateUrl:n=!1}=e;if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();let s=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===n,this._initialized=!0,ie(this,ee,ed).call(this);let r=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=sM(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!ie(this,ee,es).call(this,r,!0)||i){let{hash:e,page:t,rotation:n}=ie(this,ee,ea).call(this,!0);return!e||s||i?void ie(this,ee,et).call(this,null,!0):void ie(this,ee,et).call(this,{hash:e,page:t,rotation:n},!0)}let a=r.destination;ie(this,ee,er).call(this,a,r.uid,!0),void 0!==a.rotation&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(ie(this,ee,eh).call(this),this._initialized=!1,ie(this,ee,eu).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(e){var t,i;let{namedDest:n=null,explicitDest:s,pageNumber:r}=e;if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(s))return void console.error(`PDFHistory.push: "${s}" is not a valid explicitDest parameter.`);if(!ie(this,ee,en).call(this,r)&&(null!==r||this._destination))return void console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);let a=n||JSON.stringify(s);if(!a)return;let l=!1;if(this._destination&&(t=this._destination.hash,i=a,"string"==typeof t&&"string"==typeof i&&(t===i||ih(t).get("nameddest")===i)||function(e,t){if(!(Array.isArray(e)&&Array.isArray(t))||e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!function e(t,i){if(typeof t!=typeof i||Array.isArray(t)||Array.isArray(i))return!1;if(null!==t&&"object"==typeof t&&null!==i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(let n in t)if(!e(t[n],i[n]))return!1;return!0}return t===i||Number.isNaN(t)&&Number.isNaN(i)}(e[i],t[i]))return!1;return!0}(this._destination.dest,s))){if(this._destination.page)return;l=!0}(!this._popStateInProgress||l)&&(ie(this,ee,et).call(this,{dest:s,hash:a,page:r,rotation:this.linkService.rotation},l),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){var t;this._initialized&&(ie(this,ee,en).call(this,e)?(null==(t=this._destination)?void 0:t.page)===e||!this._popStateInProgress&&(ie(this,ee,et).call(this,{dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))):console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&ie(this,ee,ei).call(this)}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;ie(this,ee,es).call(this,e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;ie(this,ee,es).call(this,e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}}Y=new WeakMap,ee=new WeakSet,et=function(e){let t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i||!this._destination,s={fingerprint:this._fingerprint,uid:n?this._uid:this._uid+1,destination:e};if(ie(this,ee,er).call(this,e,s.uid),this._updateUrl&&(null==e?void 0:e.hash)){let i=document.location.href.split("#",1)[0];i.startsWith("file://")||(t=`${i}#${e.hash}`)}n?window.history.replaceState(s,"",t):window.history.pushState(s,"",t)},ei=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._position)return;let t=this._position;if(e&&((t=Object.assign(Object.create(null),this._position)).temporary=!0),!this._destination)return void ie(this,ee,et).call(this,t);if(this._destination.temporary)return void ie(this,ee,et).call(this,t,!0);if(this._destination.hash===t.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}ie(this,ee,et).call(this,t,i)},en=function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount},es=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(!t)return!1;else{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;let[t]=performance.getEntriesByType("navigation");if((null==t?void 0:t.type)!=="reload")return!1}return!!Number.isInteger(e.uid)&&!(e.uid<0)&&null!==e.destination&&"object"==typeof e.destination},er=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&(null==e?void 0:e.temporary)&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0},ea=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=unescape(sM()).substring(1),i=ih(t),n=i.get("nameddest")||"",s=0|i.get("page");return(!ie(this,ee,en).call(this,s)||e&&n.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}},el=function(e){let{location:t}=e;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||ie(this,ee,ei).call(this,!0),this._updateViewareaTimeout=null},1e3))},eo=function(e){let{state:t}=e,i=sM(),n=this._currentHash!==i;if(this._currentHash=i,!t){this._uid++;let{hash:e,page:t,rotation:i}=ie(this,ee,ea).call(this);ie(this,ee,et).call(this,{hash:e,page:t,rotation:i},!0);return}if(!ie(this,ee,es).call(this,t))return;this._popStateInProgress=!0,n&&(this._blockHashChange++,nx({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));let s=t.destination;ie(this,ee,er).call(this,s,t.uid,!0),ig(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.goToDestination(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})},eh=function(){(!this._destination||this._destination.temporary)&&ie(this,ee,ei).call(this)},ed=function(){if(t6(this,Y))return;t7(this,Y,new AbortController);let{signal:e}=t6(this,Y);this.eventBus._on("updateviewarea",ie(this,ee,el).bind(this),{signal:e}),window.addEventListener("popstate",ie(this,ee,eo).bind(this),{signal:e}),window.addEventListener("pagehide",ie(this,ee,eh).bind(this),{signal:e})},eu=function(){var e;null==(e=t6(this,Y))||e.abort(),t7(this,Y,null)};class sL{constructor(e){t8(this,ec,null),t8(this,ep,null),t8(this,eg,null),t8(this,ef,null),t8(this,em),this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||(this.l10n=new sS),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,t7(this,em,e.uiManager),t7(this,ec,e.annotationLayer||null),t7(this,ef,e.textLayer||null),t7(this,ep,e.drawLayer||null),t7(this,eg,e.onAppend||null)}async render(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("display"!==i||this._cancelled)return;let n=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:n}),this.show();return}let s=this.div=document.createElement("div");s.className="annotationEditorLayer",s.hidden=!0,s.dir=t6(this,em).direction,null==(t=t6(this,eg))||t.call(this,s),this.annotationEditorLayer=new iW({uiManager:t6(this,em),div:s,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:n,annotationLayer:t6(this,ec),textLayer:t6(this,ef),drawLayer:t6(this,ep)}),this.annotationEditorLayer.render({viewport:n,div:s,annotations:null,intent:i}),this.show()}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&!this.annotationEditorLayer.isInvisible&&(this.div.hidden=!1)}}ec=new WeakMap,ep=new WeakMap,eg=new WeakMap,ef=new WeakMap,em=new WeakMap;{var sE=Object.create(null);let e=navigator.userAgent||"",t=navigator.platform||"",i=navigator.maxTouchPoints||1,n=/Android/.test(e);(/\b(iPad|iPhone|iPod)(?=;)/.test(e)||"MacIntel"===t&&i>1||n)&&(sE.maxCanvasPixels=5242880)}let sC={canvasMaxAreaInBytes:{value:-1,kind:5},isInAutomation:{value:!1,kind:1},supportsCaretBrowsingMode:{value:!1,kind:1},supportsDocumentFonts:{value:!0,kind:1},supportsIntegratedFind:{value:!1,kind:1},supportsMouseWheelZoomCtrlKey:{value:!0,kind:1},supportsMouseWheelZoomMetaKey:{value:!0,kind:1},supportsPinchToZoom:{value:!0,kind:1},annotationEditorMode:{value:0,kind:130},annotationMode:{value:2,kind:130},cursorToolOnLoad:{value:0,kind:130},debuggerSrc:{value:"./debugger.mjs",kind:2},defaultZoomDelay:{value:400,kind:130},defaultZoomValue:{value:"",kind:130},disableHistory:{value:!1,kind:2},disablePageLabels:{value:!1,kind:130},enableHighlightEditor:{value:!1,kind:130},enableHighlightFloatingButton:{value:!1,kind:130},enableML:{value:!1,kind:130},enablePermissions:{value:!1,kind:130},enablePrintAutoRotate:{value:!0,kind:130},enableScripting:{value:!0,kind:130},enableStampEditor:{value:!0,kind:130},externalLinkRel:{value:"noopener noreferrer nofollow",kind:2},externalLinkTarget:{value:0,kind:130},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:130},historyUpdateUrl:{value:!1,kind:130},ignoreDestinationZoom:{value:!1,kind:130},imageResourcesPath:{value:"./images/",kind:2},maxCanvasPixels:{value:0x2000000,kind:2},forcePageColors:{value:!1,kind:130},pageColorsBackground:{value:"Canvas",kind:130},pageColorsForeground:{value:"CanvasText",kind:130},pdfBugEnabled:{value:!1,kind:130},printResolution:{value:150,kind:2},sidebarViewOnLoad:{value:-1,kind:130},scrollModeOnLoad:{value:-1,kind:130},spreadModeOnLoad:{value:-1,kind:130},textLayerMode:{value:1,kind:130},viewOnLoad:{value:0,kind:130},cMapPacked:{value:!0,kind:4},cMapUrl:{value:"../web/cmaps/",kind:4},disableAutoFetch:{value:!1,kind:132},disableFontFace:{value:!1,kind:132},disableRange:{value:!1,kind:132},disableStream:{value:!1,kind:132},docBaseUrl:{value:"",kind:4},enableHWA:{value:!0,kind:134},enableXfa:{value:!0,kind:132},fontExtraProperties:{value:!1,kind:4},isEvalSupported:{value:!0,kind:4},isOffscreenCanvasSupported:{value:!0,kind:4},maxImageSize:{value:-1,kind:4},pdfBug:{value:!1,kind:4},standardFontDataUrl:{value:"../web/standard_fonts/",kind:4},verbosity:{value:1,kind:4},workerPort:{value:null,kind:8},workerSrc:{value:"../build/pdf.worker.mjs",kind:8}};sC.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:2},sC.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:2},sC.viewerCssTheme={value:0,kind:130},sC.disablePreferences={value:!1,kind:2},sC.locale={value:navigator.language||"en-US",kind:2};let sI=Object.create(null);for(let e in sE)sI[e]=sE[e];class sT{constructor(){throw Error("Cannot initialize AppOptions.")}static get(e){var t;return sI[e]??(null==(t=sC[e])?void 0:t.value)??void 0}static getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Object.create(null);for(let n in sC){let s=sC[n];(!e||e&s.kind)&&(i[n]=t?s.value:sI[n]??s.value)}return i}static set(e,t){sI[e]=t}static setAll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){if(this.get("disablePreferences"))return;for(let e in sI)if(void 0===sE[e]){console.warn('setAll: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.');break}}for(let t in e)sI[t]=e[t]}static remove(e){delete sI[e];let t=sE[e];void 0!==t&&(sI[e]=t)}}class sA{constructor(e){t8(this,ev,null),this.pageIndex=e.pageIndex}async render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"display";"display"!==e||t6(this,ev)||this._cancelled||t7(this,ev,new iX({pageIndex:this.pageIndex}))}cancel(){this._cancelled=!0,t6(this,ev)&&(t6(this,ev).destroy(),t7(this,ev,null))}setParent(e){var t;null==(t=t6(this,ev))||t.setParent(e)}getDrawLayer(){return t6(this,ev)}}ev=new WeakMap;let sN={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},sD=/^H(\d+)$/;class sj{constructor(){t8(this,ew),t8(this,eb)}get renderingDone(){return void 0!==t6(this,eb)}render(e){if(void 0!==t6(this,eb))return t6(this,eb);let t=ie(this,ew,e_).call(this,e);return null==t||t.classList.add("structTree"),t7(this,eb,t)}hide(){t6(this,eb)&&!t6(this,eb).hidden&&(t6(this,eb).hidden=!0)}show(){var e;(null==(e=t6(this,eb))?void 0:e.hidden)&&(t6(this,eb).hidden=!1)}}eb=new WeakMap,ew=new WeakSet,ey=function(e,t){let{alt:i,id:n,lang:s}=e;void 0!==i&&t.setAttribute("aria-label",iu(i)),void 0!==n&&t.setAttribute("aria-owns",n),void 0!==s&&t.setAttribute("lang",iu(s,!0))},e_=function(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:i}=e,n=i.match(sD);n?(t.setAttribute("role","heading"),t.setAttribute("aria-level",n[1])):sN[i]&&t.setAttribute("role",sN[i])}if(ie(this,ew,ey).call(this,e,t),e.children)if(1===e.children.length&&"id"in e.children[0])ie(this,ew,ey).call(this,e.children[0],t);else for(let i of e.children)t.append(ie(this,ew,e_).call(this,i));return t};let sF=class e{constructor(){t8(this,eE),t8(this,eP,!1),t8(this,ex,null),t8(this,eS,new Map),t8(this,eM,new Map)}setTextMapping(e){t7(this,ex,e)}enable(){if(t6(this,eP))throw Error("TextAccessibilityManager is already enabled.");if(!t6(this,ex))throw Error("Text divs and strings have not been set.");if(t7(this,eP,!0),t7(this,ex,t6(this,ex).slice()),t6(this,ex).sort(ie(e,ek,eL)),t6(this,eS).size>0){let e=t6(this,ex);for(let[t,i]of t6(this,eS)){if(!document.getElementById(t)){t6(this,eS).delete(t);continue}ie(this,eE,eC).call(this,t,e[i])}}for(let[e,t]of t6(this,eM))this.addPointerInTextLayer(e,t);t6(this,eM).clear()}disable(){t6(this,eP)&&(t6(this,eM).clear(),t7(this,ex,null),t7(this,eP,!1))}removePointerInTextLayer(e){if(!t6(this,eP))return void t6(this,eM).delete(e);let t=t6(this,ex);if(!t||0===t.length)return;let{id:i}=e,n=t6(this,eS).get(i);if(void 0===n)return;let s=t[n];t6(this,eS).delete(i);let r=s.getAttribute("aria-owns");(null==r?void 0:r.includes(i))&&((r=r.split(" ").filter(e=>e!==i).join(" "))?s.setAttribute("aria-owns",r):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(t,i){let{id:n}=t;if(!n)return null;if(!t6(this,eP))return t6(this,eM).set(t,i),null;i&&this.removePointerInTextLayer(t);let s=t6(this,ex);if(!s||0===s.length)return null;let r=Math.max(0,ic(s,i=>0>ie(e,ek,eL).call(e,t,i))-1),a=s[r];ie(this,eE,eC).call(this,n,a),t6(this,eS).set(n,r);let l=a.parentNode;return(null==l?void 0:l.classList.contains("markedContent"))?l.id:null}moveElementInDOM(t,i,n,s){let r=this.addPointerInTextLayer(n,s);if(!t.hasChildNodes())return t.append(i),r;let a=Array.from(t.childNodes).filter(e=>e!==i);if(0===a.length)return r;let l=n||i,o=ic(a,t=>0>ie(e,ek,eL).call(e,l,t));return 0===o?a[0].before(i):a[o-1].after(i),r}};eP=new WeakMap,ex=new WeakMap,eS=new WeakMap,eM=new WeakMap,ek=new WeakSet,eL=function(e,t){let i=e.getBoundingClientRect(),n=t.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===n.width&&0===n.height)return -1;let s=i.y,r=i.y+i.height,a=i.y+i.height/2,l=n.y,o=n.y+n.height,h=n.y+n.height/2;return a<=l&&h>=r?-1:h<=s&&a>=o?1:i.x+i.width/2-(n.x+n.width/2)},eE=new WeakSet,eC=function(e,t){let i=t.getAttribute("aria-owns");(null==i?void 0:i.includes(e))||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")},t8(sF,ek);class sO{constructor({findController:e,eventBus:t,pageIndex:i}){t8(this,eI,null),this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw Error("Text divs and strings have not been set.");if(this.enabled)throw Error("TextHighlighter is already enabled.");this.enabled=!0,t6(this,eI)||(t7(this,eI,new AbortController),this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||-1===e.pageIndex)&&this._updateMatches()},{signal:t6(this,eI).signal})),this._updateMatches()}disable(){var e;this.enabled&&(this.enabled=!1,null==(e=t6(this,eI))||e.abort(),t7(this,eI,null),this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:i}=this,n=0,s=0,r=i.length-1,a=[];for(let l=0,o=e.length;l<o;l++){let o=e[l];for(;n!==r&&o>=s+i[n].length;)s+=i[n].length,n++;n===i.length&&console.error("Could not find a matching mapping");let h={begin:{divIdx:n,offset:o-s}};for(o+=t[l];n!==r&&o>s+i[n].length;)s+=i[n].length,n++;h.end={divIdx:n,offset:o-s},a.push(h)}return a}_renderMatches(e){if(0===e.length)return;let{findController:t,pageIdx:i}=this,{textContentItemsStr:n,textDivs:s}=this,r=i===t.selected.pageIdx,a=t.selected.matchIdx,l=t.state.highlightAll,o=null,h;function d(e,t){let i=e.divIdx;return s[i].textContent="",u(i,0,e.offset,t)}function u(e,t,i,r){let a=s[e];if(a.nodeType===Node.TEXT_NODE){let t=document.createElement("span");a.before(t),t.append(a),s[e]=t,a=t}let l=n[e].substring(t,i),o=document.createTextNode(l);if(r){let e=document.createElement("span");return e.className=`${r} appended`,e.append(o),a.append(e),r.includes("selected")?e.offsetLeft:0}return a.append(o),0}let c=a,p=c+1;if(l)c=0,p=e.length;else if(!r)return;let g=-1,f=-1;for(let n=c;n<p;n++){let l=e[n],c=l.begin;if(c.divIdx===g&&c.offset===f)continue;g=c.divIdx,f=c.offset;let p=l.end,m=r&&n===a,v=m?" selected":"",b=0;if(o&&c.divIdx===o.divIdx?u(o.divIdx,o.offset,c.offset):(null!==o&&u(o.divIdx,o.offset,h),d(c)),c.divIdx===p.divIdx)b=u(c.divIdx,c.offset,p.offset,"highlight"+v);else{b=u(c.divIdx,c.offset,h,"highlight begin"+v);for(let e=c.divIdx+1,t=p.divIdx;e<t;e++)s[e].className="highlight middle"+v;d(p,"highlight end"+v)}o=p,m&&t.scrollMatchIntoView({element:s[c.divIdx],selectedLeft:b,pageIndex:i,matchIndex:a})}o&&u(o.divIdx,o.offset,h)}_updateMatches(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.enabled&&!e)return;let{findController:t,matches:i,pageIdx:n}=this,{textContentItemsStr:s,textDivs:r}=this,a=-1;for(let e of i){let t=Math.max(a,e.begin.divIdx);for(let i=t,n=e.end.divIdx;i<=n;i++){let e=r[i];e.textContent=s[i],e.className=""}a=e.end.divIdx+1}if(!(null==t?void 0:t.highlightMatches)||e)return;let l=t.pageMatches[n]||null,o=t.pageMatchesLength[n]||null;this.matches=this._convertMatches(l,o),this._renderMatches(this.matches)}}eI=new WeakMap;let sR=class e{constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:n=!1,onAppend:s=null}){t8(this,eO),t8(this,eT,!1),t8(this,eA,null),t8(this,eN,!1),t8(this,eD,null),this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,t7(this,eT,!0===n),t7(this,eA,s),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}async render(e){var t,i,n,s,r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t6(this,eN)&&t6(this,eD)){t6(this,eD).update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),t7(this,eD,new np({textContentSource:this.pdfPage.streamTextContent(a||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e}));let{textDivs:l,textContentItemsStr:o}=t6(this,eD);null==(t=this.highlighter)||t.setTextMapping(l,o),null==(i=this.accessibilityManager)||i.setTextMapping(l),await t6(this,eD).render(),t7(this,eN,!0);let h=document.createElement("div");h.className="endOfContent",this.div.append(h),ie(this,eO,eR).call(this,h),null==(n=t6(this,eA))||n.call(this,this.div),null==(s=this.highlighter)||s.enable(),null==(r=this.accessibilityManager)||r.enable()}hide(){var e;!this.div.hidden&&t6(this,eN)&&(null==(e=this.highlighter)||e.disable(),this.div.hidden=!0)}show(){var e;this.div.hidden&&t6(this,eN)&&(this.div.hidden=!1,null==(e=this.highlighter)||e.enable())}cancel(){var t,i,n;null==(t=t6(this,eD))||t.cancel(),t7(this,eD,null),null==(i=this.highlighter)||i.disable(),null==(n=this.accessibilityManager)||n.disable(),ie(e,eW,e$).call(e,this.div)}};eT=new WeakMap,eA=new WeakMap,eN=new WeakMap,eD=new WeakMap,ej=new WeakMap,eF=new WeakMap,eO=new WeakSet,eR=function(e){let{div:t}=this;t.addEventListener("mousedown",t=>{e.classList.add("active")}),t.addEventListener("copy",e=>{if(!t6(this,eT)){let t=document.getSelection();e.clipboardData.setData("text/plain",iu(ne(t.toString())))}e.preventDefault(),e.stopPropagation()}),t6(sR,ej).set(t,e),ie(sR,eW,eV).call(sR)},eW=new WeakSet,e$=function(e){var t;t6(this,ej).delete(e),0===t6(this,ej).size&&(null==(t=t6(this,eF))||t.abort(),t7(this,eF,null))},eV=function(){var e,t;if(t6(this,eF))return;t7(this,eF,new AbortController);let{signal:i}=t6(this,eF),n=(e,t)=>{t.append(e),e.style.width="",e.style.height="",e.classList.remove("active")};document.addEventListener("pointerup",()=>{t6(this,ej).forEach(n)},{signal:i}),document.addEventListener("selectionchange",()=>{let i=document.getSelection();if(0===i.rangeCount)return void t6(this,ej).forEach(n);let s=new Set;for(let e=0;e<i.rangeCount;e++){let t=i.getRangeAt(e);for(let e of t6(this,ej).keys())!s.has(e)&&t.intersectsNode(e)&&s.add(e)}for(let[e,t]of t6(this,ej))s.has(e)?t.classList.add("active"):n(t,e);if(e??(e="none"===getComputedStyle(t6(this,ej).values().next().value).getPropertyValue("-moz-user-select")),e)return;let r=i.getRangeAt(0),a=t&&(0===r.compareBoundaryPoints(Range.END_TO_END,t)||0===r.compareBoundaryPoints(Range.START_TO_END,t)),l=a?r.startContainer:r.endContainer;l.nodeType===Node.TEXT_NODE&&(l=l.parentNode);let o=l.parentElement.closest(".textLayer"),h=t6(this,ej).get(o);h&&(h.style.width=o.style.width,h.style.height=o.style.height,l.parentElement.insertBefore(h,a?l:l.nextSibling)),t=r.cloneRange()},{signal:i})},t8(sR,eW),t8(sR,ej,new Map),t8(sR,eF,null);let sW=sR;class s${constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:n=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=n,this.div=null,this._cancelled=!1}async render(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("print"===t){let i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),i.div=this.div,nw.render(i)}let i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};let n={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?nw.update(n):(this.div=document.createElement("div"),n.div=this.div,nw.render(n))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}let sV={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new iO}},sB=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]);class sH{constructor(e){var t;t8(this,e0),t8(this,eB,iz.ENABLE_FORMS),t8(this,eH,!1),t8(this,ez,!1),t8(this,eU,null),t8(this,eZ,null),t8(this,eG,null),t8(this,eQ,null),t8(this,eJ,is.INITIAL),t8(this,eX,1),t8(this,eK,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0}),t8(this,eq,new WeakMap),t8(this,eY,[null,null,null,null]);const i=e.container,n=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,t7(this,eU,e.layerProperties||sV),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||1,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,t7(this,eX,e.textLayerMode??1),t7(this,eB,e.annotationMode??iz.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??sT.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,t7(this,eH,e.enableHWA||!1),this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||(this.l10n=new sS),this.renderTask=null,this.resume=null,this._isStandalone=!(null==(t=this.renderingQueue)?void 0:t.hasViewer()),this._container=i,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;const s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,ie(this,e0,e2).call(this),null==i||i.append(s),this._isStandalone){null==i||i.style.setProperty("--scale-factor",this.scale*no.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:t}=e;t&&t.then(e=>{t===this._optionalContentConfigPromise&&(t6(this,eK).initialOptionalContent=e.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}get renderingState(){return t6(this,eJ)}set renderingState(e){if(e!==t6(this,eJ))switch(t7(this,eJ,e),t6(this,eZ)&&(clearTimeout(t6(this,eZ)),t7(this,eZ,null)),e){case is.PAUSED:this.div.classList.remove("loading");break;case is.RUNNING:this.div.classList.add("loadingIcon"),t7(this,eZ,setTimeout(()=>{this.div.classList.add("loading"),t7(this,eZ,null)},0));break;case is.INITIAL:case is.FINISHED:this.div.classList.remove("loadingIcon","loading")}}setPdfPage(e){var t,i,n,s;this._isStandalone&&((null==(t=this.pageColors)?void 0:t.foreground)==="CanvasText"||(null==(i=this.pageColors)?void 0:i.background)==="Canvas")&&(null==(n=this._container)||n.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),null==(s=this._container)||s.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let r=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*no.PDF_TO_CSS_UNITS,rotation:r}),ie(this,e0,e2).call(this),this.reset()}destroy(){var e;this.reset(),null==(e=this.pdfPage)||e.cleanup()}get _textHighlighter(){return nc(this,"_textHighlighter",new sO({pageIndex:this.id-1,eventBus:this.eventBus,findController:t6(this,eU).findController}))}_resetZoomLayer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;t6(this,eq).delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var e,t,i,n,s;let{keepZoomLayer:r=!1,keepAnnotationLayer:a=!1,keepAnnotationEditorLayer:l=!1,keepXfaLayer:o=!1,keepTextLayer:h=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:a,keepAnnotationEditorLayer:l,keepXfaLayer:o,keepTextLayer:h}),this.renderingState=is.INITIAL;let d=this.div,u=d.childNodes,c=r&&this.zoomLayer||null,p=a&&(null==(e=this.annotationLayer)?void 0:e.div)||null,g=l&&(null==(t=this.annotationEditorLayer)?void 0:t.div)||null,f=o&&(null==(i=this.xfaLayer)?void 0:i.div)||null,m=h&&(null==(n=this.textLayer)?void 0:n.div)||null;for(let e=u.length-1;e>=0;e--){let t=u[e];switch(t){case c:case p:case g:case f:case m:continue}t.remove();let i=t6(this,eY).indexOf(t);i>=0&&(t6(this,eY)[i]=null)}d.removeAttribute("data-loaded"),p&&this.annotationLayer.hide(),g&&this.annotationEditorLayer.hide(),f&&this.xfaLayer.hide(),m&&this.textLayer.hide(),null==(s=this.structTreeLayer)||s.hide(),c||(this.canvas&&(t6(this,eq).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update(e){var t;let{scale:i=0,rotation:n=null,optionalContentConfigPromise:s=null,drawingDelay:r=-1}=e;this.scale=i||this.scale,"number"==typeof n&&(this.rotation=n),s instanceof Promise&&(this._optionalContentConfigPromise=s,s.then(e=>{s===this._optionalContentConfigPromise&&(t6(this,eK).initialOptionalContent=e.hasInitialVisibility)})),t6(this,eK).directDrawing=!0;let a=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*no.PDF_TO_CSS_UNITS,rotation:a}),ie(this,e0,e2).call(this),this._isStandalone&&(null==(t=this._container)||t.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let e=!1;if(t6(this,ez)){if(0===this.maxCanvasPixels)e=!0;else if(this.maxCanvasPixels>0){let{width:t,height:i}=this.viewport,{sx:n,sy:s}=this.outputScale;e=(Math.floor(t)*n|0)*(Math.floor(i)*s|0)>this.maxCanvasPixels}}let t=r>=0&&r<1e3;if(t||e){if(t&&!e&&this.renderingState!==is.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:r}),this.renderingState=is.FINISHED,t6(this,eK).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!t,hideTextLayer:t}),t)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:t6(this,eQ)});return}this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering(){var e;let{keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:n=!1,keepTextLayer:s=!1,cancelExtraDelay:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.renderTask&&(this.renderTask.cancel(r),this.renderTask=null),this.resume=null,!this.textLayer||s&&this.textLayer.div||(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),!this.annotationLayer||t&&this.annotationLayer.div||(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),!this.annotationEditorLayer||i&&this.annotationEditorLayer.div||(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),!this.xfaLayer||n&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null==(e=this._textHighlighter)||e.disable())}cssTransform(e){var t;let{target:i,redrawAnnotationLayer:n=!1,redrawAnnotationEditorLayer:s=!1,redrawXfaLayer:r=!1,redrawTextLayer:a=!1,hideTextLayer:l=!1}=e;if(!i.hasAttribute("zooming")){i.setAttribute("zooming",!0);let{style:e}=i;e.width=e.height=""}let o=t6(this,eq).get(i);if(this.viewport!==o){let e=this.viewport.rotation-o.rotation,t=Math.abs(e),n=1,s=1;if(90===t||270===t){let{width:e,height:t}=this.viewport;n=t/e,s=e/t}i.style.transform=`rotate(${e}deg) scale(${n}, ${s})`}n&&this.annotationLayer&&ie(this,e0,e4).call(this),s&&this.annotationEditorLayer&&(this.drawLayer&&ie(this,e0,e9).call(this),ie(this,e0,e5).call(this)),r&&this.xfaLayer&&ie(this,e0,e6).call(this),this.textLayer&&(l?(this.textLayer.hide(),null==(t=this.structTreeLayer)||t.hide()):a&&ie(this,e0,e8).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}async draw(){var e,t;this.renderingState!==is.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:i,l10n:n,pageColors:s,pdfPage:r,viewport:a}=this;if(!r)throw this.renderingState=is.FINISHED,Error("pdfPage is not loaded");this.renderingState=is.RUNNING;let l=document.createElement("div");if(l.classList.add("canvasWrapper"),ie(this,e0,e1).call(this,l,"canvasWrapper"),this.textLayer||0===t6(this,eX)||r.isPureXfa||(this._accessibilityManager||(this._accessibilityManager=new sF),this.textLayer=new sW({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:2===t6(this,eX),onAppend:e=>{this.l10n.pause(),ie(this,e0,e1).call(this,e,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&t6(this,eB)!==iz.DISABLE){let{annotationStorage:e,annotationEditorUIManager:t,downloadManager:i,enableScripting:n,fieldObjectsPromise:s,hasJSActionsPromise:a,linkService:l}=t6(this,eU);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new ny({pdfPage:r,annotationStorage:e,imageResourcesPath:this.imageResourcesPath,renderForms:t6(this,eB)===iz.ENABLE_FORMS,linkService:l,downloadManager:i,enableScripting:n,hasJSActionsPromise:a,fieldObjectsPromise:s,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:t,onAppend:e=>{ie(this,e0,e1).call(this,e,"annotationLayer")}})}let o=e=>{if(null==p||p(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=is.PAUSED,this.resume=()=>{this.renderingState=is.RUNNING,e()};return}e()},{width:h,height:d}=a,u=document.createElement("canvas");u.setAttribute("role","presentation"),u.hidden=!0;let c=!!((null==s?void 0:s.background)&&(null==s?void 0:s.foreground)),p=e=>{(!c||e)&&(u.hidden=!1,p=null)};l.append(u),this.canvas=u;let g=u.getContext("2d",{alpha:!1,willReadFrequently:!t6(this,eH)}),f=this.outputScale=new il;if(0===this.maxCanvasPixels){let e=1/this.scale;f.sx*=e,f.sy*=e,t7(this,ez,!0)}else if(this.maxCanvasPixels>0){let e=Math.sqrt(this.maxCanvasPixels/(h*d));f.sx>e||f.sy>e?(f.sx=e,f.sy=e,t7(this,ez,!0)):t7(this,ez,!1)}let m=ip(f.sx),v=ip(f.sy);u.width=(e=h*f.sx)-e%m[0],u.height=(t=d*f.sy)-t%v[0];let{style:b}=u;b.width=h-h%m[1]+"px",b.height=d-d%v[1]+"px",t6(this,eq).set(u,a);let w={canvasContext:g,transform:f.scaled?[f.sx,0,0,f.sy,0,0]:null,viewport:a,annotationMode:t6(this,eB),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:s},y=this.renderTask=r.render(w);y.onContinue=o;let _=y.promise.then(async()=>{var e;null==p||p(!0),await ie(this,e0,tt).call(this,y),ie(this,e0,e8).call(this),this.annotationLayer&&await ie(this,e0,e4).call(this);let{annotationEditorUIManager:t}=t6(this,eU);t&&(this.drawLayer||(this.drawLayer=new sA({pageIndex:this.id})),await ie(this,e0,e9).call(this),this.drawLayer.setParent(l),this.annotationEditorLayer||(this.annotationEditorLayer=new sL({uiManager:t,pdfPage:r,l10n:n,accessibilityManager:this._accessibilityManager,annotationLayer:null==(e=this.annotationLayer)?void 0:e.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:e=>{ie(this,e0,e1).call(this,e,"annotationEditorLayer")}})),ie(this,e0,e5).call(this))},e=>(e instanceof nh||null==p||p(!0),ie(this,e0,tt).call(this,y,e)));if(r.isPureXfa){if(!this.xfaLayer){let{annotationStorage:e,linkService:t}=t6(this,eU);this.xfaLayer=new s$({pdfPage:r,annotationStorage:e,linkService:t})}ie(this,e0,e6).call(this)}return i.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),_}setPageLabel(e){this.pageLabel="string"==typeof e?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=t6(this,eK);return e&&t&&i?this.canvas:null}}async function sz(e){let t="".split("#",1)[0],{info:i,metadata:n,contentDispositionFilename:s,contentLength:r}=await e.getMetadata();if(!r){let{length:t}=await e.getDownloadInfo();r=t}return{...i,baseURL:t,filesize:r,filename:s||i1(""),metadata:null==n?void 0:n.getRaw(),authors:null==n?void 0:n.get("dc:creator"),numPages:e.numPages,URL:""}}eB=new WeakMap,eH=new WeakMap,ez=new WeakMap,eU=new WeakMap,eZ=new WeakMap,eG=new WeakMap,eQ=new WeakMap,eJ=new WeakMap,eX=new WeakMap,eK=new WeakMap,eq=new WeakMap,eY=new WeakMap,e0=new WeakSet,e1=function(e,t){let i=sB.get(t),n=t6(this,eY)[i];if(t6(this,eY)[i]=e,n)return void n.replaceWith(e);for(let t=i-1;t>=0;t--){let i=t6(this,eY)[t];if(i)return void i.after(e)}this.div.prepend(e)},e2=function(){let{viewport:e}=this;if(this.pdfPage){if(t6(this,eG)===e.rotation)return;t7(this,eG,e.rotation)}nu(this.div,e,!0,!1)},e3=function(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})},e4=async function(){let e=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{ie(this,e0,e3).call(this,"annotationlayerrendered",e)}},e5=async function(){let e=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{ie(this,e0,e3).call(this,"annotationeditorlayerrendered",e)}},e9=async function(){try{await this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}},e6=async function(){var e;let t=null;try{let e=await this.xfaLayer.render(this.viewport,"display");(null==e?void 0:e.textDivs)&&this._textHighlighter&&ie(this,e0,te).call(this,e.textDivs)}catch(e){console.error(`#renderXfaLayer: "${e}".`),t=e}finally{(null==(e=this.xfaLayer)?void 0:e.div)&&(this.l10n.pause(),ie(this,e0,e1).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),ie(this,e0,e3).call(this,"xfalayerrendered",t)}},e8=async function(){if(!this.textLayer)return;let e=null;try{await this.textLayer.render(this.viewport)}catch(t){if(t instanceof iR)return;console.error(`#renderTextLayer: "${t}".`),e=t}ie(this,e0,e3).call(this,"textlayerrendered",e),ie(this,e0,e7).call(this)},e7=async function(){var e,t,i;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new sj);let n=await (!this.structTreeLayer.renderingDone?this.pdfPage.getStructTree():null),s=null==(e=this.structTreeLayer)?void 0:e.render(n);s&&(this.l10n.pause(),null==(t=this.canvas)||t.append(s),this.l10n.resume()),null==(i=this.structTreeLayer)||i.show()},te=async function(e){let t=await this.pdfPage.getTextContent(),i=[];for(let e of t.items)i.push(e.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()},tt=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e===this.renderTask&&(this.renderTask=null),t instanceof nh)return void t7(this,eQ,null);if(t7(this,eQ,t),this.renderingState=is.FINISHED,this._resetZoomLayer(!0),t6(this,eK).regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:t6(this,eQ)}),t)throw t};class sU{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(e=>{t(e.QuickJSSandbox())}).catch(i)})}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){let t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}class sZ{constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){t8(this,tp),t8(this,ti,null),t8(this,tn,null),t8(this,ts,null),t8(this,tr,null),t8(this,ta,null),t8(this,tl,null),t8(this,to,null),t8(this,th,null),t8(this,td,!1),t8(this,tu,null),t8(this,tc,null),t7(this,ta,e),t7(this,tl,t),t7(this,ts,i)}setViewer(e){t7(this,th,e)}async setDocument(e){var t;if(t6(this,to)&&await ie(this,tp,tb).call(this),t7(this,to,e),!e)return;let[i,n,s]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!i&&!s)return void await ie(this,tp,tb).call(this);if(e!==t6(this,to))return;try{t7(this,tu,ie(this,tp,tv).call(this))}catch(e){console.error(`setDocument: "${e.message}".`),await ie(this,tp,tb).call(this);return}let r=t6(this,ta);t7(this,tr,new AbortController);let{signal:a}=t6(this,tr);r._on("updatefromsandbox",e=>{(null==e?void 0:e.source)===window&&ie(this,tp,tg).call(this,e.detail)},{signal:a}),r._on("dispatcheventinsandbox",e=>{var t;null==(t=t6(this,tu))||t.dispatchEventInSandbox(e.detail)},{signal:a}),r._on("pagechanging",e=>{let{pageNumber:t,previous:i}=e;t!==i&&(ie(this,tp,tm).call(this,i),ie(this,tp,tf).call(this,t))},{signal:a}),r._on("pagerendered",e=>{let{pageNumber:t}=e;this._pageOpenPending.has(t)&&t===t6(this,th).currentPageNumber&&ie(this,tp,tf).call(this,t)},{signal:a}),r._on("pagesdestroy",async()=>{var e,t;await ie(this,tp,tm).call(this,t6(this,th).currentPageNumber),await (null==(e=t6(this,tu))?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillClose"})),null==(t=t6(this,ti))||t.resolve()},{signal:a});try{let t=await t6(this,ts).call(this,e);if(e!==t6(this,to))return;await t6(this,tu).createSandbox({objects:i,calculationOrder:n,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...t,actions:s}}),r.dispatch("sandboxcreated",{source:this})}catch(e){console.error(`setDocument: "${e.message}".`),await ie(this,tp,tb).call(this);return}await (null==(t=t6(this,tu))?void 0:t.dispatchEventInSandbox({id:"doc",name:"Open"})),await ie(this,tp,tf).call(this,t6(this,th).currentPageNumber,!0),Promise.resolve().then(()=>{e===t6(this,to)&&t7(this,td,!0)})}async dispatchWillSave(){var e;return null==(e=t6(this,tu))?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return null==(e=t6(this,tu))?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;if(t6(this,tu)){await (null==(e=t6(this,tc))?void 0:e.promise),t7(this,tc,Promise.withResolvers());try{await t6(this,tu).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw t6(this,tc).resolve(),t7(this,tc,null),e}await t6(this,tc).promise}}async dispatchDidPrint(){var e;return null==(e=t6(this,tu))?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return(null==(e=t6(this,tn))?void 0:e.promise)||null}get ready(){return t6(this,td)}get _pageOpenPending(){return nc(this,"_pageOpenPending",new Set)}get _visitedPages(){return nc(this,"_visitedPages",new Map)}}ti=new WeakMap,tn=new WeakMap,ts=new WeakMap,tr=new WeakMap,ta=new WeakMap,tl=new WeakMap,to=new WeakMap,th=new WeakMap,td=new WeakMap,tu=new WeakMap,tc=new WeakMap,tp=new WeakSet,tg=async function(e){var t,i;let n=t6(this,th),s=n.isInPresentationMode||n.isChangingPresentationMode,{id:r,siblings:a,command:l,value:o}=e;if(!r){switch(l){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":s||(n.spreadMode=function(e){let t=ir.VERTICAL,i=ia.NONE;switch(e){case"SinglePage":t=ir.PAGE;break;case"OneColumn":break;case"TwoPageLeft":t=ir.PAGE;case"TwoColumnLeft":i=ia.ODD;break;case"TwoPageRight":t=ir.PAGE;case"TwoColumnRight":i=ia.EVEN}return{scrollMode:t,spreadMode:i}}(o).spreadMode);break;case"page-num":n.currentPageNumber=o+1;break;case"print":await n.pagesPromise,t6(this,ta).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":s||(n.currentScaleValue=o);break;case"SaveAs":t6(this,ta).dispatch("download",{source:this});break;case"FirstPage":n.currentPageNumber=1;break;case"LastPage":n.currentPageNumber=n.pagesCount;break;case"NextPage":n.nextPage();break;case"PrevPage":n.previousPage();break;case"ZoomViewIn":s||n.increaseScale();break;case"ZoomViewOut":s||n.decreaseScale();break;case"WillPrintFinished":null==(t=t6(this,tc))||t.resolve(),t7(this,tc,null)}return}if(!s||!e.focus)for(let t of(delete e.id,delete e.siblings,a?[r,...a]:[r])){let n=document.querySelector(`[data-element-id="${t}"]`);n?n.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):null==(i=t6(this,to))||i.annotationStorage.setValue(t,e)}},tf=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t6(this,to),n=this._visitedPages;if(t&&t7(this,ti,Promise.withResolvers()),!t6(this,ti))return;let s=t6(this,th).getPageView(e-1);if((null==s?void 0:s.renderingState)!==is.FINISHED)return void this._pageOpenPending.add(e);this._pageOpenPending.delete(e);let r=(async()=>{var t,r;let a=await (!n.has(e)?null==(t=s.pdfPage)?void 0:t.getJSActions():null);i===t6(this,to)&&await (null==(r=t6(this,tu))?void 0:r.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:a}))})();n.set(e,r)},tm=async function(e){var t;let i=t6(this,to),n=this._visitedPages;if(!t6(this,ti)||this._pageOpenPending.has(e))return;let s=n.get(e);s&&(n.set(e,null),await s,i===t6(this,to)&&await (null==(t=t6(this,tu))?void 0:t.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))},tv=function(){if(t7(this,tn,Promise.withResolvers()),t6(this,tu))throw Error("#initScripting: Scripting already exists.");return t6(this,tl).createScripting()},tb=async function(){var e,t,i,n;if(!t6(this,tu)){t7(this,to,null),null==(e=t6(this,tn))||e.resolve();return}t6(this,ti)&&(await Promise.race([t6(this,ti).promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),t7(this,ti,null)),t7(this,to,null);try{await t6(this,tu).destroySandbox()}catch{}null==(t=t6(this,tc))||t.reject(Error("Scripting destroyed.")),t7(this,tc,null),null==(i=t6(this,tr))||i.abort(),t7(this,tr,null),this._pageOpenPending.clear(),this._visitedPages.clear(),t7(this,tu,null),t7(this,td,!1),null==(n=t6(this,tn))||n.resolve()};class sG extends sZ{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||(e.externalServices={createScripting:()=>new sU(e.sandboxBundleSrc)}),e.docProperties||(e.docProperties=e=>sz(e)),super(e)}}class sQ{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.isThumbnailViewEnabled&&(null==(t=this.pdfThumbnailViewer)?void 0:t.forceRendering())||!this.printing&&this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}getHighestPriority(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.views,r=s.length;if(0===r)return null;for(let e=0;e<r;e++){let t=s[e].view;if(!this.isViewFinished(t))return t}let a=e.first.id,l=e.last.id;if(l-a+1>r){let n=e.ids;for(let e=1,s=l-a;e<s;e++){let s=i?a+e:l-e;if(n.has(s))continue;let r=t[s-1];if(!this.isViewFinished(r))return r}}let o=i?l:a-2,h=t[o];return h&&!this.isViewFinished(h)||n&&(o+=i?1:-1,(h=t[o])&&!this.isViewFinished(h))?h:null}isViewFinished(e){return e.renderingState===is.FINISHED}renderView(e){switch(e.renderingState){case is.FINISHED:return!1;case is.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case is.RUNNING:this.highestPriorityPage=e.renderingId;break;case is.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(e=>{e instanceof nh||console.error(`renderView: "${e}"`)})}return!0}}function sJ(e){return Object.values(iV).includes(e)&&e!==iV.DISABLE}class sX{constructor(e){t8(this,t_),t8(this,tw,new Set),t8(this,ty,0),t7(this,ty,e)}push(e){let t=t6(this,tw);t.has(e)&&t.delete(e),t.add(e),t.size>t6(this,ty)&&ie(this,t_,tP).call(this)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t7(this,ty,e);let i=t6(this,tw);if(t){let e=i.size,n=1;for(let s of i)if(t.has(s.id)&&(i.delete(s),i.add(s)),++n>e)break}for(;i.size>t6(this,ty);)ie(this,t_,tP).call(this)}has(e){return t6(this,tw).has(e)}[Symbol.iterator](){return t6(this,tw).keys()}}tw=new WeakMap,ty=new WeakMap,t_=new WeakSet,tP=function(){let e=t6(this,tw).keys().next().value;null==e||e.destroy(),t6(this,tw).delete(e)};class sK{constructor(e){var t,i;t8(this,tH),t8(this,tx,null),t8(this,tS,null),t8(this,tM,null),t8(this,tk,iV.NONE),t8(this,tL,null),t8(this,tE,iz.ENABLE_FORMS),t8(this,tC,null),t8(this,tI,!1),t8(this,tT,!1),t8(this,tA,!1),t8(this,tN,null),t8(this,tD,null),t8(this,tj,!1),t8(this,tF,null),t8(this,tO,!1),t8(this,tR,0),t8(this,tW,new ResizeObserver(ie(this,tH,t3).bind(this))),t8(this,t$,null),t8(this,tV,null),t8(this,tB,1);const n="4.4.168";if(nb!==n)throw Error(`The API version "${nb}" does not match the Viewer version "${n}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,(null==(t=this.container)?void 0:t.tagName)!=="DIV"||(null==(i=this.viewer)?void 0:i.tagName)!=="DIV")throw Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw Error("The `container` must be absolutely positioned.");t6(this,tW).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new iO,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,t7(this,tS,e.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=e=>this._getVisiblePages().ids.has(e)),this._scriptingManager=e.scriptingManager||null,t7(this,tB,e.textLayerMode??1),t7(this,tE,e.annotationMode??iz.ENABLE_FORMS),t7(this,tk,e.annotationEditorMode??iV.NONE),t7(this,tM,e.annotationEditorHighlightColors||null),t7(this,tT,!0===e.enableHighlightFloatingButton),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||(this.l10n=new sS),t7(this,tA,e.enablePermissions||!1),this.pageColors=e.pageColors||null,t7(this,tD,e.mlManager||null),t7(this,tI,e.enableHWA||!1),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new sQ,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;const{abortSignal:s}=e;null==s||s.addEventListener("abort",()=>{t6(this,tW).disconnect(),t7(this,tW,null)},{once:!0}),this.scroll=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=function(i){r||(r=window.requestAnimationFrame(function(){r=null;let i=e.scrollLeft,n=s.lastX;i!==n&&(s.right=i>n),s.lastX=i;let a=e.scrollTop,l=s.lastY;a!==l&&(s.down=a>l),s.lastY=a,t(s)}))},s={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},r=null;return e.addEventListener("scroll",n,{useCapture:!0,signal:i}),null==i||i.addEventListener("abort",()=>window.cancelAnimationFrame(r),{once:!0}),s}(this.container,this._scrollUpdate.bind(this),s),this.presentationModeState=0,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),ie(this,tH,t2).call(this),this.eventBus._on("thumbnailrendered",e=>{let{pageNumber:t,pdfPage:i}=e,n=this._pages[t-1];t6(this,tx).has(n)||null==i||i.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(t6(this,tx))}get pageViewsReady(){return this._pages.every(e=>null==e?void 0:e.pdfPage)}get renderForms(){return t6(this,tE)===iz.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===e)return i&&ie(this,tH,tY).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;let n=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:(null==(t=this._pageLabels)?void 0:t[e-1])??null,previous:n}),i&&ie(this,tH,tY).call(this),!0}get currentPageLabel(){var e;return(null==(e=this._pageLabels)?void 0:e[this._currentPageNumber-1])??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){let i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return 0!==this._currentScale?this._currentScale:1}set currentScale(e){if(isNaN(e))throw Error("Invalid numeric scale.");this.pdfDocument&&ie(this,tH,tq).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&ie(this,tH,tq).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!ig(e))throw Error("Invalid pages rotation angle.");if(!this.pdfDocument||((e%=360)<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&ie(this,tH,tq).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return nc(this,"_layerProperties",{get annotationEditorUIManager(){return t6(e,tL)},get annotationStorage(){var t;return null==(t=e.pdfDocument)?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var i;return null==(i=e.pdfDocument)?void 0:i.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var n;return null==(n=e.pdfDocument)?void 0:n.hasJSActions()},get linkService(){return e.linkService}})}async getAllText(){let e=[],t=[];for(let i=1,n=this.pdfDocument.numPages;i<=n;++i){if(t6(this,tO))return null;t.length=0;let n=await this.pdfDocument.getPage(i),{items:s}=await n.getTextContent();for(let e of s)e.str&&t.push(e.str),e.hasEOL&&t.push("\n");e.push(iu(t.join("")))}return e.join("\n")}setDocument(e){var t,i;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),null==(t=this.findController)||t.setDocument(null),null==(i=this._scriptingManager)||i.setDocument(null),t6(this,tL)&&(t6(this,tL).destroy(),t7(this,tL,null))),this.pdfDocument=e,!e)return;let n=e.numPages,s=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),a=t6(this,tA)?e.getPermissions():Promise.resolve(),{eventBus:l,pageColors:o,viewer:h}=this;t7(this,tN,new AbortController);let{signal:d}=t6(this,tN);if(n>1e4){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let e=this._scrollMode=ir.PAGE;l.dispatch("scrollmodechanged",{source:this,mode:e})}this._pagesCapability.promise.then(()=>{l.dispatch("pagesloaded",{source:this,pagesCount:n})},()=>{});let u=e=>{let t=this._pages[e.pageNumber-1];t&&t6(this,tx).push(t)};l._on("pagerender",u,{signal:d});let c=e=>{e.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:e.timestamp}),l._off("pagerendered",c))};l._on("pagerendered",c,{signal:d}),Promise.all([s,a]).then(t=>{var i;let[s,a]=t;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(s),this._optionalContentConfigPromise=r;let{annotationEditorMode:u,annotationMode:c,textLayerMode:p}=ie(this,tH,tz).call(this,a);if(0!==p){let e=t7(this,tF,document.createElement("div"));e.id="hiddenCopyElement",h.before(e)}u!==iV.DISABLE&&(e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):sJ(u)?(t7(this,tL,new iB(this.container,h,t6(this,tS),l,e,o,t6(this,tM),t6(this,tT),t6(this,tD))),l.dispatch("annotationeditoruimanager",{source:this,uiManager:t6(this,tL)}),u!==iV.NONE&&t6(this,tL).updateMode(u)):console.error(`Invalid AnnotationEditor mode: ${u}`));let g=this._scrollMode===ir.PAGE?null:h,f=this.currentScale,m=s.getViewport({scale:f*no.PDF_TO_CSS_UNITS});h.style.setProperty("--scale-factor",m.scale),((null==o?void 0:o.foreground)==="CanvasText"||(null==o?void 0:o.background)==="Canvas")&&(h.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),h.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let e=1;e<=n;++e){let t=new sH({container:g,eventBus:l,id:e,scale:f,defaultViewport:m.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:p,annotationMode:c,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:t6(this,tI)});this._pages.push(t)}null==(i=this._pages[0])||i.setPdfPage(s),this._scrollMode===ir.PAGE?ie(this,tH,tG).call(this):this._spreadMode!==ia.NONE&&this._updateSpreadMode(),ie(this,tH,tU).call(this,d).then(async()=>{var t,i;if(e!==this.pdfDocument)return;if(null==(t=this.findController)||t.setDocument(e),null==(i=this._scriptingManager)||i.setDocument(e),t6(this,tF)&&document.addEventListener("copy",ie(this,tH,tZ).bind(this,p),{signal:d}),t6(this,tL)&&l.dispatch("annotationeditormodechanged",{source:this,mode:t6(this,tk)}),e.loadingParams.disableAutoFetch||n>5e3)return void this._pagesCapability.resolve();let s=n-1;if(s<=0)return void this._pagesCapability.resolve();for(let t=2;t<=n;++t){let i=e.getPage(t).then(e=>{let i=this._pages[t-1];i.pdfPage||i.setPdfPage(e),0==--s&&this._pagesCapability.resolve()},e=>{console.error(`Unable to get page ${t} to initialize viewer`,e),0==--s&&this._pagesCapability.resolve()});t%250==0&&await i}}),l.dispatch("pagesinit",{source:this}),e.getMetadata().then(t=>{let{info:i}=t;e===this.pdfDocument&&i.Language&&(h.lang=i.Language)}),this.defaultRenderingQueue&&this.update()}).catch(e=>{console.error("Unable to initialize viewer",e),this._pagesCapability.reject(e)})}setPageLabels(e){var t;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let e=0,i=this._pages.length;e<i;e++)this._pages[e].setPageLabel((null==(t=this._pageLabels)?void 0:t[e])??null)}}_resetView(){var e,t;this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,t7(this,tx,new sX(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=ir.VERTICAL,this._previousScrollMode=ir.UNKNOWN,this._spreadMode=ia.NONE,t7(this,t$,{previousPageNumber:1,scrollDown:!0,pages:[]}),null==(e=t6(this,tN))||e.abort(),t7(this,tN,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),null==(t=t6(this,tF))||t.remove(),t7(this,tF,null)}_scrollUpdate(){0!==this.pagesCount&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView(e){let{pageNumber:t,destArray:i=null,allowNegativeOffset:n=!1,ignoreDestinationZoom:s=!1}=e;if(!this.pdfDocument)return;let r=Number.isInteger(t)&&this._pages[t-1];if(!r)return void console.error(`scrollPageIntoView: "${t}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!i)return void this._setCurrentPageNumber(t,!0);let a=0,l=0,o=0,h=0,d=r.rotation%180!=0,u=(d?r.height:r.width)/r.scale/no.PDF_TO_CSS_UNITS,c=(d?r.width:r.height)/r.scale/no.PDF_TO_CSS_UNITS,p=0;switch(i[1].name){case"XYZ":a=i[2],l=i[3],p=i[4],a=null!==a?a:0,l=null!==l?l:c;break;case"Fit":case"FitB":p="page-fit";break;case"FitH":case"FitBH":l=i[2],p="page-width",null===l&&this._location?(a=this._location.left,l=this._location.top):("number"!=typeof l||l<0)&&(l=c);break;case"FitV":case"FitBV":a=i[2],o=u,h=c,p="page-height";break;case"FitR":a=i[2],l=i[3],o=i[4]-a,h=i[5]-l;let g=40,f=5;this.removePageBorders&&(g=f=0),p=Math.min(Math.abs((this.container.clientWidth-g)/o/no.PDF_TO_CSS_UNITS),Math.abs((this.container.clientHeight-f)/h/no.PDF_TO_CSS_UNITS));break;default:console.error(`scrollPageIntoView: "${i[1].name}" is not a valid destination type.`);return}if(s||(p&&p!==this._currentScale?this.currentScaleValue=p:0===this._currentScale&&(this.currentScaleValue="auto")),"page-fit"===p&&!i[4])return void ie(this,tH,tQ).call(this,r);let m=[r.viewport.convertToViewportPoint(a,l),r.viewport.convertToViewportPoint(a+o,l+h)],v=Math.min(m[0][0],m[1][0]),b=Math.min(m[0][1],m[1][1]);n||(v=Math.max(v,0),b=Math.max(b,0)),ie(this,tH,tQ).call(this,r,{left:v,top:b})}_updateLocation(e){let t=this._currentScale,i=this._currentScaleValue,n=parseFloat(i)===t?Math.round(1e4*t)/100:i,s=e.id,r=this._pages[s-1],a=this.container,l=r.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),o=Math.round(l[0]),h=Math.round(l[1]),d=`#page=${s}`;this.isInPresentationMode||(d+=`&zoom=${n},${o},${h}`),this._location={pageNumber:s,scale:n,top:h,left:o,rotation:this._pagesRotation,pdfOpenParams:d}}update(){let e=this._getVisiblePages(),t=e.views,i=t.length;if(0===i)return;let n=Math.max(10,2*i+1);t6(this,tx).resize(n,e.ids),this.renderingQueue.renderHighestPriority(e);let s=this._spreadMode===ia.NONE&&(this._scrollMode===ir.PAGE||this._scrollMode===ir.VERTICAL),r=this._currentPageNumber,a=!1;for(let e of t){if(e.percent<100)break;if(e.id===r&&s){a=!0;break}}this._setCurrentPageNumber(a?r:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return 3===this.presentationModeState}get isChangingPresentationMode(){return 2===this.presentationModeState}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===ir.PAGE?t6(this,t$).pages:this._pages,t=this._scrollMode===ir.HORIZONTAL,i=t&&this._isContainerRtl;return function(e){let{scrollEl:t,views:i,sortByVisibility:n=!1,horizontal:s=!1,rtl:r=!1}=e,a=t.scrollTop,l=a+t.clientHeight,o=t.scrollLeft,h=o+t.clientWidth;function d(e){let t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>a}function u(e){let t=e.div,i=t.offsetLeft+t.clientLeft,n=i+t.clientWidth;return r?i<h:n>o}let c=[],p=new Set,g=i.length,f=ic(i,s?u:d);f>0&&f<g&&!s&&(f=function(e,t,i){if(e<2)return e;let n=t[e].div,s=n.offsetTop+n.clientTop;s>=i&&(s=(n=t[e-1].div).offsetTop+n.clientTop);for(let i=e-2;i>=0&&!((n=t[i].div).offsetTop+n.clientTop+n.clientHeight<=s);--i)e=i;return e}(f,i,a));let m=s?h:-1;for(let e=f;e<g;e++){let t=i[e],n=t.div,r=n.offsetLeft+n.clientLeft,d=n.offsetTop+n.clientTop,u=n.clientWidth,g=n.clientHeight,f=r+u,v=d+g;if(-1===m)v>=l&&(m=v);else if((s?r:d)>m)break;if(v<=a||d>=l||f<=o||r>=h)continue;let b=(u-(Math.max(0,o-r)+Math.max(0,f-h)))/u,w=(g-(Math.max(0,a-d)+Math.max(0,v-l)))/g*b*100|0;c.push({id:t.id,x:r,y:d,view:t,percent:w,widthPercent:100*b|0}),p.add(t.id)}let v=c[0],b=c.at(-1);return n&&c.sort(function(e,t){let i=e.percent-t.percent;return Math.abs(i)>.001?-i:e.id-t.id}),{first:v,last:b,views:c,ids:p}}({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(let e of this._pages)e.renderingState!==is.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}forceRendering(e){let t=e||this._getVisiblePages(),i=ie(this,tH,t1).call(this,t),n=this._spreadMode!==ia.NONE&&this._scrollMode!==ir.HORIZONTAL,s=this.renderingQueue.getHighestPriority(t,this._pages,i,n);return!!s&&(ie(this,tH,t0).call(this,s).then(()=>{this.renderingQueue.renderView(s)}),!0)}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){let i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let i=t.pdfPage.getViewport({scale:1}),n=im(i);if(void 0===e)e=n;else if(this.enablePrintAutoRotate&&n!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw Error(`Invalid optionalContentConfigPromise: ${e}`);!this.pdfDocument||this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(Number.isInteger(e)&&Object.values(ir).includes(e)&&e!==ir.UNKNOWN))throw Error(`Invalid scroll mode: ${e}`);this.pagesCount>1e4||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===ir.HORIZONTAL),i.classList.toggle("scrollWrapped",t===ir.WRAPPED),this.pdfDocument&&e&&(t===ir.PAGE?ie(this,tH,tG).call(this):this._previousScrollMode===ir.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&ie(this,tH,tq).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(Number.isInteger(e)&&Object.values(ia).includes(e)&&e!==ia.UNKNOWN))throw Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.pdfDocument)return;let t=this.viewer,i=this._pages;if(this._scrollMode===ir.PAGE)ie(this,tH,tG).call(this);else if(t.textContent="",this._spreadMode===ia.NONE)for(let e of this._pages)t.append(e.div);else{let e=this._spreadMode-1,n=null;for(let s=0,r=i.length;s<r;++s)null===n?((n=document.createElement("div")).className="spread",t.append(n)):s%2===e&&(n=n.cloneNode(!1),t.append(n)),n.append(i[s].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&ie(this,tH,tq).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._scrollMode){case ir.WRAPPED:{let{views:i}=this._getVisiblePages(),n=new Map;for(let{id:e,y:t,percent:s,widthPercent:r}of i){if(0===s||r<100)continue;let i=n.get(t);i||n.set(t,i||(i=[])),i.push(e)}for(let i of n.values()){let n=i.indexOf(e);if(-1===n)continue;let s=i.length;if(1===s)break;if(t)for(let t=n-1;t>=0;t--){let n=i[t],s=i[t+1]-1;if(n<s)return e-s}else for(let t=n+1;t<s;t++){let n=i[t],s=i[t-1]+1;if(n>s)return s-e}if(t){let t=i[0];if(t<e)return e-t+1}else{let t=i[s-1];if(t>e)return t-e+1}break}break}case ir.HORIZONTAL:break;case ir.PAGE:case ir.VERTICAL:{if(this._spreadMode===ia.NONE)break;let i=this._spreadMode-1;if(t&&e%2!==i||!t&&e%2===i)break;let{views:n}=this._getVisiblePages(),s=t?e-1:e+1;for(let{id:e,percent:t,widthPercent:i}of n)if(e===s){if(t>0&&100===i)return 2;break}}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale(e){let{drawingDelay:t,scaleFactor:i=null,steps:n=null,origin:s}=e;if(null===n&&null===i)throw Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let r=this._currentScale;if(i>0&&1!==i)r=Math.round(r*i*100)/100;else if(n){let e=n>0?1.1:.9090909090909091,t=n>0?Math.ceil:Math.floor;n=Math.abs(n);do r=t(10*(r*e).toFixed(2))/10;while(--n>0)}r=Math.max(.1,Math.min(10,r)),ie(this,tH,tq).call(this,r,{noScroll:!1,drawingDelay:t,origin:s})}increaseScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.updateScale({...e,steps:e.steps??1})}decreaseScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.updateScale({...e,steps:-(e.steps??1)})}get containerTopLeft(){return t6(this,tC)||t7(this,tC,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return t6(this,tL)?t6(this,tk):iV.DISABLE}set annotationEditorMode(e){let{mode:t,editId:i=null,isFromKeyboard:n=!1}=e;if(!t6(this,tL))throw Error("The AnnotationEditor is not enabled.");if(t6(this,tk)!==t){if(!sJ(t))throw Error(`Invalid AnnotationEditor mode: ${t}`);this.pdfDocument&&(t7(this,tk,t),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:t}),t6(this,tL).updateMode(t,i,n))}}set annotationEditorParams(e){let{type:t,value:i}=e;if(!t6(this,tL))throw Error("The AnnotationEditor is not enabled.");t6(this,tL).updateParams(t,i)}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);if(this.pdfDocument){for(let e of this._pages)e.update(t);null!==t6(this,tV)&&(clearTimeout(t6(this,tV)),t7(this,tV,null)),e||this.update()}}}tx=new WeakMap,tS=new WeakMap,tM=new WeakMap,tk=new WeakMap,tL=new WeakMap,tE=new WeakMap,tC=new WeakMap,tI=new WeakMap,tT=new WeakMap,tA=new WeakMap,tN=new WeakMap,tD=new WeakMap,tj=new WeakMap,tF=new WeakMap,tO=new WeakMap,tR=new WeakMap,tW=new WeakMap,t$=new WeakMap,tV=new WeakMap,tB=new WeakMap,tH=new WeakSet,tz=function(e){let t={annotationEditorMode:t6(this,tk),annotationMode:t6(this,tE),textLayerMode:t6(this,tB)};return e&&(e.includes(nl.COPY)||1!==t6(this,tB)||(t.textLayerMode=2),e.includes(nl.MODIFY_CONTENTS)||(t.annotationEditorMode=iV.DISABLE),e.includes(nl.MODIFY_ANNOTATIONS)||e.includes(nl.FILL_INTERACTIVE_FORMS)||t6(this,tE)!==iz.ENABLE_FORMS||(t.annotationMode=iz.ENABLE)),t},tU=async function(e){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return;let t=Promise.withResolvers();function i(){"hidden"===document.visibilityState&&t.resolve()}document.addEventListener("visibilitychange",i,{signal:e}),await Promise.race([this._onePageRenderedCapability.promise,t.promise]),document.removeEventListener("visibilitychange",i)},tZ=function(e,t){let i=document.getSelection(),{focusNode:n,anchorNode:s}=i;if(s&&n&&i.containsNode(t6(this,tF))){if(t6(this,tj)||2===e){t.preventDefault(),t.stopPropagation();return}t7(this,tj,!0);let{classList:i}=this.viewer;i.add("copyAll");let n=new AbortController;window.addEventListener("keydown",e=>t7(this,tO,"Escape"===e.key),{signal:n.signal}),this.getAllText().then(async e=>{null!==e&&await navigator.clipboard.writeText(e)}).catch(e=>{console.warn(`Something goes wrong when extracting the text: ${e.message}`)}).finally(()=>{t7(this,tj,!1),t7(this,tO,!1),n.abort(),i.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}},tG=function(){if(this._scrollMode!==ir.PAGE)throw Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=t6(this,t$),i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode!==ia.NONE||this.isInPresentationMode){let n=new Set,s=this._spreadMode-1;-1===s?n.add(e-1):e%2!==s?(n.add(e-1),n.add(e)):(n.add(e-2),n.add(e-1));let r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){let e=document.createElement("div");e.className="dummyPage",r.append(e)}for(let e of n){let i=this._pages[e];i&&(r.append(i.div),t.pages.push(i))}i.append(r)}else{let n=this._pages[e-1];i.append(n.div),t.pages.push(n)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},tQ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{div:i,id:n}=e;if(this._currentPageNumber!==n&&this._setCurrentPageNumber(n),this._scrollMode===ir.PAGE&&(ie(this,tH,tG).call(this),this.update()),!t&&!this.isInPresentationMode){let e=i.offsetLeft+i.clientLeft,n=e+i.clientWidth,{scrollLeft:s,clientWidth:r}=this.container;(this._scrollMode===ir.HORIZONTAL||e<s||n>s+r)&&(t={left:0,top:0})}io(i,t),!this._currentScaleValue&&this._location&&(this._location=null)},tJ=function(e){return e===this._currentScale||1e-15>Math.abs(e-this._currentScale)},tX=function(e,t,i){let{noScroll:n=!1,preset:s=!1,drawingDelay:r=-1,origin:a=null}=i;if(this._currentScaleValue=t.toString(),ie(this,tH,tJ).call(this,e)){s&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*no.PDF_TO_CSS_UNITS);let l=r>=0&&r<1e3;this.refresh(!0,{scale:e,drawingDelay:l?r:-1}),l&&t7(this,tV,setTimeout(()=>{t7(this,tV,null),this.refresh()},r));let o=this._currentScale;if(this._currentScale=e,!n){let t=this._currentPageNumber,i;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(t=this._location.pageNumber,i=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:t,destArray:i,allowNegativeOffset:!0}),Array.isArray(a)){let t=e/o-1,[i,n]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-n)*t,this.container.scrollTop+=(a[1]-i)*t}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:s?t:void 0}),this.defaultRenderingQueue&&this.update()},tK=function(){return this._spreadMode!==ia.NONE&&this._scrollMode!==ir.HORIZONTAL?2:1},tq=function(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,ie(this,tH,tX).call(this,i,e,t);else{let n=this._pages[this._currentPageNumber-1];if(!n)return;let s=40,r=5;this.isInPresentationMode?(s=r=4,this._spreadMode!==ia.NONE&&(s*=2)):this.removePageBorders?s=r=0:this._scrollMode===ir.HORIZONTAL&&([s,r]=[r,s]);let a=(this.container.clientWidth-s)/n.width*n.scale/t6(this,tH,tK),l=(this.container.clientHeight-r)/n.height*n.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=a;break;case"page-height":i=l;break;case"page-fit":i=Math.min(a,l);break;case"auto":i=Math.min(1.25,im(n)?a:Math.min(l,a));break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,ie(this,tH,tX).call(this,i,e,t)}},tY=function(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&ie(this,tH,tq).call(this,this._currentScaleValue,{noScroll:!0}),ie(this,tH,tQ).call(this,e)},t0=async function(e){if(e.pdfPage)return e.pdfPage;try{let t=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(e){return console.error("Unable to get page for page view",e),null}},t1=function(e){var t,i;if((null==(t=e.first)?void 0:t.id)===1)return!0;if((null==(i=e.last)?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case ir.PAGE:return t6(this,t$).scrollDown;case ir.HORIZONTAL:return this.scroll.right}return this.scroll.down},t2=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container.clientHeight;e!==t6(this,tR)&&(t7(this,tR,e),iv.setProperty("--viewer-container-height",`${e}px`))},t3=function(e){for(let t of e)if(t.target===this.container){ie(this,tH,t2).call(this,Math.floor(t.borderBoxSize[0].blockSize)),t7(this,tC,null);break}};class sq extends sK{_resetView(){super._resetView(),this._scrollMode=ir.PAGE,this._spreadMode=ia.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}var sY=ii.AnnotationLayerBuilder,s0=ii.DownloadManager,s1=ii.EventBus,s2=ii.FindState,s3=ii.GenericL10n,s4=ii.LinkTarget,s5=ii.PDFFindController,s9=ii.PDFHistory,s6=ii.PDFLinkService,s8=ii.PDFPageView,s7=ii.PDFScriptingManager,re=ii.PDFSinglePageViewer,rt=ii.PDFViewer,ri=ii.ProgressBar,rn=ii.RenderingStates,rs=ii.ScrollMode,rr=ii.SimpleLinkService,ra=ii.SpreadMode,rl=ii.StructTreeLayerBuilder,ro=ii.TextLayerBuilder,rh=ii.XfaLayerBuilder,rd=ii.parseQueryString;e.s(["AnnotationLayerBuilder",()=>sY,"DownloadManager",()=>s0,"EventBus",()=>s1,"FindState",()=>s2,"GenericL10n",()=>s3,"LinkTarget",()=>s4,"PDFFindController",()=>s5,"PDFHistory",()=>s9,"PDFLinkService",()=>s6,"PDFPageView",()=>s8,"PDFScriptingManager",()=>s7,"PDFSinglePageViewer",()=>re,"PDFViewer",()=>rt,"ProgressBar",()=>ri,"RenderingStates",()=>rn,"ScrollMode",()=>rs,"SimpleLinkService",()=>rr,"SpreadMode",()=>ra,"StructTreeLayerBuilder",()=>rl,"TextLayerBuilder",()=>ro,"XfaLayerBuilder",()=>rh,"parseQueryString",()=>rd])}]);