(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,653356,e=>{"use strict";var t=e.i(268255);let l=t.forwardRef(function(e,l){let{title:n,titleId:s,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},i),n?t.createElement("title",{id:s},n):null,t.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))});e.s(["XMarkIcon",0,l],653356)},789604,882568,702941,516457,e=>{"use strict";let t,l,n,s;var i=e.i(182370),a=e.i(725968),o=e.i(268255),r=e.i(688393),u=e.i(876581);function d(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return(0,o.useCallback)((t,l)=>"string"==typeof e?(null==t?void 0:t[e])===(null==l?void 0:l[e]):e(t,l),[e])}e.s(["useByComparator",()=>c],882568);var p=e.i(614653),f=e.i(125234),m=e.i(97986),v=e.i(969350),b=e.i(589393),x=e.i(71216),g=e.i(741064),h=e.i(782165),y=e.i(518836),S=e.i(775885),I=e.i(122783),F=e.i(944296),E=e.i(777009),O=e.i(135477),R=e.i(329512),P=e.i(720048),w=e.i(326898),k=e.i(988851),C=e.i(602652),L=e.i(939895),T=e.i(274406);function j(e){let{children:t,freeze:l}=e,n=M(l,t);return o.default.createElement(o.default.Fragment,null,n)}function M(e,t){let[l,n]=(0,o.useState)(t);return e||l===t||n(t),e?l:t}e.s(["Frozen",()=>j,"useFrozenData",()=>M],702941);var D=e.i(344554),H=e.i(268850),G=e.i(294662),N=e.i(162023),U=e.i(708684),A=e.i(455028),V=e.i(330620),K=e.i(652038),$=e.i(875880),_=e.i(858023),B=e.i(869873),z=e.i(198136),Q=e.i(90158),q=e.i(642330),W=((t=W||{})[t.Open=0]="Open",t[t.Closed=1]="Closed",t),Z=((l=Z||{})[l.Single=0]="Single",l[l.Multi=1]="Multi",l),X=((n=X||{})[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n),J=((s=J||{})[s.OpenListbox=0]="OpenListbox",s[s.CloseListbox=1]="CloseListbox",s[s.GoToOption=2]="GoToOption",s[s.Search=3]="Search",s[s.ClearSearch=4]="ClearSearch",s[s.RegisterOption=5]="RegisterOption",s[s.UnregisterOption=6]="UnregisterOption",s[s.SetButtonElement=7]="SetButtonElement",s[s.SetOptionsElement=8]="SetOptionsElement",s);function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,l=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=(0,A.sortByDomNode)(t(e.options.slice()),e=>e.dataRef.current.domRef.current),s=l?n.indexOf(l):null;return -1===s&&(s=null),{options:n,activeOptionIndex:s}}let ee={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:l}=e.dataRef.current,n=e.options.findIndex(e=>l(e.dataRef.current.value));return -1!==n&&(t=n),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var l,n,s,i,a;if(e.dataRef.current.disabled||1===e.listboxState)return e;let o={...e,searchQuery:"",activationTrigger:null!=(l=t.trigger)?l:1,__demoMode:!1};if(t.focus===N.Focus.Nothing)return{...o,activeOptionIndex:null};if(t.focus===N.Focus.Specific)return{...o,activeOptionIndex:e.options.findIndex(e=>e.id===t.id)};if(t.focus===N.Focus.Previous){let l=e.activeOptionIndex;if(null!==l){let i=e.options[l].dataRef.current.domRef,a=(0,N.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==a){let t=e.options[a].dataRef.current.domRef;if((null==(n=i.current)?void 0:n.previousElementSibling)===t.current||(null==(s=t.current)?void 0:s.previousElementSibling)===null)return{...o,activeOptionIndex:a}}}}else if(t.focus===N.Focus.Next){let l=e.activeOptionIndex;if(null!==l){let n=e.options[l].dataRef.current.domRef,s=(0,N.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==s){let t=e.options[s].dataRef.current.domRef;if((null==(i=n.current)?void 0:i.nextElementSibling)===t.current||(null==(a=t.current)?void 0:a.nextElementSibling)===null)return{...o,activeOptionIndex:s}}}}let r=Y(e),u=(0,N.calculateActiveIndex)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...o,...r,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let l=+(""===e.searchQuery),n=e.searchQuery+t.value.toLowerCase(),s=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+l).concat(e.options.slice(0,e.activeOptionIndex+l)):e.options).find(e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))}),i=s?e.options.indexOf(s):-1;return -1===i||i===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:i,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let l={id:t.id,dataRef:t.dataRef},n=Y(e,e=>[...e,l]);return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(l)),{...e,...n}},6:(e,t)=>{let l=Y(e,e=>{let l=e.findIndex(e=>e.id===t.id);return -1!==l&&e.splice(l,1),e});return{...e,...l,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},et=(0,o.createContext)(null);function el(e){let t=(0,o.useContext)(et);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,el),t}return t}et.displayName="ListboxActionsContext";let en=(0,o.createContext)(null);function es(e){let t=(0,o.useContext)(en);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,es),t}return t}function ei(e,t){return(0,K.match)(t.type,ee,e,t)}en.displayName="ListboxDataContext";let ea=o.Fragment,eo=(0,o.createContext)(!1),er=_.RenderFeatures.RenderStrategy|_.RenderFeatures.Static,eu=o.Fragment,ed=(0,_.forwardRefWithAs)(function(e,t){var l;let n=(0,C.useDisabled)(),{value:s,defaultValue:i,form:a,name:r,onChange:u,by:d,invalid:m=!1,disabled:b=n||!1,horizontal:g=!1,multiple:y=!1,__demoMode:S=!1,...F}=e,E=g?"horizontal":"vertical",O=(0,R.useSyncRefs)(t),P=(0,f.useDefaultValue)(i),[w=y?[]:void 0,k]=(0,p.useControllable)(s,u,P),[j,M]=(0,o.useReducer)(ei,{dataRef:(0,o.createRef)(),listboxState:+!S,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:S}),D=(0,o.useRef)({static:!1,hold:!1}),G=(0,o.useRef)(new Map),U=c(d),V=(0,o.useCallback)(e=>(0,K.match)($.mode,{1:()=>w.some(t=>U(t,e)),0:()=>U(w,e)}),[w]),$=(0,o.useMemo)(()=>({...j,value:w,disabled:b,invalid:m,mode:+!!y,orientation:E,compare:U,isSelected:V,optionsPropsRef:D,listRef:G}),[w,b,m,y,j,G]);(0,h.useIsoMorphicEffect)(()=>{j.dataRef.current=$},[$]);let B=0===$.listboxState;(0,I.useOutsideClick)(B,[$.buttonElement,$.optionsElement],(e,t)=>{var l;M({type:1}),(0,A.isFocusableElement)(t,A.FocusableMode.Loose)||(e.preventDefault(),null==(l=$.buttonElement)||l.focus())});let z=(0,o.useMemo)(()=>({open:0===$.listboxState,disabled:b,invalid:m,value:w}),[$,b,w,m]),q=(0,x.useEvent)(e=>{let t=$.options.find(t=>t.id===e);t&&el(t.dataRef.current.value)}),W=(0,x.useEvent)(()=>{if(null!==$.activeOptionIndex){let{dataRef:e,id:t}=$.options[$.activeOptionIndex];el(e.current.value),M({type:2,focus:N.Focus.Specific,id:t})}}),Z=(0,x.useEvent)(()=>M({type:0})),X=(0,x.useEvent)(()=>M({type:1})),J=(0,v.useDisposables)(),Y=(0,x.useEvent)((e,t,l)=>{J.dispose(),J.microTask(()=>e===N.Focus.Specific?M({type:2,focus:N.Focus.Specific,id:t,trigger:l}):M({type:2,focus:e,trigger:l}))}),ee=(0,x.useEvent)((e,t)=>(M({type:5,id:e,dataRef:t}),()=>M({type:6,id:e}))),el=(0,x.useEvent)(e=>(0,K.match)($.mode,{0:()=>null==k?void 0:k(e),1(){let t=$.value.slice(),l=t.findIndex(t=>U(t,e));return -1===l?t.push(e):t.splice(l,1),null==k?void 0:k(t)}})),es=(0,x.useEvent)(e=>M({type:3,value:e})),eo=(0,x.useEvent)(()=>M({type:4})),er=(0,x.useEvent)(e=>{M({type:7,element:e})}),eu=(0,x.useEvent)(e=>{M({type:8,element:e})}),ed=(0,o.useMemo)(()=>({onChange:el,registerOption:ee,goToOption:Y,closeListbox:X,openListbox:Z,selectActiveOption:W,selectOption:q,search:es,clearSearch:eo,setButtonElement:er,setOptionsElement:eu}),[]),[ec,ep]=(0,Q.useLabels)({inherit:!0}),ef=(0,o.useCallback)(()=>{if(void 0!==P)return null==k?void 0:k(P)},[k,P]),em=(0,_.useRender)();return o.default.createElement(ep,{value:ec,props:{htmlFor:null==(l=$.buttonElement)?void 0:l.id},slot:{open:0===$.listboxState,disabled:b}},o.default.createElement(L.FloatingProvider,null,o.default.createElement(et.Provider,{value:ed},o.default.createElement(en.Provider,{value:$},o.default.createElement(H.OpenClosedProvider,{value:(0,K.match)($.listboxState,{0:H.State.Open,1:H.State.Closed})},null!=r&&null!=w&&o.default.createElement(T.FormFields,{disabled:b,data:{[r]:w},form:a,onReset:ef}),em({ourProps:{ref:O},theirProps:F,slot:z,defaultTag:ea,name:"Listbox"}))))))}),ec=(0,_.forwardRefWithAs)(function(e,t){var l;let n=es("Listbox.Button"),s=el("Listbox.Button"),d=(0,o.useId)(),c=(0,D.useProvidedId)(),{id:p=c||`headlessui-listbox-button-${d}`,disabled:f=n.disabled||!1,autoFocus:m=!1,...v}=e,b=(0,R.useSyncRefs)(t,(0,L.useFloatingReference)(),s.setButtonElement),g=(0,L.useFloatingReferenceProps)(),h=(0,x.useEvent)(e=>{switch(e.key){case z.Keys.Enter:(0,V.attemptSubmit)(e.currentTarget);break;case z.Keys.Space:case z.Keys.ArrowDown:e.preventDefault(),(0,r.flushSync)(()=>s.openListbox()),n.value||s.goToOption(N.Focus.First);break;case z.Keys.ArrowUp:e.preventDefault(),(0,r.flushSync)(()=>s.openListbox()),n.value||s.goToOption(N.Focus.Last)}}),y=(0,x.useEvent)(e=>{e.key===z.Keys.Space&&e.preventDefault()}),S=(0,x.useEvent)(e=>{var t;if((0,G.isDisabledReactIssue7711)(e.currentTarget))return e.preventDefault();0===n.listboxState?((0,r.flushSync)(()=>s.closeListbox()),null==(t=n.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),s.openListbox())}),I=(0,x.useEvent)(e=>e.preventDefault()),F=(0,Q.useLabelledBy)([p]),O=(0,B.useDescribedBy)(),{isFocusVisible:P,focusProps:w}=(0,i.useFocusRing)({autoFocus:m}),{isHovered:k,hoverProps:C}=(0,a.useHover)({isDisabled:f}),{pressed:T,pressProps:j}=(0,u.useActivePress)({disabled:f}),M=(0,o.useMemo)(()=>({open:0===n.listboxState,active:T||0===n.listboxState,disabled:f,invalid:n.invalid,value:n.value,hover:k,focus:P,autofocus:m}),[n.listboxState,n.value,f,k,P,T,n.invalid,m]),H=(0,_.mergeProps)(g(),{ref:b,id:p,type:(0,E.useResolveButtonType)(e,n.buttonElement),"aria-haspopup":"listbox","aria-controls":null==(l=n.optionsElement)?void 0:l.id,"aria-expanded":0===n.listboxState,"aria-labelledby":F,"aria-describedby":O,disabled:f||void 0,autoFocus:m,onKeyDown:h,onKeyUp:y,onKeyPress:I,onClick:S},w,C,j);return(0,_.useRender)()({ourProps:H,theirProps:v,slot:M,defaultTag:"button",name:"Listbox.Button"})}),ep=Q.Label,ef=(0,_.forwardRefWithAs)(function(e,t){var l,n;let s=(0,o.useId)(),{id:i=`headlessui-listbox-options-${s}`,anchor:a,portal:u=!1,modal:d=!0,transition:c=!1,...p}=e,f=(0,L.useResolvedAnchor)(a),[h,y]=(0,o.useState)(null);f&&(u=!0);let I=es("Listbox.Options"),E=el("Listbox.Options"),P=(0,F.useOwnerDocument)(I.buttonElement),w=(0,F.useOwnerDocument)(I.optionsElement),C=(0,H.useOpenClosed)(),[T,j]=(0,k.useTransition)(c,h,null!==C?(C&H.State.Open)===H.State.Open:0===I.listboxState);(0,S.useOnDisappear)(T,I.buttonElement,E.closeListbox);let D=!I.__demoMode&&d&&0===I.listboxState;(0,O.useScrollLock)(D,w);let G=!I.__demoMode&&d&&0===I.listboxState;(0,g.useInertOthers)(G,{allowed:(0,o.useCallback)(()=>[I.buttonElement,I.optionsElement],[I.buttonElement,I.optionsElement])});let U=0!==I.listboxState,V=!(0,m.useDidElementMove)(U,I.buttonElement)&&T,B=M(T&&1===I.listboxState,I.value),Q=(0,x.useEvent)(e=>I.compare(B,e)),W=(0,o.useMemo)(()=>{var e;if(null==f||!(null!=(e=null==f?void 0:f.to)&&e.includes("selection")))return null;let t=I.options.findIndex(e=>Q(e.dataRef.current.value));return -1===t&&(t=0),t},[f,I.options]),Z=(()=>{if(null==f)return;if(null===W)return{...f,inner:void 0};let e=Array.from(I.listRef.current.values());return{...f,inner:{listRef:{current:e},index:W}}})(),[X,J]=(0,L.useFloatingPanel)(Z),Y=(0,L.useFloatingPanelProps)(),ee=(0,R.useSyncRefs)(t,f?X:null,E.setOptionsElement,y),et=(0,v.useDisposables)();(0,o.useEffect)(()=>{var e;let t=I.optionsElement;t&&0===I.listboxState&&t!==(null==(e=(0,$.getOwnerDocument)(t))?void 0:e.activeElement)&&(null==t||t.focus({preventScroll:!0}))},[I.listboxState,I.optionsElement]);let ei=(0,x.useEvent)(e=>{var t,l;switch(et.dispose(),e.key){case z.Keys.Space:if(""!==I.searchQuery)return e.preventDefault(),e.stopPropagation(),E.search(e.key);case z.Keys.Enter:if(e.preventDefault(),e.stopPropagation(),null!==I.activeOptionIndex){let{dataRef:e}=I.options[I.activeOptionIndex];E.onChange(e.current.value)}0===I.mode&&((0,r.flushSync)(()=>E.closeListbox()),null==(t=I.buttonElement)||t.focus({preventScroll:!0}));break;case(0,K.match)(I.orientation,{vertical:z.Keys.ArrowDown,horizontal:z.Keys.ArrowRight}):return e.preventDefault(),e.stopPropagation(),E.goToOption(N.Focus.Next);case(0,K.match)(I.orientation,{vertical:z.Keys.ArrowUp,horizontal:z.Keys.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),E.goToOption(N.Focus.Previous);case z.Keys.Home:case z.Keys.PageUp:return e.preventDefault(),e.stopPropagation(),E.goToOption(N.Focus.First);case z.Keys.End:case z.Keys.PageDown:return e.preventDefault(),e.stopPropagation(),E.goToOption(N.Focus.Last);case z.Keys.Escape:e.preventDefault(),e.stopPropagation(),(0,r.flushSync)(()=>E.closeListbox()),null==(l=I.buttonElement)||l.focus({preventScroll:!0});return;case z.Keys.Tab:e.preventDefault(),e.stopPropagation(),(0,r.flushSync)(()=>E.closeListbox()),(0,A.focusFrom)(I.buttonElement,e.shiftKey?A.Focus.Previous:A.Focus.Next);break;default:1===e.key.length&&(E.search(e.key),et.setTimeout(()=>E.clearSearch(),350))}}),ea=null==(l=I.buttonElement)?void 0:l.id,eo=(0,o.useMemo)(()=>({open:0===I.listboxState}),[I.listboxState]),eu=(0,_.mergeProps)(f?Y():{},{id:i,ref:ee,"aria-activedescendant":null===I.activeOptionIndex||null==(n=I.options[I.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===I.mode||void 0,"aria-labelledby":ea,"aria-orientation":I.orientation,onKeyDown:ei,role:"listbox",tabIndex:0===I.listboxState?0:void 0,style:{...p.style,...J,"--button-width":(0,b.useElementSize)(I.buttonElement,!0).width},...(0,k.transitionDataAttributes)(j)}),ed=(0,_.useRender)();return o.default.createElement(q.Portal,{enabled:!!u&&(e.static||T),ownerDocument:P},o.default.createElement(en.Provider,{value:1===I.mode?I:{...I,isSelected:Q}},ed({ourProps:eu,theirProps:p,slot:eo,defaultTag:"div",features:er,visible:V,name:"Listbox.Options"})))}),em=(0,_.forwardRefWithAs)(function(e,t){let l=(0,o.useId)(),{id:n=`headlessui-listbox-option-${l}`,disabled:s=!1,value:i,...a}=e,u=!0===(0,o.useContext)(eo),d=es("Listbox.Option"),c=el("Listbox.Option"),p=null!==d.activeOptionIndex&&d.options[d.activeOptionIndex].id===n,f=d.isSelected(i),m=(0,o.useRef)(null),v=(0,P.useTextValue)(m),b=(0,y.useLatestValue)({disabled:s,value:i,domRef:m,get textValue(){return v()}}),g=(0,R.useSyncRefs)(t,m,e=>{e?d.listRef.current.set(n,e):d.listRef.current.delete(n)});(0,h.useIsoMorphicEffect)(()=>{if(!d.__demoMode&&0===d.listboxState&&p&&0!==d.activationTrigger)return(0,U.disposables)().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[m,p,d.__demoMode,d.listboxState,d.activationTrigger,d.activeOptionIndex]),(0,h.useIsoMorphicEffect)(()=>{if(!u)return c.registerOption(n,b)},[b,n,u]);let S=(0,x.useEvent)(e=>{var t;if(s)return e.preventDefault();c.onChange(i),0===d.mode&&((0,r.flushSync)(()=>c.closeListbox()),null==(t=d.buttonElement)||t.focus({preventScroll:!0}))}),I=(0,x.useEvent)(()=>{if(s)return c.goToOption(N.Focus.Nothing);c.goToOption(N.Focus.Specific,n)}),F=(0,w.useTrackedPointer)(),E=(0,x.useEvent)(e=>{F.update(e),!s&&(p||c.goToOption(N.Focus.Specific,n,0))}),O=(0,x.useEvent)(e=>{F.wasMoved(e)&&(s||p||c.goToOption(N.Focus.Specific,n,0))}),k=(0,x.useEvent)(e=>{F.wasMoved(e)&&(s||p&&c.goToOption(N.Focus.Nothing))}),C=(0,o.useMemo)(()=>({active:p,focus:p,selected:f,disabled:s,selectedOption:f&&u}),[p,f,s,u]),L=u?{}:{id:n,ref:g,role:"option",tabIndex:!0===s?void 0:-1,"aria-disabled":!0===s||void 0,"aria-selected":f,disabled:void 0,onClick:S,onFocus:I,onPointerEnter:E,onMouseEnter:E,onPointerMove:O,onMouseMove:O,onPointerLeave:k,onMouseLeave:k},T=(0,_.useRender)();return!f&&u?null:T({ourProps:L,theirProps:a,slot:C,defaultTag:"div",name:"Listbox.Option"})}),ev=Object.assign(ed,{Button:ec,Label:ep,Options:ef,Option:em,SelectedOption:(0,_.forwardRefWithAs)(function(e,t){let{options:l,placeholder:n,...s}=e,i={ref:(0,R.useSyncRefs)(t)},a=es("ListboxSelectedOption"),r=(0,o.useMemo)(()=>({}),[]),u=void 0===a.value||null===a.value||1===a.mode&&Array.isArray(a.value)&&0===a.value.length,d=(0,_.useRender)();return o.default.createElement(eo.Provider,{value:!0},d({ourProps:i,theirProps:{...s,children:o.default.createElement(o.default.Fragment,null,n&&u?n:l)},slot:r,defaultTag:eu,name:"ListboxSelectedOption"}))})});e.s(["Listbox",()=>ev,"ListboxButton",()=>ec,"ListboxOption",()=>em,"ListboxOptions",()=>ef],789604);let eb=o.forwardRef(function(e,t){let{title:l,titleId:n,...s}=e;return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),l?o.createElement("title",{id:n},l):null,o.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});e.s(["ChevronDownIcon",0,eb],516457)},622085,e=>{"use strict";var t=e.i(563199),l=e.i(268255);e.i(152567);var n=e.i(408767),s=e.i(21151),i=e.i(137667),a=e.i(222573),o=e.i(935139),r=e.i(944911),u=e.i(568349),d=e.i(908132),c=e.i(664826),p=e.i(632717),f=e.i(228403),m=e.i(837699),v=e.i(151094),b=e.i(99649),x=e.i(887460),g=e.i(157644),h=e.i(365181),y=e.i(745754),S=e.i(292005);let I="installModal",F=e=>{let{updatePayload:s,uniqueIdentifier:i,payload:a,repoUrl:o,selectedVersion:u,selectedPackage:d,onBack:c,onStartToInstall:p,onInstalled:F,onFailed:E}=e,{t:O}=(0,n.useTranslation)(),R=a.version,P=a.plugin_id,{installedInfo:w,isLoading:k}=(0,b.default)({pluginIds:[P],enabled:!!P}),C=w?.[P],L=C?.installedVersion,T=!!L,[j,M]=l.useState(!1),{mutateAsync:D}=(0,g.useInstallPackageFromGitHub)(),{handleRefetch:H}=(0,g.usePluginTaskList)(a.category),{check:G}=(0,y.default)();(0,l.useEffect)(()=>{T&&i===C.uniqueIdentifier&&F()},[T]);let N=async()=>{if(!j){M(!0),p?.();try{let e,t,{owner:l,repo:n}=(0,f.parseGitHubUrl)(o);if(s){let{all_installed:a,task_id:o}=await (0,x.updateFromGitHub)(`${l}/${n}`,u,d,s.originalPackageInfo.id,i);e=o,t=a}else if(T){let{all_installed:s,task_id:a}=await (0,x.updateFromGitHub)(`${l}/${n}`,u,d,C.uniqueIdentifier,i);e=a,t=s}else{let{all_installed:s,task_id:a}=await D({repoUrl:`${l}/${n}`,selectedVersion:u,selectedPackage:d,uniqueIdentifier:i});e=a,t=s}if(t)return void F();H();let{status:a,error:c}=await G({taskId:e,pluginUniqueIdentifier:i});if(a===r.TaskStatus.failed)return void E(c);F(!0)}catch(e){if("string"==typeof e)return void E(e);E()}finally{M(!1)}}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"system-md-regular text-text-secondary",children:(0,t.jsx)("p",{children:O(`${I}.readyToInstall`,{ns:"plugin"})})}),(0,t.jsx)("div",{className:"flex flex-wrap content-start items-start gap-1 self-stretch rounded-2xl bg-background-section-burn p-2",children:(0,t.jsx)(h.default,{className:"w-full",payload:(0,f.pluginManifestToCardPluginProps)(a),titleLeft:!k&&(0,t.jsx)(S.default,{hasInstalled:T,installedVersion:L,toInstallVersion:R})})}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2 self-stretch",children:[!j&&(0,t.jsx)(v.default,{variant:"secondary",className:"min-w-[72px]",onClick:c,children:O("installModal.back",{ns:"plugin"})}),(0,t.jsxs)(v.default,{variant:"primary",className:"flex min-w-[72px] space-x-0.5",onClick:N,disabled:j||k,children:[j&&(0,t.jsx)(m.RiLoader2Line,{className:"h-4 w-4 animate-spin-slow"}),(0,t.jsx)("span",{children:O(`${I}.${j?"installing":"install"}`,{ns:"plugin"})})]})]})]})};var E=e.i(299951);let O="installFromGitHub",R=e=>{let{updatePayload:s,repoUrl:i,selectedVersion:a,versions:o,onSelectVersion:r,selectedPackage:u,packages:c,onSelectPackage:p,onUploaded:f,onFailed:m,onBack:b}=e,{t:x}=(0,n.useTranslation)(),g=!!s,[h,y]=l.useState(!1),{handleUpload:S}=(0,d.useGitHubUpload)(),I=async()=>{if(!h){y(!0);try{let e=i.replace("https://github.com/","");await S(e,a,u,e=>{f({uniqueIdentifier:e.unique_identifier,manifest:e.manifest})})}catch(e){e.response?.message?m(e.response?.message):m(x(`${O}.uploadFailed`,{ns:"plugin"}))}finally{y(!1)}}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:"version",className:"flex flex-col items-start justify-center self-stretch text-text-secondary",children:(0,t.jsx)("span",{className:"system-sm-semibold",children:x(`${O}.selectVersion`,{ns:"plugin"})})}),(0,t.jsx)(E.PortalSelect,{value:a,onSelect:r,items:o,installedValue:s?.originalPackageInfo.version,placeholder:x(`${O}.selectVersionPlaceholder`,{ns:"plugin"})||"",popupClassName:"w-[512px] z-[1001]",triggerClassName:"text-components-input-text-filled"}),(0,t.jsx)("label",{htmlFor:"package",className:"flex flex-col items-start justify-center self-stretch text-text-secondary",children:(0,t.jsx)("span",{className:"system-sm-semibold",children:x(`${O}.selectPackage`,{ns:"plugin"})})}),(0,t.jsx)(E.PortalSelect,{value:u,onSelect:p,items:c,readonly:!a,placeholder:x(`${O}.selectPackagePlaceholder`,{ns:"plugin"})||"",popupClassName:"w-[512px] z-[1001]",triggerClassName:"text-components-input-text-filled"}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2 self-stretch",children:[!g&&(0,t.jsx)(v.default,{variant:"secondary",className:"min-w-[72px]",onClick:b,disabled:h,children:x("installModal.back",{ns:"plugin"})}),(0,t.jsx)(v.default,{variant:"primary",className:"min-w-[72px]",onClick:I,disabled:!a||!u||h,children:x("installModal.next",{ns:"plugin"})})]})]})},P=e=>{let{repoUrl:l,onChange:s,onNext:i,onCancel:a}=e,{t:o}=(0,n.useTranslation)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("label",{htmlFor:"repoUrl",className:"flex flex-col items-start justify-center self-stretch text-text-secondary",children:(0,t.jsx)("span",{className:"system-sm-semibold",children:o("installFromGitHub.gitHubRepo",{ns:"plugin"})})}),(0,t.jsx)("input",{type:"url",id:"repoUrl",name:"repoUrl",value:l,onChange:e=>s(e.target.value),className:"shadows-shadow-xs system-sm-regular flex grow items-center gap-[2px] self-stretch overflow-hidden text-ellipsis rounded-lg border border-components-input-border-active bg-components-input-bg-active p-2 text-components-input-text-filled",placeholder:"Please enter GitHub repo URL"}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2 self-stretch",children:[(0,t.jsx)(v.default,{variant:"secondary",className:"min-w-[72px]",onClick:a,children:o("installModal.cancel",{ns:"plugin"})}),(0,t.jsx)(v.default,{variant:"primary",className:"min-w-[72px]",onClick:i,disabled:!l.trim(),children:o("installModal.next",{ns:"plugin"})})]})]})},w="installFromGitHub";e.s(["default",0,e=>{let{updatePayload:m,onClose:v,onSuccess:b}=e,{t:x}=(0,n.useTranslation)(),{getIconUrl:g}=(0,a.default)(),{fetchReleases:h}=(0,d.useGitHubReleases)(),{refreshPluginList:y}=(0,p.default)(),{modalClassName:S,foldAnimInto:I,setIsInstalling:E,handleStartToInstall:O}=(0,c.default)(v),[k,C]=(0,l.useState)({step:m?r.InstallStepFromGitHub.selectPackage:r.InstallStepFromGitHub.setUrl,repoUrl:m?.originalPackageInfo?.repo?(0,f.convertRepoToUrl)(m.originalPackageInfo.repo):"",selectedVersion:"",selectedPackage:"",releases:m?m.originalPackageInfo.releases:[]}),[L,T]=(0,l.useState)(null),[j,M]=(0,l.useState)(null),[D,H]=(0,l.useState)(null),G=k.releases.map(e=>({value:e.tag_name,name:e.tag_name})),N=k.selectedVersion&&k.releases.find(e=>e.tag_name===k.selectedVersion)?.assets.map(e=>({value:e.name,name:e.name}))||[],U=(0,l.useCallback)(()=>k.step===r.InstallStepFromGitHub.installed?x(`${w}.installedSuccessfully`,{ns:"plugin"}):k.step===r.InstallStepFromGitHub.installFailed?x(`${w}.installFailed`,{ns:"plugin"}):m?x(`${w}.updatePlugin`,{ns:"plugin"}):x(`${w}.installPlugin`,{ns:"plugin"}),[k.step,x,m]),A=async()=>{let{isValid:e,owner:t,repo:l}=(0,f.parseGitHubUrl)(k.repoUrl);if(!e||!t||!l)return void i.default.notify({type:"error",message:x("error.inValidGitHubUrl",{ns:"plugin"})});try{let e=await h(t,l);e.length>0?C(t=>({...t,releases:e,step:r.InstallStepFromGitHub.selectPackage})):i.default.notify({type:"error",message:x("error.noReleasesFound",{ns:"plugin"})})}catch{i.default.notify({type:"error",message:x("error.fetchReleasesError",{ns:"plugin"})})}},V=async e=>{try{let t=await g(e.manifest.icon);M({...e.manifest,icon:t}),T(e.uniqueIdentifier),C(e=>({...e,step:r.InstallStepFromGitHub.readyToInstall}))}catch(e){H(e?.response?.message||x("installModal.installFailedDesc",{ns:"plugin"})),C(e=>({...e,step:(0,r.InstallStepFromGitHub.uploadFailed)}))}},K=(0,l.useCallback)(e=>{H(e),C(e=>({...e,step:r.InstallStepFromGitHub.uploadFailed}))},[]),$=(0,l.useCallback)(e=>{C(e=>({...e,step:r.InstallStepFromGitHub.installed})),e||y(j),E(!1),b()},[j,b,y,E]),_=(0,l.useCallback)(e=>{C(e=>({...e,step:r.InstallStepFromGitHub.installFailed})),E(!1),e&&H(e)},[E]),B=()=>{C(e=>{switch(e.step){case r.InstallStepFromGitHub.selectPackage:return{...e,step:r.InstallStepFromGitHub.setUrl};case r.InstallStepFromGitHub.readyToInstall:return{...e,step:r.InstallStepFromGitHub.selectPackage};default:return e}})};return(0,t.jsxs)(s.default,{isShow:!0,onClose:I,className:(0,o.cn)(S,`shadows-shadow-xl flex min-w-[560px] flex-col items-start rounded-2xl border-[0.5px]
        border-components-panel-border bg-components-panel-bg p-0`),closable:!0,children:[(0,t.jsx)("div",{className:"flex items-start gap-2 self-stretch pb-3 pl-6 pr-14 pt-6",children:(0,t.jsxs)("div",{className:"flex grow flex-col items-start gap-1",children:[(0,t.jsx)("div",{className:"title-2xl-semi-bold self-stretch text-text-primary",children:U()}),(0,t.jsx)("div",{className:"system-xs-regular self-stretch text-text-tertiary",children:![r.InstallStepFromGitHub.uploadFailed,r.InstallStepFromGitHub.installed,r.InstallStepFromGitHub.installFailed].includes(k.step)&&x("installFromGitHub.installNote",{ns:"plugin"})})]})}),[r.InstallStepFromGitHub.uploadFailed,r.InstallStepFromGitHub.installed,r.InstallStepFromGitHub.installFailed].includes(k.step)?(0,t.jsx)(u.default,{payload:j,isFailed:[r.InstallStepFromGitHub.uploadFailed,r.InstallStepFromGitHub.installFailed].includes(k.step),errMsg:D,onCancel:v}):(0,t.jsxs)("div",{className:`flex flex-col items-start justify-center self-stretch px-6 py-3 ${k.step===r.InstallStepFromGitHub.installed?"gap-2":"gap-4"}`,children:[k.step===r.InstallStepFromGitHub.setUrl&&(0,t.jsx)(P,{repoUrl:k.repoUrl,onChange:e=>C(t=>({...t,repoUrl:e})),onNext:A,onCancel:v}),k.step===r.InstallStepFromGitHub.selectPackage&&(0,t.jsx)(R,{updatePayload:m,repoUrl:k.repoUrl,selectedVersion:k.selectedVersion,versions:G,onSelectVersion:e=>C(t=>({...t,selectedVersion:e.value})),selectedPackage:k.selectedPackage,packages:N,onSelectPackage:e=>C(t=>({...t,selectedPackage:e.value})),onUploaded:V,onFailed:K,onBack:B}),k.step===r.InstallStepFromGitHub.readyToInstall&&(0,t.jsx)(F,{updatePayload:m,uniqueIdentifier:L,payload:j,repoUrl:k.repoUrl,selectedVersion:k.selectedVersion,selectedPackage:k.selectedPackage,onBack:B,onStartToInstall:O,onInstalled:$,onFailed:_})]})]})}],622085)},144226,e=>{"use strict";var t=e.i(563199),l=e.i(268255),n=e.i(944911),s=e.i(622085);let i=l.memo(e=>{let{payload:l,onSave:n,onCancel:i}=e;return(0,t.jsx)(s.default,{updatePayload:l,onClose:i,onSuccess:n})});var a=e.i(583926);let o=l.memo(e=>{let{type:l,marketPlace:s,github:o,onCancel:r,onSave:u}=e;return l===n.PluginSource.github?(0,t.jsx)(i,{payload:o,onSave:u,onCancel:r}):(0,t.jsx)(a.default,{payload:s,onSave:u,onCancel:r})});e.s(["default",0,o],144226)},43994,e=>{e.n(e.i(144226))}]);