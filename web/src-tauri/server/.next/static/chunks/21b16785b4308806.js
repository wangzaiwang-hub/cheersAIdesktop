(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,291428,e=>{e.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"g",attributes:{id:"alert-triangle"},children:[{type:"element",name:"path",attributes:{id:"Solid","fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.40616 0.834185C6.14751 0.719172 5.85222 0.719172 5.59356 0.834185C5.3938 0.923011 5.26403 1.07947 5.17373 1.20696C5.08495 1.3323 4.9899 1.49651 4.88536 1.67711L0.751783 8.81693C0.646828 8.99818 0.551451 9.16289 0.486781 9.30268C0.421056 9.44475 0.349754 9.63572 0.372478 9.85369C0.401884 10.1357 0.549654 10.392 0.779012 10.5588C0.956259 10.6877 1.15726 10.7217 1.31314 10.736C1.46651 10.75 1.65684 10.75 1.86628 10.75H10.1334C10.3429 10.75 10.5332 10.75 10.6866 10.736C10.8425 10.7217 11.0435 10.6877 11.2207 10.5588C11.4501 10.392 11.5978 10.1357 11.6272 9.85369C11.65 9.63572 11.5787 9.44475 11.5129 9.30268C11.4483 9.1629 11.3529 8.9982 11.248 8.81697L7.11436 1.67709C7.00983 1.49651 6.91477 1.3323 6.82599 1.20696C6.73569 1.07947 6.60593 0.923011 6.40616 0.834185ZM6.49988 4.5C6.49988 4.22386 6.27602 4 5.99988 4C5.72374 4 5.49988 4.22386 5.49988 4.5V6.5C5.49988 6.77614 5.72374 7 5.99988 7C6.27602 7 6.49988 6.77614 6.49988 6.5V4.5ZM5.99988 8C5.72374 8 5.49988 8.22386 5.49988 8.5C5.49988 8.77614 5.72374 9 5.99988 9H6.00488C6.28102 9 6.50488 8.77614 6.50488 8.5C6.50488 8.22386 6.28102 8 6.00488 8H5.99988Z",fill:"currentColor"},children:[]}]}]},name:"AlertTriangle"})},793622,417494,259509,e=>{"use strict";var t=e.i(563199),i=e.i(807324),a=e.i(291428);let s=e=>{let{ref:s,...n}=e;return(0,t.jsx)(i.default,{...n,ref:s,data:a.default})};s.displayName="AlertTriangle",e.s(["default",0,s],417494),e.s([],793622),e.s(["AlertTriangle",0,s],259509)},171985,e=>{"use strict";var t=e.i(563199),i=e.i(837699),a=e.i(124836),s=e.i(326531),n=e.i(268255);e.i(152567);var l=e.i(408767),r=e.i(339548),c=e.i(189299),o=e.i(257899),p=e.i(151094),d=e.i(324935),m=e.i(547105);e.i(793622);var u=e.i(259509),x=e.i(291631),h=e.i(21151),C=e.i(137667),g=e.i(921568),f=e.i(925521),y=e.i(711536),j=e.i(56971),w=e.i(972282),v=e.i(648404),b=e.i(586871),N=e.i(935139),A=e.i(360972);e.s(["default",0,e=>{let{show:T,appDetail:k,inAppDetail:S=!1,onSuccess:_,onClose:E}=e,{push:R,replace:I}=(0,s.useRouter)(),{t:L}=(0,l.useTranslation)(),{notify:M}=(0,r.useContext)(C.ToastContext),O=(0,c.useStore)(e=>e.setAppDetail),{isCurrentWorkspaceEditor:P}=(0,y.useAppContext)(),{plan:D,enableBilling:H}=(0,j.useProviderContext)(),F=H&&D.usage.buildApps>=D.total.buildApps,[K,B]=(0,n.useState)(!1),[U,V]=(0,n.useState)("image"===k.icon_type?{type:"image",url:k.icon_url,fileId:k.icon}:{type:"emoji",icon:k.icon,background:k.icon_background}),[Z,W]=(0,n.useState)(`${k.name}(copy)`),[z,Y]=(0,n.useState)(!1),[$,q]=(0,n.useState)(!1),G=async()=>{try{let{new_app_id:e}=await (0,w.switchApp)({appID:k.id,name:Z,icon_type:U.type,icon:"emoji"===U.type?U.icon:U.fileId,icon_background:"emoji"===U.type?U.background:void 0});_&&_(),E&&E(),M({type:"success",message:L("newApp.appCreated",{ns:"app"})}),S&&O(),z&&await (0,w.deleteApp)(k.id),localStorage.setItem(f.NEED_REFRESH_APP_LIST_KEY,"1"),(0,b.getRedirection)(P,{id:e,mode:k.mode===v.AppModeEnum.COMPLETION?v.AppModeEnum.WORKFLOW:v.AppModeEnum.ADVANCED_CHAT},z?I:R)}catch{M({type:"error",message:L("newApp.appCreateFailed",{ns:"app"})})}};return(0,n.useEffect)(()=>{z&&q(!0)},[z]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.default,{className:(0,N.cn)("w-[600px] max-w-[600px] p-8"),isShow:T,onClose:a.noop,children:[(0,t.jsx)("div",{className:"absolute right-4 top-4 cursor-pointer p-2",onClick:E,children:(0,t.jsx)(i.RiCloseLine,{className:"h-4 w-4 text-text-tertiary"})}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl border-[0.5px] border-divider-regular bg-background-default-burn p-3 shadow-xl",children:(0,t.jsx)(u.AlertTriangle,{className:"h-6 w-6 text-[rgb(247,144,9)]"})}),(0,t.jsx)("div",{className:"relative mt-3 text-xl font-semibold leading-[30px] text-text-primary",children:L("switch",{ns:"app"})}),(0,t.jsxs)("div",{className:"my-1 text-sm leading-5 text-text-tertiary",children:[(0,t.jsx)("span",{children:L("switchTipStart",{ns:"app"})}),(0,t.jsx)("span",{className:"font-medium text-text-secondary",children:L("switchTip",{ns:"app"})}),(0,t.jsx)("span",{children:L("switchTipEnd",{ns:"app"})})]}),(0,t.jsxs)("div",{className:"pb-4",children:[(0,t.jsx)("div",{className:"py-2 text-sm font-medium leading-[20px] text-text-primary",children:L("switchLabel",{ns:"app"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,t.jsx)(o.default,{size:"large",onClick:()=>{B(!0)},className:"cursor-pointer",iconType:U.type,icon:"image"===U.type?U.fileId:U.icon,background:"image"===U.type?void 0:U.background,imageUrl:"image"===U.type?U.url:void 0}),(0,t.jsx)(x.default,{value:Z,onChange:e=>W(e.target.value),placeholder:L("newApp.appNamePlaceholder",{ns:"app"})||"",className:"h-10 grow"})]}),K&&(0,t.jsx)(A.default,{onSelect:e=>{V(e),B(!1)},onClose:()=>{V("image"===k.icon_type?{type:"image",url:k.icon_url,fileId:k.icon}:{type:"emoji",icon:k.icon,background:k.icon_background}),B(!1)}})]}),F&&(0,t.jsx)(g.default,{loc:"app-switch"}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.default,{className:"shrink-0",checked:z,onCheck:()=>Y(!z)}),(0,t.jsx)("div",{className:"ml-2 cursor-pointer text-sm leading-5 text-text-secondary",onClick:()=>Y(!z),children:L("removeOriginal",{ns:"app"})})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p.default,{className:"mr-2",onClick:E,children:L("newApp.Cancel",{ns:"app"})}),(0,t.jsx)(p.default,{className:"border-red-700",disabled:F||!Z,variant:"warning",onClick:G,children:L("switchStart",{ns:"app"})})]})]})]}),$&&(0,t.jsx)(m.default,{title:L("deleteAppConfirmTitle",{ns:"app"}),content:L("deleteAppConfirmContent",{ns:"app"}),isShow:$,onConfirm:()=>q(!1),onCancel:()=>{q(!1),Y(!1)}})]})}])},339556,e=>{e.n(e.i(171985))}]);