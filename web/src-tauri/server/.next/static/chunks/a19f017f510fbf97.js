(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15585,e=>{"use strict";var t=e.i(268255);function n(){return(n=Object.assign.bind()).apply(null,arguments)}e.i(563199);var o=["shift","alt","meta","mod","ctrl"],i={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function r(e){return(e&&i[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function l(e,t){return void 0===t&&(t=","),e.split(t)}function a(e,t,i){void 0===t&&(t="+");var l=e.toLocaleLowerCase().split(t).map(function(e){return r(e)}),a={alt:l.includes("alt"),ctrl:l.includes("ctrl")||l.includes("control"),shift:l.includes("shift"),meta:l.includes("meta"),mod:l.includes("mod")},s=l.filter(function(e){return!o.includes(e)});return n({},a,{keys:s,description:i,hotkey:e})}"u">typeof document&&(document.addEventListener("keydown",function(e){void 0!==e.key&&c([r(e.key),r(e.code)])}),document.addEventListener("keyup",function(e){void 0!==e.key&&d([r(e.key),r(e.code)])})),"u">typeof window&&window.addEventListener("blur",function(){s.clear()});var s=new Set;function u(e){return Array.isArray(e)}function c(e){var t=Array.isArray(e)?e:[e];s.has("meta")&&s.forEach(function(e){return!o.includes(e)&&s.delete(e.toLowerCase())}),t.forEach(function(e){return s.add(e.toLowerCase())})}function d(e){var t=Array.isArray(e)?e:[e];"meta"===e?s.clear():t.forEach(function(e){return s.delete(e.toLowerCase())})}function p(e,t){void 0===t&&(t=!1);var n,o=e.target,i=e.composed,r=null;return(r=(n=o).tagName&&!n.tagName.startsWith("-")&&n.tagName.includes("-")&&i?e.composedPath()[0]&&e.composedPath()[0].tagName:o&&o.tagName,u(t))?!!(r&&t&&t.some(function(e){var t;return e.toLowerCase()===(null==(t=r)?void 0:t.toLowerCase())})):!!(r&&t&&t)}var f=function(e,t,n){void 0===n&&(n=!1);var o,i=t.alt,l=t.meta,a=t.mod,c=t.shift,d=t.ctrl,p=t.keys,f=e.key,v=e.code,m=e.ctrlKey,b=e.metaKey,h=e.shiftKey,y=e.altKey,x=r(v),g=f.toLowerCase();if(!(null!=p&&p.includes(x))&&!(null!=p&&p.includes(g))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(x))return!1;if(!n){if(!y===i&&"alt"!==g||!h===c&&"shift"!==g)return!1;if(a){if(!b&&!m)return!1}else if(!b===l&&"meta"!==g&&"os"!==g||!m===d&&"ctrl"!==g&&"control"!==g)return!1}return!!(p&&1===p.length&&(p.includes(g)||p.includes(x)))||(p?(void 0===o&&(o=","),(u(p)?p:p.split(o)).every(function(e){return s.has(e.trim().toLowerCase())})):!p||!1)},v=(0,t.createContext)(void 0),m=(0,t.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),b=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},h="u">typeof window?t.useLayoutEffect:t.useEffect;function y(e,n,o,i){var s,y=(0,t.useState)(null),x=y[0],g=y[1],E=(0,t.useRef)(!1),O=o instanceof Array?i instanceof Array?void 0:i:o,S=u(e)?e.join(null==O?void 0:O.splitKey):e,w=o instanceof Array?o:i instanceof Array?i:void 0,R=(0,t.useCallback)(n,null!=w?w:[]),L=(0,t.useRef)(R);w?L.current=R:L.current=n;var k=(!function e(t,n){return t&&n&&"object"==typeof t&&"object"==typeof n?Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce(function(o,i){return o&&e(t[i],n[i])},!0):t===n}((s=(0,t.useRef)(void 0)).current,O)&&(s.current=O),s.current),C=(0,t.useContext)(m).enabledScopes,I=(0,t.useContext)(v);return h(function(){var e;if((null==k?void 0:k.enabled)!==!1&&(e=null==k?void 0:k.scopes,0===C.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!e||C.some(function(t){return e.includes(t)})||C.includes("*"))){var t=function(e,t){var n;if(void 0===t&&(t=!1),!p(e,["input","textarea","select"])||p(e,null==k?void 0:k.enableOnFormTags)){if(null!==x){var o=x.getRootNode();if((o instanceof Document||o instanceof ShadowRoot)&&o.activeElement!==x&&!x.contains(o.activeElement))return void b(e)}(null==(n=e.target)||!n.isContentEditable||null!=k&&k.enableOnContentEditable)&&l(S,null==k?void 0:k.splitKey).forEach(function(n){var o,i,r,l=a(n,null==k?void 0:k.combinationKey);if(f(e,l,null==k?void 0:k.ignoreModifiers)||null!=(r=l.keys)&&r.includes("*")){if(null!=k&&null!=k.ignoreEventWhen&&k.ignoreEventWhen(e)||t&&E.current)return;if(("function"==typeof(o=null==k?void 0:k.preventDefault)&&o(e,l)||!0===o)&&e.preventDefault(),"function"==typeof(i=null==k?void 0:k.enabled)?!i(e,l):!0!==i&&void 0!==i)return void b(e);L.current(e,l),t||(E.current=!0)}})}},n=function(e){void 0!==e.key&&(c(r(e.code)),((null==k?void 0:k.keydown)===void 0&&(null==k?void 0:k.keyup)!==!0||null!=k&&k.keydown)&&t(e))},o=function(e){void 0!==e.key&&(d(r(e.code)),E.current=!1,null!=k&&k.keyup&&t(e,!0))},i=x||(null==O?void 0:O.document)||document;return i.addEventListener("keyup",o,null==O?void 0:O.eventListenerOptions),i.addEventListener("keydown",n,null==O?void 0:O.eventListenerOptions),I&&l(S,null==k?void 0:k.splitKey).forEach(function(e){return I.addHotkey(a(e,null==k?void 0:k.combinationKey,null==k?void 0:k.description))}),function(){i.removeEventListener("keyup",o,null==O?void 0:O.eventListenerOptions),i.removeEventListener("keydown",n,null==O?void 0:O.eventListenerOptions),I&&l(S,null==k?void 0:k.splitKey).forEach(function(e){return I.removeHotkey(a(e,null==k?void 0:k.combinationKey,null==k?void 0:k.description))})}}},[x,S,k,C]),g}e.s(["useHotkeys",()=>y])},998020,e=>{"use strict";var t=e.i(563199),n=e.i(837699),o=e.i(124836),i=e.i(915389),r=e.i(268255),l=e.i(688393),a=e.i(15585),s=e.i(137667),u=e.i(421001),c=e.i(618403);e.s(["default",0,e=>{let{url:d,title:p,onCancel:f,onPrev:v,onNext:m}=e,[b,h]=(0,r.useState)(1),[y,x]=(0,r.useState)({x:0,y:0}),[g,E]=(0,r.useState)(!1),O=(0,r.useRef)(null),S=(0,r.useRef)({x:0,y:0}),[w,R]=(0,r.useState)(!1),L=()=>{h(e=>Math.min(1.2*e,15))},k=()=>{h(e=>{let t=Math.max(e/1.2,.5);return 1===t&&x({x:0,y:0}),t})},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n=atob(e),o=[];for(let e=0;e<n.length;e+=512){let t=n.slice(e,e+512),i=Array.from({length:t.length});for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);let r=new Uint8Array(i);o.push(r)}return new Blob(o,{type:t})},I=(0,r.useCallback)(()=>{(async()=>{try{let e=d.split(",")[1],t=C(e,"image/png");await navigator.clipboard.write([new ClipboardItem({[t.type]:t})]),R(!0),s.default.notify({type:"success",message:(0,i.t)("operation.imageCopied",{ns:"common"})})}catch(e){console.error("Failed to copy image:",e),(0,c.downloadUrl)({url:d,fileName:`${p}.png`}),s.default.notify({type:"info",message:(0,i.t)("operation.imageDownloaded",{ns:"common"})})}})()},[p,d]),P=(0,r.useCallback)(e=>{e.deltaY<0?L():k()},[]),F=(0,r.useCallback)(e=>{b>1&&(E(!0),S.current={x:e.clientX-y.x,y:e.clientY-y.y})},[b,y]),D=(0,r.useCallback)(e=>{if(g&&b>1){let t=e.clientX-S.current.x,n=e.clientY-S.current.y,o=O.current?.getBoundingClientRect(),i=O.current?.parentElement?.getBoundingClientRect();if(o&&i){let e=(o.width*b-i.width)/2,r=(o.height*b-i.height)/2;x({x:Math.max(-e,Math.min(e,t)),y:Math.max(-r,Math.min(r,n))})}}},[g,b]),j=(0,r.useCallback)(()=>{E(!1)},[]);return(0,r.useEffect)(()=>(document.addEventListener("mouseup",j),()=>{document.removeEventListener("mouseup",j)}),[j]),(0,a.useHotkeys)("esc",f),(0,a.useHotkeys)("up",L),(0,a.useHotkeys)("down",k),(0,a.useHotkeys)("left",v||o.noop),(0,a.useHotkeys)("right",m||o.noop),(0,l.createPortal)((0,t.jsxs)("div",{className:"image-preview-container fixed inset-0 z-[1000] flex items-center justify-center bg-black/80 p-8",onClick:e=>e.stopPropagation(),onWheel:P,onMouseDown:F,onMouseMove:D,onMouseUp:j,style:{cursor:b>1?"move":"default"},tabIndex:-1,children:[(0,t.jsx)("img",{ref:O,alt:p,src:(e=>{try{return btoa(atob(e))===e}catch{return!1}})(d)?`data:image/png;base64,${d}`:d,className:"max-h-full max-w-full",style:{transform:`scale(${b}) translate(${y.x}px, ${y.y}px)`,transition:g?"none":"transform 0.2s ease-in-out"}}),(0,t.jsx)(u.default,{popupContent:(0,i.t)("operation.copyImage",{ns:"common"}),children:(0,t.jsx)("div",{className:"absolute right-48 top-6 flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg",onClick:I,children:w?(0,t.jsx)(n.RiFileCopyLine,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(n.RiFileCopyLine,{className:"h-4 w-4 text-gray-500"})})}),(0,t.jsx)(u.default,{popupContent:(0,i.t)("operation.zoomOut",{ns:"common"}),children:(0,t.jsx)("div",{className:"absolute right-40 top-6 flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg",onClick:k,children:(0,t.jsx)(n.RiZoomOutLine,{className:"h-4 w-4 text-gray-500"})})}),(0,t.jsx)(u.default,{popupContent:(0,i.t)("operation.zoomIn",{ns:"common"}),children:(0,t.jsx)("div",{className:"absolute right-32 top-6 flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg",onClick:L,children:(0,t.jsx)(n.RiZoomInLine,{className:"h-4 w-4 text-gray-500"})})}),(0,t.jsx)(u.default,{popupContent:(0,i.t)("operation.download",{ns:"common"}),children:(0,t.jsx)("div",{className:"absolute right-24 top-6 flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg",onClick:()=>{d.startsWith("http")||d.startsWith("https")||d.startsWith("data:image")?(0,c.downloadUrl)({url:d,fileName:p,target:"_blank"}):s.default.notify({type:"error",message:`Unable to open image: ${d}`})},children:(0,t.jsx)(n.RiDownloadCloud2Line,{className:"h-4 w-4 text-gray-500"})})}),(0,t.jsx)(u.default,{popupContent:(0,i.t)("operation.openInNewTab",{ns:"common"}),children:(0,t.jsx)("div",{className:"absolute right-16 top-6 flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg",onClick:()=>{if(d.startsWith("http")||d.startsWith("https"))window.open(d,"_blank");else if(d.startsWith("data:image")){let e=window.open();e?.document.write(`<img src="${d}" alt="${p}" />`)}else s.default.notify({type:"error",message:`Unable to open image: ${d}`})},children:(0,t.jsx)(n.RiAddBoxLine,{className:"h-4 w-4 text-gray-500"})})}),(0,t.jsx)(u.default,{popupContent:(0,i.t)("operation.cancel",{ns:"common"}),children:(0,t.jsx)("div",{className:"absolute right-6 top-6 flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg bg-white/8 backdrop-blur-[2px]",onClick:f,children:(0,t.jsx)(n.RiCloseLine,{className:"h-4 w-4 text-gray-500"})})})]}),document.body)}])},65932,(e,t,n)=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(i=o;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=o;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,r[i]))return!1;for(i=o;0!=i--;){var o,i,r,l=r[i];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n}},653356,e=>{"use strict";var t=e.i(268255);let n=t.forwardRef(function(e,n){let{title:o,titleId:i,...r}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},r),o?t.createElement("title",{id:i},o):null,t.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))});e.s(["XMarkIcon",0,n],653356)},789604,882568,702941,516457,e=>{"use strict";let t,n,o,i;var r=e.i(182370),l=e.i(725968),a=e.i(268255),s=e.i(688393),u=e.i(876581);function c(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return(0,a.useCallback)((t,n)=>"string"==typeof e?(null==t?void 0:t[e])===(null==n?void 0:n[e]):e(t,n),[e])}e.s(["useByComparator",()=>d],882568);var p=e.i(614653),f=e.i(125234),v=e.i(97986),m=e.i(969350),b=e.i(589393),h=e.i(71216),y=e.i(741064),x=e.i(782165),g=e.i(518836),E=e.i(775885),O=e.i(122783),S=e.i(944296),w=e.i(777009),R=e.i(135477),L=e.i(329512),k=e.i(720048),C=e.i(326898),I=e.i(988851),P=e.i(602652),F=e.i(939895),D=e.i(274406);function j(e){let{children:t,freeze:n}=e,o=M(n,t);return a.default.createElement(a.default.Fragment,null,o)}function M(e,t){let[n,o]=(0,a.useState)(t);return e||n===t||o(t),e?n:t}e.s(["Frozen",()=>j,"useFrozenData",()=>M],702941);var A=e.i(344554),T=e.i(268850),K=e.i(294662),N=e.i(162023),B=e.i(708684),_=e.i(455028),W=e.i(330620),U=e.i(652038),$=e.i(875880),H=e.i(858023),z=e.i(869873),Q=e.i(198136),V=e.i(90158),Z=e.i(642330),X=((t=X||{})[t.Open=0]="Open",t[t.Closed=1]="Closed",t),Y=((n=Y||{})[n.Single=0]="Single",n[n.Multi=1]="Multi",n),q=((o=q||{})[o.Pointer=0]="Pointer",o[o.Other=1]="Other",o),G=((i=G||{})[i.OpenListbox=0]="OpenListbox",i[i.CloseListbox=1]="CloseListbox",i[i.GoToOption=2]="GoToOption",i[i.Search=3]="Search",i[i.ClearSearch=4]="ClearSearch",i[i.RegisterOption=5]="RegisterOption",i[i.UnregisterOption=6]="UnregisterOption",i[i.SetButtonElement=7]="SetButtonElement",i[i.SetOptionsElement=8]="SetOptionsElement",i);function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,o=(0,_.sortByDomNode)(t(e.options.slice()),e=>e.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return -1===i&&(i=null),{options:o,activeOptionIndex:i}}let ee={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,o=e.options.findIndex(e=>n(e.dataRef.current.value));return -1!==o&&(t=o),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,o,i,r,l;if(e.dataRef.current.disabled||1===e.listboxState)return e;let a={...e,searchQuery:"",activationTrigger:null!=(n=t.trigger)?n:1,__demoMode:!1};if(t.focus===N.Focus.Nothing)return{...a,activeOptionIndex:null};if(t.focus===N.Focus.Specific)return{...a,activeOptionIndex:e.options.findIndex(e=>e.id===t.id)};if(t.focus===N.Focus.Previous){let n=e.activeOptionIndex;if(null!==n){let r=e.options[n].dataRef.current.domRef,l=(0,N.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==l){let t=e.options[l].dataRef.current.domRef;if((null==(o=r.current)?void 0:o.previousElementSibling)===t.current||(null==(i=t.current)?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:l}}}}else if(t.focus===N.Focus.Next){let n=e.activeOptionIndex;if(null!==n){let o=e.options[n].dataRef.current.domRef,i=(0,N.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.options[i].dataRef.current.domRef;if((null==(r=o.current)?void 0:r.nextElementSibling)===t.current||(null==(l=t.current)?void 0:l.nextElementSibling)===null)return{...a,activeOptionIndex:i}}}}let s=J(e),u=(0,N.calculateActiveIndex)(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...a,...s,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=+(""===e.searchQuery),o=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(o))}),r=i?e.options.indexOf(i):-1;return -1===r||r===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:r,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},o=J(e,e=>[...e,n]);return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(n)),{...e,...o}},6:(e,t)=>{let n=J(e,e=>{let n=e.findIndex(e=>e.id===t.id);return -1!==n&&e.splice(n,1),e});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},et=(0,a.createContext)(null);function en(e){let t=(0,a.useContext)(et);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,en),t}return t}et.displayName="ListboxActionsContext";let eo=(0,a.createContext)(null);function ei(e){let t=(0,a.useContext)(eo);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ei),t}return t}function er(e,t){return(0,U.match)(t.type,ee,e,t)}eo.displayName="ListboxDataContext";let el=a.Fragment,ea=(0,a.createContext)(!1),es=H.RenderFeatures.RenderStrategy|H.RenderFeatures.Static,eu=a.Fragment,ec=(0,H.forwardRefWithAs)(function(e,t){var n;let o=(0,P.useDisabled)(),{value:i,defaultValue:r,form:l,name:s,onChange:u,by:c,invalid:v=!1,disabled:b=o||!1,horizontal:y=!1,multiple:g=!1,__demoMode:E=!1,...S}=e,w=y?"horizontal":"vertical",R=(0,L.useSyncRefs)(t),k=(0,f.useDefaultValue)(r),[C=g?[]:void 0,I]=(0,p.useControllable)(i,u,k),[j,M]=(0,a.useReducer)(er,{dataRef:(0,a.createRef)(),listboxState:+!E,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:E}),A=(0,a.useRef)({static:!1,hold:!1}),K=(0,a.useRef)(new Map),B=d(c),W=(0,a.useCallback)(e=>(0,U.match)($.mode,{1:()=>C.some(t=>B(t,e)),0:()=>B(C,e)}),[C]),$=(0,a.useMemo)(()=>({...j,value:C,disabled:b,invalid:v,mode:+!!g,orientation:w,compare:B,isSelected:W,optionsPropsRef:A,listRef:K}),[C,b,v,g,j,K]);(0,x.useIsoMorphicEffect)(()=>{j.dataRef.current=$},[$]);let z=0===$.listboxState;(0,O.useOutsideClick)(z,[$.buttonElement,$.optionsElement],(e,t)=>{var n;M({type:1}),(0,_.isFocusableElement)(t,_.FocusableMode.Loose)||(e.preventDefault(),null==(n=$.buttonElement)||n.focus())});let Q=(0,a.useMemo)(()=>({open:0===$.listboxState,disabled:b,invalid:v,value:C}),[$,b,C,v]),Z=(0,h.useEvent)(e=>{let t=$.options.find(t=>t.id===e);t&&en(t.dataRef.current.value)}),X=(0,h.useEvent)(()=>{if(null!==$.activeOptionIndex){let{dataRef:e,id:t}=$.options[$.activeOptionIndex];en(e.current.value),M({type:2,focus:N.Focus.Specific,id:t})}}),Y=(0,h.useEvent)(()=>M({type:0})),q=(0,h.useEvent)(()=>M({type:1})),G=(0,m.useDisposables)(),J=(0,h.useEvent)((e,t,n)=>{G.dispose(),G.microTask(()=>e===N.Focus.Specific?M({type:2,focus:N.Focus.Specific,id:t,trigger:n}):M({type:2,focus:e,trigger:n}))}),ee=(0,h.useEvent)((e,t)=>(M({type:5,id:e,dataRef:t}),()=>M({type:6,id:e}))),en=(0,h.useEvent)(e=>(0,U.match)($.mode,{0:()=>null==I?void 0:I(e),1(){let t=$.value.slice(),n=t.findIndex(t=>B(t,e));return -1===n?t.push(e):t.splice(n,1),null==I?void 0:I(t)}})),ei=(0,h.useEvent)(e=>M({type:3,value:e})),ea=(0,h.useEvent)(()=>M({type:4})),es=(0,h.useEvent)(e=>{M({type:7,element:e})}),eu=(0,h.useEvent)(e=>{M({type:8,element:e})}),ec=(0,a.useMemo)(()=>({onChange:en,registerOption:ee,goToOption:J,closeListbox:q,openListbox:Y,selectActiveOption:X,selectOption:Z,search:ei,clearSearch:ea,setButtonElement:es,setOptionsElement:eu}),[]),[ed,ep]=(0,V.useLabels)({inherit:!0}),ef=(0,a.useCallback)(()=>{if(void 0!==k)return null==I?void 0:I(k)},[I,k]),ev=(0,H.useRender)();return a.default.createElement(ep,{value:ed,props:{htmlFor:null==(n=$.buttonElement)?void 0:n.id},slot:{open:0===$.listboxState,disabled:b}},a.default.createElement(F.FloatingProvider,null,a.default.createElement(et.Provider,{value:ec},a.default.createElement(eo.Provider,{value:$},a.default.createElement(T.OpenClosedProvider,{value:(0,U.match)($.listboxState,{0:T.State.Open,1:T.State.Closed})},null!=s&&null!=C&&a.default.createElement(D.FormFields,{disabled:b,data:{[s]:C},form:l,onReset:ef}),ev({ourProps:{ref:R},theirProps:S,slot:Q,defaultTag:el,name:"Listbox"}))))))}),ed=(0,H.forwardRefWithAs)(function(e,t){var n;let o=ei("Listbox.Button"),i=en("Listbox.Button"),c=(0,a.useId)(),d=(0,A.useProvidedId)(),{id:p=d||`headlessui-listbox-button-${c}`,disabled:f=o.disabled||!1,autoFocus:v=!1,...m}=e,b=(0,L.useSyncRefs)(t,(0,F.useFloatingReference)(),i.setButtonElement),y=(0,F.useFloatingReferenceProps)(),x=(0,h.useEvent)(e=>{switch(e.key){case Q.Keys.Enter:(0,W.attemptSubmit)(e.currentTarget);break;case Q.Keys.Space:case Q.Keys.ArrowDown:e.preventDefault(),(0,s.flushSync)(()=>i.openListbox()),o.value||i.goToOption(N.Focus.First);break;case Q.Keys.ArrowUp:e.preventDefault(),(0,s.flushSync)(()=>i.openListbox()),o.value||i.goToOption(N.Focus.Last)}}),g=(0,h.useEvent)(e=>{e.key===Q.Keys.Space&&e.preventDefault()}),E=(0,h.useEvent)(e=>{var t;if((0,K.isDisabledReactIssue7711)(e.currentTarget))return e.preventDefault();0===o.listboxState?((0,s.flushSync)(()=>i.closeListbox()),null==(t=o.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),i.openListbox())}),O=(0,h.useEvent)(e=>e.preventDefault()),S=(0,V.useLabelledBy)([p]),R=(0,z.useDescribedBy)(),{isFocusVisible:k,focusProps:C}=(0,r.useFocusRing)({autoFocus:v}),{isHovered:I,hoverProps:P}=(0,l.useHover)({isDisabled:f}),{pressed:D,pressProps:j}=(0,u.useActivePress)({disabled:f}),M=(0,a.useMemo)(()=>({open:0===o.listboxState,active:D||0===o.listboxState,disabled:f,invalid:o.invalid,value:o.value,hover:I,focus:k,autofocus:v}),[o.listboxState,o.value,f,I,k,D,o.invalid,v]),T=(0,H.mergeProps)(y(),{ref:b,id:p,type:(0,w.useResolveButtonType)(e,o.buttonElement),"aria-haspopup":"listbox","aria-controls":null==(n=o.optionsElement)?void 0:n.id,"aria-expanded":0===o.listboxState,"aria-labelledby":S,"aria-describedby":R,disabled:f||void 0,autoFocus:v,onKeyDown:x,onKeyUp:g,onKeyPress:O,onClick:E},C,P,j);return(0,H.useRender)()({ourProps:T,theirProps:m,slot:M,defaultTag:"button",name:"Listbox.Button"})}),ep=V.Label,ef=(0,H.forwardRefWithAs)(function(e,t){var n,o;let i=(0,a.useId)(),{id:r=`headlessui-listbox-options-${i}`,anchor:l,portal:u=!1,modal:c=!0,transition:d=!1,...p}=e,f=(0,F.useResolvedAnchor)(l),[x,g]=(0,a.useState)(null);f&&(u=!0);let O=ei("Listbox.Options"),w=en("Listbox.Options"),k=(0,S.useOwnerDocument)(O.buttonElement),C=(0,S.useOwnerDocument)(O.optionsElement),P=(0,T.useOpenClosed)(),[D,j]=(0,I.useTransition)(d,x,null!==P?(P&T.State.Open)===T.State.Open:0===O.listboxState);(0,E.useOnDisappear)(D,O.buttonElement,w.closeListbox);let A=!O.__demoMode&&c&&0===O.listboxState;(0,R.useScrollLock)(A,C);let K=!O.__demoMode&&c&&0===O.listboxState;(0,y.useInertOthers)(K,{allowed:(0,a.useCallback)(()=>[O.buttonElement,O.optionsElement],[O.buttonElement,O.optionsElement])});let B=0!==O.listboxState,W=!(0,v.useDidElementMove)(B,O.buttonElement)&&D,z=M(D&&1===O.listboxState,O.value),V=(0,h.useEvent)(e=>O.compare(z,e)),X=(0,a.useMemo)(()=>{var e;if(null==f||!(null!=(e=null==f?void 0:f.to)&&e.includes("selection")))return null;let t=O.options.findIndex(e=>V(e.dataRef.current.value));return -1===t&&(t=0),t},[f,O.options]),Y=(()=>{if(null==f)return;if(null===X)return{...f,inner:void 0};let e=Array.from(O.listRef.current.values());return{...f,inner:{listRef:{current:e},index:X}}})(),[q,G]=(0,F.useFloatingPanel)(Y),J=(0,F.useFloatingPanelProps)(),ee=(0,L.useSyncRefs)(t,f?q:null,w.setOptionsElement,g),et=(0,m.useDisposables)();(0,a.useEffect)(()=>{var e;let t=O.optionsElement;t&&0===O.listboxState&&t!==(null==(e=(0,$.getOwnerDocument)(t))?void 0:e.activeElement)&&(null==t||t.focus({preventScroll:!0}))},[O.listboxState,O.optionsElement]);let er=(0,h.useEvent)(e=>{var t,n;switch(et.dispose(),e.key){case Q.Keys.Space:if(""!==O.searchQuery)return e.preventDefault(),e.stopPropagation(),w.search(e.key);case Q.Keys.Enter:if(e.preventDefault(),e.stopPropagation(),null!==O.activeOptionIndex){let{dataRef:e}=O.options[O.activeOptionIndex];w.onChange(e.current.value)}0===O.mode&&((0,s.flushSync)(()=>w.closeListbox()),null==(t=O.buttonElement)||t.focus({preventScroll:!0}));break;case(0,U.match)(O.orientation,{vertical:Q.Keys.ArrowDown,horizontal:Q.Keys.ArrowRight}):return e.preventDefault(),e.stopPropagation(),w.goToOption(N.Focus.Next);case(0,U.match)(O.orientation,{vertical:Q.Keys.ArrowUp,horizontal:Q.Keys.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),w.goToOption(N.Focus.Previous);case Q.Keys.Home:case Q.Keys.PageUp:return e.preventDefault(),e.stopPropagation(),w.goToOption(N.Focus.First);case Q.Keys.End:case Q.Keys.PageDown:return e.preventDefault(),e.stopPropagation(),w.goToOption(N.Focus.Last);case Q.Keys.Escape:e.preventDefault(),e.stopPropagation(),(0,s.flushSync)(()=>w.closeListbox()),null==(n=O.buttonElement)||n.focus({preventScroll:!0});return;case Q.Keys.Tab:e.preventDefault(),e.stopPropagation(),(0,s.flushSync)(()=>w.closeListbox()),(0,_.focusFrom)(O.buttonElement,e.shiftKey?_.Focus.Previous:_.Focus.Next);break;default:1===e.key.length&&(w.search(e.key),et.setTimeout(()=>w.clearSearch(),350))}}),el=null==(n=O.buttonElement)?void 0:n.id,ea=(0,a.useMemo)(()=>({open:0===O.listboxState}),[O.listboxState]),eu=(0,H.mergeProps)(f?J():{},{id:r,ref:ee,"aria-activedescendant":null===O.activeOptionIndex||null==(o=O.options[O.activeOptionIndex])?void 0:o.id,"aria-multiselectable":1===O.mode||void 0,"aria-labelledby":el,"aria-orientation":O.orientation,onKeyDown:er,role:"listbox",tabIndex:0===O.listboxState?0:void 0,style:{...p.style,...G,"--button-width":(0,b.useElementSize)(O.buttonElement,!0).width},...(0,I.transitionDataAttributes)(j)}),ec=(0,H.useRender)();return a.default.createElement(Z.Portal,{enabled:!!u&&(e.static||D),ownerDocument:k},a.default.createElement(eo.Provider,{value:1===O.mode?O:{...O,isSelected:V}},ec({ourProps:eu,theirProps:p,slot:ea,defaultTag:"div",features:es,visible:W,name:"Listbox.Options"})))}),ev=(0,H.forwardRefWithAs)(function(e,t){let n=(0,a.useId)(),{id:o=`headlessui-listbox-option-${n}`,disabled:i=!1,value:r,...l}=e,u=!0===(0,a.useContext)(ea),c=ei("Listbox.Option"),d=en("Listbox.Option"),p=null!==c.activeOptionIndex&&c.options[c.activeOptionIndex].id===o,f=c.isSelected(r),v=(0,a.useRef)(null),m=(0,k.useTextValue)(v),b=(0,g.useLatestValue)({disabled:i,value:r,domRef:v,get textValue(){return m()}}),y=(0,L.useSyncRefs)(t,v,e=>{e?c.listRef.current.set(o,e):c.listRef.current.delete(o)});(0,x.useIsoMorphicEffect)(()=>{if(!c.__demoMode&&0===c.listboxState&&p&&0!==c.activationTrigger)return(0,B.disposables)().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=v.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[v,p,c.__demoMode,c.listboxState,c.activationTrigger,c.activeOptionIndex]),(0,x.useIsoMorphicEffect)(()=>{if(!u)return d.registerOption(o,b)},[b,o,u]);let E=(0,h.useEvent)(e=>{var t;if(i)return e.preventDefault();d.onChange(r),0===c.mode&&((0,s.flushSync)(()=>d.closeListbox()),null==(t=c.buttonElement)||t.focus({preventScroll:!0}))}),O=(0,h.useEvent)(()=>{if(i)return d.goToOption(N.Focus.Nothing);d.goToOption(N.Focus.Specific,o)}),S=(0,C.useTrackedPointer)(),w=(0,h.useEvent)(e=>{S.update(e),!i&&(p||d.goToOption(N.Focus.Specific,o,0))}),R=(0,h.useEvent)(e=>{S.wasMoved(e)&&(i||p||d.goToOption(N.Focus.Specific,o,0))}),I=(0,h.useEvent)(e=>{S.wasMoved(e)&&(i||p&&d.goToOption(N.Focus.Nothing))}),P=(0,a.useMemo)(()=>({active:p,focus:p,selected:f,disabled:i,selectedOption:f&&u}),[p,f,i,u]),F=u?{}:{id:o,ref:y,role:"option",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-selected":f,disabled:void 0,onClick:E,onFocus:O,onPointerEnter:w,onMouseEnter:w,onPointerMove:R,onMouseMove:R,onPointerLeave:I,onMouseLeave:I},D=(0,H.useRender)();return!f&&u?null:D({ourProps:F,theirProps:l,slot:P,defaultTag:"div",name:"Listbox.Option"})}),em=Object.assign(ec,{Button:ed,Label:ep,Options:ef,Option:ev,SelectedOption:(0,H.forwardRefWithAs)(function(e,t){let{options:n,placeholder:o,...i}=e,r={ref:(0,L.useSyncRefs)(t)},l=ei("ListboxSelectedOption"),s=(0,a.useMemo)(()=>({}),[]),u=void 0===l.value||null===l.value||1===l.mode&&Array.isArray(l.value)&&0===l.value.length,c=(0,H.useRender)();return a.default.createElement(ea.Provider,{value:!0},c({ourProps:r,theirProps:{...i,children:a.default.createElement(a.default.Fragment,null,o&&u?o:n)},slot:s,defaultTag:eu,name:"ListboxSelectedOption"}))})});e.s(["Listbox",()=>em,"ListboxButton",()=>ed,"ListboxOption",()=>ev,"ListboxOptions",()=>ef],789604);let eb=a.forwardRef(function(e,t){let{title:n,titleId:o,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},i),n?a.createElement("title",{id:o},n):null,a.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});e.s(["ChevronDownIcon",0,eb],516457)}]);