(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,978912,(t,e,r)=>{var n={675:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return(r+n)*3/4-n},e.toByteArray=function(t){var e,r,i=u(t),a=i[0],s=i[1],f=new o((a+s)*3/4-s),c=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],f[c++]=e>>16&255,f[c++]=e>>8&255,f[c++]=255&e;return 2===s&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,f[c++]=255&e),1===s&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,f[c++]=e>>8&255,f[c++]=255&e),f},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(function(t,e,n){for(var o,i=[],a=e;a<n;a+=3)o=(t[a]<<16&0xff0000)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(r[o>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}(t,a,a+16383>s?s:a+16383));return 1===o?i.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===o&&i.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),i.join("")};for(var r=[],n=[],o="u">typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");-1===r&&(r=e);var n=r===e?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(t,e,r){"use strict";var n=r(675),o=r(783),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(t){if(t>0x7fffffff)throw RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return c(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t){var n=t,o=e;if(("string"!=typeof o||""===o)&&(o="utf8"),!s.isEncoding(o))throw TypeError("Unknown encoding: "+o);var i=0|p(n,o),u=a(i),f=u.write(n,o);return f!==i&&(u=u.slice(0,f)),u}if(ArrayBuffer.isView(t))return h(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(_(t,ArrayBuffer)||t&&_(t.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(_(t,SharedArrayBuffer)||t&&_(t.buffer,SharedArrayBuffer)))return function(t,e,r){var n;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),s.prototype),n}(t,e,r);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var c=t.valueOf&&t.valueOf();if(null!=c&&c!==t)return s.from(c,e,r);var y=function(t){if(s.isBuffer(t)){var e=0|l(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||function(t){return t!=t}(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(y)return y;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return s.from(t[Symbol.toPrimitive]("string"),e,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return f(t),a(t<0?0:0|l(t))}function h(t){for(var e=t.length<0?0:0|l(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}e.Buffer=s,e.SlowBuffer=function(t){return+t!=t&&(t=0),s.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(t,e,r){return(f(t),t<=0)?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)},s.allocUnsafe=function(t){return c(t)},s.allocUnsafeSlow=function(t){return c(t)};function l(t){if(t>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function p(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||_(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(t).length;default:if(o)return n?-1:S(t).length;e=(""+e).toLowerCase(),o=!0}}function y(t,e,r){var o,i,a,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=O[t[i]];return o}(this,e,r);case"utf8":case"utf-8":return m(this,e,r);case"ascii":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}(this,e,r);case"latin1":case"binary":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}(this,e,r);case"base64":return o=this,i=e,a=r,0===i&&a===o.length?n.fromByteArray(o):n.fromByteArray(o.slice(i,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}(this,e,r);default:if(s)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,o){var i;if(0===t.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(i=r*=1)!=i&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length)if(o)return -1;else r=t.length-1;else if(r<0)if(!o)return -1;else r=0;if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,o);if("number"==typeof e){if(e&=255,"function"==typeof Uint8Array.prototype.indexOf)if(o)return Uint8Array.prototype.indexOf.call(t,e,r);else return Uint8Array.prototype.lastIndexOf.call(t,e,r);return g(t,[e],r,n,o)}throw TypeError("val must be string, number or Buffer")}function g(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return -1;a=2,s/=2,u/=2,r/=2}function f(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var c=-1;for(i=r;i<s;i++)if(f(t,i)===f(e,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a}else -1!==c&&(i-=i-c),c=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var h=!0,l=0;l<u;l++)if(f(t,i+l)!==f(e,l)){h=!1;break}if(h)return i}return -1}s.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==s.prototype},s.compare=function(t,e){if(_(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),_(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:+(n<r)},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);if(void 0===e)for(r=0,e=0;r<t.length;++r)e+=t[r].length;var r,n=s.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(_(i,Uint8Array)&&(i=s.from(i)),!s.isBuffer(i))throw TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},s.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?m(this,0,t):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},i&&(s.prototype[i]=s.prototype.inspect),s.prototype.compare=function(t,e,r,n,o){if(_(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return -1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(var i=o-n,a=r-e,u=Math.min(i,a),f=this.slice(n,o),c=t.slice(e,r),h=0;h<u;++h)if(f[h]!==c[h]){i=f[h],a=c[h];break}return i<a?-1:+(a<i)},s.prototype.includes=function(t,e,r){return -1!==this.indexOf(t,e,r)},s.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)};function m(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,s,u,f=t[o],c=null,h=f>239?4:f>223?3:f>191?2:1;if(o+h<=r)switch(h){case 1:f<128&&(c=f);break;case 2:(192&(i=t[o+1]))==128&&(u=(31&f)<<6|63&i)>127&&(c=u);break;case 3:i=t[o+1],a=t[o+2],(192&i)==128&&(192&a)==128&&(u=(15&f)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],(192&i)==128&&(192&a)==128&&(192&s)==128&&(u=(15&f)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=h}var l=n,p=l.length;if(p<=4096)return String.fromCharCode.apply(String,l);for(var y="",d=0;d<p;)y+=String.fromCharCode.apply(String,l.slice(d,d+=4096));return y}function b(t,e,r){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>r)throw RangeError("Trying to access beyond buffer length")}function w(t,e,r,n,o,i){if(!s.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw RangeError('"value" argument is out of bounds');if(r+n>t.length)throw RangeError("Index out of range")}function A(t,e,r,n,o,i){if(r+n>t.length||r<0)throw RangeError("Index out of range")}function x(t,e,r,n,i){return e*=1,r>>>=0,i||A(t,e,r,4,34028234663852886e22,-34028234663852886e22),o.write(t,e,r,n,23,4),r+4}function E(t,e,r,n,i){return e*=1,r>>>=0,i||A(t,e,r,8,17976931348623157e292,-17976931348623157e292),o.write(t,e,r,n,52,8),r+8}s.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o,i,a,s,u,f,c,h,l=this.length-e;if((void 0===r||r>l)&&(r=l),t.length>0&&(r<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var p=!1;;)switch(n){case"hex":return function(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s,u=parseInt(e.substr(2*a,2),16);if((s=u)!=s)break;t[r+a]=u}return a}(this,t,e,r);case"utf8":case"utf-8":return o=e,i=r,I(S(t,this.length-o),this,o,i);case"ascii":return a=e,s=r,I(C(t),this,a,s);case"latin1":case"binary":return function(t,e,r,n){return I(C(e),t,r,n)}(this,t,e,r);case"base64":return u=e,f=r,I(T(t),this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=e,h=r,I(function(t,e){for(var r,n,o=[],i=0;i<t.length&&!((e-=2)<0);++i)n=(r=t.charCodeAt(i))>>8,o.push(r%256),o.push(n);return o}(t,this.length-c),this,c,h);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||b(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},s.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||b(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},s.prototype.readUInt8=function(t,e){return t>>>=0,e||b(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return t>>>=0,e||b(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return t>>>=0,e||b(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return t>>>=0,e||b(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},s.prototype.readUInt32BE=function(t,e){return t>>>=0,e||b(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||b(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||b(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return(t>>>=0,e||b(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},s.prototype.readInt16LE=function(t,e){t>>>=0,e||b(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(t,e){t>>>=0,e||b(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(t,e){return t>>>=0,e||b(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t>>>=0,e||b(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return t>>>=0,e||b(t,4,this.length),o.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t>>>=0,e||b(t,4,this.length),o.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t>>>=0,e||b(t,8,this.length),o.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t>>>=0,e||b(t,8,this.length),o.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){if(t*=1,e>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;w(this,t,e,r,o,0)}var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){if(t*=1,e>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;w(this,t,e,r,o,0)}var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,1,255,0),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeUInt16BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeUInt32LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0xffffffff,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},s.prototype.writeUInt32BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0xffffffff,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeIntLE=function(t,e,r,n){if(t*=1,e>>>=0,!n){var o=Math.pow(2,8*r-1);w(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a|0)-s&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){if(t*=1,e>>>=0,!n){var o=Math.pow(2,8*r-1);w(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a|0)-s&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},s.prototype.writeInt32LE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0x7fffffff,-0x80000000),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,r){return t*=1,e>>>=0,r||w(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},s.prototype.writeFloatLE=function(t,e,r){return x(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return x(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return E(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return E(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){if(!s.isBuffer(t))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o=n-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var i=o-1;i>=0;--i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return o},s.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===t.length){var o,i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=s.isBuffer(t)?t:s.from(t,n),u=a.length;if(0===u)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=a[o%u]}return this};var B=/[^+/0-9A-Za-z-_]/g;function S(t,e){e=e||1/0;for(var r,n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319||a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function C(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function T(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function I(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length)&&!(o>=t.length);++o)e[o+r]=t[o];return o}function _(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}var O=function(){for(var t="0123456789abcdef",e=Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)e[n+o]=t[r]+t[o];return e}()},783:function(t,e){e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,f=u>>1,c=-7,h=r?o-1:0,l=r?-1:1,p=t[e+h];for(h+=l,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+t[e+h],h+=l,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=l,c-=8);if(0===i)i=1-f;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=f}return(p?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,f=8*i-o-1,c=(1<<f)-1,h=c>>1,l=5960464477539062e-23*(23===o),p=n?0:i-1,y=n?1:-1,d=+(e<0||0===e&&1/e<0);for(isNaN(e=Math.abs(e))||e===1/0?(s=+!!isNaN(e),a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+h>=1?e+=l/u:e+=l*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=255&s,p+=y,s/=256,o-=8);for(a=a<<o|s,f+=o;f>0;t[r+p]=255&a,p+=y,a/=256,f-=8);t[r+p-y]|=128*d}}},o={};function i(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={exports:{}},a=!0;try{n[t](r,r.exports,i),a=!1}finally{a&&delete o[t]}return r.exports}i.ab="/ROOT/node_modules/.pnpm/next@16.1.5_@babel+core@7.2_2a1d5842eb75bbb902c81693463569bd/node_modules/next/dist/compiled/buffer/",e.exports=i(72)},962027,t=>{"use strict";let e,r,n,o,i;var a,s=t.i(824627),u=t.i(978912),f=function(t,e){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},c=function(){return(c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function h(t,e,r,n){return new(r||(r=Promise))(function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(a,s)}u((n=n.apply(t,e||[])).next())})}function l(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){var f=[s,u];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,f[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&f[0]?n.return:f[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,f[1])).done)return o;switch(n=0,o&&(f=[2&f[0],o.value]),f[0]){case 0:case 1:o=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,n=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===f[0]||2===f[0])){a=0;continue}if(3===f[0]&&(!o||f[1]>o[0]&&f[1]<o[3])){a.label=f[1];break}if(6===f[0]&&a.label<o[1]){a.label=o[1],o=f;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(f);break}o[2]&&a.ops.pop(),a.trys.pop();continue}f=e.call(t,a)}catch(t){f=[6,t],n=0}finally{r=o=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}"function"==typeof SuppressedError&&SuppressedError;var y="is not",d="contains",v="does not contain",g="less",m="less or equal",b="greater",w="greater or equal",A="version less",x="version less or equal",E="version greater",B="version greater or equal",S="set is",C="set is not",T="set contains",I="set does not contain",_="set contains any",O="set does not contain any",U=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e[r++]=o:(o<2048?e[r++]=o>>6|192:((64512&o)==55296&&n+1<t.length&&(64512&t.charCodeAt(n+1))==56320?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),e[r++]=o>>18|240,e[r++]=o>>12&63|128):e[r++]=o>>12|224,e[r++]=o>>6&63|128),e[r++]=63&o|128)}return Uint8Array.from(e)},L=function(t,e){void 0===e&&(e=0);for(var r=U(t),n=r.length,o=n>>2,i=e,a=0;a<o;a++)i=R(P(r,a<<2),i);var s=o<<2,u=0;switch(n-s){case 3:u^=r[s+2]<<16,u^=r[s+1]<<8,u^=r[s],i^=u=Math.imul(u=M(u=Math.imul(u,-0x3361d2af),15),0x1b873593);break;case 2:u^=r[s+1]<<8,u^=r[s],i^=u=Math.imul(u=M(u=Math.imul(u,-0x3361d2af),15),0x1b873593);break;case 1:u^=r[s],i^=u=Math.imul(u=M(u=Math.imul(u,-0x3361d2af),15),0x1b873593)}return k(i^=n)>>>0},R=function(t,e){var r=t,n=e;return n^=r=Math.imul(r=M(r=Math.imul(r,-0x3361d2af),15),0x1b873593),(n=Math.imul(n=M(n,13),5))+-0x19ab949c|0},k=function(t){var e=t;return e^=e>>>16,e=Math.imul(e,-0x7a143595),e^=e>>>13,e=Math.imul(e,-0x3d4d51cb),e^=e>>>16},M=function(t,e,r){void 0===r&&(r=32),e>r&&(e%=r);var n=(t&0xffffffff<<r-e>>>0)>>>0>>>r-e>>>0;return(t<<e|n)>>>0},P=function(t,e){return void 0===e&&(e=0),D(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},D=function(t){return(-0x1000000&t)>>>24|(0xff0000&t)>>>8|(65280&t)<<8|(255&t)<<24},j=function(t,e){var r,n;if(e&&0!==e.length){try{for(var o=p(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(!a||!t||"object"!=typeof t)return;t=t[a]}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(!t)return;return t}},N="^".concat("(\\d+)\\.(\\d+)","(\\.").concat("(\\d+)").concat("(-(([-\\w]+\\.?)*))?",")?$"),F=function(){function t(t,e,r,n){void 0===n&&(n=void 0),this.major=t,this.minor=e,this.patch=r,this.preRelease=n}return t.parse=function(e){if(e){var r=new RegExp(N).exec(e);if(r){var n=Number(r[1]),o=Number(r[2]);if(!(isNaN(n)||isNaN(o)))return new t(n,o,Number(r[4])||0,r[5]||void 0)}}},t.prototype.compareTo=function(t){if(this.major>t.major)return 1;if(this.major<t.major)return -1;if(this.minor>t.minor)return 1;if(this.minor<t.minor)return -1;if(this.patch>t.patch)return 1;if(this.patch<t.patch||this.preRelease&&!t.preRelease)return -1;if(!this.preRelease&&t.preRelease)return 1;if(this.preRelease&&t.preRelease){if(this.preRelease>t.preRelease)return 1;if(this.preRelease<t.preRelease)return -1}return 0},t}(),K=function(){function t(){}return t.prototype.evaluate=function(t,e){var r,n,o={},i={context:t,result:o};try{for(var a=p(e),s=a.next();!s.done;s=a.next()){var u=s.value,f=this.evaluateFlag(i,u);f&&(o[u.key]=f)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},t.prototype.evaluateFlag=function(t,e){try{for(var r,n,o,i=p(e.segments),a=i.next();!a.done;a=i.next()){var s=a.value;if(o=this.evaluateSegment(t,e,s)){var u=c(c(c({},e.metadata),s.metadata),o.metadata);o=c(c({},o),{metadata:u});break}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},t.prototype.evaluateSegment=function(t,e,r){var n,o,i,a;if(!r.conditions){var s=this.bucket(t,r);return void 0!==s?e.variants[s]:void 0}try{for(var u=p(r.conditions),f=u.next();!f.done;f=u.next()){var c=f.value,h=!0;try{for(var l=(i=void 0,p(c)),y=l.next();!y.done;y=l.next()){var d=y.value;if(!(h=this.matchCondition(t,d)))break}}catch(t){i={error:t}}finally{try{y&&!y.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(h){var s=this.bucket(t,r);if(void 0!==s)return e.variants[s];return}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}},t.prototype.matchCondition=function(t,e){var r=j(t,e.selector);if(!r)return this.matchNull(e.op,e.values);if(this.isSetOperator(e.op)){var n=this.coerceStringArray(r);return!!n&&this.matchSet(n,e.op,e.values)}var o=this.coerceString(r);return void 0!==o&&this.matchString(o,e.op,e.values)},t.prototype.getHash=function(t){return L(t)},t.prototype.bucket=function(t,e){if(!e.bucket)return e.variant;var r,n,o,i,a=this.coerceString(j(t,e.bucket.selector));if(!a||0===a.length)return e.variant;var s="".concat(e.bucket.salt,"/").concat(a),u=this.getHash(s),f=u%100,c=Math.floor(u/100);try{for(var h=p(e.bucket.allocations),l=h.next();!l.done;l=h.next()){var y=l.value,d=y.range[0],v=y.range[1];if(f>=d&&f<v)try{for(var g=(o=void 0,p(y.distributions)),m=g.next();!m.done;m=g.next()){var b=m.value,w=b.range[0],A=b.range[1];if(c>=w&&c<A)return b.variant}}catch(t){o={error:t}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}}}catch(t){r={error:t}}finally{try{l&&!l.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}return e.variant},t.prototype.matchNull=function(t,e){var r=this.containsNone(e);switch(t){case"is":case d:case g:case m:case b:case w:case A:case x:case E:case B:case S:case T:case _:return r;case y:case v:case I:case O:return!r;default:return!1}},t.prototype.matchSet=function(t,e,r){switch(e){case S:return this.setEquals(t,r);case C:return!this.setEquals(t,r);case T:return this.matchesSetContainsAll(t,r);case I:return!this.matchesSetContainsAll(t,r);case _:return this.matchesSetContainsAny(t,r);case O:return!this.matchesSetContainsAny(t,r);default:return!1}},t.prototype.matchString=function(t,e,r){var n=this;switch(e){case"is":return this.matchesIs(t,r);case y:return!this.matchesIs(t,r);case d:return this.matchesContains(t,r);case v:return!this.matchesContains(t,r);case g:case m:case b:case w:return this.matchesComparable(t,e,r,function(t){return n.parseNumber(t)},this.comparator);case A:case x:case E:case B:return this.matchesComparable(t,e,r,function(t){return F.parse(t)},this.versionComparator);case"regex match":return this.matchesRegex(t,r);case"regex does not match":return!this.matchesRegex(t,r);default:return!1}},t.prototype.matchesIs=function(t,e){if(this.containsBooleans(e)){var r=t.toLowerCase();if("true"===r||"false"===r)return e.some(function(t){return t.toLowerCase()===r})}return e.some(function(e){return t===e})},t.prototype.matchesContains=function(t,e){var r,n;try{for(var o=p(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.toLowerCase().includes(a.toLowerCase()))return!0}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},t.prototype.matchesComparable=function(t,e,r,n,o){var i=this,a=n(t),s=r.map(function(t){return n(t)}).filter(function(t){return void 0!==t});return void 0===a||0===s.length?r.some(function(r){return i.comparator(t,e,r)}):s.some(function(t){return o(a,e,t)})},t.prototype.comparator=function(t,e,r){switch(e){case g:case A:return t<r;case m:case x:return t<=r;case b:case E:return t>r;case w:case B:return t>=r;default:return!1}},t.prototype.versionComparator=function(t,e,r){var n=t.compareTo(r);switch(e){case g:case A:return n<0;case m:case x:return n<=0;case b:case E:return n>0;case w:case B:return n>=0;default:return!1}},t.prototype.matchesRegex=function(t,e){return e.some(function(e){return!!new RegExp(e).exec(t)})},t.prototype.containsNone=function(t){return t.some(function(t){return"(none)"===t})},t.prototype.containsBooleans=function(t){return t.some(function(t){switch(t.toLowerCase()){case"true":case"false":return!0;default:return!1}})},t.prototype.parseNumber=function(t){var e;return null!=(e=Number(t))?e:void 0},t.prototype.coerceString=function(t){if(t)return"object"==typeof t?JSON.stringify(t):String(t)},t.prototype.coerceStringArray=function(t){var e=this;if(Array.isArray(t)){var r=t;return r.map(function(t){return e.coerceString(t)}).filter(Boolean)}var n=String(t);try{var o=JSON.parse(n);if(!Array.isArray(o))return;var r=t;return r.map(function(t){return e.coerceString(t)}).filter(Boolean)}catch(t){return}},t.prototype.isSetOperator=function(t){switch(t){case S:case C:case T:case I:case _:case O:return!0;default:return!1}},t.prototype.setEquals=function(t,e){var r=new Set(t),n=new Set(e);return r.size===n.size&&(function(t,e,r){if(r||2==arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))})([],function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}(n),!1).every(function(t){return r.has(t)})},t.prototype.matchesSetContainsAll=function(t,e){var r,n;if(t.length<e.length)return!1;try{for(var o=p(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(!this.matchesIs(a,t))return!1}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!0},t.prototype.matchesSetContainsAny=function(t,e){var r,n;try{for(var o=p(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(this.matchesIs(a,t))return!0}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1},t}();let z="function"==typeof atob,q="function"==typeof btoa,V="function"==typeof u.Buffer,J="function"==typeof TextDecoder?new TextDecoder:void 0,W="function"==typeof TextEncoder?new TextEncoder:void 0,X=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Y=(n={},X.forEach((t,e)=>n[t]=e),n),Z=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,G=String.fromCharCode.bind(String),H="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),$=t=>t.replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"),Q=q?t=>btoa(t):V?t=>u.Buffer.from(t,"binary").toString("base64"):t=>{let e,r,n,o,i="",a=t.length%3;for(let a=0;a<t.length;){if((r=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(o=t.charCodeAt(a++))>255)throw TypeError("invalid character found");i+=X[(e=r<<16|n<<8|o)>>18&63]+X[e>>12&63]+X[e>>6&63]+X[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},tt=V?t=>u.Buffer.from(t).toString("base64"):t=>{let e=[];for(let r=0,n=t.length;r<n;r+=4096)e.push(G.apply(null,t.subarray(r,r+4096)));return Q(e.join(""))},te=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?G(192|e>>>6)+G(128|63&e):G(224|e>>>12&15)+G(128|e>>>6&63)+G(128|63&e)}var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return G(240|e>>>18&7)+G(128|e>>>12&63)+G(128|e>>>6&63)+G(128|63&e)},tr=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,tn=V?t=>u.Buffer.from(t,"utf8").toString("base64"):W?t=>tt(W.encode(t)):t=>Q(t.replace(tr,te)),to=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?$(tn(t)):tn(t)},ti=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ta=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return G((e>>>10)+55296)+G((1023&e)+56320);case 3:return G((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return G((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},ts=z?t=>atob(t.replace(/[^A-Za-z0-9\+\/]/g,"")):V?t=>u.Buffer.from(t,"base64").toString("binary"):t=>{if(t=t.replace(/\s+/g,""),!Z.test(t))throw TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,r="",n,o;for(let i=0;i<t.length;)e=Y[t.charAt(i++)]<<18|Y[t.charAt(i++)]<<12|(n=Y[t.charAt(i++)])<<6|(o=Y[t.charAt(i++)]),r+=64===n?G(e>>16&255):64===o?G(e>>16&255,e>>8&255):G(e>>16&255,e>>8&255,255&e);return r},tu=V?t=>H(u.Buffer.from(t,"base64")):t=>H(ts(t).split("").map(t=>t.charCodeAt(0))),tf=V?t=>u.Buffer.from(t,"base64").toString("utf8"):J?t=>J.decode(tu(t)):t=>ts(t).replace(ti,ta);var tc=function(t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}function r(e,n){var o=t.call(this,n)||this;return o.statusCode=e,Object.setPrototypeOf(o,r.prototype),o}return f(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e),r}(Error);(function(t,e,r){this.deploymentKey=t,this.serverUrl=e,this.httpClient=r}).prototype.getVariants=function(t,e){return h(this,void 0,void 0,function(){var r,n,o;return l(this,function(i){switch(i.label){case 0:return r=to(JSON.stringify(t),!0),n={Authorization:"Api-Key ".concat(this.deploymentKey),"X-Amp-Exp-User":r},(null==e?void 0:e.flagKeys)&&(n["X-Amp-Exp-Flag-Keys"]=to(JSON.stringify(e.flagKeys),!0)),(null==e?void 0:e.trackingOption)&&(n["X-Amp-Exp-Track"]=e.trackingOption),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/vardata?v=0"),method:"GET",headers:n,timeoutMillis:null==e?void 0:e.timeoutMillis})];case 1:if(200!=(o=i.sent()).status)throw new tc(o.status,"Fetch error response: status=".concat(o.status));return[2,JSON.parse(o.body)]}})})},(function(t,e,r){this.deploymentKey=t,this.serverUrl=e,this.httpClient=r}).prototype.getFlags=function(t){return h(this,void 0,void 0,function(){var e,r;return l(this,function(n){switch(n.label){case 0:return e={Authorization:"Api-Key ".concat(this.deploymentKey)},(null==t?void 0:t.libraryName)&&(null==t?void 0:t.libraryVersion)&&(e["X-Amp-Exp-Library"]="".concat(t.libraryName,"/").concat(t.libraryVersion)),[4,this.httpClient.request({requestUrl:"".concat(this.serverUrl,"/sdk/v2/flags"),method:"GET",headers:e,timeoutMillis:null==t?void 0:t.timeoutMillis})];case 1:if(200!=(r=n.sent()).status)throw Error("Flags error response: status=".concat(r.status));return[2,JSON.parse(r.body).reduce(function(t,e){return t[e.key]=e,t},{})]}})})};var th="u">typeof globalThis?globalThis:t.g||self;function tl(t,e){this.poller=void 0,this.action=t,this.ms=e}tl.prototype.start=function(){this.poller||(this.poller=th.setInterval(this.action,this.ms),this.action())},tl.prototype.stop=function(){this.poller&&(th.clearInterval(this.poller),this.poller=void 0)};let tp=(t,e)=>e.some(e=>t instanceof e),ty=new WeakMap,td=new WeakMap,tv=new WeakMap,tg={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return ty.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return tm(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function tm(t){if(t instanceof IDBRequest){let e;return e=new Promise((e,r)=>{let n=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(tm(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",o),t.addEventListener("error",i)}),tv.set(e,t),e}if(td.has(t))return td.get(t);let n=function(t){if("function"==typeof t)return(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(tb(this),r),tm(this.request)}:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return tm(t.apply(tb(this),r))};return(t instanceof IDBTransaction&&function(t){if(ty.has(t))return;let e=new Promise((e,r)=>{let n=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});ty.set(t,e)}(t),tp(t,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,tg):t}(t);return n!==t&&(td.set(t,n),tv.set(n,t)),n}let tb=t=>tv.get(t),tw=["get","getKey","getAll","getAllKeys","count"],tA=["put","add","delete","clear"],tx=new Map;function tE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&"string"==typeof e))return;if(tx.get(e))return tx.get(e);let r=e.replace(/FromIndex$/,""),n=e!==r,o=tA.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||tw.includes(r)))return;let i=async function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];let s=this.transaction(t,o?"readwrite":"readonly"),u=s.store;return n&&(u=u.index(i.shift())),(await Promise.all([u[r](...i),o&&s.done]))[0]};return tx.set(e,i),i}tg={...o=tg,get:(t,e,r)=>tE(t,e)||o.get(t,e,r),has:(t,e)=>!!tE(t,e)||o.has(t,e)};let tB=["continue","continuePrimaryKey","advance"],tS={},tC=new WeakMap,tT=new WeakMap,tI={get(t,e){if(!tB.includes(e))return t[e];let r=tS[e];return r||(r=tS[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];tC.set(this,tT.get(this)[e](...r))}),r}};async function*t_(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=this;if(n instanceof IDBCursor||(n=await n.openCursor(...e)),!n)return;let o=new Proxy(n,tI);for(tT.set(o,n),tv.set(o,tb(n));n;)yield o,n=await (tC.get(o)||n.continue()),tC.delete(o)}function tO(t,e){return e===Symbol.asyncIterator&&tp(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&tp(t,[IDBIndex,IDBObjectStore])}tg={...i=tg,get:(t,e,r)=>tO(t,e)?t_:i.get(t,e,r),has:(t,e)=>tO(t,e)||i.has(t,e)};var tU=new function(){var t=this;this.dbs={},this.createStore=function(e){return(0,s.__awaiter)(t,void 0,void 0,function(){return(0,s.__generator)(this,function(t){switch(t.label){case 0:return[4,function(t,e){let{blocked:r,upgrade:n,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=indexedDB.open(t,e),s=tm(a);return n&&a.addEventListener("upgradeneeded",t=>{n(tm(a.result),t.oldVersion,t.newVersion,tm(a.transaction),t)}),r&&a.addEventListener("blocked",t=>r(t.oldVersion,t.newVersion,t)),s.then(t=>{i&&t.addEventListener("close",()=>i()),o&&t.addEventListener("versionchange",t=>o(t.oldVersion,t.newVersion,t))}).catch(()=>{}),s}(e,1,{upgrade:function(t){t.objectStoreNames.contains("eventTypesForSession")||t.createObjectStore("eventTypesForSession",{keyPath:"sessionId"})}})];case 1:return[2,t.sent()]}})})},this.openOrCreateDB=function(e){return(0,s.__awaiter)(t,void 0,void 0,function(){var t,r;return(0,s.__generator)(this,function(n){switch(n.label){case 0:if(this.dbs&&this.dbs[e])return[2,this.dbs[e]];return t="".concat(e.substring(0,10),"_amp_targeting"),[4,this.createStore(t)];case 1:return r=n.sent(),this.dbs[e]=r,[2,r]}})})},this.updateEventListForSession=function(e){var r=e.sessionId,n=e.eventType,o=e.eventTime,i=e.loggerProvider,a=e.tx;return(0,s.__awaiter)(t,void 0,void 0,function(){var t,e,u,f,c,h,l;return(0,s.__generator)(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),[4,a.store.get(r)];case 1:return u=(e=(t=p.sent())?t.eventTypes:{})[n]||{},f=(0,s.__assign)((0,s.__assign)({},e),((h={})[n]=(0,s.__assign)((0,s.__assign)({},u),((l={})[o]={event_type:n},l)),h)),[4,a.store.put({sessionId:r,eventTypes:f})];case 2:return p.sent(),[2,f];case 3:return c=p.sent(),i.warn("Failed to store events for targeting ".concat(r,": ").concat(c)),[3,4];case 4:return[2,void 0]}})})},this.deleteOldSessionEventTypes=function(e){var r=e.currentSessionId,n=e.loggerProvider,o=e.tx;return(0,s.__awaiter)(t,void 0,void 0,function(){var t,e,i,a,u;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),[4,o.store.getAll()];case 1:t=s.sent(),e=0,s.label=2;case 2:if(!(e<t.length))return[3,5];if(i=t[e],a=Date.now()-i.sessionId,!(i.sessionId!==r&&a>1728e5))return[3,4];return[4,o.store.delete(i.sessionId)];case 3:s.sent(),s.label=4;case 4:return e++,[3,2];case 5:return[3,7];case 6:return u=s.sent(),n.warn("Failed to clear old session events for targeting: ".concat(u)),[3,7];case 7:return[2]}})})},this.storeEventTypeForSession=function(e){var r=e.loggerProvider,n=e.sessionId,o=e.eventType,i=e.eventTime,a=e.apiKey;return(0,s.__awaiter)(t,void 0,void 0,function(){var t,e,u;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),[4,this.openOrCreateDB(a)];case 1:if(!(t=s.sent().transaction("eventTypesForSession","readwrite")))return[2];return[4,this.updateEventListForSession({sessionId:n,tx:t,loggerProvider:r,eventType:o,eventTime:i})];case 2:return e=s.sent(),[4,this.deleteOldSessionEventTypes({currentSessionId:n,tx:t,loggerProvider:r})];case 3:return s.sent(),[4,t.done];case 4:return s.sent(),[2,e];case 5:return u=s.sent(),r.warn("Failed to store events for targeting ".concat(n,": ").concat(u)),[3,6];case 6:return[2,void 0]}})})}},tL={evaluateTargeting:(a=new function(){var t=this;this.evaluateTargeting=function(e){var r=e.apiKey,n=e.loggerProvider,o=e.event,i=e.sessionId,a=e.userProperties,u=e.deviceId,f=e.flag;return(0,s.__awaiter)(t,void 0,void 0,function(){var t,e,c,h;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(!(o&&o.time))return[3,2];return[4,tU.storeEventTypeForSession({loggerProvider:n,apiKey:r,sessionId:i,eventType:o.event_type,eventTime:o.time})];case 1:return e=s.sent(),[3,3];case 2:e=void 0,s.label=3;case 3:return h={session_id:i,event:o,event_types:(c=(t=e)&&new Set(Object.keys(t)))&&Array.from(c),user:{device_id:u,user_properties:a}},[2,this.evaluationEngine.evaluate(h,[f])]}})})},this.evaluationEngine=new K}).evaluateTargeting.bind(a)}.evaluateTargeting;t.s(["evaluateTargeting",()=>tL],962027)}]);