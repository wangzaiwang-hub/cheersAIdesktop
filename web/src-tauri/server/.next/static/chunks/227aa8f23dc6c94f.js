(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,488828,e=>{"use strict";var t=e.i(563199),n=e.i(837699),s=e.i(268255);e.i(152567);var i=e.i(408767),r=e.i(151094);e.i(47690);var a=e.i(849124),o=e.i(59375),l=e.i(925521),c=e.i(296124),d=e.i(56971),u=e.i(935139);let p=s.memo(()=>{let e=!l.IS_CE_EDITION,{isAPIKeySet:p}=(0,d.useProviderContext)(),{setShowAccountSettingModal:h}=(0,c.useModalContext)(),{t:f}=(0,i.useTranslation)(),[m,g]=(0,s.useState)(!0);return p||!m?null:(0,t.jsxs)("div",{className:(0,u.cn)("border-components-panel-border bg-components-panel-bg","relative mb-6 rounded-2xl border p-8 shadow-md "),children:[(0,t.jsxs)("div",{className:(0,u.cn)("text-[24px] font-semibold text-text-primary",e?"flex h-8 items-center space-x-1":"mb-6 leading-8"),children:[e&&(0,t.jsx)("em-emoji",{id:"ðŸ˜€"}),e?(0,t.jsx)("div",{children:f("apiKeyInfo.cloud.trial.title",{ns:"appOverview",providerName:"OpenAI"})}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:f("apiKeyInfo.selfHost.title.row1",{ns:"appOverview"})}),(0,t.jsx)("div",{children:f("apiKeyInfo.selfHost.title.row2",{ns:"appOverview"})})]})]}),e&&(0,t.jsx)("div",{className:"mt-1 text-sm font-normal text-text-tertiary",children:f("apiKeyInfo.cloud.trial.description",{ns:"appOverview"})}),(0,t.jsxs)(r.default,{variant:"primary",className:"mt-2 space-x-2",onClick:()=>h({payload:o.ACCOUNT_SETTING_TAB.PROVIDER}),children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:f("apiKeyInfo.setAPIBtn",{ns:"appOverview"})}),(0,t.jsx)(a.LinkExternal02,{className:"h-4 w-4"})]}),!e&&(0,t.jsxs)("a",{className:"mt-2 flex h-[26px] items-center space-x-1  p-1 text-xs font-medium text-[#155EEF]",href:"https://cloud.dify.ai/apps",target:"_blank",rel:"noopener noreferrer",children:[(0,t.jsx)("div",{children:f("apiKeyInfo.tryCloud",{ns:"appOverview"})}),(0,t.jsx)(a.LinkExternal02,{className:"h-3 w-3"})]}),(0,t.jsx)("div",{onClick:()=>g(!1),className:"absolute right-4 top-4 flex h-8 w-8 cursor-pointer items-center justify-center ",children:(0,t.jsx)(n.RiCloseLine,{className:"h-4 w-4 text-text-tertiary"})})]})});e.s(["default",0,p])},190143,e=>{"use strict";var t=e.i(563199),n=e.i(585458),s=e.i(125955),i=e.i(268255);e.i(152567);var r,a,o=e.i(408767),l=e.i(929808),c="0123456789abcdef",d="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",u="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},h=!0,f="[DecimalError] ",m=f+"Invalid argument: ",g=f+"Precision limit exceeded",x=f+"crypto unavailable",v="[object Decimal]",y=Math.floor,w=Math.pow,b=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,j=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,N=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,C=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,k=d.length-1,_=u.length-1,T={toStringTag:v};function S(e){var t,n,s,i=e.length-1,r="",a=e[0];if(i>0){for(r+=a,t=1;t<i;t++)(n=7-(s=e[t]+"").length)&&(r+=F(n)),r+=s;(n=7-(s=(a=e[t])+"").length)&&(r+=F(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return r+a}function q(e,t,n){if(e!==~~e||e<t||e>n)throw Error(m+e)}function O(e,t,n,s){var i,r,a,o;for(r=e[0];r>=10;r/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),r=w(10,7-t),o=e[i]%r|0,null==s?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),a=n<4&&99999==o||n>3&&49999==o||5e4==o||0==o):a=(n<4&&o+1==r||n>3&&o+1==r/2)&&(e[i+1]/r/100|0)==w(10,t-2)-1||(o==r/2||0==o)&&(e[i+1]/r/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),a=(s||n<4)&&9999==o||!s&&n>3&&4999==o):a=((s||n<4)&&o+1==r||!s&&n>3&&o+1==r/2)&&(e[i+1]/r/1e3|0)==w(10,t-3)-1,a}function $(e,t,n){for(var s,i,r=[0],a=0,o=e.length;a<o;){for(i=r.length;i--;)r[i]*=t;for(r[0]+=c.indexOf(e.charAt(a++)),s=0;s<r.length;s++)r[s]>n-1&&(void 0===r[s+1]&&(r[s+1]=0),r[s+1]+=r[s]/n|0,r[s]%=n)}return r.reverse()}T.absoluteValue=T.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),E(e)},T.ceil=function(){return E(new this.constructor(this),this.e+1,2)},T.clampedTo=T.clamp=function(e,t){var n=this.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(m+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new n(this)},T.comparedTo=T.cmp=function(e){var t,n,s,i,r=this.d,a=(e=new this.constructor(e)).d,o=this.s,l=e.s;if(!r||!a)return o&&l?o!==l?o:r===a?0:!r^o<0?1:-1:NaN;if(!r[0]||!a[0])return r[0]?o:a[0]?-l:0;if(o!==l)return o;if(this.e!==e.e)return this.e>e.e^o<0?1:-1;for(t=0,n=(s=r.length)<(i=a.length)?s:i;t<n;++t)if(r[t]!==a[t])return r[t]>a[t]^o<0?1:-1;return s===i?0:s>i^o<0?1:-1},T.cosine=T.cos=function(){var e,t,n=this,s=n.constructor;return n.d?n.d[0]?(e=s.precision,t=s.rounding,s.precision=e+Math.max(n.e,n.sd())+7,s.rounding=1,n=function(e,t){var n,s,i;if(t.isZero())return t;(s=t.d.length)<32?i=(1/V(4,n=Math.ceil(s/3))).toString():(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=W(e,1,t.times(i),new e(1));for(var r=n;r--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(s,Y(s,n)),s.precision=e,s.rounding=t,E(2==a||3==a?n.neg():n,e,t,!0)):new s(1):new s(NaN)},T.cubeRoot=T.cbrt=function(){var e,t,n,s,i,r,a,o,l,c,d=this.constructor;if(!this.isFinite()||this.isZero())return new d(this);for(h=!1,(r=this.s*w(this.s*this,1/3))&&Math.abs(r)!=1/0?s=new d(r.toString()):(n=S(this.d),(r=((e=this.e)-n.length+1)%3)&&(n+=1==r||-2==r?"0":"00"),r=w(n,1/3),e=y((e+1)/3)-(e%3==(e<0?-1:2)),(s=new d(n=r==1/0?"5e"+e:(n=r.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=this.s),a=(e=d.precision)+3;;)if(s=I((c=(l=(o=s).times(o).times(o)).plus(this)).plus(this).times(o),c.plus(l),a+2,1),S(o.d).slice(0,a)===(n=S(s.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(E(s,e+1,1),t=!s.times(s).times(s).eq(this));break}if(!i&&(E(o,e+1,0),o.times(o).times(o).eq(this))){s=o;break}a+=4,i=1}return h=!0,E(s,e,d.rounding,t)},T.decimalPlaces=T.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-y(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},T.dividedBy=T.div=function(e){return I(this,new this.constructor(e))},T.dividedToIntegerBy=T.divToInt=function(e){var t=this.constructor;return E(I(this,new t(e),0,1,1),t.precision,t.rounding)},T.equals=T.eq=function(e){return 0===this.cmp(e)},T.floor=function(){return E(new this.constructor(this),this.e+1,3)},T.greaterThan=T.gt=function(e){return this.cmp(e)>0},T.greaterThanOrEqualTo=T.gte=function(e){var t=this.cmp(e);return 1==t||0===t},T.hyperbolicCosine=T.cosh=function(){var e,t,n,s,i,r=this,a=r.constructor,o=new a(1);if(!r.isFinite())return new a(r.s?1/0:NaN);if(r.isZero())return o;n=a.precision,s=a.rounding,a.precision=n+Math.max(r.e,r.sd())+4,a.rounding=1,(i=r.d.length)<32?t=(1/V(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),r=W(a,1,r.times(t),new a(1),!0);for(var l,c=e,d=new a(8);c--;)l=r.times(r),r=o.minus(l.times(d.minus(l.times(d))));return E(r,a.precision=n,a.rounding=s,!0)},T.hyperbolicSine=T.sinh=function(){var e,t,n,s,i=this,r=i.constructor;if(!i.isFinite()||i.isZero())return new r(i);if(t=r.precision,n=r.rounding,r.precision=t+Math.max(i.e,i.sd())+4,r.rounding=1,(s=i.d.length)<3)i=W(r,2,i,i,!0);else{e=(e=1.4*Math.sqrt(s))>16?16:0|e,i=W(r,2,i=i.times(1/V(5,e)),i,!0);for(var a,o=new r(5),l=new r(16),c=new r(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(l.times(a).plus(c))))}return r.precision=t,r.rounding=n,E(i,t,n,!0)},T.hyperbolicTangent=T.tanh=function(){var e,t,n=this.constructor;return this.isFinite()?this.isZero()?new n(this):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,I(this.sinh(),this.cosh(),n.precision=e,n.rounding=t)):new n(this.s)},T.inverseCosine=T.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),s=t.precision,i=t.rounding;return -1!==n?0===n?e.isNeg()?P(t,s,i):new t(0):new t(NaN):e.isZero()?P(t,s+4,i).times(.5):(t.precision=s+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=s,t.rounding=i,e.times(2))},T.inverseHyperbolicCosine=T.acosh=function(){var e,t,n=this,s=n.constructor;return n.lte(1)?new s(n.eq(1)?0:NaN):n.isFinite()?(e=s.precision,t=s.rounding,s.precision=e+Math.max(Math.abs(n.e),n.sd())+4,s.rounding=1,h=!1,n=n.times(n).minus(1).sqrt().plus(n),h=!0,s.precision=e,s.rounding=t,n.ln()):new s(n)},T.inverseHyperbolicSine=T.asinh=function(){var e,t,n=this,s=n.constructor;return!n.isFinite()||n.isZero()?new s(n):(e=s.precision,t=s.rounding,s.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,s.rounding=1,h=!1,n=n.times(n).plus(1).sqrt().plus(n),h=!0,s.precision=e,s.rounding=t,n.ln())},T.inverseHyperbolicTangent=T.atanh=function(){var e,t,n,s,i=this,r=i.constructor;return i.isFinite()?i.e>=0?new r(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=r.precision,t=r.rounding,Math.max(s=i.sd(),e)<-(2*i.e)-1)?E(new r(i),e,t,!0):(r.precision=n=s-i.e,i=I(i.plus(1),new r(1).minus(i),n+e,1),r.precision=e+4,r.rounding=1,i=i.ln(),r.precision=e,r.rounding=t,i.times(.5)):new r(NaN)},T.inverseSine=T.asin=function(){var e,t,n,s,i=this,r=i.constructor;return i.isZero()?new r(i):(t=i.abs().cmp(1),n=r.precision,s=r.rounding,-1!==t)?0===t?((e=P(r,n+4,s).times(.5)).s=i.s,e):new r(NaN):(r.precision=n+6,r.rounding=1,i=i.div(new r(1).minus(i.times(i)).sqrt().plus(1)).atan(),r.precision=n,r.rounding=s,i.times(2))},T.inverseTangent=T.atan=function(){var e,t,n,s,i,r,a,o,l,c=this,d=c.constructor,u=d.precision,p=d.rounding;if(c.isFinite()){if(c.isZero())return new d(c);else if(c.abs().eq(1)&&u+4<=_)return(a=P(d,u+4,p).times(.25)).s=c.s,a}else{if(!c.s)return new d(NaN);if(u+4<=_)return(a=P(d,u+4,p).times(.5)).s=c.s,a}for(d.precision=o=u+10,d.rounding=1,e=n=Math.min(28,o/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(o/7),s=1,l=c.times(c),a=new d(c),i=c;-1!==e;)if(i=i.times(l),r=a.minus(i.div(s+=2)),i=i.times(l),void 0!==(a=r.plus(i.div(s+=2))).d[t])for(e=t;a.d[e]===r.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),h=!0,E(a,d.precision=u,d.rounding=p,!0)},T.isFinite=function(){return!!this.d},T.isInteger=T.isInt=function(){return!!this.d&&y(this.e/7)>this.d.length-2},T.isNaN=function(){return!this.s},T.isNegative=T.isNeg=function(){return this.s<0},T.isPositive=T.isPos=function(){return this.s>0},T.isZero=function(){return!!this.d&&0===this.d[0]},T.lessThan=T.lt=function(e){return 0>this.cmp(e)},T.lessThanOrEqualTo=T.lte=function(e){return 1>this.cmp(e)},T.logarithm=T.log=function(e){var t,n,s,i,r,a,o,l=this.constructor,c=l.precision,d=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new l(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(s=n[0];s%10==0;)s/=10;i=1!==s}if(h=!1,O((o=I(r=B(this,a=c+5),t?R(l,a+10):B(e,a),a,1)).d,s=c,d))do if(a+=10,o=I(r=B(this,a),t?R(l,a+10):B(e,a),a,1),!i){+S(o.d).slice(s+1,s+15)+1==1e14&&(o=E(o,c+1,0));break}while(O(o.d,s+=10,d))return h=!0,E(o,c,d)},T.minus=T.sub=function(e){var t,n,s,i,r,a,o,l,c,d,u,p,f=this.constructor;if(e=new f(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new f(e.d||this.s!==e.s?this:NaN):e=new f(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(c=this.d,p=e.d,o=f.precision,l=f.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new f(3===l?-0:0);e=new f(this)}return h?E(e,o,l):e}if(n=y(e.e/7),d=y(this.e/7),c=c.slice(),r=d-n){for((u=r<0)?(t=c,r=-r,a=p.length):(t=p,n=d,a=c.length),r>(s=Math.max(Math.ceil(o/7),a)+2)&&(r=s,t.length=1),t.reverse(),s=r;s--;)t.push(0);t.reverse()}else{for((u=(s=c.length)<(a=p.length))&&(a=s),s=0;s<a;s++)if(c[s]!=p[s]){u=c[s]<p[s];break}r=0}for(u&&(t=c,c=p,p=t,e.s=-e.s),a=c.length,s=p.length-a;s>0;--s)c[a++]=0;for(s=p.length;s>r;){if(c[--s]<p[s]){for(i=s;i&&0===c[--i];)c[i]=1e7-1;--c[i],c[s]+=1e7}c[s]-=p[s]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=A(c,n),h?E(e,o,l):e):new f(3===l?-0:0)},T.modulo=T.mod=function(e){var t,n=this.constructor;return(e=new n(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(h=!1,9==n.modulo?(t=I(this,e.abs(),0,3,1),t.s*=e.s):t=I(this,e,0,n.modulo,1),t=t.times(e),h=!0,this.minus(t)):E(new n(this),n.precision,n.rounding):new n(NaN)},T.naturalExponential=T.exp=function(){return K(this)},T.naturalLogarithm=T.ln=function(){return B(this)},T.negated=T.neg=function(){var e=new this.constructor(this);return e.s=-e.s,E(e)},T.plus=T.add=function(e){var t,n,s,i,r,a,o,l,c,d,u=this.constructor;if(e=new u(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new u(e.d||this.s===e.s?this:NaN)):e=new u(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(c=this.d,d=e.d,o=u.precision,l=u.rounding,!c[0]||!d[0])return d[0]||(e=new u(this)),h?E(e,o,l):e;if(r=y(this.e/7),s=y(e.e/7),c=c.slice(),i=r-s){for(i<0?(n=c,i=-i,a=d.length):(n=d,s=r,a=c.length),i>(a=(r=Math.ceil(o/7))>a?r+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=c.length)-(i=d.length)<0&&(i=a,n=d,d=c,c=n),t=0;i;)t=(c[--i]=c[i]+d[i]+t)/1e7|0,c[i]%=1e7;for(t&&(c.unshift(t),++s),a=c.length;0==c[--a];)c.pop();return e.d=c,e.e=A(c,s),h?E(e,o,l):e},T.precision=T.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(m+e);return this.d?(t=D(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},T.round=function(){var e=this.constructor;return E(new e(this),this.e+1,e.rounding)},T.sine=T.sin=function(){var e,t,n=this,s=n.constructor;return n.isFinite()?n.isZero()?new s(n):(e=s.precision,t=s.rounding,s.precision=e+Math.max(n.e,n.sd())+7,s.rounding=1,n=function(e,t){var n,s=t.d.length;if(s<3)return t.isZero()?t:W(e,2,t,t);n=(n=1.4*Math.sqrt(s))>16?16:0|n,t=W(e,2,t=t.times(1/V(5,n)),t);for(var i,r=new e(5),a=new e(16),o=new e(20);n--;)i=t.times(t),t=t.times(r.plus(i.times(a.times(i).minus(o))));return t}(s,Y(s,n)),s.precision=e,s.rounding=t,E(a>2?n.neg():n,e,t,!0)):new s(NaN)},T.squareRoot=T.sqrt=function(){var e,t,n,s,i,r,a=this.d,o=this.e,l=this.s,c=this.constructor;if(1!==l||!a||!a[0])return new c(!l||l<0&&(!a||a[0])?NaN:a?this:1/0);for(h=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=S(a)).length+o)%2==0&&(t+="0"),l=Math.sqrt(t),o=y((o+1)/2)-(o<0||o%2),s=new c(t=l==1/0?"5e"+o:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+o)):s=new c(l.toString()),n=(o=c.precision)+3;;)if(s=(r=s).plus(I(this,r,n+2,1)).times(.5),S(r.d).slice(0,n)===(t=S(s.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(E(s,o+1,1),e=!s.times(s).eq(this));break}if(!i&&(E(r,o+1,0),r.times(r).eq(this))){s=r;break}n+=4,i=1}return h=!0,E(s,o,c.rounding,e)},T.tangent=T.tan=function(){var e,t,n=this,s=n.constructor;return n.isFinite()?n.isZero()?new s(n):(e=s.precision,t=s.rounding,s.precision=e+10,s.rounding=1,(n=n.sin()).s=1,n=I(n,new s(1).minus(n.times(n)).sqrt(),e+10,0),s.precision=e,s.rounding=t,E(2==a||4==a?n.neg():n,e,t,!0)):new s(NaN)},T.times=T.mul=function(e){var t,n,s,i,r,a,o,l,c,d=this.constructor,u=this.d,p=(e=new d(e)).d;if(e.s*=this.s,!u||!u[0]||!p||!p[0])return new d(!e.s||u&&!u[0]&&!p||p&&!p[0]&&!u?NaN:!u||!p?e.s/0:0*e.s);for(n=y(this.e/7)+y(e.e/7),(l=u.length)<(c=p.length)&&(r=u,u=p,p=r,a=l,l=c,c=a),r=[],s=a=l+c;s--;)r.push(0);for(s=c;--s>=0;){for(t=0,i=l+s;i>s;)o=r[i]+p[s]*u[i-s-1]+t,r[i--]=o%1e7|0,t=o/1e7|0;r[i]=(r[i]+t)%1e7|0}for(;!r[--a];)r.pop();return t?++n:r.shift(),e.d=r,e.e=A(r,n),h?E(e,d.precision,d.rounding):e},T.toBinary=function(e,t){return G(this,2,e,t)},T.toDecimalPlaces=T.toDP=function(e,t){var n=this,s=n.constructor;return(n=new s(n),void 0===e)?n:(q(e,0,1e9),void 0===t?t=s.rounding:q(t,0,8),E(n,e+n.e+1,t))},T.toExponential=function(e,t){var n,s=this,i=s.constructor;return void 0===e?n=M(s,!0):(q(e,0,1e9),void 0===t?t=i.rounding:q(t,0,8),n=M(s=E(new i(s),e+1,t),!0,e+1)),s.isNeg()&&!s.isZero()?"-"+n:n},T.toFixed=function(e,t){var n,s,i=this.constructor;return void 0===e?n=M(this):(q(e,0,1e9),void 0===t?t=i.rounding:q(t,0,8),n=M(s=E(new i(this),e+this.e+1,t),!1,e+s.e+1)),this.isNeg()&&!this.isZero()?"-"+n:n},T.toFraction=function(e){var t,n,s,i,r,a,o,l,c,d,u,p,f=this.d,g=this.constructor;if(!f)return new g(this);if(c=n=new g(1),s=l=new g(0),a=(r=(t=new g(s)).e=D(f)-this.e-1)%7,t.d[0]=w(10,a<0?7+a:a),null==e)e=r>0?t:c;else{if(!(o=new g(e)).isInt()||o.lt(c))throw Error(m+o);e=o.gt(t)?r>0?t:c:o}for(h=!1,o=new g(S(f)),d=g.precision,g.precision=r=7*f.length*2;u=I(o,t,0,1,1),1!=(i=n.plus(u.times(s))).cmp(e);)n=s,s=i,i=c,c=l.plus(u.times(i)),l=i,i=t,t=o.minus(u.times(i)),o=i;return i=I(e.minus(n),s,0,1,1),l=l.plus(i.times(c)),n=n.plus(i.times(s)),l.s=c.s=this.s,p=1>I(c,s,r,1).minus(this).abs().cmp(I(l,n,r,1).minus(this).abs())?[c,s]:[l,n],g.precision=d,h=!0,p},T.toHexadecimal=T.toHex=function(e,t){return G(this,16,e,t)},T.toNearest=function(e,t){var n=this,s=n.constructor;if(n=new s(n),null==e){if(!n.d)return n;e=new s(1),t=s.rounding}else{if(e=new s(e),void 0===t?t=s.rounding:q(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(h=!1,n=I(n,e,0,t,1).times(e),h=!0,E(n)):(e.s=n.s,n=e),n},T.toNumber=function(){return+this},T.toOctal=function(e,t){return G(this,8,e,t)},T.toPower=T.pow=function(e){var t,n,s,i,r,a,o=this,l=o.constructor,c=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(w(+o,c));if((o=new l(o)).eq(1))return o;if(s=l.precision,r=l.rounding,e.eq(1))return E(o,s,r);if((t=y(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=0x1fffffffffffff)return i=L(l,o,n,s),e.s<0?new l(1).div(i):E(i,s,r);if((a=o.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(t=0!=(n=w(+o,c))&&isFinite(n)?new l(n+"").e:y(c*(Math.log("0."+S(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(h=!1,l.rounding=o.s=1,n=Math.min(12,(t+"").length),(i=K(e.times(B(o,s+n)),s)).d&&O((i=E(i,s+5,1)).d,s,r)&&(t=s+10,+S((i=E(K(e.times(B(o,t+n)),t),t+5,1)).d).slice(s+1,s+15)+1==1e14&&(i=E(i,s+1,0))),i.s=a,h=!0,l.rounding=r,E(i,s,r))},T.toPrecision=function(e,t){var n,s=this,i=s.constructor;return void 0===e?n=M(s,s.e<=i.toExpNeg||s.e>=i.toExpPos):(q(e,1,1e9),void 0===t?t=i.rounding:q(t,0,8),n=M(s=E(new i(s),e,t),e<=s.e||s.e<=i.toExpNeg,e)),s.isNeg()&&!s.isZero()?"-"+n:n},T.toSignificantDigits=T.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(q(e,1,1e9),void 0===t?t=n.rounding:q(t,0,8)),E(new n(this),e,t)},T.toString=function(){var e=this.constructor,t=M(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},T.truncated=T.trunc=function(){return E(new this.constructor(this),this.e+1,1)},T.valueOf=T.toJSON=function(){var e=this.constructor,t=M(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var I=function(){function e(e,t,n){var s,i=0,r=e.length;for(e=e.slice();r--;)s=e[r]*t+i,e[r]=s%n|0,i=s/n|0;return i&&e.unshift(i),e}function t(e,t,n,s){var i,r;if(n!=s)r=n>s?1:-1;else for(i=r=0;i<n;i++)if(e[i]!=t[i]){r=e[i]>t[i]?1:-1;break}return r}function n(e,t,n,s){for(var i=0;n--;)e[n]-=i,i=+(e[n]<t[n]),e[n]=i*s+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(s,i,a,o,l,c){var d,u,p,h,f,m,g,x,v,w,b,j,N,C,k,_,T,S,q,O,$=s.constructor,I=s.s==i.s?1:-1,M=s.d,A=i.d;if(!M||!M[0]||!A||!A[0])return new $(!s.s||!i.s||(M?A&&M[0]==A[0]:!A)?NaN:M&&0==M[0]||!A?0*I:I/0);for(c?(f=1,u=s.e-i.e):(c=1e7,f=7,u=y(s.e/f)-y(i.e/f)),q=A.length,T=M.length,w=(v=new $(I)).d=[],p=0;A[p]==(M[p]||0);p++);if(A[p]>(M[p]||0)&&u--,null==a?(C=a=$.precision,o=$.rounding):C=l?a+(s.e-i.e)+1:a,C<0)w.push(1),m=!0;else{if(C=C/f+2|0,p=0,1==q){for(h=0,A=A[0],C++;(p<T||h)&&C--;p++)k=h*c+(M[p]||0),w[p]=k/A|0,h=k%A|0;m=h||p<T}else{for((h=c/(A[0]+1)|0)>1&&(A=e(A,h,c),M=e(M,h,c),q=A.length,T=M.length),_=q,j=(b=M.slice(0,q)).length;j<q;)b[j++]=0;(O=A.slice()).unshift(0),S=A[0],A[1]>=c/2&&++S;do h=0,(d=t(A,b,q,j))<0?(N=b[0],q!=j&&(N=N*c+(b[1]||0)),(h=N/S|0)>1?(h>=c&&(h=c-1),x=(g=e(A,h,c)).length,j=b.length,1==(d=t(g,b,x,j))&&(h--,n(g,q<x?O:A,x,c))):(0==h&&(d=h=1),g=A.slice()),(x=g.length)<j&&g.unshift(0),n(b,g,j,c),-1==d&&(j=b.length,(d=t(A,b,q,j))<1&&(h++,n(b,q<j?O:A,j,c))),j=b.length):0===d&&(h++,b=[0]),w[p++]=h,d&&b[0]?b[j++]=M[_]||0:(b=[M[_]],j=1);while((_++<T||void 0!==b[0])&&C--)m=void 0!==b[0]}w[0]||w.shift()}if(1==f)v.e=u,r=m;else{for(p=1,h=w[0];h>=10;h/=10)p++;v.e=p+u*f-1,E(v,l?a+v.e+1:a,o,m)}return v}}();function E(e,t,n,s){var i,r,a,o,l,c,d,u,p,f=e.constructor;e:if(null!=t){if(!(u=e.d))return e;for(i=1,o=u[0];o>=10;o/=10)i++;if((r=t-i)<0)r+=7,a=t,l=(d=u[p=0])/w(10,i-a-1)%10|0;else if((p=Math.ceil((r+1)/7))>=(o=u.length))if(s){for(;o++<=p;)u.push(0);d=l=0,i=1,r%=7,a=r-7+1}else break e;else{for(i=1,d=o=u[p];o>=10;o/=10)i++;r%=7,l=(a=r-7+i)<0?0:d/w(10,i-a-1)%10|0}if(s=s||t<0||void 0!==u[p+1]||(a<0?d:d%w(10,i-a-1)),c=n<4?(l||s)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||s||6==n&&(r>0?a>0?d/w(10,i-a):0:u[p-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,c?(t-=e.e+1,u[0]=w(10,(7-t%7)%7),e.e=-t||0):u[0]=e.e=0,e;if(0==r?(u.length=p,o=1,p--):(u.length=p+1,o=w(10,7-r),u[p]=a>0?(d/w(10,i-a)%w(10,a)|0)*o:0),c)for(;;)if(0==p){for(r=1,a=u[0];a>=10;a/=10)r++;for(a=u[0]+=o,o=1;a>=10;a/=10)o++;r!=o&&(e.e++,1e7==u[0]&&(u[0]=1));break}else{if(u[p]+=o,1e7!=u[p])break;u[p--]=0,o=1}for(r=u.length;0===u[--r];)u.pop()}return h&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function M(e,t,n){if(!e.isFinite())return Z(e);var s,i=e.e,r=S(e.d),a=r.length;return t?(n&&(s=n-a)>0?r=r.charAt(0)+"."+r.slice(1)+F(s):a>1&&(r=r.charAt(0)+"."+r.slice(1)),r=r+(e.e<0?"e":"e+")+e.e):i<0?(r="0."+F(-i-1)+r,n&&(s=n-a)>0&&(r+=F(s))):i>=a?(r+=F(i+1-a),n&&(s=n-i-1)>0&&(r=r+"."+F(s))):((s=i+1)<a&&(r=r.slice(0,s)+"."+r.slice(s)),n&&(s=n-a)>0&&(i+1===a&&(r+="."),r+=F(s))),r}function A(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function R(e,t,n){if(t>k)throw h=!0,n&&(e.precision=n),Error(g);return E(new e(d),t,1,!0)}function P(e,t,n){if(t>_)throw Error(g);return E(new e(u),t,n,!0)}function D(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function F(e){for(var t="";e--;)t+="0";return t}function L(e,t,n,s){var i,r=new e(1),a=Math.ceil(s/7+4);for(h=!1;;){if(n%2&&J((r=r.times(t)).d,a)&&(i=!0),0===(n=y(n/2))){n=r.d.length-1,i&&0===r.d[n]&&++r.d[n];break}J((t=t.times(t)).d,a)}return h=!0,r}function U(e){return 1&e.d[e.d.length-1]}function z(e,t,n){for(var s,i,r=new e(t[0]),a=0;++a<t.length;){if(!(i=new e(t[a])).s){r=i;break}((s=r.cmp(i))===n||0===s&&r.s===n)&&(r=i)}return r}function K(e,t){var n,s,i,r,a,o,l,c=0,d=0,u=0,p=e.constructor,f=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(h=!1,l=m):l=t,o=new p(.03125);e.e>-2;)e=e.times(o),u+=5;for(l+=s=Math.log(w(2,u))/Math.LN10*2+5|0,n=r=a=new p(1),p.precision=l;;){if(r=E(r.times(e),l,1),n=n.times(++d),S((o=a.plus(I(r,n,l,1))).d).slice(0,l)===S(a.d).slice(0,l)){for(i=u;i--;)a=E(a.times(a),l,1);if(null!=t)return p.precision=m,a;if(!(c<3&&O(a.d,l-s,f,c)))return E(a,p.precision=m,f,h=!0);p.precision=l+=10,n=r=o=new p(1),d=0,c++}a=o}}function B(e,t){var n,s,i,r,a,o,l,c,d,u,p,f=1,m=e,g=m.d,x=m.constructor,v=x.rounding,y=x.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new x(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(h=!1,d=y):d=t,x.precision=d+=10,s=(n=S(g)).charAt(0),!(15e14>Math.abs(r=m.e)))return c=R(x,d+2,y).times(r+""),m=B(new x(s+"."+n.slice(1)),d-10).plus(c),x.precision=y,null==t?E(m,y,v,h=!0):m;for(;s<7&&1!=s||1==s&&n.charAt(1)>3;)s=(n=S((m=m.times(e)).d)).charAt(0),f++;for(r=m.e,s>1?(m=new x("0."+n),r++):m=new x(s+"."+n.slice(1)),u=m,l=a=m=I(m.minus(1),m.plus(1),d,1),p=E(m.times(m),d,1),i=3;;){if(a=E(a.times(p),d,1),S((c=l.plus(I(a,new x(i),d,1))).d).slice(0,d)===S(l.d).slice(0,d)){if(l=l.times(2),0!==r&&(l=l.plus(R(x,d+2,y).times(r+""))),l=I(l,new x(f),d,1),null!=t)return x.precision=y,l;if(!O(l.d,d-10,v,o))return E(l,x.precision=y,v,h=!0);x.precision=d+=10,c=a=m=I(u.minus(1),u.plus(1),d,1),p=E(m.times(m),d,1),i=o=1}l=c,i+=2}}function Z(e){return String(e.s*e.s/0)}function H(e,t){var n,s,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(n<0&&(n=s),n+=+t.slice(s+1),t=t.substring(0,s)):n<0&&(n=t.length),s=0;48===t.charCodeAt(s);s++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(s,i)){if(i-=s,e.e=n=n-s-1,e.d=[],s=(n+1)%7,n<0&&(s+=7),s<i){for(s&&e.d.push(+t.slice(0,s)),i-=7;s<i;)e.d.push(+t.slice(s,s+=7));s=7-(t=t.slice(s)).length}else s-=i;for(;s--;)t+="0";e.d.push(+t),h&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function W(e,t,n,s,i){var r,a,o,l,c=e.precision,d=Math.ceil(c/7);for(h=!1,l=n.times(n),o=new e(s);;){if(a=I(o.times(l),new e(t++*t++),c,1),o=i?s.plus(a):s.minus(a),s=I(a.times(l),new e(t++*t++),c,1),void 0!==(a=o.plus(s)).d[d]){for(r=d;a.d[r]===o.d[r]&&r--;);if(-1==r)break}r=o,o=s,s=a,a=r}return h=!0,a.d.length=d+1,a}function V(e,t){for(var n=e;--t;)n*=e;return n}function Y(e,t){var n,s=t.s<0,i=P(e,e.precision,1),r=i.times(.5);if((t=t.abs()).lte(r))return a=s?4:1,t;if((n=t.divToInt(i)).isZero())a=s?3:2;else{if((t=t.minus(n.times(i))).lte(r))return a=U(n)?s?2:3:s?4:1,t;a=U(n)?s?1:4:s?3:2}return t.minus(i).abs()}function G(e,t,n,s){var i,a,o,l,d,u,p,h,f,m=e.constructor,g=void 0!==n;if(g?(q(n,1,1e9),void 0===s?s=m.rounding:q(s,0,8)):(n=m.precision,s=m.rounding),e.isFinite()){for(o=(p=M(e)).indexOf("."),g?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,o>=0&&(p=p.replace(".",""),(f=new m(1)).e=p.length-o,f.d=$(M(f),10,i),f.e=f.d.length),a=d=(h=$(p,10,i)).length;0==h[--d];)h.pop();if(h[0]){if(o<0?a--:((e=new m(e)).d=h,e.e=a,h=(e=I(e,f,n,s,0,i)).d,a=e.e,u=r),o=h[n],l=i/2,u=u||void 0!==h[n+1],u=s<4?(void 0!==o||u)&&(0===s||s===(e.s<0?3:2)):o>l||o===l&&(4===s||u||6===s&&1&h[n-1]||s===(e.s<0?8:7)),h.length=n,u)for(;++h[--n]>i-1;)h[n]=0,n||(++a,h.unshift(1));for(d=h.length;!h[d-1];--d);for(o=0,p="";o<d;o++)p+=c.charAt(h[o]);if(g){if(d>1)if(16==t||8==t){for(o=16==t?4:3,--d;d%o;d++)p+="0";for(d=(h=$(p,i,t)).length;!h[d-1];--d);for(o=1,p="1.";o<d;o++)p+=c.charAt(h[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)p="0"+p;p="0."+p}else if(++a>d)for(a-=d;a--;)p+="0";else a<d&&(p=p.slice(0,a)+"."+p.slice(a))}else p=g?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=Z(e);return e.s<0?"-"+p:p}function J(e,t){if(e.length>t)return e.length=t,!0}function Q(e){return new this(e).abs()}function X(e){return new this(e).acos()}function ee(e){return new this(e).acosh()}function et(e,t){return new this(e).plus(t)}function en(e){return new this(e).asin()}function es(e){return new this(e).asinh()}function ei(e){return new this(e).atan()}function er(e){return new this(e).atanh()}function ea(e,t){e=new this(e),t=new this(t);var n,s=this.precision,i=this.rounding,r=s+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?P(this,s,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=P(this,r,1).times(.5)).s=e.s:t.s<0?(this.precision=r,this.rounding=1,n=this.atan(I(e,t,r,1)),t=P(this,r,1),this.precision=s,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(I(e,t,r,1)):(n=P(this,r,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function eo(e){return new this(e).cbrt()}function el(e){return E(e=new this(e),e.e+1,2)}function ec(e,t,n){return new this(e).clamp(t,n)}function ed(e){if(!e||"object"!=typeof e)throw Error(f+"Object expected");var t,n,s,i=!0===e.defaults,r=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<r.length;t+=3)if(n=r[t],i&&(this[n]=p[n]),void 0!==(s=e[n]))if(y(s)===s&&s>=r[t+1]&&s<=r[t+2])this[n]=s;else throw Error(m+n+": "+s);if(n="crypto",i&&(this[n]=p[n]),void 0!==(s=e[n]))if(!0===s||!1===s||0===s||1===s)if(s)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(x);else this[n]=!1;else throw Error(m+n+": "+s);return this}function eu(e){return new this(e).cos()}function ep(e){return new this(e).cosh()}function eh(e,t){return new this(e).div(t)}function ef(e){return new this(e).exp()}function em(e){return E(e=new this(e),e.e+1,3)}function eg(){var e,t,n=new this(0);for(e=0,h=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);n=t}return h=!0,n.sqrt()}function ex(e){return e instanceof eD||e&&e.toStringTag===v||!1}function ev(e){return new this(e).ln()}function ey(e,t){return new this(e).log(t)}function ew(e){return new this(e).log(2)}function eb(e){return new this(e).log(10)}function ej(){return z(this,arguments,-1)}function eN(){return z(this,arguments,1)}function eC(e,t){return new this(e).mod(t)}function ek(e,t){return new this(e).mul(t)}function e_(e,t){return new this(e).pow(t)}function eT(e){var t,n,s,i,r=0,a=new this(1),o=[];if(void 0===e?e=this.precision:q(e,1,1e9),s=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(s));r<s;)(i=t[r])>=429e7?t[r]=crypto.getRandomValues(new Uint32Array(1))[0]:o[r++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(s*=4);r<s;)(i=t[r]+(t[r+1]<<8)+(t[r+2]<<16)+((127&t[r+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,r):(o.push(i%1e7),r+=4);r=s/4}else throw Error(x);else for(;r<s;)o[r++]=1e7*Math.random()|0;for(s=o[--r],e%=7,s&&e&&(i=w(10,7-e),o[r]=(s/i|0)*i);0===o[r];r--)o.pop();if(r<0)n=0,o=[0];else{for(n=-1;0===o[0];n-=7)o.shift();for(s=1,i=o[0];i>=10;i/=10)s++;s<7&&(n-=7-s)}return a.e=n,a.d=o,a}function eS(e){return E(e=new this(e),e.e+1,this.rounding)}function eq(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function eO(e){return new this(e).sin()}function e$(e){return new this(e).sinh()}function eI(e){return new this(e).sqrt()}function eE(e,t){return new this(e).sub(t)}function eM(){var e=0,t=arguments,n=new this(t[0]);for(h=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return h=!0,E(n,this.precision,this.rounding)}function eA(e){return new this(e).tan()}function eR(e){return new this(e).tanh()}function eP(e){return E(e=new this(e),e.e+1,1)}T[Symbol.for("nodejs.util.inspect.custom")]=T.toString,T[Symbol.toStringTag]="Decimal";var eD=T.constructor=function e(t){var n,s,i;function r(e){var t,n,s;if(!(this instanceof r))return new r(e);if(this.constructor=r,ex(e)){this.s=e.s,h?!e.d||e.e>r.maxE?(this.e=NaN,this.d=null):e.e<r.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(s=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;h?t>r.maxE?(this.e=NaN,this.d=null):t<r.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return H(this,e.toString())}if("string"===s)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===n&&(e=e.slice(1)),this.s=1),C.test(e)?H(this,e):function(e,t){var n,s,i,r,a,o,l,c,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),C.test(t))return H(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(j.test(t))n=16,t=t.toLowerCase();else if(b.test(t))n=2;else if(N.test(t))n=8;else throw Error(m+t);for((r=t.search(/p/i))>0?(l=+t.slice(r+1),t=t.substring(2,r)):t=t.slice(2),a=(r=t.indexOf("."))>=0,s=e.constructor,a&&(r=(o=(t=t.replace(".","")).length)-r,i=L(s,new s(n),r,2*r)),r=d=(c=$(t,n,1e7)).length-1;0===c[r];--r)c.pop();return r<0?new s(0*e.s):(e.e=A(c,d),e.d=c,h=!1,a&&(e=I(e,i,4*o)),l&&(e=e.times(54>Math.abs(l)?w(2,l):eD.pow(2,l))),h=!0,e)}(this,e);if("bigint"===s)return e<0?(e=-e,this.s=-1):this.s=1,H(this,e.toString());throw Error(m+e)}if(r.prototype=T,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=ed,r.clone=e,r.isDecimal=ex,r.abs=Q,r.acos=X,r.acosh=ee,r.add=et,r.asin=en,r.asinh=es,r.atan=ei,r.atanh=er,r.atan2=ea,r.cbrt=eo,r.ceil=el,r.clamp=ec,r.cos=eu,r.cosh=ep,r.div=eh,r.exp=ef,r.floor=em,r.hypot=eg,r.ln=ev,r.log=ey,r.log10=eb,r.log2=ew,r.max=ej,r.min=eN,r.mod=eC,r.mul=ek,r.pow=e_,r.random=eT,r.round=eS,r.sign=eq,r.sin=eO,r.sinh=e$,r.sqrt=eI,r.sub=eE,r.sum=eM,r.tan=eA,r.tanh=eR,r.trunc=eP,void 0===t&&(t={}),t&&!0!==t.defaults)for(n=0,i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];n<i.length;)t.hasOwnProperty(s=i[n++])||(t[s]=this[s]);return r.config(t),r}(p);d=new eD(d),u=new eD(u);var eF=e.i(676197),eL=e.i(28030),eU=e.i(159639),ez=e.i(449980),eK=e.i(632815),eB=e.i(128984);let eZ={green:{lineColor:"rgba(6, 148, 162, 1)",bgColor:["rgba(6, 148, 162, 0.2)","rgba(67, 174, 185, 0.08)"]},orange:{lineColor:"rgba(255, 138, 76, 1)",bgColor:["rgba(254, 145, 87, 0.2)","rgba(255, 138, 76, 0.1)"]},blue:{lineColor:"rgba(28, 100, 242, 1)",bgColor:["rgba(28, 100, 242, 0.3)","rgba(28, 100, 242, 0.1)"]}},eH="#9CA3AF",eW="#F3F4F6",eV="MMM D, YYYY",eY={messages:{colorType:"green"},conversations:{colorType:"green"},endUsers:{colorType:"orange"},costs:{colorType:"blue",showTokens:!0},workflowCosts:{colorType:"blue"}},eG=e=>eD.sum(...e).toNumber(),eJ={start:(0,n.default)().subtract(7,"day").format(eV),end:(0,n.default)().format(eV)},eQ=e=>{let{basicInfo:{title:s,explanation:i,timePeriod:r},chartType:a="conversations",chartData:l,valueKey:c,isAvg:d,unit:u="",yMax:p,className:h}=e,{t:f}=(0,o.useTranslation)(),m=l.data,g=m.length,x=Array.from({length:g>=2?g-2:g},()=>"1");x.push(""),x.unshift("");let v=m.map(e=>{let{date:t}=e;return t}),y=c||Object.keys(m[0]).find(e=>e.includes("count"))||"",w=m.map(e=>e[y]||0),b={dataset:{dimensions:["date",y],source:m},grid:{top:8,right:36,bottom:10,left:25,containLabel:!0},tooltip:{trigger:"item",position:"top",borderWidth:0},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{color:eH,hideOverlap:!0,overflow:"break",formatter:e=>(0,n.default)(e).format(eV)},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:eW,width:1,type:[10,10]},interval:e=>0===e||e===v.length-1}},{position:"bottom",boundaryGap:!1,data:x,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#E5E7EB"},interval:(e,t)=>!!t}}],yAxis:{max:p??"dataMax",type:"value",axisLabel:{color:eH,hideOverlap:!0},splitLine:{lineStyle:{color:eW}}},series:[{type:"line",showSymbol:!0,symbolSize:4,lineStyle:{color:eZ[eY[a].colorType].lineColor,width:2},itemStyle:{color:eZ[eY[a].colorType].lineColor},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:eZ[eY[a].colorType].bgColor[0]},{offset:1,color:eZ[eY[a].colorType].bgColor[1]}],global:!1}},tooltip:{padding:[8,12,8,12],formatter:e=>`<div style='color:#6B7280;font-size:12px'>${e.name}</div>
                          <div style='font-size:14px;color:#1F2A37'>${e.data[y]}
                              ${!eY[a].showTokens?"":`<span style='font-size:12px'>
                                  <span style='margin-left:4px;color:#6B7280'>(</span>
                                  <span style='color:#FF8A4C'>~$${(0,eL.get)(e.data,"total_price",0)}</span>
                                  <span style='color:#6B7280'>)</span>
                              </span>`}
                          </div>`}}]},j=d?eG(w)/w.length:eG(w);return(0,t.jsxs)("div",{className:`flex w-full flex-col rounded-xl bg-components-chart-bg px-6 py-4 shadow-xs ${h??""}`,children:[(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)(eU.default,{name:s,type:r,hoverTip:i})}),(0,t.jsx)("div",{className:"mb-4 flex-1",children:(0,t.jsx)(eU.default,{isExtraInLine:eY[a].showTokens,name:"costs"!==a?`${j.toLocaleString()} ${u}`:`${j<1e3?j:`${(0,eB.formatNumber)(Math.round(j/1e3))}k`}`,type:eY[a].showTokens?(0,t.jsxs)("span",{children:[f("analysis.tokenUsage.consumed",{ns:"appOverview"})," ","Tokens",(0,t.jsxs)("span",{className:"text-sm",children:[(0,t.jsx)("span",{className:"ml-1 text-text-tertiary",children:"("}),(0,t.jsxs)("span",{className:"text-orange-400",children:["~",eG(m.map(e=>Number.parseFloat(String((0,eL.get)(e,"total_price","0"))))).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4})]}),(0,t.jsx)("span",{className:"text-text-tertiary",children:")"})]})]}):"",textStyle:{main:`!text-3xl !font-normal ${0===j?"!text-text-quaternary":""}`}})}),(0,t.jsx)(eF.default,{option:b,style:{height:160}})]})},eX=e=>{let{start:t,end:s,key:i="count"}=e;return Array.from({length:(0,n.default)(s).diff((0,n.default)(t),"day")||1},()=>({date:"",[i]:0})).map((e,s)=>(e.date=(0,n.default)(t).add(s,"day").format(eV),e))},e0=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppDailyMessages)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.totalMessages.title",{ns:"appOverview"}),explanation:i("analysis.totalMessages.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX(s.query??eJ)}:r,chartType:"messages",...l&&{yMax:500}})},e1=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppDailyConversations)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.totalConversations.title",{ns:"appOverview"}),explanation:i("analysis.totalConversations.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX(s.query??eJ)}:r,chartType:"conversations",...l&&{yMax:500}})},e2=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppDailyEndUsers)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.activeUsers.title",{ns:"appOverview"}),explanation:i("analysis.activeUsers.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX(s.query??eJ)}:r,chartType:"endUsers",...l&&{yMax:500}})},e4=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppAverageSessionInteractions)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.avgSessionInteractions.title",{ns:"appOverview"}),explanation:i("analysis.avgSessionInteractions.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX({...s.query??eJ,key:"interactions"})}:r,chartType:"conversations",valueKey:"interactions",isAvg:!0,...l&&{yMax:500}})},e5=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppAverageResponseTime)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.avgResponseTime.title",{ns:"appOverview"}),explanation:i("analysis.avgResponseTime.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX({...s.query??eJ,key:"latency"})}:r,valueKey:"latency",chartType:"conversations",isAvg:!0,unit:i("analysis.ms",{ns:"appOverview"}),...l&&{yMax:500}})},e7=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppTokensPerSecond)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.tps.title",{ns:"appOverview"}),explanation:i("analysis.tps.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX({...s.query??eJ,key:"tps"})}:r,valueKey:"tps",chartType:"conversations",isAvg:!0,unit:i("analysis.tokenPS",{ns:"appOverview"}),...l&&{yMax:100},className:"min-w-0"})},e9=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppSatisfactionRate)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.userSatisfactionRate.title",{ns:"appOverview"}),explanation:i("analysis.userSatisfactionRate.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX({...s.query??eJ,key:"rate"})}:r,valueKey:"rate",chartType:"endUsers",isAvg:!0,...l&&{yMax:1e3},className:"h-full"})},e3=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useAppTokenCosts)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.tokenUsage.title",{ns:"appOverview"}),explanation:i("analysis.tokenUsage.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX(s.query??eJ)}:r,chartType:"costs",...l&&{yMax:100}})},e8=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useWorkflowDailyConversations)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.totalMessages.title",{ns:"appOverview"}),explanation:i("analysis.totalMessages.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX({...s.query??eJ,key:"runs"})}:r,chartType:"conversations",valueKey:"runs",...l&&{yMax:500}})},e6=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useWorkflowDailyTerminals)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.activeUsers.title",{ns:"appOverview"}),explanation:i("analysis.activeUsers.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX(s.query??eJ)}:r,chartType:"endUsers",...l&&{yMax:500}})},te=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useWorkflowTokenCosts)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.tokenUsage.title",{ns:"appOverview"}),explanation:i("analysis.tokenUsage.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX(s.query??eJ)}:r,chartType:"workflowCosts",...l&&{yMax:100}})},tt=e=>{let{id:n,period:s}=e,{t:i}=(0,o.useTranslation)(),{data:r,isLoading:a}=(0,eK.useWorkflowAverageInteractions)(n,s.query);if(a||!r)return(0,t.jsx)(ez.default,{});let l=!r.data||0===r.data.length;return(0,t.jsx)(eQ,{basicInfo:{title:i("analysis.avgUserInteractions.title",{ns:"appOverview"}),explanation:i("analysis.avgUserInteractions.explanation",{ns:"appOverview"}),timePeriod:s.name},chartData:l?{data:eX({...s.query??eJ,key:"interactions"})}:r,chartType:"conversations",valueKey:"interactions",isAvg:!0,...l&&{yMax:500}})};var tn=e.i(189299),ts=e.i(925521),ti=e.i(299951);let tr=(0,n.default)(),ta=i.memo(e=>{let{periodMapping:n,onSelect:s,queryDateFormat:r}=e,{t:a}=(0,o.useTranslation)(),l=i.useCallback(e=>{let t=e.value,i=n[t]?.value??"-1",o=e.name||a("filter.period.allTime",{ns:"appLog"});-1===i?s({name:a("filter.period.allTime",{ns:"appLog"}),query:void 0}):0===i?s({name:o,query:{start:tr.startOf("day").format(r),end:tr.endOf("day").format(r)}}):s({name:o,query:{start:tr.subtract(i,"day").startOf("day").format(r),end:tr.endOf("day").format(r)}})},[s,n,r,a]);return(0,t.jsx)(ti.SimpleSelect,{items:Object.entries(n).map(e=>{let[t,n]=e;return{value:t,name:a(`filter.period.${n.name}`,{ns:"appLog"})}}),className:"mt-0 !w-40",notClearable:!0,onSelect:l,defaultValue:"2"})});e.i(36860);var to=e.i(849249),to=to,tl=e.i(683257),tc=e.i(837699),td=e.i(124836),tu=e.i(836137),tp=e.i(935139);let th=(0,n.default)(),tf=i.memo(e=>{let{start:n,end:s,onStartChange:r,onEndChange:a}=e,o=(0,tl.useLocale)(),l=(0,i.useCallback)(e=>{let{value:n,handleClickTrigger:s,isOpen:i}=e;return(0,t.jsx)("div",{className:(0,tp.cn)("system-sm-regular flex h-7 cursor-pointer items-center rounded-lg px-1 text-components-input-text-filled hover:bg-state-base-hover",i&&"bg-state-base-hover"),onClick:s,children:n?(0,eB.formatToLocalTime)(n,o,"MMM D"):""})},[o]),c=s.subtract(30,"day"),d=(0,i.useCallback)(e=>!!e.isAfter(th,"date")||!((e.isAfter(c,"date")||e.isSame(c,"date"))&&(e.isBefore(s,"date")||e.isSame(s,"date"))),[c,s]),u=n.add(30,"day"),p=(0,i.useCallback)(e=>!!e.isAfter(th,"date")||!((e.isAfter(n,"date")||e.isSame(n,"date"))&&(e.isBefore(u,"date")||e.isSame(u,"date"))),[u,n]);return(0,t.jsxs)("div",{className:"flex h-8 items-center space-x-0.5 rounded-lg bg-components-input-bg-normal px-2",children:[(0,t.jsx)("div",{className:"p-px",children:(0,t.jsx)(tc.RiCalendarLine,{className:"size-3.5 text-text-tertiary"})}),(0,t.jsx)(tu.default,{value:n,onChange:r,renderTrigger:l,needTimePicker:!1,onClear:td.noop,noConfirm:!0,getIsDateDisabled:d}),(0,t.jsx)("span",{className:"system-sm-regular text-text-tertiary",children:"-"}),(0,t.jsx)(tu.default,{value:s,onChange:a,renderTrigger:l,needTimePicker:!1,onClear:td.noop,noConfirm:!0,getIsDateDisabled:p})]})}),tm=(0,n.default)(),tg=i.memo(e=>{let{isCustomRange:n,ranges:s,onSelect:r}=e,{t:a}=(0,o.useTranslation)(),l=(0,i.useCallback)(e=>{let{name:t,value:n}=e,s=null;r({query:s=0===n?{start:tm.startOf("day"),end:tm.endOf("day")}:{start:tm.subtract(e.value,"day").startOf("day"),end:tm.endOf("day")},name:t})},[r]),c=(0,i.useCallback)((e,s)=>(0,t.jsxs)("div",{className:(0,tp.cn)("flex h-8 cursor-pointer items-center space-x-1.5 rounded-lg bg-components-input-bg-normal pl-3 pr-2",s&&"bg-state-base-hover-alt"),children:[(0,t.jsx)("div",{className:"system-sm-regular text-components-input-text-filled",children:n?a("filter.period.custom",{ns:"appLog"}):e?.name}),(0,t.jsx)(tc.RiArrowDownSLine,{className:(0,tp.cn)("size-4 text-text-quaternary",s&&"text-text-secondary")})]}),[n]),d=(0,i.useCallback)(e=>{let{item:n,selected:s}=e;return(0,t.jsxs)(t.Fragment,{children:[s&&(0,t.jsx)("span",{className:(0,tp.cn)("absolute left-2 top-[9px] flex items-center  text-text-accent"),children:(0,t.jsx)(tc.RiCheckLine,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsx)("span",{className:(0,tp.cn)("system-md-regular block truncate"),children:n.name})]})},[]);return(0,t.jsx)(ti.SimpleSelect,{items:s.map(e=>({...e,name:a(`filter.period.${e.name}`,{ns:"appLog"})})),className:"mt-0 !w-40",notClearable:!0,onSelect:l,defaultValue:0,wrapperClassName:"h-8",optionWrapClassName:"w-[200px] translate-x-[-24px]",renderTrigger:c,optionClassName:"flex items-center py-0 pl-7 pr-2 h-8",renderOption:d})}),tx=(0,n.default)(),tv=i.memo(e=>{let{ranges:n,onSelect:s,queryDateFormat:r}=e,a=(0,tl.useLocale)(),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(tx),[u,p]=(0,i.useState)(tx),h=(0,i.useCallback)(e=>{l(!1),d(e.query.start),p(e.query.end),s({name:e.name,query:{start:e.query.start.format(r),end:e.query.end.format(r)}})},[s,r]),f=(0,i.useCallback)(e=>t=>{if(!t||"start"===e&&t.isSame(c)||"end"===e&&t.isSame(u))return;"start"===e?d(t):p(t);let n="start"===e?t:c,i="end"===e?t:u;s({name:`${(0,eB.formatToLocalTime)(n,a,"MMM D")} - ${(0,eB.formatToLocalTime)(i,a,"MMM D")}`,query:{start:n.format(r),end:i.format(r)}}),l(!0)},[c,u,s,a,r]);return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(tg,{isCustomRange:o,ranges:n,onSelect:h}),(0,t.jsx)(to.default,{className:"h-3.5 w-2 text-components-input-bg-normal"}),(0,t.jsx)(tf,{start:c,end:u,onStartChange:f("start"),onEndChange:f("end")})]})});n.default.extend(s.default);let ty=(0,n.default)(),tw=[{value:0,name:"today"},{value:7,name:"last7days"},{value:30,name:"last30days"}],tb="YYYY-MM-DD HH:mm";function tj(e){let{appId:n,headerRight:s}=e,{t:r}=(0,o.useTranslation)(),a=(0,tn.useStore)(e=>e.appDetail),c=a?.mode!=="completion"&&a?.mode!=="workflow",d=a?.mode==="workflow",[u,p]=(0,i.useState)(ts.IS_CLOUD_EDITION?{name:r("filter.period.today",{ns:"appLog"}),query:{start:ty.startOf("day").format(tb),end:ty.endOf("day").format(tb)}}:{name:r("filter.period.last7days",{ns:"appLog"}),query:{start:ty.subtract(7,"day").startOf("day").format(tb),end:ty.endOf("day").format(tb)}});return a?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"system-xl-semibold mb-2 text-text-primary",children:r("appMenus.overview",{ns:"common"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[ts.IS_CLOUD_EDITION?(0,t.jsx)(tv,{ranges:tw,onSelect:p,queryDateFormat:tb}):(0,t.jsx)(ta,{periodMapping:l.TIME_PERIOD_MAPPING,onSelect:p,queryDateFormat:tb}),s]})]}),!d&&(0,t.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,t.jsx)(e1,{period:u,id:n}),(0,t.jsx)(e2,{period:u,id:n})]}),!d&&(0,t.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[c?(0,t.jsx)(e4,{period:u,id:n}):(0,t.jsx)(e5,{period:u,id:n}),(0,t.jsx)(e7,{period:u,id:n})]}),!d&&(0,t.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,t.jsx)(e9,{period:u,id:n}),(0,t.jsx)(e3,{period:u,id:n})]}),!d&&c&&(0,t.jsx)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:(0,t.jsx)(e0,{period:u,id:n})}),d&&(0,t.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,t.jsx)(e8,{period:u,id:n}),(0,t.jsx)(e6,{period:u,id:n})]}),d&&(0,t.jsxs)("div",{className:"mb-6 grid w-full grid-cols-1 gap-6 xl:grid-cols-2",children:[(0,t.jsx)(te,{period:u,id:n}),(0,t.jsx)(tt,{period:u,id:n})]})]}):null}e.s(["default",()=>tj],190143)},545733,e=>{"use strict";var t,n=e.i(563199),s=e.i(837699),i=e.i(417944),r=e.i(326531),a=e.i(268255);e.i(152567);var o=e.i(408767),l=e.i(757198),c=e.i(807324),d=e.i(594957);let u=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:d.default})};u.displayName="AliyunIcon";var p=e.i(290894);let h=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:p.default})};h.displayName="AliyunIconBig";var f=e.i(450591);let m=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:f.default})};m.displayName="ArizeIcon";var g=e.i(598228);let x=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:g.default})};x.displayName="ArizeIconBig";var v=e.i(247573);let y=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:v.default})};y.displayName="DatabricksIcon";var w=e.i(520196);let b=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:w.default})};b.displayName="DatabricksIconBig";var j=e.i(550578);let N=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:j.default})};N.displayName="LangfuseIcon";var C=e.i(722540);let k=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:C.default})};k.displayName="LangfuseIconBig";var _=e.i(128055);let T=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:_.default})};T.displayName="LangsmithIcon";var S=e.i(130399);let q=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:S.default})};q.displayName="LangsmithIconBig";var O=e.i(291641);let $=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:O.default})};$.displayName="MlflowIcon";var I=e.i(989748);let E=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:I.default})};E.displayName="MlflowIconBig";var M=e.i(658536);let A=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:M.default})};A.displayName="OpikIcon";var R=e.i(454302);let P=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:R.default})};P.displayName="OpikIconBig";var D=e.i(845670);let F=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:D.default})};F.displayName="PhoenixIcon";var L=e.i(847309);let U=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:L.default})};U.displayName="PhoenixIconBig";var z=e.i(716653);let K=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:z.default})};K.displayName="TencentIcon";var B=e.i(280033);let Z=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:B.default})};Z.displayName="TencentIconBig";var H=e.i(527702);let W=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:H.default})};W.displayName="TracingIcon";var V=e.i(619568);let Y=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:V.default})};Y.displayName="WeaveIcon";var G=e.i(423301);let J=e=>{let{ref:t,...s}=e;return(0,n.jsx)(c.default,{...s,ref:t,data:G.default})};J.displayName="WeaveIconBig";var Q=e.i(449980),X=e.i(137667),ee=e.i(836340),et=e.i(711536),en=e.i(972282),es=e.i(935139),ei=e.i(391185),er=e.i(260484),ea=e.i(421001),eo=e.i(151094),el=e.i(547105);e.i(47690);var ec=e.i(849124);e.i(744106);var ed=e.i(41556),eu=((t={}).arize="arize",t.phoenix="phoenix",t.langSmith="langsmith",t.langfuse="langfuse",t.opik="opik",t.weave="weave",t.aliyun="aliyun",t.mlflow="mlflow",t.databricks="databricks",t.tencent="tencent",t);let ep={[eu.arize]:"https://docs.arize.com/arize",[eu.phoenix]:"https://docs.arize.com/phoenix",[eu.langSmith]:"https://docs.smith.langchain.com/",[eu.langfuse]:"https://docs.langfuse.com",[eu.opik]:"https://www.comet.com/docs/opik/tracing/integrations/dify#setup-instructions",[eu.weave]:"https://weave-docs.wandb.ai/",[eu.aliyun]:"https://help.aliyun.com/zh/arms/tracing-analysis/untitled-document-1750672984680",[eu.mlflow]:"https://mlflow.org/docs/latest/genai/",[eu.databricks]:"https://docs.databricks.com/aws/en/mlflow3/genai/tracing/",[eu.tencent]:"https://cloud.tencent.com/document/product/248/116531"};var eh=e.i(291631);let ef=a.memo(e=>{let{className:t,label:s,labelClassName:i,value:r,onChange:a,isRequired:o=!1,placeholder:l=""}=e;return(0,n.jsxs)("div",{className:(0,es.cn)(t),children:[(0,n.jsxs)("div",{className:"flex py-[7px]",children:[(0,n.jsxs)("div",{className:(0,es.cn)(i,"flex h-[18px] items-center text-[13px] font-medium text-text-primary"),children:[s," "]}),o&&(0,n.jsx)("span",{className:"ml-0.5 text-xs font-semibold text-[#D92D20]",children:"*"})]}),(0,n.jsx)(eh.default,{value:r,onChange:e=>a(e.target.value),className:"h-9",placeholder:l})]})}),em="tracing.configProvider",eg={api_key:"",space_id:"",project:"",endpoint:""},ex={api_key:"",project:"",endpoint:""},ev={api_key:"",project:"",endpoint:""},ey={public_key:"",secret_key:"",host:""},ew={api_key:"",project:"",url:"",workspace:""},eb={api_key:"",entity:"",project:"",endpoint:"",host:""},ej={app_name:"",license_key:"",endpoint:""},eN={tracking_uri:"",experiment_id:"",username:"",password:""},eC={experiment_id:"",host:"",client_id:"",client_secret:"",personal_access_token:""},ek={token:"",endpoint:"",service_name:""},e_=a.memo(e=>{let{appId:t,type:s,payload:r,onRemoved:c,onCancel:d,onSaved:u,onChosen:p}=e,{t:h}=(0,o.useTranslation)(),f=!!r,m=!f,[g,x]=(0,a.useState)(!1),[v,y]=(0,a.useState)((()=>{if(f)return r;if(s===eu.arize)return eg;if(s===eu.phoenix)return ex;if(s===eu.langSmith)return ev;if(s===eu.langfuse)return ey;if(s===eu.opik)return ew;else if(s===eu.aliyun)return ej;else if(s===eu.mlflow)return eN;else if(s===eu.databricks)return eC;else if(s===eu.tencent)return ek;return eb})()),[w,{setTrue:b,setFalse:j}]=(0,i.useBoolean)(!1),N=(0,a.useCallback)(async()=>{await (0,en.removeTracingConfig)({appId:t,provider:s}),X.default.notify({type:"success",message:h("api.remove",{ns:"common"})}),c(),j()},[j,t,s,h,c]),C=(0,a.useCallback)(e=>t=>{y({...v,[e]:t})},[v]),k=(0,a.useCallback)(()=>{let e="";return s===eu.arize&&(v.api_key||(e=h("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),v.space_id||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Space ID"})),e||v.project||(e=h("errorMsg.fieldRequired",{ns:"common",field:h(`${em}.project`,{ns:"app"})}))),s===eu.phoenix&&(v.api_key||(e=h("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),e||v.project||(e=h("errorMsg.fieldRequired",{ns:"common",field:h(`${em}.project`,{ns:"app"})}))),s===eu.langSmith&&(v.api_key||(e=h("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),e||v.project||(e=h("errorMsg.fieldRequired",{ns:"common",field:h(`${em}.project`,{ns:"app"})}))),s===eu.langfuse&&(e||v.secret_key||(e=h("errorMsg.fieldRequired",{ns:"common",field:h(`${em}.secretKey`,{ns:"app"})})),e||v.public_key||(e=h("errorMsg.fieldRequired",{ns:"common",field:h(`${em}.publicKey`,{ns:"app"})})),e||v.host||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Host"}))),eu.opik,s===eu.weave&&(e||v.api_key||(e=h("errorMsg.fieldRequired",{ns:"common",field:"API Key"})),e||v.project||(e=h("errorMsg.fieldRequired",{ns:"common",field:h(`${em}.project`,{ns:"app"})}))),s===eu.aliyun&&(e||v.app_name||(e=h("errorMsg.fieldRequired",{ns:"common",field:"App Name"})),e||v.license_key||(e=h("errorMsg.fieldRequired",{ns:"common",field:"License Key"})),e||v.endpoint||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Endpoint"}))),s===eu.mlflow&&(e||v.tracking_uri||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Tracking URI"}))),s===eu.databricks&&(e||v.experiment_id||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Experiment ID"})),e||v.host||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Host"}))),s===eu.tencent&&(e||v.token||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Token"})),e||v.endpoint||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Endpoint"})),e||v.service_name||(e=h("errorMsg.fieldRequired",{ns:"common",field:"Service Name"}))),e},[v,h,s]),_=(0,a.useCallback)(async()=>{if(g)return;let e=k();if(e)return void X.default.notify({type:"error",message:e});let n=f?en.updateTracingConfig:en.addTracingConfig;try{await n({appId:t,body:{tracing_provider:s,tracing_config:v}}),X.default.notify({type:"success",message:h("api.success",{ns:"common"})}),u(v),m&&p(s)}finally{x(!1)}},[t,k,v,m,f,g,p,u,h,s]);return(0,n.jsx)(n.Fragment,{children:w?(0,n.jsx)(el.default,{isShow:!0,type:"warning",title:h(`${em}.removeConfirmTitle`,{ns:"app",key:h(`tracing.${s}.title`,{ns:"app"})}),content:h(`${em}.removeConfirmContent`,{ns:"app"}),onConfirm:N,onCancel:j}):(0,n.jsx)(ei.PortalToFollowElem,{open:!0,children:(0,n.jsx)(ei.PortalToFollowElemContent,{className:"z-[60] h-full w-full",children:(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-background-overlay",children:(0,n.jsxs)("div",{className:"mx-2 max-h-[calc(100vh-120px)] w-[640px] overflow-y-auto rounded-2xl bg-components-panel-bg shadow-xl",children:[(0,n.jsxs)("div",{className:"px-8 pt-8",children:[(0,n.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,n.jsxs)("div",{className:"title-2xl-semi-bold text-text-primary",children:[h(`${em}.title`,{ns:"app"}),h(`tracing.${s}.title`,{ns:"app"})]})}),(0,n.jsxs)("div",{className:"space-y-4",children:[s===eu.arize&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:v.api_key,onChange:C("api_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"API Key"})}),(0,n.jsx)(ef,{label:"Space ID",labelClassName:"!text-sm",isRequired:!0,value:v.space_id,onChange:C("space_id"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"Space ID"})}),(0,n.jsx)(ef,{label:h(`${em}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:v.project,onChange:C("project"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.project`,{ns:"app"})})}),(0,n.jsx)(ef,{label:"Endpoint",labelClassName:"!text-sm",value:v.endpoint,onChange:C("endpoint"),placeholder:"https://otlp.arize.com"})]}),s===eu.phoenix&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:v.api_key,onChange:C("api_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"API Key"})}),(0,n.jsx)(ef,{label:h(`${em}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:v.project,onChange:C("project"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.project`,{ns:"app"})})}),(0,n.jsx)(ef,{label:"Endpoint",labelClassName:"!text-sm",value:v.endpoint,onChange:C("endpoint"),placeholder:"https://app.phoenix.arize.com"})]}),s===eu.aliyun&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:"License Key",labelClassName:"!text-sm",isRequired:!0,value:v.license_key,onChange:C("license_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"License Key"})}),(0,n.jsx)(ef,{label:"Endpoint",labelClassName:"!text-sm",value:v.endpoint,onChange:C("endpoint"),placeholder:"https://tracing.arms.aliyuncs.com"}),(0,n.jsx)(ef,{label:"App Name",labelClassName:"!text-sm",value:v.app_name,onChange:C("app_name")})]}),s===eu.tencent&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:"Token",labelClassName:"!text-sm",isRequired:!0,value:v.token,onChange:C("token"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"Token"})}),(0,n.jsx)(ef,{label:"Endpoint",labelClassName:"!text-sm",isRequired:!0,value:v.endpoint,onChange:C("endpoint"),placeholder:"https://your-region.cls.tencentcs.com"}),(0,n.jsx)(ef,{label:"Service Name",labelClassName:"!text-sm",isRequired:!0,value:v.service_name,onChange:C("service_name"),placeholder:"dify_app"})]}),s===eu.weave&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:v.api_key,onChange:C("api_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"API Key"})}),(0,n.jsx)(ef,{label:h(`${em}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:v.project,onChange:C("project"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.project`,{ns:"app"})})}),(0,n.jsx)(ef,{label:"Entity",labelClassName:"!text-sm",value:v.entity,onChange:C("entity"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"Entity"})}),(0,n.jsx)(ef,{label:"Endpoint",labelClassName:"!text-sm",value:v.endpoint,onChange:C("endpoint"),placeholder:"https://trace.wandb.ai/"}),(0,n.jsx)(ef,{label:"Host",labelClassName:"!text-sm",value:v.host,onChange:C("host"),placeholder:"https://api.wandb.ai"})]}),s===eu.langSmith&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:"API Key",labelClassName:"!text-sm",isRequired:!0,value:v.api_key,onChange:C("api_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"API Key"})}),(0,n.jsx)(ef,{label:h(`${em}.project`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:v.project,onChange:C("project"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.project`,{ns:"app"})})}),(0,n.jsx)(ef,{label:"Endpoint",labelClassName:"!text-sm",value:v.endpoint,onChange:C("endpoint"),placeholder:"https://api.smith.langchain.com"})]}),s===eu.langfuse&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:h(`${em}.secretKey`,{ns:"app"}),labelClassName:"!text-sm",value:v.secret_key,isRequired:!0,onChange:C("secret_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.secretKey`,{ns:"app"})})}),(0,n.jsx)(ef,{label:h(`${em}.publicKey`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:v.public_key,onChange:C("public_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.publicKey`,{ns:"app"})})}),(0,n.jsx)(ef,{label:"Host",labelClassName:"!text-sm",isRequired:!0,value:v.host,onChange:C("host"),placeholder:"https://cloud.langfuse.com"})]}),s===eu.opik&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:"API Key",labelClassName:"!text-sm",value:v.api_key,onChange:C("api_key"),placeholder:h(`${em}.placeholder`,{ns:"app",key:"API Key"})}),(0,n.jsx)(ef,{label:h(`${em}.project`,{ns:"app"}),labelClassName:"!text-sm",value:v.project,onChange:C("project"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.project`,{ns:"app"})})}),(0,n.jsx)(ef,{label:"Workspace",labelClassName:"!text-sm",value:v.workspace,onChange:C("workspace"),placeholder:"default"}),(0,n.jsx)(ef,{label:"Url",labelClassName:"!text-sm",value:v.url,onChange:C("url"),placeholder:"https://www.comet.com/opik/api/"})]}),s===eu.mlflow&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:h(`${em}.trackingUri`,{ns:"app"}),labelClassName:"!text-sm",value:v.tracking_uri,isRequired:!0,onChange:C("tracking_uri"),placeholder:"http://localhost:5000"}),(0,n.jsx)(ef,{label:h(`${em}.experimentId`,{ns:"app"}),labelClassName:"!text-sm",isRequired:!0,value:v.experiment_id,onChange:C("experiment_id"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.experimentId`,{ns:"app"})})}),(0,n.jsx)(ef,{label:h(`${em}.username`,{ns:"app"}),labelClassName:"!text-sm",value:v.username,onChange:C("username"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.username`,{ns:"app"})})}),(0,n.jsx)(ef,{label:h(`${em}.password`,{ns:"app"}),labelClassName:"!text-sm",value:v.password,onChange:C("password"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.password`,{ns:"app"})})})]}),s===eu.databricks&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ef,{label:h(`${em}.experimentId`,{ns:"app"}),labelClassName:"!text-sm",value:v.experiment_id,onChange:C("experiment_id"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.experimentId`,{ns:"app"})}),isRequired:!0}),(0,n.jsx)(ef,{label:h(`${em}.databricksHost`,{ns:"app"}),labelClassName:"!text-sm",value:v.host,onChange:C("host"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.databricksHost`,{ns:"app"})}),isRequired:!0}),(0,n.jsx)(ef,{label:h(`${em}.clientId`,{ns:"app"}),labelClassName:"!text-sm",value:v.client_id,onChange:C("client_id"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.clientId`,{ns:"app"})})}),(0,n.jsx)(ef,{label:h(`${em}.clientSecret`,{ns:"app"}),labelClassName:"!text-sm",value:v.client_secret,onChange:C("client_secret"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.clientSecret`,{ns:"app"})})}),(0,n.jsx)(ef,{label:h(`${em}.personalAccessToken`,{ns:"app"}),labelClassName:"!text-sm",value:v.personal_access_token,onChange:C("personal_access_token"),placeholder:h(`${em}.placeholder`,{ns:"app",key:h(`${em}.personalAccessToken`,{ns:"app"})})})]})]}),(0,n.jsxs)("div",{className:"my-8 flex h-8 items-center justify-between",children:[(0,n.jsxs)("a",{className:"flex items-center space-x-1 text-xs font-normal leading-[18px] text-[#155EEF]",target:"_blank",href:ep[s],children:[(0,n.jsx)("span",{children:h(`${em}.viewDocsLink`,{ns:"app",key:h(`tracing.${s}.title`,{ns:"app"})})}),(0,n.jsx)(ec.LinkExternal02,{className:"h-3 w-3"})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[f&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eo.default,{className:"h-9 text-sm font-medium text-text-secondary",onClick:b,children:(0,n.jsx)("span",{className:"text-[#D92D20]",children:h("operation.remove",{ns:"common"})})}),(0,n.jsx)(l.default,{type:"vertical",className:"mx-3 h-[18px]"})]}),(0,n.jsx)(eo.default,{className:"mr-2 h-9 text-sm font-medium text-text-secondary",onClick:d,children:h("operation.cancel",{ns:"common"})}),(0,n.jsx)(eo.default,{className:"h-9 text-sm font-medium",variant:"primary",onClick:_,loading:g,children:h(`operation.${m?"saveAndEnable":"save"}`,{ns:"common"})})]})]})]}),(0,n.jsx)("div",{className:"border-t-[0.5px] border-divider-regular",children:(0,n.jsxs)("div",{className:"flex items-center justify-center bg-background-section-burn py-3 text-xs text-text-tertiary",children:[(0,n.jsx)(ed.Lock01,{className:"mr-1 h-3 w-3 text-text-tertiary"}),h("modelProvider.encrypted.front",{ns:"common"}),(0,n.jsx)("a",{className:"mx-1 text-primary-600",target:"_blank",rel:"noopener noreferrer",href:"https://pycryptodome.readthedocs.io/en/latest/src/cipher/oaep.html",children:"PKCS1_OAEP"}),h("modelProvider.encrypted.back",{ns:"common"})]})})]})})})})})});e.i(288243);var eT=e.i(4206),eT=eT;let eS="tracing",eq=a.memo(e=>{let{type:t,readOnly:i,isChosen:r,config:l,onChoose:c,hasConfigured:d,onConfig:u}=e,{t:p}=(0,o.useTranslation)(),f={[eu.arize]:x,[eu.phoenix]:U,[eu.langSmith]:q,[eu.langfuse]:k,[eu.opik]:P,[eu.weave]:J,[eu.aliyun]:h,[eu.mlflow]:E,[eu.databricks]:b,[eu.tencent]:Z}[t],m=(0,a.useCallback)(e=>{e.stopPropagation(),u()},[u]),g=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let t=l?.project_url;t&&window.open(t,"_blank","noopener,noreferrer")},[l?.project_url]),v=(0,a.useCallback)(e=>{e.stopPropagation(),r||!d||i||c()},[d,r,c,i]);return(0,n.jsxs)("div",{className:(0,es.cn)("rounded-xl border-[1.5px] bg-background-section-burn px-4 py-3",r?"border-components-option-card-option-selected-border bg-background-section":"border-transparent",!r&&d&&!i&&"cursor-pointer"),onClick:v,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between space-x-1",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(f,{className:"h-6"}),r&&(0,n.jsx)("div",{className:"system-2xs-medium-uppercase ml-1 flex h-4 items-center rounded-[4px] border border-text-accent-secondary px-1 text-text-accent-secondary",children:p(`${eS}.inUse`,{ns:"app"})})]}),!i&&(0,n.jsxs)("div",{className:"flex items-center justify-between space-x-1",children:[d&&(0,n.jsxs)("div",{className:"flex h-6 cursor-pointer items-center space-x-1 rounded-md border-[0.5px] border-components-button-secondary-border bg-components-button-secondary-bg px-2 text-text-secondary shadow-xs",onClick:g,children:[(0,n.jsx)(eT.default,{className:"h-3 w-3"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:p(`${eS}.view`,{ns:"app"})})]}),(0,n.jsxs)("div",{className:"flex h-6 cursor-pointer items-center space-x-1 rounded-md border-[0.5px] border-components-button-secondary-border bg-components-button-secondary-bg px-2 text-text-secondary shadow-xs",onClick:m,children:[(0,n.jsx)(s.RiEqualizer2Line,{className:"h-3 w-3"}),(0,n.jsx)("div",{className:"text-xs font-medium",children:p(`${eS}.config`,{ns:"app"})})]})]})]}),(0,n.jsx)("div",{className:"system-xs-regular mt-2 text-text-tertiary",children:p(`${eS}.${t}.description`,{ns:"app"})})]})}),eO={lg:"w-9 h-9 p-2 rounded-[10px]",md:"w-6 h-6 p-1 rounded-lg"},e$=a.memo(e=>{let{className:t,size:s}=e,i=eO[s];return(0,n.jsx)("div",{className:(0,es.cn)(t,i,"bg-primary-500 shadow-md"),children:(0,n.jsx)(W,{className:"h-full w-full"})})}),eI="tracing",eE=a.memo(e=>{let t,s,{appId:r,readOnly:c,enabled:d,onStatusChange:u,chosenProvider:p,onChooseProvider:h,arizeConfig:f,phoenixConfig:m,langSmithConfig:g,langFuseConfig:x,opikConfig:v,weaveConfig:y,aliyunConfig:w,mlflowConfig:b,databricksConfig:j,tencentConfig:N,onConfigUpdated:C,onConfigRemoved:k}=e,{t:_}=(0,o.useTranslation)(),[T,S]=(0,a.useState)(eu.langfuse),[q,{setTrue:O,setFalse:$}]=(0,i.useBoolean)(!1),I=(0,a.useCallback)(e=>()=>{S(e),O()},[O]),E=(0,a.useCallback)(e=>()=>{h(e)},[h]),M=(0,a.useCallback)(e=>{C(T,e),$()},[T,$,C]),A=(0,a.useCallback)(()=>{k(T),$()},[T,$,k]),R=f&&m&&g&&x&&v&&y&&w&&b&&j&&N,P=!f&&!m&&!g&&!x&&!v&&!y&&!w&&!b&&!j&&!N,D=(0,n.jsx)(er.default,{className:"ml-3",defaultValue:d,onChange:u,disabled:P}),F=(0,n.jsx)(eq,{type:eu.arize,readOnly:c,config:f,hasConfigured:!!f,onConfig:I(eu.arize),isChosen:p===eu.arize,onChoose:E(eu.arize)},"arize-provider-panel"),L=(0,n.jsx)(eq,{type:eu.phoenix,readOnly:c,config:m,hasConfigured:!!m,onConfig:I(eu.phoenix),isChosen:p===eu.phoenix,onChoose:E(eu.phoenix)},"phoenix-provider-panel"),U=(0,n.jsx)(eq,{type:eu.langSmith,readOnly:c,config:g,hasConfigured:!!g,onConfig:I(eu.langSmith),isChosen:p===eu.langSmith,onChoose:E(eu.langSmith)},"langSmith-provider-panel"),z=(0,n.jsx)(eq,{type:eu.langfuse,readOnly:c,config:x,hasConfigured:!!x,onConfig:I(eu.langfuse),isChosen:p===eu.langfuse,onChoose:E(eu.langfuse)},"langfuse-provider-panel"),K=(0,n.jsx)(eq,{type:eu.opik,readOnly:c,config:v,hasConfigured:!!v,onConfig:I(eu.opik),isChosen:p===eu.opik,onChoose:E(eu.opik)},"opik-provider-panel"),B=(0,n.jsx)(eq,{type:eu.weave,readOnly:c,config:y,hasConfigured:!!y,onConfig:I(eu.weave),isChosen:p===eu.weave,onChoose:E(eu.weave)},"weave-provider-panel"),Z=(0,n.jsx)(eq,{type:eu.aliyun,readOnly:c,config:w,hasConfigured:!!w,onConfig:I(eu.aliyun),isChosen:p===eu.aliyun,onChoose:E(eu.aliyun)},"aliyun-provider-panel"),H=(0,n.jsx)(eq,{type:eu.mlflow,readOnly:c,config:b,hasConfigured:!!b,onConfig:I(eu.mlflow),isChosen:p===eu.mlflow,onChoose:E(eu.mlflow)},"mlflow-provider-panel"),W=(0,n.jsx)(eq,{type:eu.databricks,readOnly:c,config:j,hasConfigured:!!j,onConfig:I(eu.databricks),isChosen:p===eu.databricks,onChoose:E(eu.databricks)},"databricks-provider-panel"),V=(0,n.jsx)(eq,{type:eu.tencent,readOnly:c,config:N,hasConfigured:!!N,onConfig:I(eu.tencent),isChosen:p===eu.tencent,onChoose:E(eu.tencent)},"tencent-provider-panel");return(0,n.jsxs)("div",{className:"w-[420px] rounded-2xl border-[0.5px] border-components-panel-border bg-components-panel-bg p-4 shadow-xl",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(e$,{size:"md",className:"mr-2"}),(0,n.jsx)("div",{className:"title-2xl-semi-bold text-text-primary",children:_(`${eI}.tracing`,{ns:"app"})})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(ee.default,{color:d?"green":"gray"}),(0,n.jsx)("div",{className:(0,es.cn)("system-xs-semibold-uppercase ml-1 text-text-tertiary",d&&"text-util-colors-green-green-600"),children:_(`${eI}.${d?"enabled":"disabled"}`,{ns:"app"})}),!c&&(0,n.jsx)(n.Fragment,{children:P?(0,n.jsx)(ea.default,{popupContent:_(`${eI}.disabledTip`,{ns:"app"}),children:D}):D})]})]}),(0,n.jsx)("div",{className:"system-xs-regular mt-2 text-text-tertiary",children:_(`${eI}.tracingDescription`,{ns:"app"})}),(0,n.jsx)(l.default,{className:"my-3"}),(0,n.jsx)("div",{className:"relative",children:R||P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"system-xs-medium-uppercase text-text-tertiary",children:_(`${eI}.configProviderTitle.${R?"configured":"notConfigured"}`,{ns:"app"})}),(0,n.jsxs)("div",{className:"mt-2 max-h-96 space-y-2 overflow-y-auto",children:[z,U,K,H,W,B,F,L,Z,V]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"system-xs-medium-uppercase text-text-tertiary",children:_(`${eI}.configProviderTitle.configured`,{ns:"app"})}),(0,n.jsx)("div",{className:"mt-2 max-h-40 space-y-2 overflow-y-auto",children:(t=[],x&&t.push(z),g&&t.push(U),v&&t.push(K),y&&t.push(B),f&&t.push(F),m&&t.push(L),w&&t.push(Z),b&&t.push(H),j&&t.push(W),N&&t.push(V),t)}),(0,n.jsx)("div",{className:"system-xs-medium-uppercase mt-3 text-text-tertiary",children:_(`${eI}.configProviderTitle.moreProvider`,{ns:"app"})}),(0,n.jsx)("div",{className:"mt-2 max-h-40 space-y-2 overflow-y-auto",children:(s=[],f||s.push(F),m||s.push(L),x||s.push(z),g||s.push(U),v||s.push(K),y||s.push(B),w||s.push(Z),b||s.push(H),j||s.push(W),N||s.push(V),s)})]})}),q&&(0,n.jsx)(e_,{appId:r,type:T,payload:T===eu.mlflow?b:T===eu.databricks?j:T===eu.arize?f:T===eu.phoenix?m:T===eu.langSmith?g:T===eu.langfuse?x:T===eu.opik?v:T===eu.aliyun?w:T===eu.tencent?N:y,onCancel:$,onSaved:M,onChosen:h,onRemoved:A})]})}),eM=a.memo(e=>{let{className:t,hasConfigured:s,children:i,...r}=e,[o,l]=(0,a.useState)(!1),c=(0,a.useRef)(o),d=(0,a.useCallback)(e=>{l(e),c.current=e},[l]),u=(0,a.useCallback)(()=>{d(!c.current)},[d]);return r.readOnly&&!s?null:(0,n.jsxs)(ei.PortalToFollowElem,{open:o,onOpenChange:d,placement:"bottom-end",offset:12,children:[(0,n.jsx)(ei.PortalToFollowElemTrigger,{onClick:u,children:(0,n.jsx)("div",{className:(0,es.cn)("select-none",t),children:i})}),(0,n.jsx)(ei.PortalToFollowElemContent,{className:"z-[11]",children:(0,n.jsx)(eE,{...r})})]})}),eA="tracing",eR=a.memo(()=>{let{t:e}=(0,o.useTranslation)(),t=(0,r.usePathname)(),c=/\/app\/([^/]+)/.exec(t),d=c?.length&&c[1]?c[1]:"",{isCurrentWorkspaceEditor:p}=(0,et.useAppContext)(),h=!p,[f,{setTrue:g}]=(0,i.useBoolean)(!1),[x,v]=(0,a.useState)(null),w=x?.enabled||!1,b=async(t,n)=>{await (0,en.updateTracingStatus)({appId:d,body:t}),v(t),n||X.default.notify({type:"success",message:e("api.success",{ns:"common"})})},j=e=>{b({tracing_provider:x?.tracing_provider||null,enabled:e})},C=e=>{b({tracing_provider:e,enabled:!0})},k=x?.tracing_provider||null,_={[eu.arize]:m,[eu.phoenix]:F,[eu.langSmith]:T,[eu.langfuse]:N,[eu.opik]:A,[eu.weave]:Y,[eu.aliyun]:u,[eu.mlflow]:$,[eu.databricks]:y,[eu.tencent]:K},S=k?_[k]:void 0,[q,O]=(0,a.useState)(null),[I,E]=(0,a.useState)(null),[M,R]=(0,a.useState)(null),[P,D]=(0,a.useState)(null),[L,U]=(0,a.useState)(null),[z,B]=(0,a.useState)(null),[Z,H]=(0,a.useState)(null),[W,V]=(0,a.useState)(null),[G,J]=(0,a.useState)(null),[ei,er]=(0,a.useState)(null),ea=!!(M||P||L||z||q||I||Z||W||G||ei),eo=async()=>{let e=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.phoenix});t||E(e)},t=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.langSmith});t||R(e)},n=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.langfuse});t||D(e)},s=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.opik});t||U(e)},i=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.weave});t||B(e)},r=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.aliyun});t||H(e)},a=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.mlflow});t||V(e)},o=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.databricks});t||J(e)},l=async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.tencent});t||er(e)};Promise.all([(async()=>{let{tracing_config:e,has_not_configured:t}=await (0,en.fetchTracingConfig)({appId:d,provider:eu.arize});t||O(e)})(),e(),t(),n(),s(),i(),r(),a(),o(),l()])},el=async e=>{let{tracing_config:t}=await (0,en.fetchTracingConfig)({appId:d,provider:e});e===eu.arize?O(t):e===eu.phoenix?E(t):e===eu.langSmith?R(t):e===eu.langfuse?D(t):e===eu.opik?U(t):e===eu.weave?B(t):e===eu.aliyun?H(t):e===eu.tencent&&er(t)},ec=e=>{e===eu.arize?O(null):e===eu.phoenix?E(null):e===eu.langSmith?R(null):e===eu.langfuse?D(null):e===eu.opik?U(null):e===eu.weave?B(null):e===eu.aliyun?H(null):e===eu.mlflow?V(null):e===eu.databricks?J(null):e===eu.tencent&&er(null),e===k&&b({enabled:!1,tracing_provider:null},!0)};return((0,a.useEffect)(()=>{(async()=>{v(await (0,en.fetchTracingStatus)({appId:d})),await eo(),g()})()},[]),f)?(0,n.jsxs)("div",{className:(0,es.cn)("flex items-center justify-between"),children:[!k&&(0,n.jsx)(eM,{appId:d,readOnly:h,hasConfigured:!1,enabled:w,onStatusChange:j,chosenProvider:k,onChooseProvider:C,arizeConfig:q,phoenixConfig:I,langSmithConfig:M,langFuseConfig:P,opikConfig:L,weaveConfig:z,aliyunConfig:Z,mlflowConfig:W,databricksConfig:G,tencentConfig:ei,onConfigUpdated:el,onConfigRemoved:ec,children:(0,n.jsxs)("div",{className:(0,es.cn)("flex cursor-pointer select-none items-center rounded-xl border-l-[0.5px] border-t border-effects-highlight bg-background-default-dodge p-2 shadow-xs hover:border-effects-highlight-lightmode-off hover:bg-background-default-lighter"),children:[(0,n.jsx)(e$,{size:"md"}),(0,n.jsx)("div",{className:"system-sm-semibold mx-2 text-text-secondary",children:e(`${eA}.title`,{ns:"app"})}),(0,n.jsx)("div",{className:"rounded-md p-1",children:(0,n.jsx)(s.RiEqualizer2Line,{className:"h-4 w-4 text-text-tertiary"})}),(0,n.jsx)(l.default,{type:"vertical",className:"h-3.5"}),(0,n.jsx)("div",{className:"rounded-md p-1",children:(0,n.jsx)(s.RiArrowDownDoubleLine,{className:"h-4 w-4 text-text-tertiary"})})]})}),ea&&(0,n.jsx)(eM,{appId:d,readOnly:h,hasConfigured:!0,enabled:w,onStatusChange:j,chosenProvider:k,onChooseProvider:C,arizeConfig:q,phoenixConfig:I,langSmithConfig:M,langFuseConfig:P,opikConfig:L,weaveConfig:z,aliyunConfig:Z,mlflowConfig:W,databricksConfig:G,tencentConfig:ei,onConfigUpdated:el,onConfigRemoved:ec,children:(0,n.jsxs)("div",{className:(0,es.cn)("flex cursor-pointer select-none items-center rounded-xl border-l-[0.5px] border-t border-effects-highlight bg-background-default-dodge p-2 shadow-xs hover:border-effects-highlight-lightmode-off hover:bg-background-default-lighter"),children:[(0,n.jsxs)("div",{className:"ml-4 mr-1 flex items-center",children:[(0,n.jsx)(ee.default,{color:w?"green":"gray"}),(0,n.jsx)("div",{className:"system-xs-semibold-uppercase ml-1.5 text-text-tertiary",children:e(`${eA}.${w?"enabled":"disabled"}`,{ns:"app"})})]}),S&&(0,n.jsx)(S,{className:"ml-1 h-4"}),(0,n.jsx)("div",{className:"ml-2 rounded-md p-1",children:(0,n.jsx)(s.RiEqualizer2Line,{className:"h-4 w-4 text-text-tertiary"})}),(0,n.jsx)(l.default,{type:"vertical",className:"h-3.5"})]})})]}):(0,n.jsx)("div",{className:"mb-3 flex items-center justify-between",children:(0,n.jsx)("div",{className:"w-[200px]",children:(0,n.jsx)(Q.default,{})})})});e.s(["default",0,eR],545733)}]);