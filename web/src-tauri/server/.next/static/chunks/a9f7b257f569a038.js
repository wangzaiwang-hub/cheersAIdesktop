(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,653356,e=>{"use strict";var t=e.i(268255);let n=t.forwardRef(function(e,n){let{title:a,titleId:o,...i}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},i),a?t.createElement("title",{id:o},a):null,t.createElement("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"}))});e.s(["XMarkIcon",0,n],653356)},789604,882568,702941,516457,e=>{"use strict";let t,n,a,o;var i=e.i(182370),s=e.i(725968),l=e.i(268255),r=e.i(688393),u=e.i(876581);function c(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return(0,l.useCallback)((t,n)=>"string"==typeof e?(null==t?void 0:t[e])===(null==n?void 0:n[e]):e(t,n),[e])}e.s(["useByComparator",()=>d],882568);var p=e.i(614653),m=e.i(125234),f=e.i(97986),v=e.i(969350),x=e.i(589393),b=e.i(71216),h=e.i(741064),g=e.i(782165),y=e.i(518836),S=e.i(775885),E=e.i(122783),O=e.i(944296),C=e.i(777009),w=e.i(135477),R=e.i(329512),j=e.i(720048),I=e.i(326898),N=e.i(988851),k=e.i(602652),L=e.i(939895),D=e.i(274406);function P(e){let{children:t,freeze:n}=e,a=_(n,t);return l.default.createElement(l.default.Fragment,null,a)}function _(e,t){let[n,a]=(0,l.useState)(t);return e||n===t||a(t),e?n:t}e.s(["Frozen",()=>P,"useFrozenData",()=>_],702941);var T=e.i(344554),F=e.i(268850),M=e.i(294662),A=e.i(162023),B=e.i(708684),K=e.i(455028),V=e.i(330620),z=e.i(652038),H=e.i(875880),U=e.i(858023),$=e.i(869873),q=e.i(198136),Q=e.i(90158),W=e.i(642330),G=((t=G||{})[t.Open=0]="Open",t[t.Closed=1]="Closed",t),Z=((n=Z||{})[n.Single=0]="Single",n[n.Multi=1]="Multi",n),X=((a=X||{})[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a),J=((o=J||{})[o.OpenListbox=0]="OpenListbox",o[o.CloseListbox=1]="CloseListbox",o[o.GoToOption=2]="GoToOption",o[o.Search=3]="Search",o[o.ClearSearch=4]="ClearSearch",o[o.RegisterOption=5]="RegisterOption",o[o.UnregisterOption=6]="UnregisterOption",o[o.SetButtonElement=7]="SetButtonElement",o[o.SetOptionsElement=8]="SetOptionsElement",o);function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,a=(0,K.sortByDomNode)(t(e.options.slice()),e=>e.dataRef.current.domRef.current),o=n?a.indexOf(n):null;return -1===o&&(o=null),{options:a,activeOptionIndex:o}}let ee={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,a=e.options.findIndex(e=>n(e.dataRef.current.value));return -1!==a&&(t=a),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,a,o,i,s;if(e.dataRef.current.disabled||1===e.listboxState)return e;let l={...e,searchQuery:"",activationTrigger:null!=(n=t.trigger)?n:1,__demoMode:!1};if(t.focus===A.Focus.Nothing)return{...l,activeOptionIndex:null};if(t.focus===A.Focus.Specific)return{...l,activeOptionIndex:e.options.findIndex(e=>e.id===t.id)};if(t.focus===A.Focus.Previous){let n=e.activeOptionIndex;if(null!==n){let i=e.options[n].dataRef.current.domRef,s=(0,A.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==s){let t=e.options[s].dataRef.current.domRef;if((null==(a=i.current)?void 0:a.previousElementSibling)===t.current||(null==(o=t.current)?void 0:o.previousElementSibling)===null)return{...l,activeOptionIndex:s}}}}else if(t.focus===A.Focus.Next){let n=e.activeOptionIndex;if(null!==n){let a=e.options[n].dataRef.current.domRef,o=(0,A.calculateActiveIndex)(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==o){let t=e.options[o].dataRef.current.domRef;if((null==(i=a.current)?void 0:i.nextElementSibling)===t.current||(null==(s=t.current)?void 0:s.nextElementSibling)===null)return{...l,activeOptionIndex:o}}}}let r=Y(e),u=(0,A.calculateActiveIndex)(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...l,...r,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=+(""===e.searchQuery),a=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(a))}),i=o?e.options.indexOf(o):-1;return -1===i||i===e.activeOptionIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeOptionIndex:i,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},a=Y(e,e=>[...e,n]);return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(n)),{...e,...a}},6:(e,t)=>{let n=Y(e,e=>{let n=e.findIndex(e=>e.id===t.id);return -1!==n&&e.splice(n,1),e});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},et=(0,l.createContext)(null);function en(e){let t=(0,l.useContext)(et);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,en),t}return t}et.displayName="ListboxActionsContext";let ea=(0,l.createContext)(null);function eo(e){let t=(0,l.useContext)(ea);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,eo),t}return t}function ei(e,t){return(0,z.match)(t.type,ee,e,t)}ea.displayName="ListboxDataContext";let es=l.Fragment,el=(0,l.createContext)(!1),er=U.RenderFeatures.RenderStrategy|U.RenderFeatures.Static,eu=l.Fragment,ec=(0,U.forwardRefWithAs)(function(e,t){var n;let a=(0,k.useDisabled)(),{value:o,defaultValue:i,form:s,name:r,onChange:u,by:c,invalid:f=!1,disabled:x=a||!1,horizontal:h=!1,multiple:y=!1,__demoMode:S=!1,...O}=e,C=h?"horizontal":"vertical",w=(0,R.useSyncRefs)(t),j=(0,m.useDefaultValue)(i),[I=y?[]:void 0,N]=(0,p.useControllable)(o,u,j),[P,_]=(0,l.useReducer)(ei,{dataRef:(0,l.createRef)(),listboxState:+!S,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:S}),T=(0,l.useRef)({static:!1,hold:!1}),M=(0,l.useRef)(new Map),B=d(c),V=(0,l.useCallback)(e=>(0,z.match)(H.mode,{1:()=>I.some(t=>B(t,e)),0:()=>B(I,e)}),[I]),H=(0,l.useMemo)(()=>({...P,value:I,disabled:x,invalid:f,mode:+!!y,orientation:C,compare:B,isSelected:V,optionsPropsRef:T,listRef:M}),[I,x,f,y,P,M]);(0,g.useIsoMorphicEffect)(()=>{P.dataRef.current=H},[H]);let $=0===H.listboxState;(0,E.useOutsideClick)($,[H.buttonElement,H.optionsElement],(e,t)=>{var n;_({type:1}),(0,K.isFocusableElement)(t,K.FocusableMode.Loose)||(e.preventDefault(),null==(n=H.buttonElement)||n.focus())});let q=(0,l.useMemo)(()=>({open:0===H.listboxState,disabled:x,invalid:f,value:I}),[H,x,I,f]),W=(0,b.useEvent)(e=>{let t=H.options.find(t=>t.id===e);t&&en(t.dataRef.current.value)}),G=(0,b.useEvent)(()=>{if(null!==H.activeOptionIndex){let{dataRef:e,id:t}=H.options[H.activeOptionIndex];en(e.current.value),_({type:2,focus:A.Focus.Specific,id:t})}}),Z=(0,b.useEvent)(()=>_({type:0})),X=(0,b.useEvent)(()=>_({type:1})),J=(0,v.useDisposables)(),Y=(0,b.useEvent)((e,t,n)=>{J.dispose(),J.microTask(()=>e===A.Focus.Specific?_({type:2,focus:A.Focus.Specific,id:t,trigger:n}):_({type:2,focus:e,trigger:n}))}),ee=(0,b.useEvent)((e,t)=>(_({type:5,id:e,dataRef:t}),()=>_({type:6,id:e}))),en=(0,b.useEvent)(e=>(0,z.match)(H.mode,{0:()=>null==N?void 0:N(e),1(){let t=H.value.slice(),n=t.findIndex(t=>B(t,e));return -1===n?t.push(e):t.splice(n,1),null==N?void 0:N(t)}})),eo=(0,b.useEvent)(e=>_({type:3,value:e})),el=(0,b.useEvent)(()=>_({type:4})),er=(0,b.useEvent)(e=>{_({type:7,element:e})}),eu=(0,b.useEvent)(e=>{_({type:8,element:e})}),ec=(0,l.useMemo)(()=>({onChange:en,registerOption:ee,goToOption:Y,closeListbox:X,openListbox:Z,selectActiveOption:G,selectOption:W,search:eo,clearSearch:el,setButtonElement:er,setOptionsElement:eu}),[]),[ed,ep]=(0,Q.useLabels)({inherit:!0}),em=(0,l.useCallback)(()=>{if(void 0!==j)return null==N?void 0:N(j)},[N,j]),ef=(0,U.useRender)();return l.default.createElement(ep,{value:ed,props:{htmlFor:null==(n=H.buttonElement)?void 0:n.id},slot:{open:0===H.listboxState,disabled:x}},l.default.createElement(L.FloatingProvider,null,l.default.createElement(et.Provider,{value:ec},l.default.createElement(ea.Provider,{value:H},l.default.createElement(F.OpenClosedProvider,{value:(0,z.match)(H.listboxState,{0:F.State.Open,1:F.State.Closed})},null!=r&&null!=I&&l.default.createElement(D.FormFields,{disabled:x,data:{[r]:I},form:s,onReset:em}),ef({ourProps:{ref:w},theirProps:O,slot:q,defaultTag:es,name:"Listbox"}))))))}),ed=(0,U.forwardRefWithAs)(function(e,t){var n;let a=eo("Listbox.Button"),o=en("Listbox.Button"),c=(0,l.useId)(),d=(0,T.useProvidedId)(),{id:p=d||`headlessui-listbox-button-${c}`,disabled:m=a.disabled||!1,autoFocus:f=!1,...v}=e,x=(0,R.useSyncRefs)(t,(0,L.useFloatingReference)(),o.setButtonElement),h=(0,L.useFloatingReferenceProps)(),g=(0,b.useEvent)(e=>{switch(e.key){case q.Keys.Enter:(0,V.attemptSubmit)(e.currentTarget);break;case q.Keys.Space:case q.Keys.ArrowDown:e.preventDefault(),(0,r.flushSync)(()=>o.openListbox()),a.value||o.goToOption(A.Focus.First);break;case q.Keys.ArrowUp:e.preventDefault(),(0,r.flushSync)(()=>o.openListbox()),a.value||o.goToOption(A.Focus.Last)}}),y=(0,b.useEvent)(e=>{e.key===q.Keys.Space&&e.preventDefault()}),S=(0,b.useEvent)(e=>{var t;if((0,M.isDisabledReactIssue7711)(e.currentTarget))return e.preventDefault();0===a.listboxState?((0,r.flushSync)(()=>o.closeListbox()),null==(t=a.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),o.openListbox())}),E=(0,b.useEvent)(e=>e.preventDefault()),O=(0,Q.useLabelledBy)([p]),w=(0,$.useDescribedBy)(),{isFocusVisible:j,focusProps:I}=(0,i.useFocusRing)({autoFocus:f}),{isHovered:N,hoverProps:k}=(0,s.useHover)({isDisabled:m}),{pressed:D,pressProps:P}=(0,u.useActivePress)({disabled:m}),_=(0,l.useMemo)(()=>({open:0===a.listboxState,active:D||0===a.listboxState,disabled:m,invalid:a.invalid,value:a.value,hover:N,focus:j,autofocus:f}),[a.listboxState,a.value,m,N,j,D,a.invalid,f]),F=(0,U.mergeProps)(h(),{ref:x,id:p,type:(0,C.useResolveButtonType)(e,a.buttonElement),"aria-haspopup":"listbox","aria-controls":null==(n=a.optionsElement)?void 0:n.id,"aria-expanded":0===a.listboxState,"aria-labelledby":O,"aria-describedby":w,disabled:m||void 0,autoFocus:f,onKeyDown:g,onKeyUp:y,onKeyPress:E,onClick:S},I,k,P);return(0,U.useRender)()({ourProps:F,theirProps:v,slot:_,defaultTag:"button",name:"Listbox.Button"})}),ep=Q.Label,em=(0,U.forwardRefWithAs)(function(e,t){var n,a;let o=(0,l.useId)(),{id:i=`headlessui-listbox-options-${o}`,anchor:s,portal:u=!1,modal:c=!0,transition:d=!1,...p}=e,m=(0,L.useResolvedAnchor)(s),[g,y]=(0,l.useState)(null);m&&(u=!0);let E=eo("Listbox.Options"),C=en("Listbox.Options"),j=(0,O.useOwnerDocument)(E.buttonElement),I=(0,O.useOwnerDocument)(E.optionsElement),k=(0,F.useOpenClosed)(),[D,P]=(0,N.useTransition)(d,g,null!==k?(k&F.State.Open)===F.State.Open:0===E.listboxState);(0,S.useOnDisappear)(D,E.buttonElement,C.closeListbox);let T=!E.__demoMode&&c&&0===E.listboxState;(0,w.useScrollLock)(T,I);let M=!E.__demoMode&&c&&0===E.listboxState;(0,h.useInertOthers)(M,{allowed:(0,l.useCallback)(()=>[E.buttonElement,E.optionsElement],[E.buttonElement,E.optionsElement])});let B=0!==E.listboxState,V=!(0,f.useDidElementMove)(B,E.buttonElement)&&D,$=_(D&&1===E.listboxState,E.value),Q=(0,b.useEvent)(e=>E.compare($,e)),G=(0,l.useMemo)(()=>{var e;if(null==m||!(null!=(e=null==m?void 0:m.to)&&e.includes("selection")))return null;let t=E.options.findIndex(e=>Q(e.dataRef.current.value));return -1===t&&(t=0),t},[m,E.options]),Z=(()=>{if(null==m)return;if(null===G)return{...m,inner:void 0};let e=Array.from(E.listRef.current.values());return{...m,inner:{listRef:{current:e},index:G}}})(),[X,J]=(0,L.useFloatingPanel)(Z),Y=(0,L.useFloatingPanelProps)(),ee=(0,R.useSyncRefs)(t,m?X:null,C.setOptionsElement,y),et=(0,v.useDisposables)();(0,l.useEffect)(()=>{var e;let t=E.optionsElement;t&&0===E.listboxState&&t!==(null==(e=(0,H.getOwnerDocument)(t))?void 0:e.activeElement)&&(null==t||t.focus({preventScroll:!0}))},[E.listboxState,E.optionsElement]);let ei=(0,b.useEvent)(e=>{var t,n;switch(et.dispose(),e.key){case q.Keys.Space:if(""!==E.searchQuery)return e.preventDefault(),e.stopPropagation(),C.search(e.key);case q.Keys.Enter:if(e.preventDefault(),e.stopPropagation(),null!==E.activeOptionIndex){let{dataRef:e}=E.options[E.activeOptionIndex];C.onChange(e.current.value)}0===E.mode&&((0,r.flushSync)(()=>C.closeListbox()),null==(t=E.buttonElement)||t.focus({preventScroll:!0}));break;case(0,z.match)(E.orientation,{vertical:q.Keys.ArrowDown,horizontal:q.Keys.ArrowRight}):return e.preventDefault(),e.stopPropagation(),C.goToOption(A.Focus.Next);case(0,z.match)(E.orientation,{vertical:q.Keys.ArrowUp,horizontal:q.Keys.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),C.goToOption(A.Focus.Previous);case q.Keys.Home:case q.Keys.PageUp:return e.preventDefault(),e.stopPropagation(),C.goToOption(A.Focus.First);case q.Keys.End:case q.Keys.PageDown:return e.preventDefault(),e.stopPropagation(),C.goToOption(A.Focus.Last);case q.Keys.Escape:e.preventDefault(),e.stopPropagation(),(0,r.flushSync)(()=>C.closeListbox()),null==(n=E.buttonElement)||n.focus({preventScroll:!0});return;case q.Keys.Tab:e.preventDefault(),e.stopPropagation(),(0,r.flushSync)(()=>C.closeListbox()),(0,K.focusFrom)(E.buttonElement,e.shiftKey?K.Focus.Previous:K.Focus.Next);break;default:1===e.key.length&&(C.search(e.key),et.setTimeout(()=>C.clearSearch(),350))}}),es=null==(n=E.buttonElement)?void 0:n.id,el=(0,l.useMemo)(()=>({open:0===E.listboxState}),[E.listboxState]),eu=(0,U.mergeProps)(m?Y():{},{id:i,ref:ee,"aria-activedescendant":null===E.activeOptionIndex||null==(a=E.options[E.activeOptionIndex])?void 0:a.id,"aria-multiselectable":1===E.mode||void 0,"aria-labelledby":es,"aria-orientation":E.orientation,onKeyDown:ei,role:"listbox",tabIndex:0===E.listboxState?0:void 0,style:{...p.style,...J,"--button-width":(0,x.useElementSize)(E.buttonElement,!0).width},...(0,N.transitionDataAttributes)(P)}),ec=(0,U.useRender)();return l.default.createElement(W.Portal,{enabled:!!u&&(e.static||D),ownerDocument:j},l.default.createElement(ea.Provider,{value:1===E.mode?E:{...E,isSelected:Q}},ec({ourProps:eu,theirProps:p,slot:el,defaultTag:"div",features:er,visible:V,name:"Listbox.Options"})))}),ef=(0,U.forwardRefWithAs)(function(e,t){let n=(0,l.useId)(),{id:a=`headlessui-listbox-option-${n}`,disabled:o=!1,value:i,...s}=e,u=!0===(0,l.useContext)(el),c=eo("Listbox.Option"),d=en("Listbox.Option"),p=null!==c.activeOptionIndex&&c.options[c.activeOptionIndex].id===a,m=c.isSelected(i),f=(0,l.useRef)(null),v=(0,j.useTextValue)(f),x=(0,y.useLatestValue)({disabled:o,value:i,domRef:f,get textValue(){return v()}}),h=(0,R.useSyncRefs)(t,f,e=>{e?c.listRef.current.set(a,e):c.listRef.current.delete(a)});(0,g.useIsoMorphicEffect)(()=>{if(!c.__demoMode&&0===c.listboxState&&p&&0!==c.activationTrigger)return(0,B.disposables)().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=f.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[f,p,c.__demoMode,c.listboxState,c.activationTrigger,c.activeOptionIndex]),(0,g.useIsoMorphicEffect)(()=>{if(!u)return d.registerOption(a,x)},[x,a,u]);let S=(0,b.useEvent)(e=>{var t;if(o)return e.preventDefault();d.onChange(i),0===c.mode&&((0,r.flushSync)(()=>d.closeListbox()),null==(t=c.buttonElement)||t.focus({preventScroll:!0}))}),E=(0,b.useEvent)(()=>{if(o)return d.goToOption(A.Focus.Nothing);d.goToOption(A.Focus.Specific,a)}),O=(0,I.useTrackedPointer)(),C=(0,b.useEvent)(e=>{O.update(e),!o&&(p||d.goToOption(A.Focus.Specific,a,0))}),w=(0,b.useEvent)(e=>{O.wasMoved(e)&&(o||p||d.goToOption(A.Focus.Specific,a,0))}),N=(0,b.useEvent)(e=>{O.wasMoved(e)&&(o||p&&d.goToOption(A.Focus.Nothing))}),k=(0,l.useMemo)(()=>({active:p,focus:p,selected:m,disabled:o,selectedOption:m&&u}),[p,m,o,u]),L=u?{}:{id:a,ref:h,role:"option",tabIndex:!0===o?void 0:-1,"aria-disabled":!0===o||void 0,"aria-selected":m,disabled:void 0,onClick:S,onFocus:E,onPointerEnter:C,onMouseEnter:C,onPointerMove:w,onMouseMove:w,onPointerLeave:N,onMouseLeave:N},D=(0,U.useRender)();return!m&&u?null:D({ourProps:L,theirProps:s,slot:k,defaultTag:"div",name:"Listbox.Option"})}),ev=Object.assign(ec,{Button:ed,Label:ep,Options:em,Option:ef,SelectedOption:(0,U.forwardRefWithAs)(function(e,t){let{options:n,placeholder:a,...o}=e,i={ref:(0,R.useSyncRefs)(t)},s=eo("ListboxSelectedOption"),r=(0,l.useMemo)(()=>({}),[]),u=void 0===s.value||null===s.value||1===s.mode&&Array.isArray(s.value)&&0===s.value.length,c=(0,U.useRender)();return l.default.createElement(el.Provider,{value:!0},c({ourProps:i,theirProps:{...o,children:l.default.createElement(l.default.Fragment,null,a&&u?a:n)},slot:r,defaultTag:eu,name:"ListboxSelectedOption"}))})});e.s(["Listbox",()=>ev,"ListboxButton",()=>ed,"ListboxOption",()=>ef,"ListboxOptions",()=>em],789604);let ex=l.forwardRef(function(e,t){let{title:n,titleId:a,...o}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},o),n?l.createElement("title",{id:a},n):null,l.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});e.s(["ChevronDownIcon",0,ex],516457)},410893,e=>{"use strict";var t=e.i(797181);e.s(["ArrowUpRight",()=>t.default])},561518,e=>{"use strict";var t=e.i(563199),n=e.i(124836),a=e.i(268255);e.i(152567);var o=e.i(408767),i=e.i(151094),s=e.i(757198),l=e.i(21151),r=e.i(935139),u=e.i(586482);e.s(["default",0,e=>{let{isModal:c=!0,onSelect:d,onClose:p,className:m}=e,{t:f}=(0,o.useTranslation)(),[v,x]=(0,a.useState)(""),[b,h]=(0,a.useState)(),g=(0,a.useCallback)((e,t)=>{x(e),h(t)},[x,h]);return c?(0,t.jsxs)(l.default,{onClose:n.noop,isShow:!0,closable:!1,wrapperClassName:m,className:(0,r.cn)("flex max-h-[552px] flex-col rounded-xl border-[0.5px] border-divider-subtle p-0 shadow-xl"),children:[(0,t.jsx)(u.default,{className:"pt-3",onSelect:g}),(0,t.jsx)(s.default,{className:"mb-0 mt-3"}),(0,t.jsxs)("div",{className:"flex w-full items-center justify-center gap-2 p-3",children:[(0,t.jsx)(i.default,{className:"w-full",onClick:()=>{p?.()},children:f("iconPicker.cancel",{ns:"app"})}),(0,t.jsx)(i.default,{disabled:""===v||!b,variant:"primary",className:"w-full",onClick:()=>{d?.(v,b)},children:f("iconPicker.ok",{ns:"app"})})]})]}):(0,t.jsx)(t.Fragment,{})}])},462505,e=>{e.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"g",attributes:{id:"book-open-01"},children:[{type:"element",name:"path",attributes:{id:"Fill",opacity:"0.12",d:"M1 3.1C1 2.53995 1 2.25992 1.10899 2.04601C1.20487 1.85785 1.35785 1.70487 1.54601 1.60899C1.75992 1.5 2.03995 1.5 2.6 1.5H2.8C3.9201 1.5 4.48016 1.5 4.90798 1.71799C5.28431 1.90973 5.59027 2.21569 5.78201 2.59202C6 3.01984 6 3.5799 6 4.7V10.5L5.94997 10.425C5.60265 9.90398 5.42899 9.64349 5.19955 9.45491C4.99643 9.28796 4.76238 9.1627 4.5108 9.0863C4.22663 9 3.91355 9 3.28741 9H2.6C2.03995 9 1.75992 9 1.54601 8.89101C1.35785 8.79513 1.20487 8.64215 1.10899 8.45399C1 8.24008 1 7.96005 1 7.4V3.1Z",fill:"currentColor"},children:[]},{type:"element",name:"path",attributes:{id:"Icon",d:"M6 10.5L5.94997 10.425C5.60265 9.90398 5.42899 9.64349 5.19955 9.45491C4.99643 9.28796 4.76238 9.1627 4.5108 9.0863C4.22663 9 3.91355 9 3.28741 9H2.6C2.03995 9 1.75992 9 1.54601 8.89101C1.35785 8.79513 1.20487 8.64215 1.10899 8.45399C1 8.24008 1 7.96005 1 7.4V3.1C1 2.53995 1 2.25992 1.10899 2.04601C1.20487 1.85785 1.35785 1.70487 1.54601 1.60899C1.75992 1.5 2.03995 1.5 2.6 1.5H2.8C3.9201 1.5 4.48016 1.5 4.90798 1.71799C5.28431 1.90973 5.59027 2.21569 5.78201 2.59202C6 3.01984 6 3.5799 6 4.7M6 10.5V4.7M6 10.5L6.05003 10.425C6.39735 9.90398 6.57101 9.64349 6.80045 9.45491C7.00357 9.28796 7.23762 9.1627 7.4892 9.0863C7.77337 9 8.08645 9 8.71259 9H9.4C9.96005 9 10.2401 9 10.454 8.89101C10.6422 8.79513 10.7951 8.64215 10.891 8.45399C11 8.24008 11 7.96005 11 7.4V3.1C11 2.53995 11 2.25992 10.891 2.04601C10.7951 1.85785 10.6422 1.70487 10.454 1.60899C10.2401 1.5 9.96005 1.5 9.4 1.5H9.2C8.07989 1.5 7.51984 1.5 7.09202 1.71799C6.71569 1.90973 6.40973 2.21569 6.21799 2.59202C6 3.01984 6 3.5799 6 4.7",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},children:[]}]}]},name:"BookOpen01"})},50874,258703,e=>{"use strict";var t=e.i(563199),n=e.i(807324),a=e.i(462505);let o=e=>{let{ref:o,...i}=e;return(0,t.jsx)(n.default,{...i,ref:o,data:a.default})};o.displayName="BookOpen01",e.s([],50874),e.s(["BookOpen01",0,o],258703)},740083,e=>{"use strict";var t=e.i(563199),n=e.i(299951),a=e.i(873517),o=e.i(683257);e.s(["default",0,e=>{let{forms:i,value:s,onChange:l}=e,r=(0,o.useLocale)(),u=(e,t)=>{l({...s,[e]:t})};return(0,t.jsx)(t.Fragment,{children:i.map((e,o)=>(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"flex h-9 items-center text-sm font-medium text-text-primary",children:"zh-Hans"===r?e.label["zh-Hans"]:e.label["en-US"]}),"text-input"===e.type&&(0,t.jsx)("input",{value:s?.[e.variable]||"",className:"block h-9 w-full appearance-none rounded-lg bg-components-input-bg-normal px-3 text-sm text-text-primary outline-none",placeholder:e.placeholder,onChange:t=>u(e.variable,t.target.value)}),"paragraph"===e.type&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(a.default,{className:"resize-none",value:s?.[e.variable]||"",placeholder:e.placeholder,onChange:t=>u(e.variable,t.target.value)})}),"select"===e.type&&(0,t.jsx)(n.PortalSelect,{value:s?.[e.variable],items:e.options.map(e=>({name:e.label["zh-Hans"===r?"zh-Hans":"en-US"],value:e.value})),onSelect:t=>u(e.variable,t.value),popupClassName:"w-[576px] !z-[102]"})]},o))})}])},963636,e=>{"use strict";var t=e.i(563199),n=e.i(837699),a=e.i(268255);e.i(152567);var o=e.i(408767);e.i(668763);var i=e.i(410893),s=e.i(391185),l=e.i(59375),r=e.i(296124),u=e.i(652669);e.s(["default",0,e=>{let{value:c,onChange:d}=e,{t:p}=(0,o.useTranslation)(),[m,f]=(0,a.useState)(!1),{setShowAccountSettingModal:v,setShowApiBasedExtensionModal:x}=(0,r.useModalContext)(),{data:b,refetch:h}=(0,u.useApiBasedExtensions)(),g=b?.find(e=>e.id===c);return(0,t.jsxs)(s.PortalToFollowElem,{open:m,onOpenChange:f,placement:"bottom-start",offset:4,children:[(0,t.jsx)(s.PortalToFollowElemTrigger,{onClick:()=>f(e=>!e),className:"w-full",children:g?(0,t.jsxs)("div",{className:"flex h-9 cursor-pointer items-center justify-between rounded-lg bg-components-input-bg-normal pl-3 pr-2.5",children:[(0,t.jsx)("div",{className:"text-sm text-text-primary",children:g.name}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"mr-1.5 w-[270px] truncate text-right text-xs text-text-quaternary",children:g.api_endpoint}),(0,t.jsx)(n.RiArrowDownSLine,{className:`h-4 w-4 text-text-secondary ${!m&&"opacity-60"}`})]})]}):(0,t.jsxs)("div",{className:"flex h-9 cursor-pointer items-center justify-between rounded-lg bg-components-input-bg-normal pl-3 pr-2.5 text-sm text-text-quaternary",children:[p("apiBasedExtension.selector.placeholder",{ns:"common"}),(0,t.jsx)(n.RiArrowDownSLine,{className:`h-4 w-4 text-text-secondary ${!m&&"opacity-60"}`})]})}),(0,t.jsx)(s.PortalToFollowElemContent,{className:"z-[102] w-[calc(100%-32px)] max-w-[576px]",children:(0,t.jsxs)("div",{className:"z-10 w-full rounded-lg border-[0.5px] border-components-panel-border bg-components-panel-bg shadow-lg",children:[(0,t.jsxs)("div",{className:"p-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 pb-1 pt-2",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-text-tertiary",children:p("apiBasedExtension.selector.title",{ns:"common"})}),(0,t.jsxs)("div",{className:"flex cursor-pointer items-center text-xs text-text-accent",onClick:()=>{f(!1),v({payload:l.ACCOUNT_SETTING_TAB.API_BASED_EXTENSION})},children:[p("apiBasedExtension.selector.manage",{ns:"common"}),(0,t.jsx)(i.ArrowUpRight,{className:"ml-0.5 h-3 w-3"})]})]}),(0,t.jsx)("div",{className:"max-h-[250px] overflow-y-auto",children:b?.map(e=>(0,t.jsxs)("div",{className:"w-full cursor-pointer rounded-md px-3 py-1.5 text-left hover:stroke-state-base-hover",onClick:()=>{d(e.id),f(!1)},children:[(0,t.jsx)("div",{className:"text-sm text-text-primary",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-text-tertiary",children:e.api_endpoint})]},e.id))})]}),(0,t.jsx)("div",{className:"h-px bg-divider-regular"}),(0,t.jsx)("div",{className:"p-1",children:(0,t.jsxs)("div",{className:"flex h-8 cursor-pointer items-center px-3 text-sm text-text-accent",onClick:()=>{f(!1),x({payload:{},onSaveCallback:()=>h()})},children:[(0,t.jsx)(n.RiAddLine,{className:"mr-2 h-4 w-4"}),p("operation.add",{ns:"common"})]})})]})})]})}])},93928,e=>{"use strict";var t=e.i(563199),n=e.i(124836),a=e.i(268255);e.i(152567);var o=e.i(408767),i=e.i(257899),s=e.i(151094),l=e.i(561518),r=e.i(740083);e.i(50874);var u=e.i(258703),c=e.i(21151),d=e.i(299951),p=e.i(137667),m=e.i(963636),f=e.i(683257),v=e.i(491234),x=e.i(652669);let b=["api"];e.s(["default",0,e=>{let{data:h,onCancel:g,onSave:y,onValidateBeforeSave:S}=e,{t:E}=(0,o.useTranslation)(),O=(0,f.useDocLink)(),{notify:C}=(0,p.useToastContext)(),w=(0,f.useLocale)(),[R,j]=(0,a.useState)(h.type?h:{...h,type:"api"}),[I,N]=(0,a.useState)(!1),{data:k}=(0,x.useCodeBasedExtensions)("external_data_tool"),L=[{key:"api",name:E("apiBasedExtension.selector.title",{ns:"common"})},...k?k.data.map(e=>({key:e.name,name:"zh-Hans"===w?e.label["zh-Hans"]:e.label["en-US"],form_schema:e.form_schema})):[]],D=L.find(e=>e.key===R.type),P=e=>{j({...R,...e})},_=e=>{let{type:t,config:n}=e,a={};return"api"===t&&(a.api_based_extension_id=n?.api_based_extension_id),0>b.findIndex(e=>e===t)&&D?.form_schema&&D.form_schema.forEach(e=>{a[e.variable]=n?.[e.variable]}),{...e,type:t,enabled:!h.type||h.enabled,config:{...a}}},T=h.type?E("operation.edit",{ns:"common"}):E("operation.add",{ns:"common"});return(0,t.jsxs)(c.default,{isShow:!0,onClose:n.noop,className:"!w-[640px] !max-w-none !p-8 !pb-6",children:[(0,t.jsx)("div",{className:"mb-2 text-xl font-semibold text-text-primary",children:`${T} ${E("variableConfig.apiBasedVar",{ns:"appDebug"})}`}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium leading-9 text-text-primary",children:E("apiBasedExtension.type",{ns:"common"})}),(0,t.jsx)(d.SimpleSelect,{defaultValue:R.type,items:L.map(e=>({value:e.key,name:e.name})),onSelect:e=>{var t;let n,a;return t=e.value,a=L.find(e=>e.key===t),void(0>b.findIndex(e=>e===t)&&a?.form_schema&&(n=a?.form_schema.reduce((e,t)=>(e[t.variable]=t.default,e),{})),j({...R,type:t,config:n}))}})]}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium leading-9 text-text-primary",children:E("feature.tools.modal.name.title",{ns:"appDebug"})}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{value:R.label||"",onChange:e=>P({label:e.target.value}),className:"mr-2 block h-9 grow appearance-none rounded-lg bg-components-input-bg-normal px-3 text-sm text-components-input-text-filled outline-none",placeholder:E("feature.tools.modal.name.placeholder",{ns:"appDebug"})||""}),(0,t.jsx)(i.default,{size:"large",onClick:()=>{N(!0)},className:"!h-9 !w-9 cursor-pointer rounded-lg border-[0.5px] border-components-panel-border ",icon:R.icon,background:R.icon_background})]})]}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium leading-9 text-text-primary",children:E("feature.tools.modal.variableName.title",{ns:"appDebug"})}),(0,t.jsx)("input",{value:R.variable||"",onChange:e=>P({variable:e.target.value}),className:"block h-9 w-full appearance-none rounded-lg bg-components-input-bg-normal px-3 text-sm text-components-input-text-filled outline-none",placeholder:E("feature.tools.modal.variableName.placeholder",{ns:"appDebug"})||""})]}),"api"===R.type&&(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("div",{className:"flex h-9 items-center justify-between text-sm font-medium text-text-primary",children:[E("apiBasedExtension.selector.title",{ns:"common"}),(0,t.jsxs)("a",{href:O("/use-dify/workspace/api-extension/api-extension"),target:"_blank",rel:"noopener noreferrer",className:"group flex items-center text-xs font-normal text-text-tertiary hover:text-text-accent",children:[(0,t.jsx)(u.BookOpen01,{className:"mr-1 h-3 w-3 text-text-tertiary group-hover:text-text-accent"}),E("apiBasedExtension.link",{ns:"common"})]})]}),(0,t.jsx)(m.default,{value:R.config?.api_based_extension_id||"",onChange:e=>{j({...R,config:{...R.config,api_based_extension_id:e}})}})]}),0>b.findIndex(e=>e===R.type)&&D?.form_schema&&(0,t.jsx)(r.default,{forms:D?.form_schema,value:R.config,onChange:e=>{j({...R,config:{...R.config,...e}})}}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-end",children:[(0,t.jsx)(s.default,{onClick:g,className:"mr-2",children:E("operation.cancel",{ns:"common"})}),(0,t.jsx)(s.default,{variant:"primary",onClick:()=>{if(!R.type)return void C({type:"error",message:E("errorMessage.valueOfVarRequired",{ns:"appDebug",key:E("feature.tools.modal.toolType.title",{ns:"appDebug"})})});if(!R.label)return void C({type:"error",message:E("errorMessage.valueOfVarRequired",{ns:"appDebug",key:E("feature.tools.modal.name.title",{ns:"appDebug"})})});if(!R.variable)return void C({type:"error",message:E("errorMessage.valueOfVarRequired",{ns:"appDebug",key:E("feature.tools.modal.variableName.title",{ns:"appDebug"})})});if(R.variable&&!/^[a-z_]\w{0,29}$/i.test(R.variable))return void C({type:"error",message:E("varKeyError.notValid",{ns:"appDebug",key:E("feature.tools.modal.variableName.title",{ns:"appDebug"})})});if("api"===R.type&&!R.config?.api_based_extension_id)return void C({type:"error",message:E("errorMessage.valueOfVarRequired",{ns:"appDebug",key:w!==v.LanguagesSupported[1]?"API Extension":"API 扩展"})});if(0>b.findIndex(e=>e===R.type)&&D?.form_schema){for(let e=0;e<D.form_schema.length;e++)if(!R.config?.[D.form_schema[e].variable]&&D.form_schema[e].required)return void C({type:"error",message:E("errorMessage.valueOfVarRequired",{ns:"appDebug",key:w!==v.LanguagesSupported[1]?D.form_schema[e].label["en-US"]:D.form_schema[e].label["zh-Hans"]})})}let e=_(R);(!S||S(e))&&y(_(e))},children:E("operation.save",{ns:"common"})})]}),I&&(0,t.jsx)(l.default,{onSelect:(e,t)=>{P({icon:e,icon_background:t}),N(!1)},onClose:()=>{P({icon:"",icon_background:""}),N(!1)}})]})}])},668887,e=>{e.n(e.i(93928))}]);