(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,969789,e=>{"use strict";var s=e.i(563199),l=e.i(268255);e.i(152567);var i=e.i(408767),t=e.i(325222),a=e.i(935139),d=e.i(21151),n=e.i(84366),r=e.i(942064),o=e.i(800727);let m=l.memo(e=>{let{show:l,onHide:m}=e,{t:c}=(0,i.useTranslation)();return(0,s.jsx)(d.default,{isShow:l,onClose:m,closable:!0,className:"!p-0",children:(0,s.jsx)(t.default,{wrapperClassName:"rounded-lg",canvasClassName:"rounded-lg",gradientClassName:"rounded-lg",children:(0,s.jsxs)("div",{className:"mt-6 flex cursor-pointer flex-col rounded-lg border-2 border-solid border-transparent px-7 py-6 shadow-md transition-all duration-200 ease-in-out",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:(0,a.cn)(r.default.textGradient,"text-[18px] font-semibold leading-[27px]"),children:[(0,s.jsx)("div",{children:c("annotatedResponse.fullTipLine1",{ns:"billing"})}),(0,s.jsx)("div",{children:c("annotatedResponse.fullTipLine2",{ns:"billing"})})]})}),(0,s.jsx)(o.default,{className:"mt-4"}),(0,s.jsx)("div",{className:"mt-7 flex justify-end",children:(0,s.jsx)(n.default,{loc:"annotation-create"})})]})})})});e.s(["default",0,m])},621087,e=>{e.v({disabled:"style-module__Qhtp0a__disabled",slider:"style-module__Qhtp0a__slider","slider-thumb":"style-module__Qhtp0a__slider-thumb","slider-track":"style-module__Qhtp0a__slider-track","slider-track-1":"style-module__Qhtp0a__slider-track-1"})},491939,718574,e=>{"use strict";var s,l,i=e.i(563199),t=e.i(268255);e.i(152567);var a=e.i(408767),d=e.i(151094),n=e.i(21151),r=e.i(137667),o=e.i(739255),m=e.i(225162),c=e.i(117960),u=e.i(925521),p=e.i(421001);let x=e=>{let{title:s,tooltip:l,children:t}=e;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"mb-1 flex items-center space-x-1",children:[(0,i.jsx)("div",{className:"system-sm-semibold py-1 text-text-secondary",children:s}),(0,i.jsx)(p.default,{popupContent:(0,i.jsx)("div",{className:"system-sm-regular max-w-[200px] text-text-secondary",children:l})})]}),(0,i.jsx)("div",{children:t})]})};var h=e.i(539522),v=e.i(935139),b=e.i(621087);let f=e=>{let{className:s,max:l,min:t,step:a,value:d,disabled:n,onChange:r}=e;return(0,i.jsx)(h.default,{disabled:n,value:isNaN(d)?0:d,min:t||0,max:l||100,step:a||1,className:(0,v.cn)(s,b.default.slider),thumbClassName:(0,v.cn)(b.default["slider-thumb"],"top-[-7px] h-[18px] w-2 cursor-pointer rounded-[36px] border !border-black/8 bg-white shadow-md"),trackClassName:b.default["slider-track"],onChange:r,renderThumb:(e,s)=>(0,i.jsx)("div",{...e,children:(0,i.jsx)("div",{className:"relative h-full w-full",children:(0,i.jsx)("div",{className:"system-sm-semibold absolute left-[50%] top-[-16px] translate-x-[-50%] text-text-primary",children:(s.valueNow/100).toFixed(2)})})})})},j=t.memo(e=>{let{className:s,value:l,onChange:t}=e,{t:d}=(0,a.useTranslation)();return(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)("div",{className:"mt-[14px] h-px",children:(0,i.jsx)(f,{max:100,min:80,step:1,value:l,onChange:t})}),(0,i.jsxs)("div",{className:"system-xs-semibold-uppercase mt-[10px] flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex space-x-1 text-util-colors-cyan-cyan-500",children:[(0,i.jsx)("div",{children:"0.8"}),(0,i.jsx)("div",{children:"·"}),(0,i.jsx)("div",{children:d("feature.annotation.scoreThreshold.easyMatch",{ns:"appDebug"})})]}),(0,i.jsxs)("div",{className:"flex space-x-1 text-util-colors-blue-blue-500",children:[(0,i.jsx)("div",{children:"1.0"}),(0,i.jsx)("div",{children:"·"}),(0,i.jsx)("div",{children:d("feature.annotation.scoreThreshold.accurateMatch",{ns:"appDebug"})})]})]})]})}),N=t.memo(e=>{let{isShow:s,onHide:l,onSave:p,isInit:h,annotationConfig:v}=e,{t:b}=(0,a.useTranslation)(),{modelList:f,defaultModel:N,currentModel:g}=(0,m.useModelListAndDefaultModelAndCurrentProviderAndModel)(o.ModelTypeEnum.textEmbedding),[_,y]=(0,t.useState)(v),[C,w]=(0,t.useState)(!1),[T,S]=(0,t.useState)(v.embedding_model?{providerName:v.embedding_model.embedding_provider_name,modelName:v.embedding_model.embedding_model_name}:N?{providerName:N.provider.provider,modelName:N.model}:void 0),A=()=>{C||l()},M=async()=>{T&&T.modelName&&(T.modelName!==N?.model||g)?(w(!0),await p({embedding_provider_name:T.providerName,embedding_model_name:T.modelName},_.score_threshold),w(!1)):r.default.notify({message:b("modelProvider.embeddingModel.required",{ns:"common"}),type:"error"})};return(0,i.jsxs)(n.default,{isShow:s,onClose:A,className:"!mt-14 !w-[640px] !max-w-none !p-6",children:[(0,i.jsx)("div",{className:"title-2xl-semi-bold mb-2 text-text-primary",children:b(`initSetup.${h?"title":"configTitle"}`,{ns:"appAnnotation"})}),(0,i.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,i.jsx)(x,{title:b("feature.annotation.scoreThreshold.title",{ns:"appDebug"}),tooltip:b("feature.annotation.scoreThreshold.description",{ns:"appDebug"}),children:(0,i.jsx)(j,{className:"mt-1",value:100*(_.score_threshold||u.ANNOTATION_DEFAULT.score_threshold),onChange:e=>{y({..._,score_threshold:e/100})}})}),(0,i.jsx)(x,{title:b("modelProvider.embeddingModel.key",{ns:"common"}),tooltip:b("embeddingModelSwitchTip",{ns:"appAnnotation"}),children:(0,i.jsx)("div",{className:"pt-1",children:(0,i.jsx)(c.default,{defaultModel:T&&{provider:T.providerName,model:T.modelName},modelList:f,onSelect:e=>{S({providerName:e.provider,modelName:e.model})}})})})]}),(0,i.jsxs)("div",{className:"mt-6 flex justify-end gap-2",children:[(0,i.jsx)(d.default,{onClick:A,children:b("operation.cancel",{ns:"common"})}),(0,i.jsxs)(d.default,{variant:"primary",onClick:M,loading:C,children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{children:b(`initSetup.${h?"confirmBtn":"configConfirmBtn"}`,{ns:"appAnnotation"})})]})]})]})});e.s(["default",0,N],491939);var g=((s={}).enable="enable",s.disable="disable",s),_=((l={}).waiting="waiting",l.processing="processing",l.completed="completed",l);e.s(["AnnotationEnableStatus",()=>g,"JobStatus",()=>_],718574)},954884,e=>{"use strict";var s=e.i(563199),l=e.i(268255),i=e.i(192447),t=e.i(744699);e.i(845780);var a=e.i(720315),d=e.i(604208),n=e.i(310828);e.i(275225);var r=e.i(705405),o=e.i(390622);let m=(0,l.memo)(()=>{let e=(0,r.useStore)(e=>e.setShowFeaturesPanel),m=(0,a.useIsChatMode)(),{nodesReadOnly:c}=(0,a.useNodesReadOnly)(),{handleSyncWorkflowDraft:u}=(0,d.useNodesSyncDraft)(),{id:p,data:x}=(0,i.useNodes)().find(e=>"start"===e.data.type),{handleAddVariable:h}=(0,n.default)(p,x),v=(0,l.useCallback)(()=>{u(),e(!0)},[u,e]);return(0,s.jsx)(t.default,{show:!0,isChatMode:m,disabled:c,onChange:v,onClose:()=>e(!1),onAutoAddPromptVariable:e=>{let s=e[0];h({variable:s.key,label:s.name,type:o.InputVarType.textInput,max_length:s.max_length,required:s.required||!1,options:[]})},workflowVariables:x.variables})});e.s(["default",0,m])},833709,e=>{e.n(e.i(954884))}]);