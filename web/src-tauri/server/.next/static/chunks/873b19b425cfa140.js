(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,410893,e=>{"use strict";var t=e.i(797181);e.s(["ArrowUpRight",()=>t.default])},586482,e=>{"use strict";var t=e.i(563199),n=e.i(680697),a=e.i(994047),r=e.i(268255);let s=r.forwardRef(function(e,t){let{title:n,titleId:a,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}),i=r.forwardRef(function(e,t){let{title:n,titleId:a,...s}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});var o=e.i(799527),l=e.i(757198),c=e.i(291631),u=e.i(935139),d=e.i(199018);(0,o.init)({data:n.default});let m=["#FFEAD5","#E4FBCC","#D3F8DF","#E0F2FE","#E0EAFF","#EFF1F5","#FBE8FF","#FCE7F6","#FEF7C3","#E6F4D7","#D5F5F6","#D1E9FF","#D1E0FF","#D5D9EB","#ECE9FE","#FFE4E8"];e.s(["default",0,e=>{let{onSelect:o,className:p}=e,{categories:f}=n.default,[x,h]=(0,r.useState)(""),[v,g]=(0,r.useState)(m[0]),[b,y]=(0,r.useState)(!1),[w,j]=(0,r.useState)([]),[C,E]=(0,r.useState)(!1);return r.useEffect(()=>{x&&(y(!0),v&&o?.(x,v))},[o,x,v]),(0,t.jsxs)("div",{className:(0,u.cn)(p,"flex flex-col"),children:[(0,t.jsx)("div",{className:"flex w-full flex-col items-center px-3 pb-2",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 z-10 flex items-center pl-3",children:(0,t.jsx)(i,{className:"h-5 w-5 text-text-quaternary","aria-hidden":"true"})}),(0,t.jsx)(c.default,{className:"pl-10",type:"search",id:"search",placeholder:"Search emojis...",onChange:async e=>{""===e.target.value?E(!1):(E(!0),j(await (0,d.searchEmoji)(e.target.value)))}})]})}),(0,t.jsx)(l.default,{className:"my-3"}),(0,t.jsxs)("div",{className:"max-h-[200px] w-full overflow-y-auto overflow-x-hidden px-3",children:[C&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"system-xs-medium-uppercase mb-1 text-text-primary",children:"Search"}),(0,t.jsx)("div",{className:"grid h-full w-full grid-cols-8 gap-1",children:w.map((e,n)=>(0,t.jsx)("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg",onClick:()=>{h(e)},children:(0,t.jsx)("div",{className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg p-1 ring-components-input-border-hover ring-offset-1 hover:ring-1",children:(0,t.jsx)("em-emoji",{id:e})})},`emoji-search-${n}`))})]},"category-search")}),f.map((e,n)=>(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"system-xs-medium-uppercase mb-1 text-text-primary",children:e.id}),(0,t.jsx)("div",{className:"grid h-full w-full grid-cols-8 gap-1",children:e.emojis.map((e,n)=>(0,t.jsx)("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-lg",onClick:()=>{h(e)},children:(0,t.jsx)("div",{className:"flex h-8 w-8 cursor-pointer items-center justify-center rounded-lg p-1 ring-components-input-border-hover ring-offset-1 hover:ring-1",children:(0,t.jsx)("em-emoji",{id:e})})},`emoji-${n}`))})]},`category-${n}`))]}),(0,t.jsxs)("div",{className:(0,u.cn)("flex items-center justify-between p-3 pb-0"),children:[(0,t.jsx)("p",{className:"system-xs-medium-uppercase mb-2 text-text-primary",children:"Choose Style"}),b?(0,t.jsx)(a.ChevronDownIcon,{className:"h-4 w-4 cursor-pointer text-text-quaternary",onClick:()=>y(!b)}):(0,t.jsx)(s,{className:"h-4 w-4 cursor-pointer text-text-quaternary",onClick:()=>y(!b)})]}),b&&(0,t.jsx)("div",{className:"grid w-full grid-cols-8 gap-1 px-3",children:m.map(e=>(0,t.jsx)("div",{className:(0,u.cn)("cursor-pointer","ring-offset-1 hover:ring-1","inline-flex h-10 w-10 items-center justify-center rounded-lg",e===v?"ring-1 ring-components-input-border-hover":""),onClick:()=>{g(e)},children:(0,t.jsx)("div",{className:(0,u.cn)("flex h-8 w-8 items-center justify-center rounded-lg p-1"),style:{background:e},children:""!==x&&(0,t.jsx)("em-emoji",{id:x})})},e))})]})}],586482)},551193,e=>{"use strict";let t,n,a;var r=e.i(268255),s=e.i(198136),i=e.i(126765),o=e.i(243815),l=e.i(71216),c=e.i(741064),u=e.i(782165),d=e.i(775885),m=e.i(122783),p=e.i(944296),f=e.i(818805),x=e.i(135477),h=e.i(92054),v=e.i(329512),g=e.i(808534),b=e.i(268850),y=e.i(316688),w=e.i(652038),j=e.i(858023),C=e.i(869873),E=e.i(969350),N=e.i(425324),F=e.i(979845),k=e.i(692941),D=e.i(394149),T=e.i(794085),S=e.i(996978),R=e.i(455028),P=e.i(692558);function _(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}var I=((t=I||{})[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t);let L=Object.assign((0,j.forwardRefWithAs)(function(e,t){let n=(0,r.useRef)(null),a=(0,v.useSyncRefs)(n,t),{initialFocus:s,initialFocusFallback:c,containers:u,features:d=15,...m}=e;(0,h.useServerHandoffComplete)()||(d=0);let f=(0,p.useOwnerDocument)(n);!function(e,t){let{ownerDocument:n}=t,a=!!(8&e),s=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,r.useRef)(S.history.slice());return(0,D.useWatch)((e,n)=>{let[a]=e,[r]=n;!0===r&&!1===a&&(0,P.microTask)(()=>{t.current.splice(0)}),!1===r&&!0===a&&(t.current=S.history.slice())},[e,S.history,t]),(0,l.useEvent)(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(a);(0,D.useWatch)(()=>{a||(null==n?void 0:n.activeElement)===(null==n?void 0:n.body)&&(0,R.focusElement)(s())},[a]),(0,F.useOnUnmount)(()=>{a&&(0,R.focusElement)(s())})}(d,{ownerDocument:f});let x=function(e,t){let{ownerDocument:n,container:a,initialFocus:s,initialFocusFallback:i}=t,l=(0,r.useRef)(null),c=(0,o.useIsTopLayer)(!!(1&e),"focus-trap#initial-focus"),u=(0,N.useIsMounted)();return(0,D.useWatch)(()=>{if(0===e)return;if(!c){null!=i&&i.current&&(0,R.focusElement)(i.current);return}let t=a.current;t&&(0,P.microTask)(()=>{if(!u.current)return;let a=null==n?void 0:n.activeElement;if(null!=s&&s.current){if((null==s?void 0:s.current)===a){l.current=a;return}}else if(t.contains(a)){l.current=a;return}if(null!=s&&s.current)(0,R.focusElement)(s.current);else{if(16&e){if((0,R.focusIn)(t,R.Focus.First|R.Focus.AutoFocus)!==R.FocusResult.Error)return}else if((0,R.focusIn)(t,R.Focus.First)!==R.FocusResult.Error)return;if(null!=i&&i.current&&((0,R.focusElement)(i.current),(null==n?void 0:n.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=null==n?void 0:n.activeElement})},[i,c,e]),l}(d,{ownerDocument:f,container:n,initialFocus:s,initialFocusFallback:c});!function(e,t){let{ownerDocument:n,container:a,containers:r,previousActiveElement:s}=t,o=(0,N.useIsMounted)(),l=!!(4&e);(0,i.useEventListener)(null==n?void 0:n.defaultView,"focus",e=>{if(!l||!o.current)return;let t=_(r);a.current instanceof HTMLElement&&t.add(a.current);let n=s.current;if(!n)return;let i=e.target;i&&i instanceof HTMLElement?O(t,i)?(s.current=i,(0,R.focusElement)(i)):(e.preventDefault(),e.stopPropagation(),(0,R.focusElement)(n)):(0,R.focusElement)(s.current)},!0)}(d,{ownerDocument:f,container:n,containers:u,previousActiveElement:x});let g=(0,k.useTabDirection)(),b=(0,l.useEvent)(e=>{let t=n.current;t&&(0,w.match)(g.current,{[k.Direction.Forwards]:()=>{(0,R.focusIn)(t,R.Focus.First,{skipElements:[e.relatedTarget,c]})},[k.Direction.Backwards]:()=>{(0,R.focusIn)(t,R.Focus.Last,{skipElements:[e.relatedTarget,c]})}})}),y=(0,o.useIsTopLayer)(!!(2&d),"focus-trap#tab-lock"),C=(0,E.useDisposables)(),I=(0,r.useRef)(!1),L=(0,j.useRender)();return r.default.createElement(r.default.Fragment,null,y&&r.default.createElement(T.Hidden,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:T.HiddenFeatures.Focusable}),L({ourProps:{ref:a,onKeyDown(e){"Tab"==e.key&&(I.current=!0,C.requestAnimationFrame(()=>{I.current=!1}))},onBlur(e){if(!(4&d))return;let t=_(u);n.current instanceof HTMLElement&&t.add(n.current);let a=e.relatedTarget;a instanceof HTMLElement&&"true"!==a.dataset.headlessuiFocusGuard&&(O(t,a)||(I.current?(0,R.focusIn)(n.current,(0,w.match)(g.current,{[k.Direction.Forwards]:()=>R.Focus.Next,[k.Direction.Backwards]:()=>R.Focus.Previous})|R.Focus.WrapAround,{relativeTo:e.target}):e.target instanceof HTMLElement&&(0,R.focusElement)(e.target)))}},theirProps:m,defaultTag:"div",name:"FocusTrap"}),y&&r.default.createElement(T.Hidden,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:T.HiddenFeatures.Focusable}))}),{features:I});function O(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var A=e.i(642330),B=e.i(157169),M=((n=M||{})[n.Open=0]="Open",n[n.Closed=1]="Closed",n),H=((a=H||{})[a.SetTitleId=0]="SetTitleId",a);let z={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},V=(0,r.createContext)(null);function $(e){let t=(0,r.useContext)(V);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,$),t}return t}function W(e,t){return(0,w.match)(t.type,z,e,t)}V.displayName="DialogContext";let q=(0,j.forwardRefWithAs)(function(e,t){let n=(0,r.useId)(),{id:a=`headlessui-dialog-${n}`,open:w,onClose:E,initialFocus:N,role:F="dialog",autoFocus:k=!0,__demoMode:D=!1,unmount:T=!1,...S}=e,R=(0,r.useRef)(!1);F="dialog"===F||"alertdialog"===F?F:(R.current||(R.current=!0,console.warn(`Invalid role [${F}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let P=(0,b.useOpenClosed)();void 0===w&&null!==P&&(w=(P&b.State.Open)===b.State.Open);let _=(0,r.useRef)(null),O=(0,v.useSyncRefs)(_,t),B=(0,p.useOwnerDocument)(_),M=+!w,[H,z]=(0,r.useReducer)(W,{titleId:null,descriptionId:null,panelRef:(0,r.createRef)()}),$=(0,l.useEvent)(()=>E(!1)),q=(0,l.useEvent)(e=>z({type:0,id:e})),Y=!!(0,h.useServerHandoffComplete)()&&0===M,[G,Z]=(0,A.useNestedPortals)(),X=(0,f.useMainTreeNode)(),{resolveContainers:J}=(0,f.useRootContainers)({mainTreeNode:X,portals:G,defaultContainers:[{get current(){var Q;return null!=(Q=H.panelRef.current)?Q:_.current}}]}),ee=null!==P&&(P&b.State.Closing)===b.State.Closing;(0,c.useInertOthers)(!D&&!ee&&Y,{allowed:(0,l.useEvent)(()=>{var e,t;return[null!=(t=null==(e=_.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:(0,l.useEvent)(()=>{var e;return[null!=(e=null==X?void 0:X.closest("body > *:not(#headlessui-portal-root)"))?e:null]})}),(0,m.useOutsideClick)(Y,J,e=>{e.preventDefault(),$()}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"u">typeof document?document.defaultView:null,n=arguments.length>2?arguments[2]:void 0,a=(0,o.useIsTopLayer)(e,"escape");(0,i.useEventListener)(t,"keydown",e=>{a&&(e.defaultPrevented||e.key===s.Keys.Escape&&n(e))})}(Y,null==B?void 0:B.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),$()}),(0,x.useScrollLock)(!D&&!ee&&Y,B,J),(0,d.useOnDisappear)(Y,_,$);let[et,en]=(0,C.useDescriptions)(),ea=(0,r.useMemo)(()=>[{dialogState:M,close:$,setTitleId:q,unmount:T},H],[M,H,$,q,T]),er=(0,r.useMemo)(()=>({open:0===M}),[M]),es={ref:O,id:a,role:F,tabIndex:-1,"aria-modal":D?void 0:0===M||void 0,"aria-labelledby":H.titleId,"aria-describedby":et,unmount:T},ei=!function(){var e;let[t]=(0,r.useState)(()=>"u">typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[n,a]=(0,r.useState)(null!=(e=null==t?void 0:t.matches)&&e);return(0,u.useIsoMorphicEffect)(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){a(e.matches)}},[t]),n}(),eo=I.None;Y&&!D&&(eo|=I.RestoreFocus,eo|=I.TabLock,k&&(eo|=I.AutoFocus),ei&&(eo|=I.InitialFocus));let el=(0,j.useRender)();return r.default.createElement(b.ResetOpenClosedProvider,null,r.default.createElement(y.ForcePortalRoot,{force:!0},r.default.createElement(A.Portal,null,r.default.createElement(V.Provider,{value:ea},r.default.createElement(A.PortalGroup,{target:_},r.default.createElement(y.ForcePortalRoot,{force:!1},r.default.createElement(en,{slot:er},r.default.createElement(Z,null,r.default.createElement(L,{initialFocus:N,initialFocusFallback:_,containers:J,features:eo},r.default.createElement(g.CloseProvider,{value:$},el({ourProps:es,theirProps:S,slot:er,defaultTag:U,features:K,visible:0===M,name:"Dialog"})))))))))))}),U="div",K=j.RenderFeatures.RenderStrategy|j.RenderFeatures.Static,Y=(0,j.forwardRefWithAs)(function(e,t){let{transition:n=!1,open:a,...s}=e,i=(0,b.useOpenClosed)(),o=e.hasOwnProperty("open")||null!==i,l=e.hasOwnProperty("onClose");if(!o&&!l)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&"boolean"!=typeof e.open)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(void 0!==a||n)&&!s.static?r.default.createElement(f.MainTreeProvider,null,r.default.createElement(B.Transition,{show:a,transition:n,unmount:s.unmount},r.default.createElement(q,{ref:t,...s}))):r.default.createElement(f.MainTreeProvider,null,r.default.createElement(q,{ref:t,open:a,...s}))}),G=(0,j.forwardRefWithAs)(function(e,t){let n=(0,r.useId)(),{id:a=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:c},u]=$("Dialog.Panel"),d=(0,v.useSyncRefs)(t,u.panelRef),m=(0,r.useMemo)(()=>({open:0===o}),[o]),p=(0,l.useEvent)(e=>{e.stopPropagation()}),f=s?B.TransitionChild:r.Fragment,x=(0,j.useRender)();return r.default.createElement(f,{...s?{unmount:c}:{}},x({ourProps:{ref:d,id:a,onClick:p},theirProps:i,slot:m,defaultTag:"div",name:"Dialog.Panel"}))}),Z=(0,j.forwardRefWithAs)(function(e,t){let{transition:n=!1,...a}=e,[{dialogState:s,unmount:i}]=$("Dialog.Backdrop"),o=(0,r.useMemo)(()=>({open:0===s}),[s]),l=n?B.TransitionChild:r.Fragment,c=(0,j.useRender)();return r.default.createElement(l,{...n?{unmount:i}:{}},c({ourProps:{ref:t,"aria-hidden":!0},theirProps:a,slot:o,defaultTag:"div",name:"Dialog.Backdrop"}))}),X=(0,j.forwardRefWithAs)(function(e,t){let n=(0,r.useId)(),{id:a=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=$("Dialog.Title"),l=(0,v.useSyncRefs)(t);(0,r.useEffect)(()=>(o(a),()=>o(null)),[a,o]);let c=(0,r.useMemo)(()=>({open:0===i}),[i]);return(0,j.useRender)()({ourProps:{ref:l,id:a},theirProps:s,slot:c,defaultTag:"h2",name:"Dialog.Title"})}),J=(C.Description,Object.assign(Y,{Panel:G,Title:X,Description:C.Description}));e.s(["Dialog",()=>J,"DialogBackdrop",()=>Z,"DialogPanel",()=>G,"DialogTitle",()=>X],551193)},21151,e=>{"use strict";var t=e.i(563199),n=e.i(551193),a=e.i(157169),r=e.i(837699),s=e.i(124836),i=e.i(268255),o=e.i(935139);function l(e){let{className:l,wrapperClassName:c,containerClassName:u,isShow:d,onClose:m=s.noop,title:p,description:f,children:x,closable:h=!1,overflowVisible:v=!1,highPriority:g=!1,overlayOpacity:b=!1,clickOutsideNotClose:y=!1}=e;return(0,t.jsx)(a.Transition,{appear:!0,show:d,as:i.Fragment,children:(0,t.jsxs)(n.Dialog,{as:"div",className:(0,o.cn)("relative",g?"z-[1100]":"z-[60]",c),onClose:y?s.noop:m,children:[(0,t.jsx)(a.TransitionChild,{children:(0,t.jsx)("div",{className:(0,o.cn)("fixed inset-0",b?"bg-workflow-canvas-canvas-overlay":"bg-background-overlay","duration-300 ease-in data-[closed]:opacity-0","data-[enter]:opacity-100","data-[leave]:opacity-0")})}),(0,t.jsx)("div",{className:"fixed inset-0 overflow-y-auto",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,t.jsx)("div",{className:(0,o.cn)("flex min-h-full items-center justify-center p-4 text-center",u),children:(0,t.jsx)(a.TransitionChild,{children:(0,t.jsxs)(n.DialogPanel,{className:(0,o.cn)("relative w-full max-w-[480px] rounded-2xl bg-components-panel-bg p-6 text-left align-middle shadow-xl transition-all",v?"overflow-visible":"overflow-hidden","duration-100 ease-in data-[closed]:scale-95 data-[closed]:opacity-0","data-[enter]:scale-100 data-[enter]:opacity-100","data-[enter]:scale-95 data-[leave]:opacity-0",l),children:[!!p&&(0,t.jsx)(n.DialogTitle,{as:"h3",className:"title-2xl-semi-bold text-text-primary",children:p}),!!f&&(0,t.jsx)("div",{className:"body-md-regular mt-2 text-text-secondary",children:f}),h&&(0,t.jsx)("div",{className:"absolute right-6 top-6 z-10 flex h-5 w-5 items-center justify-center rounded-2xl hover:cursor-pointer hover:bg-state-base-hover",children:(0,t.jsx)(r.RiCloseLine,{className:"h-4 w-4 text-text-tertiary",onClick:e=>{e.stopPropagation(),m()}})}),x]})})})})]})})}e.s(["default",()=>l])},994047,e=>{"use strict";var t=e.i(268255);let n=t.forwardRef(function(e,n){let{title:a,titleId:r,...s}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),a?t.createElement("title",{id:r},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});e.s(["ChevronDownIcon",0,n],994047)},199018,e=>{"use strict";var t=e.i(799527);async function n(e){return(await t.SearchIndex.search(e)||[]).map(e=>e.skins[0].native)}e.s(["searchEmoji",()=>n])},561518,e=>{"use strict";var t=e.i(563199),n=e.i(124836),a=e.i(268255);e.i(152567);var r=e.i(408767),s=e.i(151094),i=e.i(757198),o=e.i(21151),l=e.i(935139),c=e.i(586482);e.s(["default",0,e=>{let{isModal:u=!0,onSelect:d,onClose:m,className:p}=e,{t:f}=(0,r.useTranslation)(),[x,h]=(0,a.useState)(""),[v,g]=(0,a.useState)(),b=(0,a.useCallback)((e,t)=>{h(e),g(t)},[h,g]);return u?(0,t.jsxs)(o.default,{onClose:n.noop,isShow:!0,closable:!1,wrapperClassName:p,className:(0,l.cn)("flex max-h-[552px] flex-col rounded-xl border-[0.5px] border-divider-subtle p-0 shadow-xl"),children:[(0,t.jsx)(c.default,{className:"pt-3",onSelect:b}),(0,t.jsx)(i.default,{className:"mb-0 mt-3"}),(0,t.jsxs)("div",{className:"flex w-full items-center justify-center gap-2 p-3",children:[(0,t.jsx)(s.default,{className:"w-full",onClick:()=>{m?.()},children:f("iconPicker.cancel",{ns:"app"})}),(0,t.jsx)(s.default,{disabled:""===x||!v,variant:"primary",className:"w-full",onClick:()=>{d?.(x,v)},children:f("iconPicker.ok",{ns:"app"})})]})]}):(0,t.jsx)(t.Fragment,{})}])},462505,e=>{e.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"g",attributes:{id:"book-open-01"},children:[{type:"element",name:"path",attributes:{id:"Fill",opacity:"0.12",d:"M1 3.1C1 2.53995 1 2.25992 1.10899 2.04601C1.20487 1.85785 1.35785 1.70487 1.54601 1.60899C1.75992 1.5 2.03995 1.5 2.6 1.5H2.8C3.9201 1.5 4.48016 1.5 4.90798 1.71799C5.28431 1.90973 5.59027 2.21569 5.78201 2.59202C6 3.01984 6 3.5799 6 4.7V10.5L5.94997 10.425C5.60265 9.90398 5.42899 9.64349 5.19955 9.45491C4.99643 9.28796 4.76238 9.1627 4.5108 9.0863C4.22663 9 3.91355 9 3.28741 9H2.6C2.03995 9 1.75992 9 1.54601 8.89101C1.35785 8.79513 1.20487 8.64215 1.10899 8.45399C1 8.24008 1 7.96005 1 7.4V3.1Z",fill:"currentColor"},children:[]},{type:"element",name:"path",attributes:{id:"Icon",d:"M6 10.5L5.94997 10.425C5.60265 9.90398 5.42899 9.64349 5.19955 9.45491C4.99643 9.28796 4.76238 9.1627 4.5108 9.0863C4.22663 9 3.91355 9 3.28741 9H2.6C2.03995 9 1.75992 9 1.54601 8.89101C1.35785 8.79513 1.20487 8.64215 1.10899 8.45399C1 8.24008 1 7.96005 1 7.4V3.1C1 2.53995 1 2.25992 1.10899 2.04601C1.20487 1.85785 1.35785 1.70487 1.54601 1.60899C1.75992 1.5 2.03995 1.5 2.6 1.5H2.8C3.9201 1.5 4.48016 1.5 4.90798 1.71799C5.28431 1.90973 5.59027 2.21569 5.78201 2.59202C6 3.01984 6 3.5799 6 4.7M6 10.5V4.7M6 10.5L6.05003 10.425C6.39735 9.90398 6.57101 9.64349 6.80045 9.45491C7.00357 9.28796 7.23762 9.1627 7.4892 9.0863C7.77337 9 8.08645 9 8.71259 9H9.4C9.96005 9 10.2401 9 10.454 8.89101C10.6422 8.79513 10.7951 8.64215 10.891 8.45399C11 8.24008 11 7.96005 11 7.4V3.1C11 2.53995 11 2.25992 10.891 2.04601C10.7951 1.85785 10.6422 1.70487 10.454 1.60899C10.2401 1.5 9.96005 1.5 9.4 1.5H9.2C8.07989 1.5 7.51984 1.5 7.09202 1.71799C6.71569 1.90973 6.40973 2.21569 6.21799 2.59202C6 3.01984 6 3.5799 6 4.7",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},children:[]}]}]},name:"BookOpen01"})},50874,258703,e=>{"use strict";var t=e.i(563199),n=e.i(807324),a=e.i(462505);let r=e=>{let{ref:r,...s}=e;return(0,t.jsx)(n.default,{...s,ref:r,data:a.default})};r.displayName="BookOpen01",e.s([],50874),e.s(["BookOpen01",0,r],258703)},740083,e=>{"use strict";var t=e.i(563199),n=e.i(299951),a=e.i(873517),r=e.i(683257);e.s(["default",0,e=>{let{forms:s,value:i,onChange:o}=e,l=(0,r.useLocale)(),c=(e,t)=>{o({...i,[e]:t})};return(0,t.jsx)(t.Fragment,{children:s.map((e,r)=>(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"flex h-9 items-center text-sm font-medium text-text-primary",children:"zh-Hans"===l?e.label["zh-Hans"]:e.label["en-US"]}),"text-input"===e.type&&(0,t.jsx)("input",{value:i?.[e.variable]||"",className:"block h-9 w-full appearance-none rounded-lg bg-components-input-bg-normal px-3 text-sm text-text-primary outline-none",placeholder:e.placeholder,onChange:t=>c(e.variable,t.target.value)}),"paragraph"===e.type&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(a.default,{className:"resize-none",value:i?.[e.variable]||"",placeholder:e.placeholder,onChange:t=>c(e.variable,t.target.value)})}),"select"===e.type&&(0,t.jsx)(n.PortalSelect,{value:i?.[e.variable],items:e.options.map(e=>({name:e.label["zh-Hans"===l?"zh-Hans":"en-US"],value:e.value})),onSelect:t=>c(e.variable,t.value),popupClassName:"w-[576px] !z-[102]"})]},r))})}])},963636,e=>{"use strict";var t=e.i(563199),n=e.i(837699),a=e.i(268255);e.i(152567);var r=e.i(408767);e.i(668763);var s=e.i(410893),i=e.i(391185),o=e.i(59375),l=e.i(296124),c=e.i(652669);e.s(["default",0,e=>{let{value:u,onChange:d}=e,{t:m}=(0,r.useTranslation)(),[p,f]=(0,a.useState)(!1),{setShowAccountSettingModal:x,setShowApiBasedExtensionModal:h}=(0,l.useModalContext)(),{data:v,refetch:g}=(0,c.useApiBasedExtensions)(),b=v?.find(e=>e.id===u);return(0,t.jsxs)(i.PortalToFollowElem,{open:p,onOpenChange:f,placement:"bottom-start",offset:4,children:[(0,t.jsx)(i.PortalToFollowElemTrigger,{onClick:()=>f(e=>!e),className:"w-full",children:b?(0,t.jsxs)("div",{className:"flex h-9 cursor-pointer items-center justify-between rounded-lg bg-components-input-bg-normal pl-3 pr-2.5",children:[(0,t.jsx)("div",{className:"text-sm text-text-primary",children:b.name}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"mr-1.5 w-[270px] truncate text-right text-xs text-text-quaternary",children:b.api_endpoint}),(0,t.jsx)(n.RiArrowDownSLine,{className:`h-4 w-4 text-text-secondary ${!p&&"opacity-60"}`})]})]}):(0,t.jsxs)("div",{className:"flex h-9 cursor-pointer items-center justify-between rounded-lg bg-components-input-bg-normal pl-3 pr-2.5 text-sm text-text-quaternary",children:[m("apiBasedExtension.selector.placeholder",{ns:"common"}),(0,t.jsx)(n.RiArrowDownSLine,{className:`h-4 w-4 text-text-secondary ${!p&&"opacity-60"}`})]})}),(0,t.jsx)(i.PortalToFollowElemContent,{className:"z-[102] w-[calc(100%-32px)] max-w-[576px]",children:(0,t.jsxs)("div",{className:"z-10 w-full rounded-lg border-[0.5px] border-components-panel-border bg-components-panel-bg shadow-lg",children:[(0,t.jsxs)("div",{className:"p-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 pb-1 pt-2",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-text-tertiary",children:m("apiBasedExtension.selector.title",{ns:"common"})}),(0,t.jsxs)("div",{className:"flex cursor-pointer items-center text-xs text-text-accent",onClick:()=>{f(!1),x({payload:o.ACCOUNT_SETTING_TAB.API_BASED_EXTENSION})},children:[m("apiBasedExtension.selector.manage",{ns:"common"}),(0,t.jsx)(s.ArrowUpRight,{className:"ml-0.5 h-3 w-3"})]})]}),(0,t.jsx)("div",{className:"max-h-[250px] overflow-y-auto",children:v?.map(e=>(0,t.jsxs)("div",{className:"w-full cursor-pointer rounded-md px-3 py-1.5 text-left hover:stroke-state-base-hover",onClick:()=>{d(e.id),f(!1)},children:[(0,t.jsx)("div",{className:"text-sm text-text-primary",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-text-tertiary",children:e.api_endpoint})]},e.id))})]}),(0,t.jsx)("div",{className:"h-px bg-divider-regular"}),(0,t.jsx)("div",{className:"p-1",children:(0,t.jsxs)("div",{className:"flex h-8 cursor-pointer items-center px-3 text-sm text-text-accent",onClick:()=>{f(!1),h({payload:{},onSaveCallback:()=>g()})},children:[(0,t.jsx)(n.RiAddLine,{className:"mr-2 h-4 w-4"}),m("operation.add",{ns:"common"})]})})]})})]})}])},93928,e=>{"use strict";var t=e.i(563199),n=e.i(124836),a=e.i(268255);e.i(152567);var r=e.i(408767),s=e.i(257899),i=e.i(151094),o=e.i(561518),l=e.i(740083);e.i(50874);var c=e.i(258703),u=e.i(21151),d=e.i(299951),m=e.i(137667),p=e.i(963636),f=e.i(683257),x=e.i(491234),h=e.i(652669);let v=["api"];e.s(["default",0,e=>{let{data:g,onCancel:b,onSave:y,onValidateBeforeSave:w}=e,{t:j}=(0,r.useTranslation)(),C=(0,f.useDocLink)(),{notify:E}=(0,m.useToastContext)(),N=(0,f.useLocale)(),[F,k]=(0,a.useState)(g.type?g:{...g,type:"api"}),[D,T]=(0,a.useState)(!1),{data:S}=(0,h.useCodeBasedExtensions)("external_data_tool"),R=[{key:"api",name:j("apiBasedExtension.selector.title",{ns:"common"})},...S?S.data.map(e=>({key:e.name,name:"zh-Hans"===N?e.label["zh-Hans"]:e.label["en-US"],form_schema:e.form_schema})):[]],P=R.find(e=>e.key===F.type),_=e=>{k({...F,...e})},I=e=>{let{type:t,config:n}=e,a={};return"api"===t&&(a.api_based_extension_id=n?.api_based_extension_id),0>v.findIndex(e=>e===t)&&P?.form_schema&&P.form_schema.forEach(e=>{a[e.variable]=n?.[e.variable]}),{...e,type:t,enabled:!g.type||g.enabled,config:{...a}}},L=g.type?j("operation.edit",{ns:"common"}):j("operation.add",{ns:"common"});return(0,t.jsxs)(u.default,{isShow:!0,onClose:n.noop,className:"!w-[640px] !max-w-none !p-8 !pb-6",children:[(0,t.jsx)("div",{className:"mb-2 text-xl font-semibold text-text-primary",children:`${L} ${j("variableConfig.apiBasedVar",{ns:"appDebug"})}`}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium leading-9 text-text-primary",children:j("apiBasedExtension.type",{ns:"common"})}),(0,t.jsx)(d.SimpleSelect,{defaultValue:F.type,items:R.map(e=>({value:e.key,name:e.name})),onSelect:e=>{var t;let n,a;return t=e.value,a=R.find(e=>e.key===t),void(0>v.findIndex(e=>e===t)&&a?.form_schema&&(n=a?.form_schema.reduce((e,t)=>(e[t.variable]=t.default,e),{})),k({...F,type:t,config:n}))}})]}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium leading-9 text-text-primary",children:j("feature.tools.modal.name.title",{ns:"appDebug"})}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{value:F.label||"",onChange:e=>_({label:e.target.value}),className:"mr-2 block h-9 grow appearance-none rounded-lg bg-components-input-bg-normal px-3 text-sm text-components-input-text-filled outline-none",placeholder:j("feature.tools.modal.name.placeholder",{ns:"appDebug"})||""}),(0,t.jsx)(s.default,{size:"large",onClick:()=>{T(!0)},className:"!h-9 !w-9 cursor-pointer rounded-lg border-[0.5px] border-components-panel-border ",icon:F.icon,background:F.icon_background})]})]}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium leading-9 text-text-primary",children:j("feature.tools.modal.variableName.title",{ns:"appDebug"})}),(0,t.jsx)("input",{value:F.variable||"",onChange:e=>_({variable:e.target.value}),className:"block h-9 w-full appearance-none rounded-lg bg-components-input-bg-normal px-3 text-sm text-components-input-text-filled outline-none",placeholder:j("feature.tools.modal.variableName.placeholder",{ns:"appDebug"})||""})]}),"api"===F.type&&(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("div",{className:"flex h-9 items-center justify-between text-sm font-medium text-text-primary",children:[j("apiBasedExtension.selector.title",{ns:"common"}),(0,t.jsxs)("a",{href:C("/use-dify/workspace/api-extension/api-extension"),target:"_blank",rel:"noopener noreferrer",className:"group flex items-center text-xs font-normal text-text-tertiary hover:text-text-accent",children:[(0,t.jsx)(c.BookOpen01,{className:"mr-1 h-3 w-3 text-text-tertiary group-hover:text-text-accent"}),j("apiBasedExtension.link",{ns:"common"})]})]}),(0,t.jsx)(p.default,{value:F.config?.api_based_extension_id||"",onChange:e=>{k({...F,config:{...F.config,api_based_extension_id:e}})}})]}),0>v.findIndex(e=>e===F.type)&&P?.form_schema&&(0,t.jsx)(l.default,{forms:P?.form_schema,value:F.config,onChange:e=>{k({...F,config:{...F.config,...e}})}}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-end",children:[(0,t.jsx)(i.default,{onClick:b,className:"mr-2",children:j("operation.cancel",{ns:"common"})}),(0,t.jsx)(i.default,{variant:"primary",onClick:()=>{if(!F.type)return void E({type:"error",message:j("errorMessage.valueOfVarRequired",{ns:"appDebug",key:j("feature.tools.modal.toolType.title",{ns:"appDebug"})})});if(!F.label)return void E({type:"error",message:j("errorMessage.valueOfVarRequired",{ns:"appDebug",key:j("feature.tools.modal.name.title",{ns:"appDebug"})})});if(!F.variable)return void E({type:"error",message:j("errorMessage.valueOfVarRequired",{ns:"appDebug",key:j("feature.tools.modal.variableName.title",{ns:"appDebug"})})});if(F.variable&&!/^[a-z_]\w{0,29}$/i.test(F.variable))return void E({type:"error",message:j("varKeyError.notValid",{ns:"appDebug",key:j("feature.tools.modal.variableName.title",{ns:"appDebug"})})});if("api"===F.type&&!F.config?.api_based_extension_id)return void E({type:"error",message:j("errorMessage.valueOfVarRequired",{ns:"appDebug",key:N!==x.LanguagesSupported[1]?"API Extension":"API 扩展"})});if(0>v.findIndex(e=>e===F.type)&&P?.form_schema){for(let e=0;e<P.form_schema.length;e++)if(!F.config?.[P.form_schema[e].variable]&&P.form_schema[e].required)return void E({type:"error",message:j("errorMessage.valueOfVarRequired",{ns:"appDebug",key:N!==x.LanguagesSupported[1]?P.form_schema[e].label["en-US"]:P.form_schema[e].label["zh-Hans"]})})}let e=I(F);(!w||w(e))&&y(I(e))},children:j("operation.save",{ns:"common"})})]}),D&&(0,t.jsx)(o.default,{onSelect:(e,t)=>{_({icon:e,icon_background:t}),T(!1)},onClose:()=>{_({icon:"",icon_background:""}),T(!1)}})]})}])},668887,e=>{e.n(e.i(93928))}]);