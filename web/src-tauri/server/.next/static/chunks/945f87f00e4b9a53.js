(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70720,e=>{e.v({icon:{type:"element",isRootNode:!0,name:"svg",attributes:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},children:[{type:"element",name:"path",attributes:{d:"M5.46257 4.43262C7.21556 2.91688 9.5007 2 12 2C17.5228 2 22 6.47715 22 12C22 14.1361 21.3302 16.1158 20.1892 17.7406L17 12H20C20 7.58172 16.4183 4 12 4C9.84982 4 7.89777 4.84827 6.46023 6.22842L5.46257 4.43262ZM18.5374 19.5674C16.7844 21.0831 14.4993 22 12 22C6.47715 22 2 17.5228 2 12C2 9.86386 2.66979 7.88416 3.8108 6.25944L7 12H4C4 16.4183 7.58172 20 12 20C14.1502 20 16.1022 19.1517 17.5398 17.7716L18.5374 19.5674Z",fill:"currentColor"},children:[]},{type:"element",name:"path",attributes:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.3308 16H14.2915L13.6249 13.9476H10.3761L9.70846 16H7.66918L10.7759 7H13.2281L16.3308 16ZM10.8595 12.4622H13.1435L12.0378 9.05639H11.9673L10.8595 12.4622Z",fill:"currentColor"},children:[]}]},name:"AutoUpdateLine"})},10717,e=>{"use strict";var t=e.i(230121);e.s(["PluginAuth",()=>t.default])},194902,e=>{"use strict";var t=e.i(563199),r=e.i(268255),n=e.i(935139);e.i(905691);var a=e.i(706416);let s=(0,r.memo)(e=>{let{keys:r,className:s,textColor:i="default",bgColor:o="gray"}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex items-center gap-0.5",s),children:r.map(e=>(0,t.jsx)("div",{className:(0,n.cn)("system-kbd flex h-4 min-w-4 items-center justify-center rounded-[4px] px-1 capitalize","gray"===o&&"bg-components-kbd-bg-gray","white"===o&&"bg-components-kbd-bg-white text-text-primary-on-surface","secondary"===i&&"text-text-tertiary"),children:(0,a.getKeyboardKeyNameBySystem)(e)},e))})});e.s(["default",0,s])},508110,e=>{"use strict";var t=e.i(340801);e.s(["Mcp",()=>t.default])},392768,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},250177,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(268255);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=s(e,n)),t&&(a.current=s(t,n))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},127350,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function s(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,i(e));else t.set(r,i(n));return t}function l(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}},254607,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return o},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s=e.r(744066)._(e.r(127350)),i=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,n=e.protocol||"",a=e.pathname||"",o=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||i.test(n))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),o&&"#"!==o[0]&&(o="#"+o),c&&"?"!==c[0]&&(c="?"+c),a=a.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${u}${a}${c}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return o(e)}},40368,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return x},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return y},NormalizeError:function(){return b},PageNotFoundError:function(){return v},SP:function(){return g},ST:function(){return h},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return p},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return w}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return r||(r=!0,t=e(...a)),t}}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function u(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&p(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let g="u">typeof performance,h=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class x extends Error{}class b extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class y extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},703412,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let n=e.r(40368),a=e.r(99704);function s(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},337506,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},554327,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return x},useLinkStatus:function(){return v}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let s=e.r(744066),i=e.r(563199),o=s._(e.r(268255)),l=e.r(254607),u=e.r(463039),c=e.r(250177),d=e.r(40368),p=e.r(381647);e.r(392768);let f=e.r(32692),m=e.r(703412),g=e.r(16615);function h(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function x(t){var r;let n,a,s,[l,x]=(0,o.useOptimistic)(f.IDLE_LINK_STATUS),v=(0,o.useRef)(null),{href:y,as:j,children:w,prefetch:C=null,passHref:N,replace:k,shallow:_,scroll:P,onClick:T,onMouseEnter:E,onTouchStart:S,legacyBehavior:L=!1,onNavigate:R,ref:$,unstable_dynamicOnHover:O,...A}=t;n=w,L&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let U=o.default.useContext(u.AppRouterContext),M=!1!==C,F=!1!==C?null===(r=C)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:D,as:I}=o.default.useMemo(()=>{let e=h(y);return{href:e,as:j?h(j):e}},[y,j]);if(L){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=o.default.Children.only(n)}let z=L?a&&"object"==typeof a&&a.ref:$,B=o.default.useCallback(e=>(null!==U&&(v.current=(0,f.mountLinkInstance)(e,D,U,F,M,x)),()=>{v.current&&((0,f.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,f.unmountPrefetchableInstance)(e)}),[M,D,U,F,x]),q={ref:(0,c.useMergedRef)(B,z),onClick(t){L||"function"!=typeof T||T(t),L&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!U||t.defaultPrevented||function(t,r,n,a,s,i,l){if("u">typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,m.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(372114);o.default.startTransition(()=>{d(n||r,s?"replace":"push",i??!0,a.current)})}}(t,D,I,v,k,P,R)},onMouseEnter(e){L||"function"!=typeof E||E(e),L&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),U&&M&&(0,f.onNavigationIntent)(e.currentTarget,!0===O)},onTouchStart:function(e){L||"function"!=typeof S||S(e),L&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),U&&M&&(0,f.onNavigationIntent)(e.currentTarget,!0===O)}};return(0,d.isAbsoluteUrl)(I)?q.href=I:L&&!N&&("a"!==a.type||"href"in a.props)||(q.href=(0,p.addBasePath)(I)),s=L?o.default.cloneElement(a,q):(0,i.jsx)("a",{...A,...q,children:n}),(0,i.jsx)(b.Provider,{value:l,children:s})}e.r(337506);let b=(0,o.createContext)(f.IDLE_LINK_STATUS),v=()=>(0,o.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},271743,e=>{"use strict";var t,r=e.i(268255),n=((t={}).mobile="mobile",t.tablet="tablet",t.pc="pc",t);e.s(["MediaType",()=>n,"default",0,()=>{let[e,t]=r.useState(globalThis.innerWidth);return r.useEffect(()=>{let e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e<=640?"mobile":e<=768?"tablet":"pc"}])},873517,e=>{"use strict";var t=e.i(563199),r=e.i(294237),n=e.i(268255),a=e.i(935139);let s=(0,r.cva)("",{variants:{size:{small:"py-1 rounded-md system-xs-regular",regular:"px-3 rounded-md system-sm-regular",large:"px-4 rounded-lg system-md-regular"}},defaultVariants:{size:"regular"}}),i=n.forwardRef((e,r)=>{let{className:n,value:i,onChange:o,disabled:l,size:u,destructive:c,styleCss:d,onFocus:p,onBlur:f,...m}=e;return(0,t.jsx)("textarea",{ref:r,onFocus:p,onBlur:f,style:d,className:(0,a.cn)("min-h-20 w-full appearance-none border border-transparent bg-components-input-bg-normal p-2 text-components-input-text-filled caret-primary-600 outline-none placeholder:text-components-input-text-placeholder hover:border-components-input-border-hover hover:bg-components-input-bg-hover focus:border-components-input-border-active focus:bg-components-input-bg-active focus:shadow-xs",s({size:u}),l&&"cursor-not-allowed border-transparent bg-components-input-bg-disabled text-components-input-text-filled-disabled hover:border-transparent hover:bg-components-input-bg-disabled",c&&"border-components-input-border-destructive bg-components-input-bg-destructive text-components-input-text-filled hover:border-components-input-border-destructive hover:bg-components-input-bg-destructive focus:border-components-input-border-destructive focus:bg-components-input-bg-destructive",n),value:i??"",onChange:o,disabled:l,...m})});i.displayName="Textarea",e.s(["default",0,i])},757198,e=>{"use strict";var t=e.i(563199),r=e.i(294237),n=e.i(935139);let a=(0,r.cva)("",{variants:{type:{horizontal:"w-full h-[0.5px] my-2 ",vertical:"w-[1px] h-full mx-2"},bgStyle:{gradient:"bg-gradient-to-r from-divider-regular to-background-gradient-mask-transparent",solid:"bg-divider-regular"}},defaultVariants:{type:"horizontal",bgStyle:"solid"}});e.s(["default",0,e=>{let{type:r,bgStyle:s,className:i="",style:o}=e;return(0,t.jsx)("div",{className:(0,n.cn)(a({type:r,bgStyle:s}),"shrink-0",i),style:o})}])},806967,(e,t,r)=>{},617571,e=>{"use strict";e.i(806967);var t=e.i(268255);let r=()=>{},n="u"<typeof window?t.useEffect:t.default.useInsertionEffect||t.useLayoutEffect;function a(){throw Error("foxact: the stablized handler cannot be invoked before the component has mounted.")}let s=t.useCallback;class i extends Error{constructor(e){super(e),this.name="UseClipboardError"}}function o(){var e;let o,{timeout:l=1e3,usePromptAsFallback:u=!1,promptFallbackText:c="Failed to copy to clipboard automatically, please manually copy the text below.",onCopyError:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),h=(0,t.useRef)(null),x=(e=d||r,o=(0,t.useRef)(a),n(()=>{o.current=e},[e]),(0,t.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.current)(...t)},[])),b=s(e=>{h.current&&clearTimeout(h.current),e&&(h.current=window.setTimeout(()=>g(!1),l)),g(e)},[l]),v=s(e=>{f(e),x(e)},[x]);return{copy:s(async e=>{try{if("clipboard"in navigator)await navigator.clipboard.writeText(e),b(!0);else throw new i("[foxact/use-clipboard] navigator.clipboard is not supported")}catch(t){if(u)try{window.prompt(c,e)}catch(e){v(e)}else v(t)}},[b,c,v,u]),reset:s(()=>{g(!1),f(null),h.current&&clearTimeout(h.current)},[]),error:p,copied:m}}e.s(["useClipboard",()=>o],617571)},453072,e=>{e.v({copied:"style-module__jevj0a__copied",copyIcon:"style-module__jevj0a__copyIcon"})},772499,e=>{"use strict";var t=e.i(563199),r=e.i(837699),n=e.i(617571),a=e.i(268255);e.i(152567);var s=e.i(408767),i=e.i(654313),o=e.i(421001),l=e.i(453072);let u="overview.appInfo.embedded";e.s(["CopyFeedbackNew",0,e=>{let{content:r,className:i}=e,{t:c}=(0,s.useTranslation)(),{copied:d,copy:p,reset:f}=(0,n.useClipboard)(),m=(0,a.useCallback)(()=>{p(r)},[p,r]);return(0,t.jsx)(o.default,{popupContent:c(d?`${u}.copied`:`${u}.copy`,{ns:"appOverview"})||"",children:(0,t.jsx)("div",{className:`h-8 w-8 cursor-pointer rounded-lg hover:bg-components-button-ghost-bg-hover ${i??""}`,children:(0,t.jsx)("div",{onClick:m,onMouseLeave:f,className:`h-full w-full ${l.default.copyIcon} ${d?l.default.copied:""}`})})})},"default",0,e=>{let{content:l}=e,{t:c}=(0,s.useTranslation)(),{copied:d,copy:p,reset:f}=(0,n.useClipboard)(),m=(0,a.useCallback)(()=>{p(l)},[p,l]);return(0,t.jsx)(o.default,{popupContent:c(d?`${u}.copied`:`${u}.copy`,{ns:"appOverview"})||"",children:(0,t.jsx)(i.default,{children:(0,t.jsxs)("div",{onClick:m,onMouseLeave:f,children:[d&&(0,t.jsx)(r.RiClipboardFill,{className:"h-4 w-4"}),!d&&(0,t.jsx)(r.RiClipboardLine,{className:"h-4 w-4"})]})})})}])},291631,e=>{"use strict";var t=e.i(563199),r=e.i(837699),n=e.i(294237),a=e.i(124836),s=e.i(268255);e.i(152567);var i=e.i(408767),o=e.i(935139),l=e.i(772499);let u=(0,n.cva)("",{variants:{size:{regular:"px-3 radius-md system-sm-regular",large:"px-4 radius-lg system-md-regular"}},defaultVariants:{size:"regular"}}),c=s.forwardRef((e,n)=>{let{size:s,disabled:c,destructive:d,showLeftIcon:p,showClearIcon:f,showCopyIcon:m,onClear:g,wrapperClassName:h,className:x,styleCss:b,value:v,placeholder:y,onChange:j=a.noop,onBlur:w=a.noop,unit:C,...N}=e,{t:k}=(0,i.useTranslation)();return(0,t.jsxs)("div",{className:(0,o.cn)("relative w-full",h),children:[p&&(0,t.jsx)(r.RiSearchLine,{className:(0,o.cn)("absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2 text-components-input-text-placeholder")}),(0,t.jsx)("input",{ref:n,style:b,className:(0,o.cn)("w-full appearance-none border border-transparent bg-components-input-bg-normal py-[7px] text-components-input-text-filled caret-primary-600 outline-none placeholder:text-components-input-text-placeholder hover:border-components-input-border-hover hover:bg-components-input-bg-hover focus:border-components-input-border-active focus:bg-components-input-bg-active focus:shadow-xs",u({size:s}),p&&"pl-[26px]",p&&"large"===s&&"pl-7",f&&v&&"pr-[26px]",f&&v&&"large"===s&&"pr-7",(d||m)&&"pr-[26px]",(d||m)&&"large"===s&&"pr-7",c&&"cursor-not-allowed border-transparent bg-components-input-bg-disabled text-components-input-text-filled-disabled hover:border-transparent hover:bg-components-input-bg-disabled",d&&"border-components-input-border-destructive bg-components-input-bg-destructive text-components-input-text-filled hover:border-components-input-border-destructive hover:bg-components-input-bg-destructive focus:border-components-input-border-destructive focus:bg-components-input-bg-destructive",x),placeholder:y??(p?k("operation.search",{ns:"common"})||"":k("placeholder.input",{ns:"common"})||""),value:v,onChange:"number"===N.type?e=>{if(0===v){let t=e.target.value.replace(/^(-?)0+(?=\d)/,"$1");e.target.value!==t&&(e.target.value=t)}j(e)}:j,onBlur:"number"===N.type?e=>{let t=e.target.value.replace(/^(-?)0+(?=\d)/,"$1");e.target.value!==t&&(e.target.value=t,j({...e,type:"change",target:{...e.target,value:t}})),w(e)}:w,disabled:c,...N}),!!(f&&v&&!c&&!d)&&(0,t.jsx)("div",{className:(0,o.cn)("group absolute right-2 top-1/2 -translate-y-1/2 cursor-pointer p-[1px]"),onClick:g,"data-testid":"input-clear",children:(0,t.jsx)(r.RiCloseCircleFill,{className:"h-3.5 w-3.5 cursor-pointer text-text-quaternary group-hover:text-text-tertiary"})}),d&&(0,t.jsx)(r.RiErrorWarningLine,{className:"absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-text-destructive-secondary"}),m&&(0,t.jsx)("div",{className:(0,o.cn)("group absolute right-0 top-1/2 -translate-y-1/2 cursor-pointer"),children:(0,t.jsx)(l.CopyFeedbackNew,{content:String(v??""),className:"!h-7 !w-7 hover:bg-transparent"})}),C&&(0,t.jsx)("div",{className:"system-sm-regular absolute right-2 top-1/2 -translate-y-1/2 text-text-tertiary",children:C})]})});c.displayName="Input",e.s(["default",0,c])},354440,e=>{"use strict";var t=!!("u">typeof window&&window.document&&window.document.createElement);e.s(["default",0,t])},220431,104411,99878,e=>{"use strict";var t,r=e.i(773923),n=e.i(354440);function a(e,t){if(n.default)return e?(0,r.isFunction)(e)?e():"current"in e?e.current:e:t}e.s(["getTargetElement",()=>a],220431);var s=e.i(268255),i=e.i(685888);let o=function(e,t){if(e===t)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0};e.s(["default",0,o],104411);var l=(t=s.useEffect,function(e,r,n){var l=(0,s.useRef)(!1),u=(0,s.useRef)([]),c=(0,s.useRef)([]),d=(0,s.useRef)(void 0);t(function(){var t,s=(Array.isArray(n)?n:[n]).map(function(e){return a(e)});if(!l.current){l.current=!0,u.current=s,c.current=r,d.current=e();return}s.length===u.current.length&&o(u.current,s)&&o(c.current,r)||(null==(t=d.current)||t.call(d),u.current=s,c.current=r,d.current=e())}),(0,i.default)(function(){var e;null==(e=d.current)||e.call(d),l.current=!1})});e.s(["default",0,l],99878)},295978,e=>{"use strict";var t=e.i(393689),r=e.i(220431),n=e.i(99878);e.s(["default",0,function(e,a,s){void 0===s&&(s={});var i=s.enable,o=void 0===i||i,l=(0,t.default)(a);(0,n.default)(function(){if(o){var t=(0,r.getTargetElement)(s.target,window);if(null==t?void 0:t.addEventListener){var n=function(e){return l.current(e)},a=Array.isArray(e)?e:[e];return a.forEach(function(e){t.addEventListener(e,n,{capture:s.capture,once:s.once,passive:s.passive})}),function(){a.forEach(function(e){t.removeEventListener(e,n,{capture:s.capture})})}}}},[e,s.capture,s.once,s.passive,o],s.target)}])},726371,e=>{"use strict";var t=e.i(824627),r=e.i(539983),n=e.i(295978);e.s(["useHover",0,function(e,a){var s=a||{},i=s.onEnter,o=s.onLeave,l=s.onChange,u=(0,t.__read)((0,r.default)(!1),2),c=u[0],d=u[1],p=d.setTrue,f=d.setFalse;return(0,n.default)("mouseenter",function(){null==i||i(),p(),null==l||l(!0)},{target:e}),(0,n.default)("mouseleave",function(){null==o||o(),f(),null==l||l(!1)},{target:e}),c}],726371)},324935,e=>{"use strict";var t=e.i(563199),r=e.i(837699),n=e.i(935139);let a=()=>(0,t.jsx)("div",{"data-testid":"indeterminate-icon",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,t.jsx)("path",{d:"M2.5 6H9.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})});e.s(["default",0,e=>{let{id:s,checked:i,onCheck:o,className:l,disabled:u,indeterminate:c}=e,d=i||c?"bg-components-checkbox-bg text-components-checkbox-icon hover:bg-components-checkbox-bg-hover":"border border-components-checkbox-border bg-components-checkbox-bg-unchecked hover:bg-components-checkbox-bg-unchecked-hover hover:border-components-checkbox-border-hover",p=i||c?"cursor-not-allowed bg-components-checkbox-bg-disabled-checked text-components-checkbox-icon-disabled hover:bg-components-checkbox-bg-disabled-checked":"cursor-not-allowed border-components-checkbox-border-disabled bg-components-checkbox-bg-disabled hover:border-components-checkbox-border-disabled hover:bg-components-checkbox-bg-disabled";return(0,t.jsxs)("div",{id:s,className:(0,n.cn)("flex h-4 w-4 shrink-0 cursor-pointer items-center justify-center rounded-[4px] shadow-xs shadow-shadow-shadow-3",d,u&&p,l),onClick:e=>{u||o?.(e)},"data-testid":`checkbox-${s}`,children:[!i&&c&&(0,t.jsx)(a,{}),i&&(0,t.jsx)(r.RiCheckLine,{className:"h-3 w-3","data-testid":`check-icon-${s}`})]})}],324935)},618403,e=>{"use strict";let t=e=>{let{url:t,fileName:r,rel:n,target:a}=e;if(!t)return;let s=document.createElement("a");s.href=t,r&&(s.download=r),n&&(s.rel=n),a&&(s.target=a),s.style.display="none",document.body.appendChild(s),s.click(),s.remove()};e.s(["downloadBlob",0,e=>{let{data:r,fileName:n}=e,a=window.URL.createObjectURL(r);t({url:a,fileName:n,rel:"noopener noreferrer"}),window.URL.revokeObjectURL(a)},"downloadUrl",0,e=>{let{url:r,fileName:n,rel:a="noopener noreferrer",target:s}=e;t({url:r,fileName:n,rel:a,target:s})}])},966428,e=>{"use strict";var t=e.i(824627),r=e.i(268255),n=e.i(67679);e.s(["useDebounce",0,function(e,a){var s=(0,t.__read)((0,r.useState)(e),2),i=s[0],o=s[1],l=(0,n.default)(function(){o(e)},a).run;return(0,r.useEffect)(function(){l()},[e]),i}],966428)},425667,e=>{"use strict";var t=e.i(563199),r=e.i(268255);e.i(152567);var n=e.i(408767),a=e.i(36503),s=e.i(83278),i=e.i(391185),o=e.i(157884),l=e.i(157644),u=e.i(935139);let c=r.memo(e=>{let{disabled:c=!1,isShow:d,onShowChange:p,pluginID:f,currentVersion:m,trigger:g,placement:h="bottom-start",offset:x={mainAxis:4,crossAxis:-16},onSelect:b}=e,{t:v}=(0,n.useTranslation)(),y=v("dateTimeFormat",{ns:"appLog"}).split(" ")[0],{formatDate:j}=(0,o.default)(),{data:w}=(0,l.useVersionListOfPlugin)(f),C=(0,r.useCallback)(e=>{let{version:t,unique_identifier:r,isDowngrade:n}=e;m!==t&&(b({version:t,unique_identifier:r,isDowngrade:n}),p(!1))},[m,b,p]);return(0,t.jsxs)(i.PortalToFollowElem,{placement:h,offset:x,open:d,onOpenChange:p,children:[(0,t.jsx)(i.PortalToFollowElemTrigger,{className:(0,u.cn)("inline-flex cursor-pointer items-center",c&&"cursor-default"),onClick:()=>{c||p(!0)},children:g}),(0,t.jsx)(i.PortalToFollowElemContent,{className:"z-[1000]",children:(0,t.jsxs)("div",{className:"relative w-[209px] rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"system-xs-medium-uppercase px-3 pb-0.5 pt-1 text-text-tertiary",children:v("detailPanel.switchVersion",{ns:"plugin"})}),(0,t.jsx)("div",{className:"relative",children:w?.data.versions.map(e=>(0,t.jsxs)("div",{className:(0,u.cn)("flex h-7 cursor-pointer items-center gap-1 rounded-lg px-3 py-1 hover:bg-state-base-hover",m===e.version&&"cursor-default opacity-30 hover:bg-transparent"),onClick:()=>C({version:e.version,unique_identifier:e.unique_identifier,isDowngrade:(0,a.lt)(e.version,m)}),children:[(0,t.jsxs)("div",{className:"flex grow items-center",children:[(0,t.jsx)("div",{className:"system-sm-medium text-text-secondary",children:e.version}),m===e.version&&(0,t.jsx)(s.default,{className:"ml-1",text:"CURRENT"})]}),(0,t.jsx)("div",{className:"system-xs-regular shrink-0 text-text-tertiary",children:j(e.created_at,y)})]},e.unique_identifier))})]})})]})});e.s(["default",0,c])},523614,e=>{"use strict";var t=e.i(36503);e.s(["compareVersion",0,(e,r)=>t.default.compare(e,r),"getLatestVersion",0,e=>t.default.rsort(e)[0],"isEqualOrLaterThanVersion",0,(e,r)=>t.default.gte(e,r)])},583926,e=>{"use strict";var t,r=e.i(563199),n=e.i(268255);e.i(152567);var a=e.i(408767),s=e.i(500536),i=e.i(151094),o=e.i(21151),l=e.i(365181),u=e.i(745754),c=e.i(228403),d=e.i(887460),p=e.i(157644),f=e.i(935139),m=e.i(137667),g=e.i(222573),h=e.i(944911);let x="autoUpdate.pluginDowngradeWarning",b=e=>{let{onCancel:t,onJustDowngrade:n,onExcludeAndDowngrade:s}=e,{t:o}=(0,a.useTranslation)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-start gap-2 self-stretch",children:[(0,r.jsx)("div",{className:"title-2xl-semi-bold text-text-primary",children:o(`${x}.title`,{ns:"plugin"})}),(0,r.jsx)("div",{className:"system-md-regular text-text-secondary",children:o(`${x}.description`,{ns:"plugin"})})]}),(0,r.jsxs)("div",{className:"mt-9 flex items-start justify-end space-x-2 self-stretch",children:[(0,r.jsx)(i.default,{variant:"secondary",onClick:()=>t(),children:o("newApp.Cancel",{ns:"app"})}),(0,r.jsx)(i.default,{variant:"secondary",destructive:!0,onClick:n,children:o(`${x}.downgrade`,{ns:"plugin"})}),(0,r.jsx)(i.default,{variant:"primary",onClick:s,children:o(`${x}.exclude`,{ns:"plugin"})})]})]})},v="upgrade";var y=((t=y||{}).notStarted="notStarted",t.upgrading="upgrading",t.installed="installed",t);let j=n.memo(e=>{let{payload:t,pluginId:x,onSave:y,onCancel:j,isShowDowngradeWarningModal:w}=e,{originalPackageInfo:C,targetPackageInfo:N}=t,{t:k}=(0,a.useTranslation)(),{getIconUrl:_}=(0,g.default)(),[P,T]=(0,n.useState)(C.payload.icon);(0,n.useEffect)(()=>{(async()=>{T(await _(C.payload.icon))})()},[C,_]);let{check:E,stop:S}=(0,u.default)(),[L,R]=(0,n.useState)("notStarted"),{handleRefetch:$}=(0,p.usePluginTaskList)(t.category),O=(0,n.useMemo)(()=>({notStarted:k(`${v}.upgrade`,{ns:"plugin"}),upgrading:k(`${v}.upgrading`,{ns:"plugin"}),installed:k(`${v}.close`,{ns:"plugin"})})[L],[k,L]),A=(0,n.useCallback)(async()=>{if("notStarted"===L){R("upgrading");try{let{all_installed:e,task_id:t}=await (0,d.updateFromMarketPlace)({original_plugin_unique_identifier:C.id,new_plugin_unique_identifier:N.id});if(e)return void y();$();let{status:r,error:n}=await E({taskId:t,pluginUniqueIdentifier:N.id});if(r===h.TaskStatus.failed)return void m.default.notify({type:"error",message:n});y()}catch(e){R("notStarted")}return}"installed"===L&&y()},[y,L,E,C.id,$,N.id]),{mutateAsync:U}=(0,p.useRemoveAutoUpgrade)(),M=(0,p.useInvalidateReferenceSettings)(),F=async()=>{x&&await U({plugin_id:x}),M(),A()},D=w&&"notStarted"===L;return(0,r.jsxs)(o.default,{isShow:!0,onClose:j,className:(0,f.cn)("min-w-[560px]",D&&"min-w-[640px]"),closable:!0,title:!D&&k(`${v}.${"installed"===L?"successfulTitle":"title"}`,{ns:"plugin"}),children:[D&&(0,r.jsx)(b,{onCancel:j,onJustDowngrade:A,onExcludeAndDowngrade:F}),!D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"system-md-regular mb-2 mt-3 text-text-secondary",children:k(`${v}.description`,{ns:"plugin"})}),(0,r.jsx)("div",{className:"flex flex-wrap content-start items-start gap-1 self-stretch rounded-2xl bg-background-section-burn p-2",children:(0,r.jsx)(l.default,{installed:"installed"===L,payload:(0,c.pluginManifestToCardPluginProps)({...C.payload,icon:P}),className:"w-full",titleLeft:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.default,{className:"mx-1",size:"s",state:s.BadgeState.Warning,children:`${C.payload.version} -> ${N.version}`})})})}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2 self-stretch pt-5",children:["notStarted"===L&&(0,r.jsx)(i.default,{onClick:()=>{S(),j()},children:k("operation.cancel",{ns:"common"})}),(0,r.jsx)(i.default,{variant:"primary",loading:"upgrading"===L,onClick:A,disabled:"upgrading"===L,children:O})]})]})]})});e.s(["default",0,j],583926)},908132,e=>{"use strict";var t=e.i(137667),r=e.i(925521),n=e.i(887460),a=e.i(523614);let s=e=>e.map(e=>({tag_name:e.tag_name,assets:e.assets.map(e=>({browser_download_url:e.browser_download_url,name:e.name}))}));e.s(["useGitHubReleases",0,()=>({fetchReleases:async(e,n)=>{try{if(r.GITHUB_ACCESS_TOKEN){let t=await fetch(`/repos/${e}/${n}/releases`),r=await t.json();if(200!==r.status)throw Error(r.data.message);return s(r.data)}{let t=await fetch(`https://api.github.com/repos/${e}/${n}/releases`);if(!t.ok)throw Error("Failed to fetch repository releases");let r=await t.json();return s(r)}}catch(e){return e instanceof Error?t.default.notify({type:"error",message:e.message}):t.default.notify({type:"error",message:"Failed to fetch repository releases"}),[]}},checkForUpdates:(e,t)=>{let r=!1,n={type:"info",message:"No new version available"};if(0===e.length)return n.type="error",n.message="Input releases is empty",{needUpdate:r,toastProps:n};let s=e.map(e=>e.tag_name),i=(0,a.getLatestVersion)(s);try{(r=1===(0,a.compareVersion)(i,t))&&(n.message=`New version available: ${i}`)}catch{r=!1,n.type="error",n.message="Fail to compare versions, please check the version format"}return{needUpdate:r,toastProps:n}}}),"useGitHubUpload",0,()=>({handleUpload:async(e,r,a,s)=>{try{let t=await (0,n.uploadGitHub)(e,r,a),i={manifest:t.manifest,unique_identifier:t.unique_identifier};return s&&s(i),i}catch(e){throw t.default.notify({type:"error",message:"Error uploading package"}),e}}})])},21746,266498,564536,e=>{"use strict";var t,r,n=e.i(563199),a=e.i(837699),s=e.i(26012),i=e.i(268255);e.i(152567);var o=e.i(408767),l=e.i(654313),u=e.i(935139);e.i(21511);var c=e.i(751489),d=e.i(421001);let p=i.memo(e=>{let{label:t,labelWidthClassName:r="w-10",value:p,maskedValue:f,valueMaxWidthClassName:m="max-w-[162px]"}=e,{t:g}=(0,o.useTranslation)(),[h,x]=(0,i.useState)(!1),b=(0,i.useCallback)(()=>{(0,s.default)(p),x(!0)},[p]);(0,i.useEffect)(()=>{if(h){let e=setTimeout(()=>{x(!1)},2e3);return()=>{clearTimeout(e)}}},[h]);let v=h?c.CopyCheck:a.RiClipboardLine;return(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:(0,u.cn)("system-xs-medium flex flex-col items-start justify-center text-text-tertiary",r),children:t}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-0.5",children:[(0,n.jsx)("span",{className:(0,u.cn)(m," system-xs-medium truncate text-text-secondary"),children:f||p}),(0,n.jsx)(d.default,{popupContent:g(`operation.${h?"copied":"copy"}`,{ns:"common"}),position:"top",children:(0,n.jsx)(l.default,{onClick:b,children:(0,n.jsx)(v,{className:"h-3.5 w-3.5 shrink-0 text-text-tertiary"})})})]})]})});e.s(["default",0,p],21746);var f=((t={}).fixOnly="fix_only",t.disabled="disabled",t.latest="latest",t),m=((r={}).partial="partial",r.exclude="exclude",r.update_all="all",r);e.s(["AUTO_UPDATE_MODE",()=>m,"AUTO_UPDATE_STRATEGY",()=>f],266498);var g=e.i(585458),h=e.i(73920),x=e.i(287200);g.default.extend(x.default),g.default.extend(h.default),e.s(["convertLocalSecondsToUTCDaySeconds",0,(e,t)=>{let r=(0,g.default)().tz(t).startOf("day").add(e,"second").utc(),n=r.startOf("day");return r.diff(n,"second")},"convertUTCDaySecondsToLocalSeconds",0,(e,t)=>{let r=(0,g.default)().utc().startOf("day").add(e,"second").tz(t),n=r.startOf("day");return r.diff(n,"second")},"dayjsToTimeOfDay",0,e=>e?3600*e.hour()+60*e.minute():0,"timeOfDayToDayjs",0,e=>{let t=Math.floor(e/3600);return(0,g.default)().startOf("day").hour(t).minute((e-3600*t)/60)}],564536)},392898,406618,677717,e=>{"use strict";var t=e.i(563199),r=e.i(837699),n=e.i(417944),a=e.i(268255);e.i(152567);var s=e.i(408767),i=e.i(654313);e.i(201987);var o=e.i(207331),l=e.i(83278),u=e.i(151094),c=e.i(547105);e.i(432024);var d=e.i(735586);e.s(["Github",()=>d.default],406618);var d=d;e.i(49389);var p=e.i(140214),p=p,f=e.i(137667),m=e.i(421001);e.i(302047);var g=e.i(674245),h=e.i(10717),x=e.i(391185),b=e.i(494268),v=e.i(935139),y=e.i(944911);let j=a.memo(e=>{let{source:n,detailUrl:o,onInfo:l,onCheckVersion:u,onRemove:c}=e,{t:d}=(0,s.useTranslation)(),[p,f]=(0,a.useState)(!1),m=(0,a.useRef)(p),g=(0,a.useCallback)(e=>{f(e),m.current=e},[f]),h=(0,a.useCallback)(()=>{g(!m.current)},[g]),{enable_marketplace:j}=(0,b.useGlobalPublicStore)(e=>e.systemFeatures);return(0,t.jsxs)(x.PortalToFollowElem,{open:p,onOpenChange:g,placement:"bottom-end",offset:{mainAxis:-12,crossAxis:36},children:[(0,t.jsx)(x.PortalToFollowElemTrigger,{onClick:h,children:(0,t.jsx)("div",{children:(0,t.jsx)(i.default,{className:(0,v.cn)(p&&"bg-state-base-hover"),children:(0,t.jsx)(r.RiMoreFill,{className:"h-4 w-4"})})})}),(0,t.jsx)(x.PortalToFollowElemContent,{className:"z-50",children:(0,t.jsxs)("div",{className:"w-[160px] rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-1 shadow-lg",children:[n===y.PluginSource.github&&(0,t.jsx)("div",{onClick:()=>{l(),h()},className:"system-md-regular cursor-pointer rounded-lg px-3 py-1.5 text-text-secondary hover:bg-state-base-hover",children:d("detailPanel.operation.info",{ns:"plugin"})}),n===y.PluginSource.github&&(0,t.jsx)("div",{onClick:()=>{u(),h()},className:"system-md-regular cursor-pointer rounded-lg px-3 py-1.5 text-text-secondary hover:bg-state-base-hover",children:d("detailPanel.operation.checkUpdate",{ns:"plugin"})}),(n===y.PluginSource.marketplace||n===y.PluginSource.github)&&j&&(0,t.jsxs)("a",{href:o,target:"_blank",className:"system-md-regular flex cursor-pointer items-center rounded-lg px-3 py-1.5 text-text-secondary hover:bg-state-base-hover",children:[(0,t.jsx)("span",{className:"grow",children:d("detailPanel.operation.viewDetail",{ns:"plugin"})}),(0,t.jsx)(r.RiArrowRightUpLine,{className:"h-3.5 w-3.5 shrink-0 text-text-tertiary"})]}),(n===y.PluginSource.marketplace||n===y.PluginSource.github)&&j&&(0,t.jsx)("div",{className:"my-1 h-px bg-divider-subtle"}),(0,t.jsx)("div",{onClick:()=>{c(),h()},className:"system-md-regular cursor-pointer rounded-lg px-3 py-1.5 text-text-secondary hover:bg-state-destructive-hover hover:text-text-destructive",children:d("detailPanel.operation.remove",{ns:"plugin"})})]})})]})});var w=e.i(21151),C=e.i(21746),N=e.i(228403);let k="pluginInfoModal",_=a.memo(e=>{let{repository:r,release:n,packageName:a,onHide:i}=e,{t:o}=(0,s.useTranslation)(),l="w-[96px]";return(0,t.jsx)(w.default,{title:o(`${k}.title`,{ns:"plugin"}),className:"w-[480px]",isShow:!0,onClose:i,closable:!0,children:(0,t.jsxs)("div",{className:"mt-5 space-y-3",children:[r&&(0,t.jsx)(C.default,{label:o(`${k}.repository`,{ns:"plugin"}),labelWidthClassName:l,value:`${(0,N.convertRepoToUrl)(r)}`,valueMaxWidthClassName:"max-w-[190px]"}),n&&(0,t.jsx)(C.default,{label:o(`${k}.release`,{ns:"plugin"}),labelWidthClassName:l,value:n}),a&&(0,t.jsx)(C.default,{label:o(`${k}.packageName`,{ns:"plugin"}),labelWidthClassName:l,value:a})]})})});e.s(["default",0,_],677717);var P=e.i(583926),T=e.i(425667),E=e.i(925521),S=e.i(711536),L=e.i(683257),R=e.i(296124),$=e.i(56971),O=e.i(922521),A=e.i(887460),U=e.i(154033),M=e.i(168014),F=e.i(807324),D=e.i(70720);let I=e=>{let{ref:r,...n}=e;return(0,t.jsx)(F.default,{...n,ref:r,data:D.default})};I.displayName="AutoUpdateLine";var z=e.i(180852),B=e.i(374170),q=e.i(403861),H=e.i(360139),W=e.i(554327),V=e.i(321734);let K="detailPanel.deprecation",G=["businessAdjustments","ownershipTransferred","noMaintainer"],Z=a.memo(e=>{let{status:n,deprecatedReason:s,alternativePluginId:i,alternativePluginURL:o,className:l,innerWrapperClassName:u,iconWrapperClassName:c,textClassName:d}=e,{t:p}=(0,B.useTranslation)(),f=(0,a.useMemo)(()=>{if(!s)return null;let e=function(e){let t=(0,H.words)(e);if(0===t.length)return"";let[r,...n]=t;return`${r.toLowerCase()}${n.map(e=>(0,q.capitalize)(e)).join("")}`}(s);return G.includes(e)?e:null},[s]),m=null!==f;return"deleted"!==n?null:(0,t.jsx)("div",{className:(0,v.cn)("w-full",l),children:(0,t.jsxs)("div",{className:(0,v.cn)("relative flex items-start gap-x-0.5 overflow-hidden rounded-xl border-[0.5px] border-components-panel-border bg-components-panel-bg-blur p-2 shadow-xs shadow-shadow-shadow-3 backdrop-blur-[5px]",u),children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 -z-10 h-full w-full bg-toast-warning-bg opacity-40"}),(0,t.jsx)("div",{className:(0,v.cn)("flex size-6 shrink-0 items-center justify-center",c),children:(0,t.jsx)(r.RiAlertFill,{className:"size-4 text-text-warning-secondary"})}),(0,t.jsxs)("div",{className:(0,v.cn)("system-xs-regular grow py-1 text-text-primary",d),children:[m&&i&&(0,t.jsx)(V.Trans,{t:p,i18nKey:`${K}.fullMessage`,ns:"plugin",components:{CustomLink:(0,t.jsx)(W.default,{href:o,target:"_blank",rel:"noopener noreferrer",className:"underline"})},values:{deprecatedReason:f?p(`${K}.reason.${f}`,{ns:"plugin"}):"",alternativePluginId:i}}),m&&!i&&(0,t.jsx)("span",{children:p(`${K}.onlyReason`,{ns:"plugin",deprecatedReason:f?p(`${K}.reason.${f}`,{ns:"plugin"}):""})}),!m&&(0,t.jsx)("span",{children:p(`${K}.noReason`,{ns:"plugin"})})]})]})})});var X=e.i(580932),J=e.i(519436),Q=e.i(312343),Y=e.i(169563),ee=e.i(908132),et=e.i(95085),er=e.i(266498),en=e.i(564536);let ea="action";e.s(["default",0,e=>{let{detail:x,isReadmeView:w=!1,onHide:C,onUpdate:N}=e,{t:k}=(0,s.useTranslation)(),{userProfile:{timezone:F}}=(0,S.useAppContext)(),{theme:D}=(0,O.default)(),B=(0,L.useGetLanguage)(),q=(0,L.useLocale)(),{checkForUpdates:H,fetchReleases:W}=(0,ee.useGitHubReleases)(),{setShowUpdatePluginModal:V}=(0,R.useModalContext)(),{refreshModelProviders:K}=(0,$.useProviderContext)(),G=(0,U.useInvalidateAllToolProviders)(),{enable_marketplace:es}=(0,b.useGlobalPublicStore)(e=>e.systemFeatures),{id:ei,source:eo,tenant_id:el,version:eu,latest_unique_identifier:ec,latest_version:ed,meta:ep,plugin_id:ef,status:em,deprecated_reason:eg,alternative_plugin_id:eh}=x,{author:ex,category:eb,name:ev,label:ey,description:ej,icon:ew,icon_dark:eC,verified:eN,tool:ek}=x.declaration||x,e_=eb===y.PluginCategoryEnum.tool,eP=ek?.identity,eT=`${ef}/${eP?.name}`,{data:eE=[]}=(0,U.useAllToolProviders)(e_),eS=(0,a.useMemo)(()=>eE.find(e=>e.name===eT),[eE,eT]),eL=eo===y.PluginSource.github,eR=eo===y.PluginSource.marketplace,[e$,eO]=(0,a.useState)(!1),[eA,eU]=(0,a.useState)({version:ed,unique_identifier:ec}),eM=(0,a.useMemo)(()=>!!eR&&!!ed&&ed!==eu,[eR,ed,eu]),eF="dark"===D&&eC?eC:ew,eD=eF?eF.startsWith("http")?eF:`${E.API_PREFIX}/workspaces/current/plugin/icon?tenant_id=${el}&filename=${eF}`:"",eI=(0,a.useMemo)(()=>eL?`https://github.com/${ep.repo}`:eR?(0,M.getMarketplaceUrl)(`/plugins/${ex}/${ev}`,{language:q,theme:D}):"",[ex,eL,eR,ep,ev,D]),[ez,{setTrue:eB,setFalse:eq}]=(0,n.useBoolean)(!1),{referenceSetting:eH}=(0,et.default)(),{auto_upgrade:eW}=eH||{},eV=(0,a.useMemo)(()=>!!es&&!!eW&&!!eR&&"disabled"!==eW.strategy_setting&&!(!(eW.upgrade_mode===er.AUTO_UPDATE_MODE.update_all||eW.upgrade_mode===er.AUTO_UPDATE_MODE.partial&&eW.include_plugins.includes(ef))&&(eW.upgrade_mode!==er.AUTO_UPDATE_MODE.exclude||eW.exclude_plugins.includes(ef))),[eW,ef,eR]),[eK,eG]=(0,a.useState)(!1),eZ=async e=>{if(eR){eG(!!e),eB();return}let t=ep.repo.split("/")[0]||ex,r=ep.repo.split("/")[1]||ev,n=await W(t,r);if(0===n.length)return;let{needUpdate:a,toastProps:s}=H(n,ep.version);f.default.notify(s),a&&V({onSaveCallback:()=>{N?.()},payload:{type:y.PluginSource.github,category:x.declaration.category,github:{originalPackageInfo:{id:x.plugin_unique_identifier,repo:ep.repo,version:ep.version,package:ep.package,releases:n}}}})},[eX,{setTrue:eJ,setFalse:eQ}]=(0,n.useBoolean)(!1),[eY,{setTrue:e0,setFalse:e1}]=(0,n.useBoolean)(!1),[e2,{setTrue:e3,setFalse:e5}]=(0,n.useBoolean)(!1),e6=(0,a.useCallback)(async()=>{e3();let e=await (0,A.uninstallPlugin)(ei);e5(),e.success&&(e1(),N?.(!0),y.PluginCategoryEnum.model.includes(eb)&&K(),y.PluginCategoryEnum.tool.includes(eb)&&G(),(0,o.trackEvent)("plugin_uninstalled",{plugin_id:ef,plugin_name:ev}))},[e3,ei,e5,e1,N,eb,K,G,ef,ev]);return(0,t.jsxs)("div",{className:(0,v.cn)("shrink-0 border-b border-divider-subtle bg-components-panel-bg p-4 pb-3",w&&"border-b-0 bg-transparent p-0"),children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:(0,v.cn)("overflow-hidden rounded-xl border border-components-panel-border-subtle",w&&"bg-components-panel-bg"),children:(0,t.jsx)(X.default,{src:eD})}),(0,t.jsxs)("div",{className:"ml-3 w-0 grow",children:[(0,t.jsxs)("div",{className:"flex h-5 items-center",children:[(0,t.jsx)(Y.default,{title:ey[B]}),eN&&!w&&(0,t.jsx)(z.default,{className:"ml-0.5 h-4 w-4",text:k("marketplace.verifiedTip",{ns:"plugin"})}),!!eu&&(0,t.jsx)(T.default,{disabled:!eR||w,isShow:e$,onShowChange:eO,pluginID:ef,currentVersion:eu,onSelect:e=>{eU(e),eZ(e.isDowngrade)},trigger:(0,t.jsx)(l.default,{className:(0,v.cn)("mx-1",e$&&"bg-state-base-hover",(e$||eR)&&"hover:bg-state-base-hover"),uppercase:!1,text:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:eL?ep.version:eu}),eR&&!w&&(0,t.jsx)(r.RiArrowLeftRightLine,{className:"ml-1 h-3 w-3 text-text-tertiary"})]}),hasRedCornerMark:eM})}),eV&&!w&&(0,t.jsx)(m.default,{popupContent:k("autoUpdate.nextUpdateTime",{ns:"plugin",time:(0,en.timeOfDayToDayjs)((0,en.convertUTCDaySecondsToLocalSeconds)(eW?.upgrade_time_of_day||0,F)).format("hh:mm A")}),children:(0,t.jsx)("div",{children:(0,t.jsx)(l.default,{className:"mr-1 cursor-pointer px-1",children:(0,t.jsx)(I,{className:"size-3"})})})}),(eM||eL)&&(0,t.jsx)(u.default,{variant:"secondary-accent",size:"small",className:"!h-5",onClick:()=>{eR&&eU({version:ed,unique_identifier:ec}),eZ()},children:k("detailPanel.operation.update",{ns:"plugin"})})]}),(0,t.jsx)("div",{className:"mb-1 flex h-4 items-center justify-between",children:(0,t.jsxs)("div",{className:"mt-0.5 flex items-center",children:[(0,t.jsx)(Q.default,{packageNameClassName:"w-auto",orgName:ex,packageName:ev?.includes("/")?ev.split("/").pop()||"":ev}),!!eo&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"system-xs-regular ml-1 mr-0.5 text-text-quaternary",children:"Â·"}),eo===y.PluginSource.marketplace&&(0,t.jsx)(m.default,{popupContent:k("detailPanel.categoryTip.marketplace",{ns:"plugin"}),children:(0,t.jsx)("div",{children:(0,t.jsx)(p.default,{className:"h-3.5 w-3.5 text-text-tertiary hover:text-text-accent"})})}),eo===y.PluginSource.github&&(0,t.jsx)(m.default,{popupContent:k("detailPanel.categoryTip.github",{ns:"plugin"}),children:(0,t.jsx)("div",{children:(0,t.jsx)(d.default,{className:"h-3.5 w-3.5 text-text-secondary hover:text-text-primary"})})}),eo===y.PluginSource.local&&(0,t.jsx)(m.default,{popupContent:k("detailPanel.categoryTip.local",{ns:"plugin"}),children:(0,t.jsx)("div",{children:(0,t.jsx)(r.RiHardDrive3Line,{className:"h-3.5 w-3.5 text-text-tertiary"})})}),eo===y.PluginSource.debugging&&(0,t.jsx)(m.default,{popupContent:k("detailPanel.categoryTip.debugging",{ns:"plugin"}),children:(0,t.jsx)("div",{children:(0,t.jsx)(r.RiBugLine,{className:"h-3.5 w-3.5 text-text-tertiary hover:text-text-warning"})})})]})]})})]}),!w&&(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(j,{source:eo,onInfo:eJ,onCheckVersion:eZ,onRemove:e0,detailUrl:eI}),(0,t.jsx)(i.default,{onClick:C,children:(0,t.jsx)(r.RiCloseLine,{className:"h-4 w-4"})})]})]}),eR&&(0,t.jsx)(Z,{status:em,deprecatedReason:eg,alternativePluginId:eh,alternativePluginURL:(0,M.getMarketplaceUrl)(`/plugins/${eh}`,{language:q,theme:D}),className:"mt-3"}),!w&&(0,t.jsx)(J.default,{className:"mb-2 mt-3 h-auto",text:ej[B],descriptionLineRows:2}),eb===y.PluginCategoryEnum.tool&&!w&&(0,t.jsx)(h.PluginAuth,{pluginPayload:{provider:eS?.name||"",category:g.AuthCategory.tool,providerType:eS?.type||"",detail:x}}),eX&&(0,t.jsx)(_,{repository:eL?ep?.repo:"",release:eu,packageName:ep?.package||"",onHide:eQ}),eY&&(0,t.jsx)(c.default,{isShow:!0,title:k(`${ea}.delete`,{ns:"plugin"}),content:(0,t.jsxs)("div",{children:[k(`${ea}.deleteContentLeft`,{ns:"plugin"}),(0,t.jsx)("span",{className:"system-md-semibold",children:ey[B]}),k(`${ea}.deleteContentRight`,{ns:"plugin"}),(0,t.jsx)("br",{})]}),onCancel:e1,onConfirm:e6,isLoading:e2,isDisabled:e2}),ez&&(0,t.jsx)(P.default,{pluginId:ef,payload:{category:x.declaration.category,originalPackageInfo:{id:x.plugin_unique_identifier,payload:x.declaration},targetPackageInfo:{id:eA.unique_identifier,version:eA.version}},onCancel:eq,onSave:()=>{N?.(),eq()},isShowDowngradeWarningModal:eK&&eV})]})}],392898)}]);