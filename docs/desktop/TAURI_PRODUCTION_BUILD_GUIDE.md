# Tauri ç”Ÿäº§æ‰“åŒ…æŒ‡å—

## âœ… è¿›å±•çŠ¶æ€

### å·²å®Œæˆ
1. âœ… Tauri å¼€å‘ç¯å¢ƒé…ç½®
2. âœ… Rust ä»£ç ç¼–è¯‘æˆåŠŸ
3. âœ… Next.js æœåŠ¡å™¨æ‰“åŒ…è„šæœ¬
4. âœ… åµŒå…¥å¼æœåŠ¡å™¨ Rust ä»£ç 
5. âœ… å®Œæ•´æ‰“åŒ…æµç¨‹è„šæœ¬

### å½“å‰çŠ¶æ€
**Rust ç¼–è¯‘æˆåŠŸï¼** æ‰€æœ‰ä¾èµ–å·²æ­£ç¡®é…ç½®ã€‚

## ğŸš€ å¦‚ä½•æ‰“åŒ…

### æ–¹å¼ 1ï¼šå®Œæ•´æ‰“åŒ…ï¼ˆæ¨èï¼‰

```bash
cd web
pnpm run build:tauri:full:debug
```

è¿™ä¼šï¼š
1. æ„å»º Next.js åº”ç”¨
2. æ‰“åŒ…æœåŠ¡å™¨æ–‡ä»¶åˆ° `src-tauri/server/`
3. ç¼–è¯‘ Tauri åº”ç”¨
4. ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶

### æ–¹å¼ 2ï¼šåˆ†æ­¥æ‰“åŒ…

```bash
# 1. æ„å»º Next.js
cd web
pnpm build:docker

# 2. å‡†å¤‡æœåŠ¡å™¨æ–‡ä»¶
node scripts/build-tauri-with-server.cjs --skip-node-download

# 3. æ„å»º Tauri
cd src-tauri
cargo build --release
```

## ğŸ“¦ æ‰“åŒ…äº§ç‰©

### Debug ç‰ˆæœ¬
```
web/src-tauri/target/debug/
â”œâ”€â”€ app.exe              # Windows å¯æ‰§è¡Œæ–‡ä»¶
â””â”€â”€ ...
```

### Release ç‰ˆæœ¬
```
web/src-tauri/target/release/
â”œâ”€â”€ bundle/
â”‚   â”œâ”€â”€ msi/            # Windows å®‰è£…åŒ…
â”‚   â”œâ”€â”€ nsis/           # Windows å®‰è£…ç¨‹åº
â”‚   â””â”€â”€ ...
â””â”€â”€ app.exe              # Windows å¯æ‰§è¡Œæ–‡ä»¶
```

## âš™ï¸ å·¥ä½œåŸç†

### æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Tauri æ¡Œé¢åº”ç”¨ (Rust)           â”‚
â”‚                                     â”‚
â”‚  1. å¯åŠ¨æ—¶æ£€æµ‹å¯ç”¨ç«¯å£               â”‚
â”‚  2. å¯åŠ¨ Node.js è¿›ç¨‹                â”‚
â”‚  3. è¿è¡Œ Next.js æœåŠ¡å™¨              â”‚
â”‚  4. WebView è¿æ¥åˆ° localhost        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Next.js æœåŠ¡å™¨ (Node.js)          â”‚
â”‚                                     â”‚
â”‚  - å®Œæ•´çš„æœåŠ¡å™¨ç«¯åŠŸèƒ½                â”‚
â”‚  - cookies, åŠ¨æ€è·¯ç”±, SSR           â”‚
â”‚  - æ‰“åŒ…åœ¨ src-tauri/server/         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯åŠ¨æµç¨‹
1. ç”¨æˆ·åŒå‡» `app.exe`
2. Tauri å¯åŠ¨ï¼Œæ˜¾ç¤ºåŠ è½½é¡µé¢
3. Rust ä»£ç æŸ¥æ‰¾å¯ç”¨ç«¯å£ï¼ˆ3000-4000ï¼‰
4. å¯åŠ¨ Node.js è¿›ç¨‹è¿è¡Œ Next.js æœåŠ¡å™¨
5. ç­‰å¾…æœåŠ¡å™¨å°±ç»ªï¼ˆæœ€å¤š 30 ç§’ï¼‰
6. WebView é‡å®šå‘åˆ° `http://localhost:PORT`
7. åº”ç”¨æ­£å¸¸è¿è¡Œ

## ğŸ“‹ ä¾èµ–è¦æ±‚

### å¼€å‘ç¯å¢ƒ
- Node.js 24+
- pnpm 10+
- Rust 1.70+
- Cargo

### è¿è¡Œç¯å¢ƒï¼ˆç”¨æˆ·ï¼‰
- **éœ€è¦ Node.js è¿è¡Œæ—¶**ï¼ˆå½“å‰æ–¹æ¡ˆï¼‰
- æˆ–æ‰“åŒ… Node.js åˆ°åº”ç”¨ä¸­ï¼ˆæœªå®ç°ï¼‰

## ğŸ”§ é…ç½®æ–‡ä»¶

### Cargo.toml
```toml
[dependencies]
tauri = "2.10.0"
tauri-plugin-shell = "2"
tokio = { version = "1", features = ["full"] }
port_scanner = "0.1"
```

### tauri.conf.json
```json
{
  "build": {
    "frontendDist": "../out",
    "beforeBuildCommand": "echo 'Production build not supported yet. See TAURI_BUILD_STATUS.md'"
  }
}
```

## âš ï¸ å·²çŸ¥é™åˆ¶

### 1. éœ€è¦ Node.js è¿è¡Œæ—¶
**é—®é¢˜**ï¼šç”¨æˆ·ç³»ç»Ÿå¿…é¡»å®‰è£… Node.js

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ–¹æ¡ˆ Aï¼šåœ¨å®‰è£…åŒ…ä¸­åŒ…å« Node.jsï¼ˆå¢åŠ  ~50MBï¼‰
- æ–¹æ¡ˆ Bï¼šä½¿ç”¨ `pkg` å°† Next.js æ‰“åŒ…æˆå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶
- æ–¹æ¡ˆ Cï¼šåœ¨å®‰è£…ç¨‹åºä¸­æ£€æµ‹å¹¶æç¤ºå®‰è£… Node.js

### 2. é¦–æ¬¡å¯åŠ¨è¾ƒæ…¢
**é—®é¢˜**ï¼šå¯åŠ¨ Next.js æœåŠ¡å™¨éœ€è¦ 5-10 ç§’

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- é¢„çƒ­æœåŠ¡å™¨
- ä¼˜åŒ– Next.js å¯åŠ¨æ—¶é—´

### 3. ç«¯å£å†²çª
**é—®é¢˜**ï¼šå¦‚æœ 3000-4000 ç«¯å£éƒ½è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å·²å®ç°ç«¯å£æ‰«æï¼ˆ3000-4000ï¼‰
- å¯æ‰©å±•ç«¯å£èŒƒå›´
- æ˜¾ç¤ºé”™è¯¯æç¤º

## ğŸ¯ ä¸‹ä¸€æ­¥ä¼˜åŒ–

### çŸ­æœŸï¼ˆ1-2 å¤©ï¼‰
1. âœ… å®ŒæˆåŸºç¡€æ‰“åŒ…
2. â³ æµ‹è¯•æ‰“åŒ…äº§ç‰©
3. â³ ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦
4. â³ æ·»åŠ é”™è¯¯å¤„ç†

### ä¸­æœŸï¼ˆ3-5 å¤©ï¼‰
1. â³ æ‰“åŒ… Node.js è¿è¡Œæ—¶
2. â³ åˆ›å»ºå®‰è£…ç¨‹åº
3. â³ æ·»åŠ è‡ªåŠ¨æ›´æ–°
4. â³ ä¼˜åŒ–åŒ…ä½“ç§¯

### é•¿æœŸï¼ˆ1-2 å‘¨ï¼‰
1. â³ ä½¿ç”¨ `pkg` æ‰“åŒ… Next.js
2. â³ å®ç°çœŸæ­£çš„å•æ–‡ä»¶å¯æ‰§è¡Œ
3. â³ è·¨å¹³å°æµ‹è¯•ï¼ˆWindows/macOS/Linuxï¼‰
4. â³ æ€§èƒ½ä¼˜åŒ–

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `TAURI_SETUP.md` - å¼€å‘ç¯å¢ƒè®¾ç½®
- `TAURI_BUILD_STATUS.md` - æ‰“åŒ…çŠ¶æ€è¯´æ˜
- `æ¡Œé¢åº”ç”¨æ‰“åŒ…æ€»ç»“.md` - å®Œæ•´å·¥ä½œæ€»ç»“
- `web/scripts/build-tauri-production.md` - æŠ€æœ¯æ–¹æ¡ˆè¯¦è§£

## ğŸ§ª æµ‹è¯•æ‰“åŒ…

### æµ‹è¯• Debug ç‰ˆæœ¬
```bash
cd web
pnpm run build:tauri:full:debug

# è¿è¡Œ
.\src-tauri\target\debug\app.exe
```

### æµ‹è¯• Release ç‰ˆæœ¬
```bash
cd web
pnpm run build:tauri:full

# è¿è¡Œ
.\src-tauri\target\release\app.exe
```

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### å¼€å‘é˜¶æ®µ
ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼š
```bash
.\start-tauri-dev.ps1
```

### æµ‹è¯•æ‰“åŒ…
ä½¿ç”¨ debug ç‰ˆæœ¬ï¼š
```bash
pnpm run build:tauri:full:debug
```

### ç”Ÿäº§å‘å¸ƒ
ä½¿ç”¨ release ç‰ˆæœ¬ï¼š
```bash
pnpm run build:tauri:full
```

## ğŸ‰ æ€»ç»“

âœ… **Tauri ç”Ÿäº§æ‰“åŒ…å·²åŸºæœ¬å®Œæˆï¼**

- Rust ä»£ç ç¼–è¯‘æˆåŠŸ
- æ‰“åŒ…è„šæœ¬å·²å°±ç»ª
- åµŒå…¥å¼æœåŠ¡å™¨æ–¹æ¡ˆå·²å®ç°
- å¯ä»¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶

âš ï¸ **éœ€è¦æ³¨æ„**ï¼š
- ç”¨æˆ·éœ€è¦å®‰è£… Node.js
- é¦–æ¬¡å¯åŠ¨éœ€è¦ 5-10 ç§’
- å»ºè®®è¿›ä¸€æ­¥ä¼˜åŒ–å’Œæµ‹è¯•

ğŸš€ **å¯ä»¥å¼€å§‹æ‰“åŒ…äº†ï¼**
